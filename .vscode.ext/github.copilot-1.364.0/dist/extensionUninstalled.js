"use strict";var W8e=Object.create;var PB=Object.defineProperty;var Y8e=Object.getOwnPropertyDescriptor;var $8e=Object.getOwnPropertyNames;var z8e=Object.getPrototypeOf,j8e=Object.prototype.hasOwnProperty;var ate=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),cte=t=>{throw TypeError(t)};var o=(t,e)=>PB(t,"name",{value:e,configurable:!0});var Rl=(t,e)=>()=>(t&&(e=t(t=0)),e);var q=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Eo=(t,e)=>{for(var r in e)PB(t,r,{get:e[r],enumerable:!0})},K8e=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $8e(e))!j8e.call(t,i)&&i!==r&&PB(t,i,{get:()=>e[i],enumerable:!(n=Y8e(e,i))||n.enumerable});return t};var yt=(t,e,r)=>(r=t!=null?W8e(z8e(t)):{},K8e(e||!t||!t.__esModule?PB(r,"default",{value:t,enumerable:!0}):r,t));var lte=(t,e,r)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&cte("Object expected");var n,i;r&&(n=e[ate("asyncDispose")]),n===void 0&&(n=e[ate("dispose")],r&&(i=n)),typeof n!="function"&&cte("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.push([r,n,e])}else r&&t.push([r]);return e},ute=(t,e,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,c,l,f){return f=Error(l),f.name="SuppressedError",f.error=a,f.suppressed=c,f},i=a=>e=r?new n(a,e,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=t.pop();)try{var c=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(c).then(s,l=>(i(l),s()))}catch(l){i(l)}if(r)throw e};return s()};var importMetaUrlShim,u=Rl(()=>{"use strict";importMetaUrlShim=typeof document>"u"?require("node:url").pathToFileURL(__filename).href:importMetaUrlShim});var U2=q(Ya=>{"use strict";u();Object.defineProperty(Ya,"__esModule",{value:!0});Ya.stringArray=Ya.array=Ya.func=Ya.error=Ya.number=Ya.string=Ya.boolean=void 0;function U7e(t){return t===!0||t===!1}o(U7e,"boolean");Ya.boolean=U7e;function vne(t){return typeof t=="string"||t instanceof String}o(vne,"string");Ya.string=vne;function H7e(t){return typeof t=="number"||t instanceof Number}o(H7e,"number");Ya.number=H7e;function q7e(t){return t instanceof Error}o(q7e,"error");Ya.error=q7e;function G7e(t){return typeof t=="function"}o(G7e,"func");Ya.func=G7e;function Tne(t){return Array.isArray(t)}o(Tne,"array");Ya.array=Tne;function V7e(t){return Tne(t)&&t.every(e=>vne(e))}o(V7e,"stringArray");Ya.stringArray=V7e});var hU=q(zt=>{"use strict";u();Object.defineProperty(zt,"__esModule",{value:!0});zt.Message=zt.NotificationType9=zt.NotificationType8=zt.NotificationType7=zt.NotificationType6=zt.NotificationType5=zt.NotificationType4=zt.NotificationType3=zt.NotificationType2=zt.NotificationType1=zt.NotificationType0=zt.NotificationType=zt.RequestType9=zt.RequestType8=zt.RequestType7=zt.RequestType6=zt.RequestType5=zt.RequestType4=zt.RequestType3=zt.RequestType2=zt.RequestType1=zt.RequestType=zt.RequestType0=zt.AbstractMessageSignature=zt.ParameterStructures=zt.ResponseError=zt.ErrorCodes=void 0;var Uy=U2(),GO;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(GO||(zt.ErrorCodes=GO={}));var VO=class t extends Error{static{o(this,"ResponseError")}constructor(e,r,n){super(r),this.code=Uy.number(e)?e:GO.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};zt.ResponseError=VO;var z0=class t{static{o(this,"ParameterStructures")}constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};zt.ParameterStructures=z0;z0.auto=new z0("auto");z0.byPosition=new z0("byPosition");z0.byName=new z0("byName");var ji=class{static{o(this,"AbstractMessageSignature")}constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return z0.auto}};zt.AbstractMessageSignature=ji;var WO=class extends ji{static{o(this,"RequestType0")}constructor(e){super(e,0)}};zt.RequestType0=WO;var YO=class extends ji{static{o(this,"RequestType")}constructor(e,r=z0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};zt.RequestType=YO;var $O=class extends ji{static{o(this,"RequestType1")}constructor(e,r=z0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};zt.RequestType1=$O;var zO=class extends ji{static{o(this,"RequestType2")}constructor(e){super(e,2)}};zt.RequestType2=zO;var jO=class extends ji{static{o(this,"RequestType3")}constructor(e){super(e,3)}};zt.RequestType3=jO;var KO=class extends ji{static{o(this,"RequestType4")}constructor(e){super(e,4)}};zt.RequestType4=KO;var JO=class extends ji{static{o(this,"RequestType5")}constructor(e){super(e,5)}};zt.RequestType5=JO;var XO=class extends ji{static{o(this,"RequestType6")}constructor(e){super(e,6)}};zt.RequestType6=XO;var ZO=class extends ji{static{o(this,"RequestType7")}constructor(e){super(e,7)}};zt.RequestType7=ZO;var eU=class extends ji{static{o(this,"RequestType8")}constructor(e){super(e,8)}};zt.RequestType8=eU;var tU=class extends ji{static{o(this,"RequestType9")}constructor(e){super(e,9)}};zt.RequestType9=tU;var rU=class extends ji{static{o(this,"NotificationType")}constructor(e,r=z0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};zt.NotificationType=rU;var nU=class extends ji{static{o(this,"NotificationType0")}constructor(e){super(e,0)}};zt.NotificationType0=nU;var iU=class extends ji{static{o(this,"NotificationType1")}constructor(e,r=z0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};zt.NotificationType1=iU;var oU=class extends ji{static{o(this,"NotificationType2")}constructor(e){super(e,2)}};zt.NotificationType2=oU;var sU=class extends ji{static{o(this,"NotificationType3")}constructor(e){super(e,3)}};zt.NotificationType3=sU;var aU=class extends ji{static{o(this,"NotificationType4")}constructor(e){super(e,4)}};zt.NotificationType4=aU;var cU=class extends ji{static{o(this,"NotificationType5")}constructor(e){super(e,5)}};zt.NotificationType5=cU;var lU=class extends ji{static{o(this,"NotificationType6")}constructor(e){super(e,6)}};zt.NotificationType6=lU;var uU=class extends ji{static{o(this,"NotificationType7")}constructor(e){super(e,7)}};zt.NotificationType7=uU;var fU=class extends ji{static{o(this,"NotificationType8")}constructor(e){super(e,8)}};zt.NotificationType8=fU;var dU=class extends ji{static{o(this,"NotificationType9")}constructor(e){super(e,9)}};zt.NotificationType9=dU;var _ne;(function(t){function e(i){let s=i;return s&&Uy.string(s.method)&&(Uy.string(s.id)||Uy.number(s.id))}o(e,"isRequest"),t.isRequest=e;function r(i){let s=i;return s&&Uy.string(s.method)&&i.id===void 0}o(r,"isNotification"),t.isNotification=r;function n(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(Uy.string(s.id)||Uy.number(s.id)||s.id===null)}o(n,"isResponse"),t.isResponse=n})(_ne||(zt.Message=_ne={}))});var pU=q(Mm=>{"use strict";u();var Sne;Object.defineProperty(Mm,"__esModule",{value:!0});Mm.LRUCache=Mm.LinkedMap=Mm.Touch=void 0;var $a;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})($a||(Mm.Touch=$a={}));var l6=class{static{o(this,"LinkedMap")}constructor(){this[Sne]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=$a.None){let n=this._map.get(e);if(n)return r!==$a.None&&this.touch(n,r),n.value}set(e,r,n=$a.None){let i=this._map.get(e);if(i)i.value=r,n!==$a.None&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case $a.None:this.addItemLast(i);break;case $a.First:this.addItemFirst(i);break;case $a.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}values(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}entries(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}[(Sne=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==$a.First&&r!==$a.Last)){if(r===$a.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===$a.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};Mm.LinkedMap=l6;var AU=class extends l6{static{o(this,"LRUCache")}constructor(e,r=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=$a.AsNew){return super.get(e,r)}peek(e){return super.get(e,$a.None)}set(e,r){return super.set(e,r,$a.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Mm.LRUCache=AU});var Bne=q(u6=>{"use strict";u();Object.defineProperty(u6,"__esModule",{value:!0});u6.Disposable=void 0;var wne;(function(t){function e(r){return{dispose:r}}o(e,"create"),t.create=e})(wne||(u6.Disposable=wne={}))});var Lm=q(yU=>{"use strict";u();Object.defineProperty(yU,"__esModule",{value:!0});var mU;function gU(){if(mU===void 0)throw new Error("No runtime abstraction layer installed");return mU}o(gU,"RAL");(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");mU=r}o(e,"install"),t.install=e})(gU||(gU={}));yU.default=gU});var q2=q(H2=>{"use strict";u();Object.defineProperty(H2,"__esModule",{value:!0});H2.Emitter=H2.Event=void 0;var W7e=Lm(),Rne;(function(t){let e={dispose(){}};t.None=function(){return e}})(Rne||(H2.Event=Rne={}));var CU=class{static{o(this,"CallbackList")}add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:o(()=>this.remove(e,r),"dispose")})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=n.length;s<a;s++)try{r.push(n[s].apply(i[s],e))}catch(c){(0,W7e.default)().console.error(c)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},f6=class t{static{o(this,"Emitter")}constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new CU),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let i={dispose:o(()=>{this._callbacks&&(this._callbacks.remove(e,r),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};H2.Emitter=f6;f6._noop=function(){}});var A6=q(G2=>{"use strict";u();Object.defineProperty(G2,"__esModule",{value:!0});G2.CancellationTokenSource=G2.CancellationToken=void 0;var Y7e=Lm(),$7e=U2(),EU=q2(),d6;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:EU.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:EU.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||$7e.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}o(e,"is"),t.is=e})(d6||(G2.CancellationToken=d6={}));var z7e=Object.freeze(function(t,e){let r=(0,Y7e.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}}),h6=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?z7e:(this._emitter||(this._emitter=new EU.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},IU=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new h6),this._token}cancel(){this._token?this._token.cancel():this._token=d6.Cancelled}dispose(){this._token?this._token instanceof h6&&this._token.dispose():this._token=d6.None}};G2.CancellationTokenSource=IU});var kne=q(V2=>{"use strict";u();Object.defineProperty(V2,"__esModule",{value:!0});V2.SharedArrayReceiverStrategy=V2.SharedArraySenderStrategy=void 0;var j7e=A6(),o4;(function(t){t.Continue=0,t.Cancelled=1})(o4||(o4={}));var xU=class{static{o(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=o4.Continue,this.buffers.set(e.id,r),e.$cancellationData=r}async sendCancellation(e,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,o4.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};V2.SharedArraySenderStrategy=xU;var bU=class{static{o(this,"SharedArrayBufferCancellationToken")}constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===o4.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},vU=class{static{o(this,"SharedArrayBufferCancellationTokenSource")}constructor(e){this.token=new bU(e)}cancel(){}dispose(){}},TU=class{static{o(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(e){let r=e.$cancellationData;return r===void 0?new j7e.CancellationTokenSource:new vU(r)}};V2.SharedArrayReceiverStrategy=TU});var SU=q(p6=>{"use strict";u();Object.defineProperty(p6,"__esModule",{value:!0});p6.Semaphore=void 0;var K7e=Lm(),_U=class{static{o(this,"Semaphore")}constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,K7e.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};p6.Semaphore=_U});var Nne=q(Om=>{"use strict";u();Object.defineProperty(Om,"__esModule",{value:!0});Om.ReadableStreamMessageReader=Om.AbstractMessageReader=Om.MessageReader=void 0;var BU=Lm(),W2=U2(),wU=q2(),J7e=SU(),Dne;(function(t){function e(r){let n=r;return n&&W2.func(n.listen)&&W2.func(n.dispose)&&W2.func(n.onError)&&W2.func(n.onClose)&&W2.func(n.onPartialMessage)}o(e,"is"),t.is=e})(Dne||(Om.MessageReader=Dne={}));var m6=class{static{o(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new wU.Emitter,this.closeEmitter=new wU.Emitter,this.partialMessageEmitter=new wU.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${W2.string(e.message)?e.message:"unknown"}`)}};Om.AbstractMessageReader=m6;var RU;(function(t){function e(r){let n,i,s,a=new Map,c,l=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(s=r.contentDecoder,a.set(s.name,s)),r.contentDecoders!==void 0)for(let f of r.contentDecoders)a.set(f.name,f);if(r.contentTypeDecoder!==void 0&&(c=r.contentTypeDecoder,l.set(c.name,c)),r.contentTypeDecoders!==void 0)for(let f of r.contentTypeDecoders)l.set(f.name,f)}return c===void 0&&(c=(0,BU.default)().applicationJson.decoder,l.set(c.name,c)),{charset:n,contentDecoder:s,contentDecoders:a,contentTypeDecoder:c,contentTypeDecoders:l}}o(e,"fromOptions"),t.fromOptions=e})(RU||(RU={}));var kU=class extends m6{static{o(this,"ReadableStreamMessageReader")}constructor(e,r){super(),this.readable=e,this.options=RU.fromOptions(r),this.buffer=(0,BU.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new J7e.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,BU.default)().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Om.ReadableStreamMessageReader=kU});var Lne=q(Um=>{"use strict";u();Object.defineProperty(Um,"__esModule",{value:!0});Um.WriteableStreamMessageWriter=Um.AbstractMessageWriter=Um.MessageWriter=void 0;var Qne=Lm(),s4=U2(),X7e=SU(),Pne=q2(),Z7e="Content-Length: ",Fne=`\r
`,Mne;(function(t){function e(r){let n=r;return n&&s4.func(n.dispose)&&s4.func(n.onClose)&&s4.func(n.onError)&&s4.func(n.write)}o(e,"is"),t.is=e})(Mne||(Um.MessageWriter=Mne={}));var g6=class{static{o(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new Pne.Emitter,this.closeEmitter=new Pne.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${s4.string(e.message)?e.message:"unknown"}`)}};Um.AbstractMessageWriter=g6;var DU;(function(t){function e(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,Qne.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,Qne.default)().applicationJson.encoder}}o(e,"fromOptions"),t.fromOptions=e})(DU||(DU={}));var NU=class extends g6{static{o(this,"WriteableStreamMessageWriter")}constructor(e,r){super(),this.writable=e,this.options=DU.fromOptions(r),this.errorCount=0,this.writeSemaphore=new X7e.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(Z7e,n.byteLength.toString(),Fne),i.push(Fne),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};Um.WriteableStreamMessageWriter=NU});var One=q(y6=>{"use strict";u();Object.defineProperty(y6,"__esModule",{value:!0});y6.AbstractMessageBuffer=void 0;var eke=13,tke=10,rke=`\r
`,QU=class{static{o(this,"AbstractMessageBuffer")}constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,s=0;e:for(;n<this._chunks.length;){let f=this._chunks[n];for(i=0;i<f.length;){switch(f[i]){case eke:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case tke:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}s+=f.byteLength,n++}if(r!==4)return;let a=this._read(s+i),c=new Map,l=this.toString(a,"ascii").split(rke);if(l.length<2)return c;for(let f=0;f<l.length-2;f++){let d=l[f],h=d.indexOf(":");if(h===-1)throw new Error(`Message header must separate key and value using ':'
${d}`);let A=d.substr(0,h),m=d.substr(h+1).trim();c.set(e?A.toLowerCase():A,m)}return c}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],a=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,a}let r=this.allocNative(e),n=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let a=s.slice(0,e);r.set(a,n),n+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return r}};y6.AbstractMessageBuffer=QU});var Vne=q(Gr=>{"use strict";u();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.createMessageConnection=Gr.ConnectionOptions=Gr.MessageStrategy=Gr.CancellationStrategy=Gr.CancellationSenderStrategy=Gr.CancellationReceiverStrategy=Gr.RequestCancellationReceiverStrategy=Gr.IdCancellationReceiverStrategy=Gr.ConnectionStrategy=Gr.ConnectionError=Gr.ConnectionErrors=Gr.LogTraceNotification=Gr.SetTraceNotification=Gr.TraceFormat=Gr.TraceValues=Gr.Trace=Gr.NullLogger=Gr.ProgressType=Gr.ProgressToken=void 0;var Une=Lm(),bo=U2(),gr=hU(),Hne=pU(),a4=q2(),PU=A6(),u4;(function(t){t.type=new gr.NotificationType("$/cancelRequest")})(u4||(u4={}));var FU;(function(t){function e(r){return typeof r=="string"||typeof r=="number"}o(e,"is"),t.is=e})(FU||(Gr.ProgressToken=FU={}));var c4;(function(t){t.type=new gr.NotificationType("$/progress")})(c4||(c4={}));var MU=class{static{o(this,"ProgressType")}constructor(){}};Gr.ProgressType=MU;var LU;(function(t){function e(r){return bo.func(r)}o(e,"is"),t.is=e})(LU||(LU={}));Gr.NullLogger=Object.freeze({error:o(()=>{},"error"),warn:o(()=>{},"warn"),info:o(()=>{},"info"),log:o(()=>{},"log")});var ci;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(ci||(Gr.Trace=ci={}));var qne;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(qne||(Gr.TraceValues=qne={}));(function(t){function e(n){if(!bo.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}o(e,"fromString"),t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}o(r,"toString"),t.toString=r})(ci||(Gr.Trace=ci={}));var Oc;(function(t){t.Text="text",t.JSON="json"})(Oc||(Gr.TraceFormat=Oc={}));(function(t){function e(r){return bo.string(r)?(r=r.toLowerCase(),r==="json"?t.JSON:t.Text):t.Text}o(e,"fromString"),t.fromString=e})(Oc||(Gr.TraceFormat=Oc={}));var OU;(function(t){t.type=new gr.NotificationType("$/setTrace")})(OU||(Gr.SetTraceNotification=OU={}));var C6;(function(t){t.type=new gr.NotificationType("$/logTrace")})(C6||(Gr.LogTraceNotification=C6={}));var l4;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(l4||(Gr.ConnectionErrors=l4={}));var Y2=class t extends Error{static{o(this,"ConnectionError")}constructor(e,r){super(r),this.code=e,Object.setPrototypeOf(this,t.prototype)}};Gr.ConnectionError=Y2;var UU;(function(t){function e(r){let n=r;return n&&bo.func(n.cancelUndispatched)}o(e,"is"),t.is=e})(UU||(Gr.ConnectionStrategy=UU={}));var E6;(function(t){function e(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&bo.func(n.createCancellationTokenSource)&&(n.dispose===void 0||bo.func(n.dispose))}o(e,"is"),t.is=e})(E6||(Gr.IdCancellationReceiverStrategy=E6={}));var HU;(function(t){function e(r){let n=r;return n&&n.kind==="request"&&bo.func(n.createCancellationTokenSource)&&(n.dispose===void 0||bo.func(n.dispose))}o(e,"is"),t.is=e})(HU||(Gr.RequestCancellationReceiverStrategy=HU={}));var I6;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new PU.CancellationTokenSource}});function e(r){return E6.is(r)||HU.is(r)}o(e,"is"),t.is=e})(I6||(Gr.CancellationReceiverStrategy=I6={}));var x6;(function(t){t.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(u4.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&bo.func(n.sendCancellation)&&bo.func(n.cleanup)}o(e,"is"),t.is=e})(x6||(Gr.CancellationSenderStrategy=x6={}));var b6;(function(t){t.Message=Object.freeze({receiver:I6.Message,sender:x6.Message});function e(r){let n=r;return n&&I6.is(n.receiver)&&x6.is(n.sender)}o(e,"is"),t.is=e})(b6||(Gr.CancellationStrategy=b6={}));var v6;(function(t){function e(r){let n=r;return n&&bo.func(n.handleMessage)}o(e,"is"),t.is=e})(v6||(Gr.MessageStrategy=v6={}));var Gne;(function(t){function e(r){let n=r;return n&&(b6.is(n.cancellationStrategy)||UU.is(n.connectionStrategy)||v6.is(n.messageStrategy))}o(e,"is"),t.is=e})(Gne||(Gr.ConnectionOptions=Gne={}));var Zu;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Zu||(Zu={}));function nke(t,e,r,n){let i=r!==void 0?r:Gr.NullLogger,s=0,a=0,c=0,l="2.0",f,d=new Map,h,A=new Map,m=new Map,y,x=new Hne.LinkedMap,_=new Map,T=new Set,S=new Map,k=ci.Off,N=Oc.Text,P,L=Zu.New,Y=new a4.Emitter,te=new a4.Emitter,ne=new a4.Emitter,pe=new a4.Emitter,W=new a4.Emitter,$=n&&n.cancellationStrategy?n.cancellationStrategy:b6.Message;function Ie(le){if(le===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+le.toString()}o(Ie,"createRequestQueueKey");function fe(le){return le===null?"res-unknown-"+(++c).toString():"res-"+le.toString()}o(fe,"createResponseQueueKey");function X(){return"not-"+(++a).toString()}o(X,"createNotificationQueueKey");function H(le,Ge){gr.Message.isRequest(Ge)?le.set(Ie(Ge.id),Ge):gr.Message.isResponse(Ge)?le.set(fe(Ge.id),Ge):le.set(X(),Ge)}o(H,"addMessageToQueue");function Z(le){}o(Z,"cancelUndispatched");function ee(){return L===Zu.Listening}o(ee,"isListening");function ae(){return L===Zu.Closed}o(ae,"isClosed");function ie(){return L===Zu.Disposed}o(ie,"isDisposed");function ue(){(L===Zu.New||L===Zu.Listening)&&(L=Zu.Closed,te.fire(void 0))}o(ue,"closeHandler");function Ae(le){Y.fire([le,void 0,void 0])}o(Ae,"readErrorHandler");function Ke(le){Y.fire(le)}o(Ke,"writeErrorHandler"),t.onClose(ue),t.onError(Ae),e.onClose(ue),e.onError(Ke);function tt(){y||x.size===0||(y=(0,Une.default)().timer.setImmediate(()=>{y=void 0,Ct()}))}o(tt,"triggerMessageQueue");function ct(le){gr.Message.isRequest(le)?Ur(le):gr.Message.isNotification(le)?br(le):gr.Message.isResponse(le)?kn(le):se(le)}o(ct,"handleMessage");function Ct(){if(x.size===0)return;let le=x.shift();try{let Ge=n?.messageStrategy;v6.is(Ge)?Ge.handleMessage(le,ct):ct(le)}finally{tt()}}o(Ct,"processMessageQueue");let Gt=o(le=>{try{if(gr.Message.isNotification(le)&&le.method===u4.type.method){let Ge=le.params.id,dt=Ie(Ge),xt=x.get(dt);if(gr.Message.isRequest(xt)){let vr=n?.connectionStrategy,jn=vr&&vr.cancelUndispatched?vr.cancelUndispatched(xt,Z):void 0;if(jn&&(jn.error!==void 0||jn.result!==void 0)){x.delete(dt),S.delete(Ge),jn.id=xt.id,ot(jn,le.method,Date.now()),e.write(jn).catch(()=>i.error("Sending response for canceled message failed."));return}}let Yr=S.get(Ge);if(Yr!==void 0){Yr.cancel(),Mr(le);return}else T.add(Ge)}H(x,le)}finally{tt()}},"callback");function Ur(le){if(ie())return;function Ge(Lr,zr,qr){let fi={jsonrpc:l,id:le.id};Lr instanceof gr.ResponseError?fi.error=Lr.toJson():fi.result=Lr===void 0?null:Lr,ot(fi,zr,qr),e.write(fi).catch(()=>i.error("Sending response failed."))}o(Ge,"reply");function dt(Lr,zr,qr){let fi={jsonrpc:l,id:le.id,error:Lr.toJson()};ot(fi,zr,qr),e.write(fi).catch(()=>i.error("Sending response failed."))}o(dt,"replyError");function xt(Lr,zr,qr){Lr===void 0&&(Lr=null);let fi={jsonrpc:l,id:le.id,result:Lr};ot(fi,zr,qr),e.write(fi).catch(()=>i.error("Sending response failed."))}o(xt,"replySuccess"),We(le);let Yr=d.get(le.method),vr,jn;Yr&&(vr=Yr.type,jn=Yr.handler);let ii=Date.now();if(jn||f){let Lr=le.id??String(Date.now()),zr=E6.is($.receiver)?$.receiver.createCancellationTokenSource(Lr):$.receiver.createCancellationTokenSource(le);le.id!==null&&T.has(le.id)&&zr.cancel(),le.id!==null&&S.set(Lr,zr);try{let qr;if(jn)if(le.params===void 0){if(vr!==void 0&&vr.numberOfParams!==0){dt(new gr.ResponseError(gr.ErrorCodes.InvalidParams,`Request ${le.method} defines ${vr.numberOfParams} params but received none.`),le.method,ii);return}qr=jn(zr.token)}else if(Array.isArray(le.params)){if(vr!==void 0&&vr.parameterStructures===gr.ParameterStructures.byName){dt(new gr.ResponseError(gr.ErrorCodes.InvalidParams,`Request ${le.method} defines parameters by name but received parameters by position`),le.method,ii);return}qr=jn(...le.params,zr.token)}else{if(vr!==void 0&&vr.parameterStructures===gr.ParameterStructures.byPosition){dt(new gr.ResponseError(gr.ErrorCodes.InvalidParams,`Request ${le.method} defines parameters by position but received parameters by name`),le.method,ii);return}qr=jn(le.params,zr.token)}else f&&(qr=f(le.method,le.params,zr.token));let fi=qr;qr?fi.then?fi.then(qi=>{S.delete(Lr),Ge(qi,le.method,ii)},qi=>{S.delete(Lr),qi instanceof gr.ResponseError?dt(qi,le.method,ii):qi&&bo.string(qi.message)?dt(new gr.ResponseError(gr.ErrorCodes.InternalError,`Request ${le.method} failed with message: ${qi.message}`),le.method,ii):dt(new gr.ResponseError(gr.ErrorCodes.InternalError,`Request ${le.method} failed unexpectedly without providing any details.`),le.method,ii)}):(S.delete(Lr),Ge(qr,le.method,ii)):(S.delete(Lr),xt(qr,le.method,ii))}catch(qr){S.delete(Lr),qr instanceof gr.ResponseError?Ge(qr,le.method,ii):qr&&bo.string(qr.message)?dt(new gr.ResponseError(gr.ErrorCodes.InternalError,`Request ${le.method} failed with message: ${qr.message}`),le.method,ii):dt(new gr.ResponseError(gr.ErrorCodes.InternalError,`Request ${le.method} failed unexpectedly without providing any details.`),le.method,ii)}}else dt(new gr.ResponseError(gr.ErrorCodes.MethodNotFound,`Unhandled method ${le.method}`),le.method,ii)}o(Ur,"handleRequest");function kn(le){if(!ie())if(le.id===null)le.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(le.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Ge=le.id,dt=_.get(Ge);if(In(le,dt),dt!==void 0){_.delete(Ge);try{if(le.error){let xt=le.error;dt.reject(new gr.ResponseError(xt.code,xt.message,xt.data))}else if(le.result!==void 0)dt.resolve(le.result);else throw new Error("Should never happen.")}catch(xt){xt.message?i.error(`Response handler '${dt.method}' failed with message: ${xt.message}`):i.error(`Response handler '${dt.method}' failed unexpectedly.`)}}}}o(kn,"handleResponse");function br(le){if(ie())return;let Ge,dt;if(le.method===u4.type.method){let xt=le.params.id;T.delete(xt),Mr(le);return}else{let xt=A.get(le.method);xt&&(dt=xt.handler,Ge=xt.type)}if(dt||h)try{if(Mr(le),dt)if(le.params===void 0)Ge!==void 0&&Ge.numberOfParams!==0&&Ge.parameterStructures!==gr.ParameterStructures.byName&&i.error(`Notification ${le.method} defines ${Ge.numberOfParams} params but received none.`),dt();else if(Array.isArray(le.params)){let xt=le.params;le.method===c4.type.method&&xt.length===2&&FU.is(xt[0])?dt({token:xt[0],value:xt[1]}):(Ge!==void 0&&(Ge.parameterStructures===gr.ParameterStructures.byName&&i.error(`Notification ${le.method} defines parameters by name but received parameters by position`),Ge.numberOfParams!==le.params.length&&i.error(`Notification ${le.method} defines ${Ge.numberOfParams} params but received ${xt.length} arguments`)),dt(...xt))}else Ge!==void 0&&Ge.parameterStructures===gr.ParameterStructures.byPosition&&i.error(`Notification ${le.method} defines parameters by position but received parameters by name`),dt(le.params);else h&&h(le.method,le.params)}catch(xt){xt.message?i.error(`Notification handler '${le.method}' failed with message: ${xt.message}`):i.error(`Notification handler '${le.method}' failed unexpectedly.`)}else ne.fire(le)}o(br,"handleNotification");function se(le){if(!le){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(le,null,4)}`);let Ge=le;if(bo.string(Ge.id)||bo.number(Ge.id)){let dt=Ge.id,xt=_.get(dt);xt&&xt.reject(new Error("The received response has neither a result nor an error property."))}}o(se,"handleInvalidMessage");function Je(le){if(le!=null)switch(k){case ci.Verbose:return JSON.stringify(le,null,4);case ci.Compact:return JSON.stringify(le);default:return}}o(Je,"stringifyTrace");function me(le){if(!(k===ci.Off||!P))if(N===Oc.Text){let Ge;(k===ci.Verbose||k===ci.Compact)&&le.params&&(Ge=`Params: ${Je(le.params)}

`),P.log(`Sending request '${le.method} - (${le.id})'.`,Ge)}else Hr("send-request",le)}o(me,"traceSendingRequest");function ut(le){if(!(k===ci.Off||!P))if(N===Oc.Text){let Ge;(k===ci.Verbose||k===ci.Compact)&&(le.params?Ge=`Params: ${Je(le.params)}

`:Ge=`No parameters provided.

`),P.log(`Sending notification '${le.method}'.`,Ge)}else Hr("send-notification",le)}o(ut,"traceSendingNotification");function ot(le,Ge,dt){if(!(k===ci.Off||!P))if(N===Oc.Text){let xt;(k===ci.Verbose||k===ci.Compact)&&(le.error&&le.error.data?xt=`Error data: ${Je(le.error.data)}

`:le.result?xt=`Result: ${Je(le.result)}

`:le.error===void 0&&(xt=`No result returned.

`)),P.log(`Sending response '${Ge} - (${le.id})'. Processing request took ${Date.now()-dt}ms`,xt)}else Hr("send-response",le)}o(ot,"traceSendingResponse");function We(le){if(!(k===ci.Off||!P))if(N===Oc.Text){let Ge;(k===ci.Verbose||k===ci.Compact)&&le.params&&(Ge=`Params: ${Je(le.params)}

`),P.log(`Received request '${le.method} - (${le.id})'.`,Ge)}else Hr("receive-request",le)}o(We,"traceReceivedRequest");function Mr(le){if(!(k===ci.Off||!P||le.method===C6.type.method))if(N===Oc.Text){let Ge;(k===ci.Verbose||k===ci.Compact)&&(le.params?Ge=`Params: ${Je(le.params)}

`:Ge=`No parameters provided.

`),P.log(`Received notification '${le.method}'.`,Ge)}else Hr("receive-notification",le)}o(Mr,"traceReceivedNotification");function In(le,Ge){if(!(k===ci.Off||!P))if(N===Oc.Text){let dt;if((k===ci.Verbose||k===ci.Compact)&&(le.error&&le.error.data?dt=`Error data: ${Je(le.error.data)}

`:le.result?dt=`Result: ${Je(le.result)}

`:le.error===void 0&&(dt=`No result returned.

`)),Ge){let xt=le.error?` Request failed: ${le.error.message} (${le.error.code}).`:"";P.log(`Received response '${Ge.method} - (${le.id})' in ${Date.now()-Ge.timerStart}ms.${xt}`,dt)}else P.log(`Received response ${le.id} without active response promise.`,dt)}else Hr("receive-response",le)}o(In,"traceReceivedResponse");function Hr(le,Ge){if(!P||k===ci.Off)return;let dt={isLSPMessage:!0,type:le,message:Ge,timestamp:Date.now()};P.log(dt)}o(Hr,"logLSPMessage");function Kt(){if(ae())throw new Y2(l4.Closed,"Connection is closed.");if(ie())throw new Y2(l4.Disposed,"Connection is disposed.")}o(Kt,"throwIfClosedOrDisposed");function mi(){if(ee())throw new Y2(l4.AlreadyListening,"Connection is already listening")}o(mi,"throwIfListening");function Yo(){if(!ee())throw new Error("Call listen() first.")}o(Yo,"throwIfNotListening");function Mn(le){return le===void 0?null:le}o(Mn,"undefinedToNull");function $o(le){if(le!==null)return le}o($o,"nullToUndefined");function Jt(le){return le!=null&&!Array.isArray(le)&&typeof le=="object"}o(Jt,"isNamedParam");function po(le,Ge){switch(le){case gr.ParameterStructures.auto:return Jt(Ge)?$o(Ge):[Mn(Ge)];case gr.ParameterStructures.byName:if(!Jt(Ge))throw new Error("Received parameters by name but param is not an object literal.");return $o(Ge);case gr.ParameterStructures.byPosition:return[Mn(Ge)];default:throw new Error(`Unknown parameter structure ${le.toString()}`)}}o(po,"computeSingleParam");function ko(le,Ge){let dt,xt=le.numberOfParams;switch(xt){case 0:dt=void 0;break;case 1:dt=po(le.parameterStructures,Ge[0]);break;default:dt=[];for(let Yr=0;Yr<Ge.length&&Yr<xt;Yr++)dt.push(Mn(Ge[Yr]));if(Ge.length<xt)for(let Yr=Ge.length;Yr<xt;Yr++)dt.push(null);break}return dt}o(ko,"computeMessageParams");let ua={sendNotification:o((le,...Ge)=>{Kt();let dt,xt;if(bo.string(le)){dt=le;let vr=Ge[0],jn=0,ii=gr.ParameterStructures.auto;gr.ParameterStructures.is(vr)&&(jn=1,ii=vr);let Lr=Ge.length,zr=Lr-jn;switch(zr){case 0:xt=void 0;break;case 1:xt=po(ii,Ge[jn]);break;default:if(ii===gr.ParameterStructures.byName)throw new Error(`Received ${zr} parameters for 'by Name' notification parameter structure.`);xt=Ge.slice(jn,Lr).map(qr=>Mn(qr));break}}else{let vr=Ge;dt=le.method,xt=ko(le,vr)}let Yr={jsonrpc:l,method:dt,params:xt};return ut(Yr),e.write(Yr).catch(vr=>{throw i.error("Sending notification failed."),vr})},"sendNotification"),onNotification:o((le,Ge)=>{Kt();let dt;return bo.func(le)?h=le:Ge&&(bo.string(le)?(dt=le,A.set(le,{type:void 0,handler:Ge})):(dt=le.method,A.set(le.method,{type:le,handler:Ge}))),{dispose:o(()=>{dt!==void 0?A.delete(dt):h=void 0},"dispose")}},"onNotification"),onProgress:o((le,Ge,dt)=>{if(m.has(Ge))throw new Error(`Progress handler for token ${Ge} already registered`);return m.set(Ge,dt),{dispose:o(()=>{m.delete(Ge)},"dispose")}},"onProgress"),sendProgress:o((le,Ge,dt)=>ua.sendNotification(c4.type,{token:Ge,value:dt}),"sendProgress"),onUnhandledProgress:pe.event,sendRequest:o((le,...Ge)=>{Kt(),Yo();let dt,xt,Yr;if(bo.string(le)){dt=le;let Lr=Ge[0],zr=Ge[Ge.length-1],qr=0,fi=gr.ParameterStructures.auto;gr.ParameterStructures.is(Lr)&&(qr=1,fi=Lr);let qi=Ge.length;PU.CancellationToken.is(zr)&&(qi=qi-1,Yr=zr);let Do=qi-qr;switch(Do){case 0:xt=void 0;break;case 1:xt=po(fi,Ge[qr]);break;default:if(fi===gr.ParameterStructures.byName)throw new Error(`Received ${Do} parameters for 'by Name' request parameter structure.`);xt=Ge.slice(qr,qi).map(vc=>Mn(vc));break}}else{let Lr=Ge;dt=le.method,xt=ko(le,Lr);let zr=le.numberOfParams;Yr=PU.CancellationToken.is(Lr[zr])?Lr[zr]:void 0}let vr=s++,jn;Yr&&(jn=Yr.onCancellationRequested(()=>{let Lr=$.sender.sendCancellation(ua,vr);return Lr===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${vr}`),Promise.resolve()):Lr.catch(()=>{i.log(`Sending cancellation messages for id ${vr} failed`)})}));let ii={jsonrpc:l,id:vr,method:dt,params:xt};return me(ii),typeof $.sender.enableCancellation=="function"&&$.sender.enableCancellation(ii),new Promise(async(Lr,zr)=>{let qr=o(Do=>{Lr(Do),$.sender.cleanup(vr),jn?.dispose()},"resolveWithCleanup"),fi=o(Do=>{zr(Do),$.sender.cleanup(vr),jn?.dispose()},"rejectWithCleanup"),qi={method:dt,timerStart:Date.now(),resolve:qr,reject:fi};try{await e.write(ii),_.set(vr,qi)}catch(Do){throw i.error("Sending request failed."),qi.reject(new gr.ResponseError(gr.ErrorCodes.MessageWriteError,Do.message?Do.message:"Unknown reason")),Do}})},"sendRequest"),onRequest:o((le,Ge)=>{Kt();let dt=null;return LU.is(le)?(dt=void 0,f=le):bo.string(le)?(dt=null,Ge!==void 0&&(dt=le,d.set(le,{handler:Ge,type:void 0}))):Ge!==void 0&&(dt=le.method,d.set(le.method,{type:le,handler:Ge})),{dispose:o(()=>{dt!==null&&(dt!==void 0?d.delete(dt):f=void 0)},"dispose")}},"onRequest"),hasPendingResponse:o(()=>_.size>0,"hasPendingResponse"),trace:o(async(le,Ge,dt)=>{let xt=!1,Yr=Oc.Text;dt!==void 0&&(bo.boolean(dt)?xt=dt:(xt=dt.sendNotification||!1,Yr=dt.traceFormat||Oc.Text)),k=le,N=Yr,k===ci.Off?P=void 0:P=Ge,xt&&!ae()&&!ie()&&await ua.sendNotification(OU.type,{value:ci.toString(le)})},"trace"),onError:Y.event,onClose:te.event,onUnhandledNotification:ne.event,onDispose:W.event,end:o(()=>{e.end()},"end"),dispose:o(()=>{if(ie())return;L=Zu.Disposed,W.fire(void 0);let le=new gr.ResponseError(gr.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Ge of _.values())Ge.reject(le);_=new Map,S=new Map,T=new Set,x=new Hne.LinkedMap,bo.func(e.dispose)&&e.dispose(),bo.func(t.dispose)&&t.dispose()},"dispose"),listen:o(()=>{Kt(),mi(),L=Zu.Listening,t.listen(Gt)},"listen"),inspect:o(()=>{(0,Une.default)().console.log("inspect")},"inspect")};return ua.onNotification(C6.type,le=>{if(k===ci.Off||!P)return;let Ge=k===ci.Verbose||k===ci.Compact;P.log(le.message,Ge?le.verbose:void 0)}),ua.onNotification(c4.type,le=>{let Ge=m.get(le.token);Ge?Ge(le.value):pe.fire(le)}),ua}o(nke,"createMessageConnection");Gr.createMessageConnection=nke});var T6=q($e=>{"use strict";u();Object.defineProperty($e,"__esModule",{value:!0});$e.ProgressType=$e.ProgressToken=$e.createMessageConnection=$e.NullLogger=$e.ConnectionOptions=$e.ConnectionStrategy=$e.AbstractMessageBuffer=$e.WriteableStreamMessageWriter=$e.AbstractMessageWriter=$e.MessageWriter=$e.ReadableStreamMessageReader=$e.AbstractMessageReader=$e.MessageReader=$e.SharedArrayReceiverStrategy=$e.SharedArraySenderStrategy=$e.CancellationToken=$e.CancellationTokenSource=$e.Emitter=$e.Event=$e.Disposable=$e.LRUCache=$e.Touch=$e.LinkedMap=$e.ParameterStructures=$e.NotificationType9=$e.NotificationType8=$e.NotificationType7=$e.NotificationType6=$e.NotificationType5=$e.NotificationType4=$e.NotificationType3=$e.NotificationType2=$e.NotificationType1=$e.NotificationType0=$e.NotificationType=$e.ErrorCodes=$e.ResponseError=$e.RequestType9=$e.RequestType8=$e.RequestType7=$e.RequestType6=$e.RequestType5=$e.RequestType4=$e.RequestType3=$e.RequestType2=$e.RequestType1=$e.RequestType0=$e.RequestType=$e.Message=$e.RAL=void 0;$e.MessageStrategy=$e.CancellationStrategy=$e.CancellationSenderStrategy=$e.CancellationReceiverStrategy=$e.ConnectionError=$e.ConnectionErrors=$e.LogTraceNotification=$e.SetTraceNotification=$e.TraceFormat=$e.TraceValues=$e.Trace=void 0;var Pi=hU();Object.defineProperty($e,"Message",{enumerable:!0,get:o(function(){return Pi.Message},"get")});Object.defineProperty($e,"RequestType",{enumerable:!0,get:o(function(){return Pi.RequestType},"get")});Object.defineProperty($e,"RequestType0",{enumerable:!0,get:o(function(){return Pi.RequestType0},"get")});Object.defineProperty($e,"RequestType1",{enumerable:!0,get:o(function(){return Pi.RequestType1},"get")});Object.defineProperty($e,"RequestType2",{enumerable:!0,get:o(function(){return Pi.RequestType2},"get")});Object.defineProperty($e,"RequestType3",{enumerable:!0,get:o(function(){return Pi.RequestType3},"get")});Object.defineProperty($e,"RequestType4",{enumerable:!0,get:o(function(){return Pi.RequestType4},"get")});Object.defineProperty($e,"RequestType5",{enumerable:!0,get:o(function(){return Pi.RequestType5},"get")});Object.defineProperty($e,"RequestType6",{enumerable:!0,get:o(function(){return Pi.RequestType6},"get")});Object.defineProperty($e,"RequestType7",{enumerable:!0,get:o(function(){return Pi.RequestType7},"get")});Object.defineProperty($e,"RequestType8",{enumerable:!0,get:o(function(){return Pi.RequestType8},"get")});Object.defineProperty($e,"RequestType9",{enumerable:!0,get:o(function(){return Pi.RequestType9},"get")});Object.defineProperty($e,"ResponseError",{enumerable:!0,get:o(function(){return Pi.ResponseError},"get")});Object.defineProperty($e,"ErrorCodes",{enumerable:!0,get:o(function(){return Pi.ErrorCodes},"get")});Object.defineProperty($e,"NotificationType",{enumerable:!0,get:o(function(){return Pi.NotificationType},"get")});Object.defineProperty($e,"NotificationType0",{enumerable:!0,get:o(function(){return Pi.NotificationType0},"get")});Object.defineProperty($e,"NotificationType1",{enumerable:!0,get:o(function(){return Pi.NotificationType1},"get")});Object.defineProperty($e,"NotificationType2",{enumerable:!0,get:o(function(){return Pi.NotificationType2},"get")});Object.defineProperty($e,"NotificationType3",{enumerable:!0,get:o(function(){return Pi.NotificationType3},"get")});Object.defineProperty($e,"NotificationType4",{enumerable:!0,get:o(function(){return Pi.NotificationType4},"get")});Object.defineProperty($e,"NotificationType5",{enumerable:!0,get:o(function(){return Pi.NotificationType5},"get")});Object.defineProperty($e,"NotificationType6",{enumerable:!0,get:o(function(){return Pi.NotificationType6},"get")});Object.defineProperty($e,"NotificationType7",{enumerable:!0,get:o(function(){return Pi.NotificationType7},"get")});Object.defineProperty($e,"NotificationType8",{enumerable:!0,get:o(function(){return Pi.NotificationType8},"get")});Object.defineProperty($e,"NotificationType9",{enumerable:!0,get:o(function(){return Pi.NotificationType9},"get")});Object.defineProperty($e,"ParameterStructures",{enumerable:!0,get:o(function(){return Pi.ParameterStructures},"get")});var qU=pU();Object.defineProperty($e,"LinkedMap",{enumerable:!0,get:o(function(){return qU.LinkedMap},"get")});Object.defineProperty($e,"LRUCache",{enumerable:!0,get:o(function(){return qU.LRUCache},"get")});Object.defineProperty($e,"Touch",{enumerable:!0,get:o(function(){return qU.Touch},"get")});var ike=Bne();Object.defineProperty($e,"Disposable",{enumerable:!0,get:o(function(){return ike.Disposable},"get")});var Wne=q2();Object.defineProperty($e,"Event",{enumerable:!0,get:o(function(){return Wne.Event},"get")});Object.defineProperty($e,"Emitter",{enumerable:!0,get:o(function(){return Wne.Emitter},"get")});var Yne=A6();Object.defineProperty($e,"CancellationTokenSource",{enumerable:!0,get:o(function(){return Yne.CancellationTokenSource},"get")});Object.defineProperty($e,"CancellationToken",{enumerable:!0,get:o(function(){return Yne.CancellationToken},"get")});var $ne=kne();Object.defineProperty($e,"SharedArraySenderStrategy",{enumerable:!0,get:o(function(){return $ne.SharedArraySenderStrategy},"get")});Object.defineProperty($e,"SharedArrayReceiverStrategy",{enumerable:!0,get:o(function(){return $ne.SharedArrayReceiverStrategy},"get")});var GU=Nne();Object.defineProperty($e,"MessageReader",{enumerable:!0,get:o(function(){return GU.MessageReader},"get")});Object.defineProperty($e,"AbstractMessageReader",{enumerable:!0,get:o(function(){return GU.AbstractMessageReader},"get")});Object.defineProperty($e,"ReadableStreamMessageReader",{enumerable:!0,get:o(function(){return GU.ReadableStreamMessageReader},"get")});var VU=Lne();Object.defineProperty($e,"MessageWriter",{enumerable:!0,get:o(function(){return VU.MessageWriter},"get")});Object.defineProperty($e,"AbstractMessageWriter",{enumerable:!0,get:o(function(){return VU.AbstractMessageWriter},"get")});Object.defineProperty($e,"WriteableStreamMessageWriter",{enumerable:!0,get:o(function(){return VU.WriteableStreamMessageWriter},"get")});var oke=One();Object.defineProperty($e,"AbstractMessageBuffer",{enumerable:!0,get:o(function(){return oke.AbstractMessageBuffer},"get")});var Ca=Vne();Object.defineProperty($e,"ConnectionStrategy",{enumerable:!0,get:o(function(){return Ca.ConnectionStrategy},"get")});Object.defineProperty($e,"ConnectionOptions",{enumerable:!0,get:o(function(){return Ca.ConnectionOptions},"get")});Object.defineProperty($e,"NullLogger",{enumerable:!0,get:o(function(){return Ca.NullLogger},"get")});Object.defineProperty($e,"createMessageConnection",{enumerable:!0,get:o(function(){return Ca.createMessageConnection},"get")});Object.defineProperty($e,"ProgressToken",{enumerable:!0,get:o(function(){return Ca.ProgressToken},"get")});Object.defineProperty($e,"ProgressType",{enumerable:!0,get:o(function(){return Ca.ProgressType},"get")});Object.defineProperty($e,"Trace",{enumerable:!0,get:o(function(){return Ca.Trace},"get")});Object.defineProperty($e,"TraceValues",{enumerable:!0,get:o(function(){return Ca.TraceValues},"get")});Object.defineProperty($e,"TraceFormat",{enumerable:!0,get:o(function(){return Ca.TraceFormat},"get")});Object.defineProperty($e,"SetTraceNotification",{enumerable:!0,get:o(function(){return Ca.SetTraceNotification},"get")});Object.defineProperty($e,"LogTraceNotification",{enumerable:!0,get:o(function(){return Ca.LogTraceNotification},"get")});Object.defineProperty($e,"ConnectionErrors",{enumerable:!0,get:o(function(){return Ca.ConnectionErrors},"get")});Object.defineProperty($e,"ConnectionError",{enumerable:!0,get:o(function(){return Ca.ConnectionError},"get")});Object.defineProperty($e,"CancellationReceiverStrategy",{enumerable:!0,get:o(function(){return Ca.CancellationReceiverStrategy},"get")});Object.defineProperty($e,"CancellationSenderStrategy",{enumerable:!0,get:o(function(){return Ca.CancellationSenderStrategy},"get")});Object.defineProperty($e,"CancellationStrategy",{enumerable:!0,get:o(function(){return Ca.CancellationStrategy},"get")});Object.defineProperty($e,"MessageStrategy",{enumerable:!0,get:o(function(){return Ca.MessageStrategy},"get")});var ske=Lm();$e.RAL=ske.default});var Kne=q(zU=>{"use strict";u();Object.defineProperty(zU,"__esModule",{value:!0});var zne=require("util"),oA=T6(),_6=class t extends oA.AbstractMessageBuffer{static{o(this,"MessageBuffer")}constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,r){return Buffer.from(e,r)}toString(e,r){return e instanceof Buffer?e.toString(r):new zne.TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,r):Buffer.from(e,0,r)}allocNative(e){return Buffer.allocUnsafe(e)}};_6.emptyBuffer=Buffer.allocUnsafe(0);var WU=class{static{o(this,"ReadableStreamWrapper")}constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),oA.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),oA.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),oA.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),oA.Disposable.create(()=>this.stream.off("data",e))}},YU=class{static{o(this,"WritableStreamWrapper")}constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),oA.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),oA.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),oA.Disposable.create(()=>this.stream.off("end",e))}write(e,r){return new Promise((n,i)=>{let s=o(a=>{a==null?n():i(a)},"callback");typeof e=="string"?this.stream.write(e,r,s):this.stream.write(e,s)})}end(){this.stream.end()}},jne=Object.freeze({messageBuffer:Object.freeze({create:o(t=>new _6(t),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:o((t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(r){return Promise.reject(r)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:o((t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new zne.TextDecoder(e.charset).decode(t)))}catch(r){return Promise.reject(r)}},"decode")})}),stream:Object.freeze({asReadableStream:o(t=>new WU(t),"asReadableStream"),asWritableStream:o(t=>new YU(t),"asWritableStream")}),console,timer:Object.freeze({setTimeout(t,e,...r){let n=setTimeout(t,e,...r);return{dispose:o(()=>clearTimeout(n),"dispose")}},setImmediate(t,...e){let r=setImmediate(t,...e);return{dispose:o(()=>clearImmediate(r),"dispose")}},setInterval(t,e,...r){let n=setInterval(t,e,...r);return{dispose:o(()=>clearInterval(n),"dispose")}}})});function $U(){return jne}o($U,"RIL");(function(t){function e(){oA.RAL.install(jne)}o(e,"install"),t.install=e})($U||($U={}));zU.default=$U});var Gy=q(Pn=>{"use strict";u();var ake=Pn&&Pn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cke=Pn&&Pn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ake(e,t,r)};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.createMessageConnection=Pn.createServerSocketTransport=Pn.createClientSocketTransport=Pn.createServerPipeTransport=Pn.createClientPipeTransport=Pn.generateRandomPipeName=Pn.StreamMessageWriter=Pn.StreamMessageReader=Pn.SocketMessageWriter=Pn.SocketMessageReader=Pn.PortMessageWriter=Pn.PortMessageReader=Pn.IPCMessageWriter=Pn.IPCMessageReader=void 0;var $2=Kne();$2.default.install();var Jne=require("path"),lke=require("os"),uke=require("crypto"),B6=require("net"),Uc=T6();cke(T6(),Pn);var jU=class extends Uc.AbstractMessageReader{static{o(this,"IPCMessageReader")}constructor(e){super(),this.process=e;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Uc.Disposable.create(()=>this.process.off("message",e))}};Pn.IPCMessageReader=jU;var KU=class extends Uc.AbstractMessageWriter{static{o(this,"IPCMessageWriter")}constructor(e){super(),this.process=e,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,e)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Pn.IPCMessageWriter=KU;var JU=class extends Uc.AbstractMessageReader{static{o(this,"PortMessageReader")}constructor(e){super(),this.onData=new Uc.Emitter,e.on("close",()=>this.fireClose),e.on("error",r=>this.fireError(r)),e.on("message",r=>{this.onData.fire(r)})}listen(e){return this.onData.event(e)}};Pn.PortMessageReader=JU;var XU=class extends Uc.AbstractMessageWriter{static{o(this,"PortMessageWriter")}constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",r=>this.fireError(r))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Pn.PortMessageWriter=XU;var Hy=class extends Uc.ReadableStreamMessageReader{static{o(this,"SocketMessageReader")}constructor(e,r="utf-8"){super((0,$2.default)().stream.asReadableStream(e),r)}};Pn.SocketMessageReader=Hy;var qy=class extends Uc.WriteableStreamMessageWriter{static{o(this,"SocketMessageWriter")}constructor(e,r){super((0,$2.default)().stream.asWritableStream(e),r),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Pn.SocketMessageWriter=qy;var S6=class extends Uc.ReadableStreamMessageReader{static{o(this,"StreamMessageReader")}constructor(e,r){super((0,$2.default)().stream.asReadableStream(e),r)}};Pn.StreamMessageReader=S6;var w6=class extends Uc.WriteableStreamMessageWriter{static{o(this,"StreamMessageWriter")}constructor(e,r){super((0,$2.default)().stream.asWritableStream(e),r)}};Pn.StreamMessageWriter=w6;var Xne=process.env.XDG_RUNTIME_DIR,fke=new Map([["linux",107],["darwin",103]]);function dke(){let t=(0,uke.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Xne?e=Jne.join(Xne,`vscode-ipc-${t}.sock`):e=Jne.join(lke.tmpdir(),`vscode-${t}.sock`);let r=fke.get(process.platform);return r!==void 0&&e.length>r&&(0,$2.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${r} characters.`),e}o(dke,"generateRandomPipeName");Pn.generateRandomPipeName=dke;function hke(t,e="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,B6.createServer)(c=>{a.close(),r([new Hy(c,e),new qy(c,e)])});a.on("error",s),a.listen(t,()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(hke,"createClientPipeTransport");Pn.createClientPipeTransport=hke;function Ake(t,e="utf-8"){let r=(0,B6.createConnection)(t);return[new Hy(r,e),new qy(r,e)]}o(Ake,"createServerPipeTransport");Pn.createServerPipeTransport=Ake;function pke(t,e="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,B6.createServer)(c=>{a.close(),r([new Hy(c,e),new qy(c,e)])});a.on("error",s),a.listen(t,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(pke,"createClientSocketTransport");Pn.createClientSocketTransport=pke;function mke(t,e="utf-8"){let r=(0,B6.createConnection)(t,"127.0.0.1");return[new Hy(r,e),new qy(r,e)]}o(mke,"createServerSocketTransport");Pn.createServerSocketTransport=mke;function gke(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}o(gke,"isReadableStream");function yke(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}o(yke,"isWritableStream");function Cke(t,e,r,n){r||(r=Uc.NullLogger);let i=gke(t)?new S6(t):t,s=yke(e)?new w6(e):e;return Uc.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Uc.createMessageConnection)(i,s,r,n)}o(Cke,"createMessageConnection");Pn.createMessageConnection=Cke});var ZU=q((FBt,Zne)=>{"use strict";u();Zne.exports=Gy()});var k6=q((eie,R6)=>{u();(function(t){if(typeof R6=="object"&&typeof R6.exports=="object"){var e=t(require,eie);e!==void 0&&(R6.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var r;(function(M){function ce(ye){return typeof ye=="string"}o(ce,"is"),M.is=ce})(r||(e.DocumentUri=r={}));var n;(function(M){function ce(ye){return typeof ye=="string"}o(ce,"is"),M.is=ce})(n||(e.URI=n={}));var i;(function(M){M.MIN_VALUE=-2147483648,M.MAX_VALUE=2147483647;function ce(ye){return typeof ye=="number"&&M.MIN_VALUE<=ye&&ye<=M.MAX_VALUE}o(ce,"is"),M.is=ce})(i||(e.integer=i={}));var s;(function(M){M.MIN_VALUE=0,M.MAX_VALUE=2147483647;function ce(ye){return typeof ye=="number"&&M.MIN_VALUE<=ye&&ye<=M.MAX_VALUE}o(ce,"is"),M.is=ce})(s||(e.uinteger=s={}));var a;(function(M){function ce(K,F){return K===Number.MAX_VALUE&&(K=s.MAX_VALUE),F===Number.MAX_VALUE&&(F=s.MAX_VALUE),{line:K,character:F}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.objectLiteral(F)&&Te.uinteger(F.line)&&Te.uinteger(F.character)}o(ye,"is"),M.is=ye})(a||(e.Position=a={}));var c;(function(M){function ce(K,F,Se,Xe){if(Te.uinteger(K)&&Te.uinteger(F)&&Te.uinteger(Se)&&Te.uinteger(Xe))return{start:a.create(K,F),end:a.create(Se,Xe)};if(a.is(K)&&a.is(F))return{start:K,end:F};throw new Error("Range#create called with invalid arguments[".concat(K,", ").concat(F,", ").concat(Se,", ").concat(Xe,"]"))}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.objectLiteral(F)&&a.is(F.start)&&a.is(F.end)}o(ye,"is"),M.is=ye})(c||(e.Range=c={}));var l;(function(M){function ce(K,F){return{uri:K,range:F}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.objectLiteral(F)&&c.is(F.range)&&(Te.string(F.uri)||Te.undefined(F.uri))}o(ye,"is"),M.is=ye})(l||(e.Location=l={}));var f;(function(M){function ce(K,F,Se,Xe){return{targetUri:K,targetRange:F,targetSelectionRange:Se,originSelectionRange:Xe}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.objectLiteral(F)&&c.is(F.targetRange)&&Te.string(F.targetUri)&&c.is(F.targetSelectionRange)&&(c.is(F.originSelectionRange)||Te.undefined(F.originSelectionRange))}o(ye,"is"),M.is=ye})(f||(e.LocationLink=f={}));var d;(function(M){function ce(K,F,Se,Xe){return{red:K,green:F,blue:Se,alpha:Xe}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.objectLiteral(F)&&Te.numberRange(F.red,0,1)&&Te.numberRange(F.green,0,1)&&Te.numberRange(F.blue,0,1)&&Te.numberRange(F.alpha,0,1)}o(ye,"is"),M.is=ye})(d||(e.Color=d={}));var h;(function(M){function ce(K,F){return{range:K,color:F}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.objectLiteral(F)&&c.is(F.range)&&d.is(F.color)}o(ye,"is"),M.is=ye})(h||(e.ColorInformation=h={}));var A;(function(M){function ce(K,F,Se){return{label:K,textEdit:F,additionalTextEdits:Se}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.objectLiteral(F)&&Te.string(F.label)&&(Te.undefined(F.textEdit)||P.is(F))&&(Te.undefined(F.additionalTextEdits)||Te.typedArray(F.additionalTextEdits,P.is))}o(ye,"is"),M.is=ye})(A||(e.ColorPresentation=A={}));var m;(function(M){M.Comment="comment",M.Imports="imports",M.Region="region"})(m||(e.FoldingRangeKind=m={}));var y;(function(M){function ce(K,F,Se,Xe,rr,gi){var Dn={startLine:K,endLine:F};return Te.defined(Se)&&(Dn.startCharacter=Se),Te.defined(Xe)&&(Dn.endCharacter=Xe),Te.defined(rr)&&(Dn.kind=rr),Te.defined(gi)&&(Dn.collapsedText=gi),Dn}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.objectLiteral(F)&&Te.uinteger(F.startLine)&&Te.uinteger(F.startLine)&&(Te.undefined(F.startCharacter)||Te.uinteger(F.startCharacter))&&(Te.undefined(F.endCharacter)||Te.uinteger(F.endCharacter))&&(Te.undefined(F.kind)||Te.string(F.kind))}o(ye,"is"),M.is=ye})(y||(e.FoldingRange=y={}));var x;(function(M){function ce(K,F){return{location:K,message:F}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.defined(F)&&l.is(F.location)&&Te.string(F.message)}o(ye,"is"),M.is=ye})(x||(e.DiagnosticRelatedInformation=x={}));var _;(function(M){M.Error=1,M.Warning=2,M.Information=3,M.Hint=4})(_||(e.DiagnosticSeverity=_={}));var T;(function(M){M.Unnecessary=1,M.Deprecated=2})(T||(e.DiagnosticTag=T={}));var S;(function(M){function ce(ye){var K=ye;return Te.objectLiteral(K)&&Te.string(K.href)}o(ce,"is"),M.is=ce})(S||(e.CodeDescription=S={}));var k;(function(M){function ce(K,F,Se,Xe,rr,gi){var Dn={range:K,message:F};return Te.defined(Se)&&(Dn.severity=Se),Te.defined(Xe)&&(Dn.code=Xe),Te.defined(rr)&&(Dn.source=rr),Te.defined(gi)&&(Dn.relatedInformation=gi),Dn}o(ce,"create"),M.create=ce;function ye(K){var F,Se=K;return Te.defined(Se)&&c.is(Se.range)&&Te.string(Se.message)&&(Te.number(Se.severity)||Te.undefined(Se.severity))&&(Te.integer(Se.code)||Te.string(Se.code)||Te.undefined(Se.code))&&(Te.undefined(Se.codeDescription)||Te.string((F=Se.codeDescription)===null||F===void 0?void 0:F.href))&&(Te.string(Se.source)||Te.undefined(Se.source))&&(Te.undefined(Se.relatedInformation)||Te.typedArray(Se.relatedInformation,x.is))}o(ye,"is"),M.is=ye})(k||(e.Diagnostic=k={}));var N;(function(M){function ce(K,F){for(var Se=[],Xe=2;Xe<arguments.length;Xe++)Se[Xe-2]=arguments[Xe];var rr={title:K,command:F};return Te.defined(Se)&&Se.length>0&&(rr.arguments=Se),rr}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.defined(F)&&Te.string(F.title)&&Te.string(F.command)}o(ye,"is"),M.is=ye})(N||(e.Command=N={}));var P;(function(M){function ce(Se,Xe){return{range:Se,newText:Xe}}o(ce,"replace"),M.replace=ce;function ye(Se,Xe){return{range:{start:Se,end:Se},newText:Xe}}o(ye,"insert"),M.insert=ye;function K(Se){return{range:Se,newText:""}}o(K,"del"),M.del=K;function F(Se){var Xe=Se;return Te.objectLiteral(Xe)&&Te.string(Xe.newText)&&c.is(Xe.range)}o(F,"is"),M.is=F})(P||(e.TextEdit=P={}));var L;(function(M){function ce(K,F,Se){var Xe={label:K};return F!==void 0&&(Xe.needsConfirmation=F),Se!==void 0&&(Xe.description=Se),Xe}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.objectLiteral(F)&&Te.string(F.label)&&(Te.boolean(F.needsConfirmation)||F.needsConfirmation===void 0)&&(Te.string(F.description)||F.description===void 0)}o(ye,"is"),M.is=ye})(L||(e.ChangeAnnotation=L={}));var Y;(function(M){function ce(ye){var K=ye;return Te.string(K)}o(ce,"is"),M.is=ce})(Y||(e.ChangeAnnotationIdentifier=Y={}));var te;(function(M){function ce(Se,Xe,rr){return{range:Se,newText:Xe,annotationId:rr}}o(ce,"replace"),M.replace=ce;function ye(Se,Xe,rr){return{range:{start:Se,end:Se},newText:Xe,annotationId:rr}}o(ye,"insert"),M.insert=ye;function K(Se,Xe){return{range:Se,newText:"",annotationId:Xe}}o(K,"del"),M.del=K;function F(Se){var Xe=Se;return P.is(Xe)&&(L.is(Xe.annotationId)||Y.is(Xe.annotationId))}o(F,"is"),M.is=F})(te||(e.AnnotatedTextEdit=te={}));var ne;(function(M){function ce(K,F){return{textDocument:K,edits:F}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.defined(F)&&ae.is(F.textDocument)&&Array.isArray(F.edits)}o(ye,"is"),M.is=ye})(ne||(e.TextDocumentEdit=ne={}));var pe;(function(M){function ce(K,F,Se){var Xe={kind:"create",uri:K};return F!==void 0&&(F.overwrite!==void 0||F.ignoreIfExists!==void 0)&&(Xe.options=F),Se!==void 0&&(Xe.annotationId=Se),Xe}o(ce,"create"),M.create=ce;function ye(K){var F=K;return F&&F.kind==="create"&&Te.string(F.uri)&&(F.options===void 0||(F.options.overwrite===void 0||Te.boolean(F.options.overwrite))&&(F.options.ignoreIfExists===void 0||Te.boolean(F.options.ignoreIfExists)))&&(F.annotationId===void 0||Y.is(F.annotationId))}o(ye,"is"),M.is=ye})(pe||(e.CreateFile=pe={}));var W;(function(M){function ce(K,F,Se,Xe){var rr={kind:"rename",oldUri:K,newUri:F};return Se!==void 0&&(Se.overwrite!==void 0||Se.ignoreIfExists!==void 0)&&(rr.options=Se),Xe!==void 0&&(rr.annotationId=Xe),rr}o(ce,"create"),M.create=ce;function ye(K){var F=K;return F&&F.kind==="rename"&&Te.string(F.oldUri)&&Te.string(F.newUri)&&(F.options===void 0||(F.options.overwrite===void 0||Te.boolean(F.options.overwrite))&&(F.options.ignoreIfExists===void 0||Te.boolean(F.options.ignoreIfExists)))&&(F.annotationId===void 0||Y.is(F.annotationId))}o(ye,"is"),M.is=ye})(W||(e.RenameFile=W={}));var $;(function(M){function ce(K,F,Se){var Xe={kind:"delete",uri:K};return F!==void 0&&(F.recursive!==void 0||F.ignoreIfNotExists!==void 0)&&(Xe.options=F),Se!==void 0&&(Xe.annotationId=Se),Xe}o(ce,"create"),M.create=ce;function ye(K){var F=K;return F&&F.kind==="delete"&&Te.string(F.uri)&&(F.options===void 0||(F.options.recursive===void 0||Te.boolean(F.options.recursive))&&(F.options.ignoreIfNotExists===void 0||Te.boolean(F.options.ignoreIfNotExists)))&&(F.annotationId===void 0||Y.is(F.annotationId))}o(ye,"is"),M.is=ye})($||(e.DeleteFile=$={}));var Ie;(function(M){function ce(ye){var K=ye;return K&&(K.changes!==void 0||K.documentChanges!==void 0)&&(K.documentChanges===void 0||K.documentChanges.every(function(F){return Te.string(F.kind)?pe.is(F)||W.is(F)||$.is(F):ne.is(F)}))}o(ce,"is"),M.is=ce})(Ie||(e.WorkspaceEdit=Ie={}));var fe=function(){function M(ce,ye){this.edits=ce,this.changeAnnotations=ye}return o(M,"TextEditChangeImpl"),M.prototype.insert=function(ce,ye,K){var F,Se;if(K===void 0?F=P.insert(ce,ye):Y.is(K)?(Se=K,F=te.insert(ce,ye,K)):(this.assertChangeAnnotations(this.changeAnnotations),Se=this.changeAnnotations.manage(K),F=te.insert(ce,ye,Se)),this.edits.push(F),Se!==void 0)return Se},M.prototype.replace=function(ce,ye,K){var F,Se;if(K===void 0?F=P.replace(ce,ye):Y.is(K)?(Se=K,F=te.replace(ce,ye,K)):(this.assertChangeAnnotations(this.changeAnnotations),Se=this.changeAnnotations.manage(K),F=te.replace(ce,ye,Se)),this.edits.push(F),Se!==void 0)return Se},M.prototype.delete=function(ce,ye){var K,F;if(ye===void 0?K=P.del(ce):Y.is(ye)?(F=ye,K=te.del(ce,ye)):(this.assertChangeAnnotations(this.changeAnnotations),F=this.changeAnnotations.manage(ye),K=te.del(ce,F)),this.edits.push(K),F!==void 0)return F},M.prototype.add=function(ce){this.edits.push(ce)},M.prototype.all=function(){return this.edits},M.prototype.clear=function(){this.edits.splice(0,this.edits.length)},M.prototype.assertChangeAnnotations=function(ce){if(ce===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},M}(),X=function(){function M(ce){this._annotations=ce===void 0?Object.create(null):ce,this._counter=0,this._size=0}return o(M,"ChangeAnnotations"),M.prototype.all=function(){return this._annotations},Object.defineProperty(M.prototype,"size",{get:o(function(){return this._size},"get"),enumerable:!1,configurable:!0}),M.prototype.manage=function(ce,ye){var K;if(Y.is(ce)?K=ce:(K=this.nextId(),ye=ce),this._annotations[K]!==void 0)throw new Error("Id ".concat(K," is already in use."));if(ye===void 0)throw new Error("No annotation provided for id ".concat(K));return this._annotations[K]=ye,this._size++,K},M.prototype.nextId=function(){return this._counter++,this._counter.toString()},M}(),H=function(){function M(ce){var ye=this;this._textEditChanges=Object.create(null),ce!==void 0?(this._workspaceEdit=ce,ce.documentChanges?(this._changeAnnotations=new X(ce.changeAnnotations),ce.changeAnnotations=this._changeAnnotations.all(),ce.documentChanges.forEach(function(K){if(ne.is(K)){var F=new fe(K.edits,ye._changeAnnotations);ye._textEditChanges[K.textDocument.uri]=F}})):ce.changes&&Object.keys(ce.changes).forEach(function(K){var F=new fe(ce.changes[K]);ye._textEditChanges[K]=F})):this._workspaceEdit={}}return o(M,"WorkspaceChange"),Object.defineProperty(M.prototype,"edit",{get:o(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),M.prototype.getTextEditChange=function(ce){if(ae.is(ce)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var ye={uri:ce.uri,version:ce.version},K=this._textEditChanges[ye.uri];if(!K){var F=[],Se={textDocument:ye,edits:F};this._workspaceEdit.documentChanges.push(Se),K=new fe(F,this._changeAnnotations),this._textEditChanges[ye.uri]=K}return K}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var K=this._textEditChanges[ce];if(!K){var F=[];this._workspaceEdit.changes[ce]=F,K=new fe(F),this._textEditChanges[ce]=K}return K}},M.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new X,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},M.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},M.prototype.createFile=function(ce,ye,K){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var F;L.is(ye)||Y.is(ye)?F=ye:K=ye;var Se,Xe;if(F===void 0?Se=pe.create(ce,K):(Xe=Y.is(F)?F:this._changeAnnotations.manage(F),Se=pe.create(ce,K,Xe)),this._workspaceEdit.documentChanges.push(Se),Xe!==void 0)return Xe},M.prototype.renameFile=function(ce,ye,K,F){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Se;L.is(K)||Y.is(K)?Se=K:F=K;var Xe,rr;if(Se===void 0?Xe=W.create(ce,ye,F):(rr=Y.is(Se)?Se:this._changeAnnotations.manage(Se),Xe=W.create(ce,ye,F,rr)),this._workspaceEdit.documentChanges.push(Xe),rr!==void 0)return rr},M.prototype.deleteFile=function(ce,ye,K){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var F;L.is(ye)||Y.is(ye)?F=ye:K=ye;var Se,Xe;if(F===void 0?Se=$.create(ce,K):(Xe=Y.is(F)?F:this._changeAnnotations.manage(F),Se=$.create(ce,K,Xe)),this._workspaceEdit.documentChanges.push(Se),Xe!==void 0)return Xe},M}();e.WorkspaceChange=H;var Z;(function(M){function ce(K){return{uri:K}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.defined(F)&&Te.string(F.uri)}o(ye,"is"),M.is=ye})(Z||(e.TextDocumentIdentifier=Z={}));var ee;(function(M){function ce(K,F){return{uri:K,version:F}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.defined(F)&&Te.string(F.uri)&&Te.integer(F.version)}o(ye,"is"),M.is=ye})(ee||(e.VersionedTextDocumentIdentifier=ee={}));var ae;(function(M){function ce(K,F){return{uri:K,version:F}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.defined(F)&&Te.string(F.uri)&&(F.version===null||Te.integer(F.version))}o(ye,"is"),M.is=ye})(ae||(e.OptionalVersionedTextDocumentIdentifier=ae={}));var ie;(function(M){function ce(K,F,Se,Xe){return{uri:K,languageId:F,version:Se,text:Xe}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.defined(F)&&Te.string(F.uri)&&Te.string(F.languageId)&&Te.integer(F.version)&&Te.string(F.text)}o(ye,"is"),M.is=ye})(ie||(e.TextDocumentItem=ie={}));var ue;(function(M){M.PlainText="plaintext",M.Markdown="markdown";function ce(ye){var K=ye;return K===M.PlainText||K===M.Markdown}o(ce,"is"),M.is=ce})(ue||(e.MarkupKind=ue={}));var Ae;(function(M){function ce(ye){var K=ye;return Te.objectLiteral(ye)&&ue.is(K.kind)&&Te.string(K.value)}o(ce,"is"),M.is=ce})(Ae||(e.MarkupContent=Ae={}));var Ke;(function(M){M.Text=1,M.Method=2,M.Function=3,M.Constructor=4,M.Field=5,M.Variable=6,M.Class=7,M.Interface=8,M.Module=9,M.Property=10,M.Unit=11,M.Value=12,M.Enum=13,M.Keyword=14,M.Snippet=15,M.Color=16,M.File=17,M.Reference=18,M.Folder=19,M.EnumMember=20,M.Constant=21,M.Struct=22,M.Event=23,M.Operator=24,M.TypeParameter=25})(Ke||(e.CompletionItemKind=Ke={}));var tt;(function(M){M.PlainText=1,M.Snippet=2})(tt||(e.InsertTextFormat=tt={}));var ct;(function(M){M.Deprecated=1})(ct||(e.CompletionItemTag=ct={}));var Ct;(function(M){function ce(K,F,Se){return{newText:K,insert:F,replace:Se}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return F&&Te.string(F.newText)&&c.is(F.insert)&&c.is(F.replace)}o(ye,"is"),M.is=ye})(Ct||(e.InsertReplaceEdit=Ct={}));var Gt;(function(M){M.asIs=1,M.adjustIndentation=2})(Gt||(e.InsertTextMode=Gt={}));var Ur;(function(M){function ce(ye){var K=ye;return K&&(Te.string(K.detail)||K.detail===void 0)&&(Te.string(K.description)||K.description===void 0)}o(ce,"is"),M.is=ce})(Ur||(e.CompletionItemLabelDetails=Ur={}));var kn;(function(M){function ce(ye){return{label:ye}}o(ce,"create"),M.create=ce})(kn||(e.CompletionItem=kn={}));var br;(function(M){function ce(ye,K){return{items:ye||[],isIncomplete:!!K}}o(ce,"create"),M.create=ce})(br||(e.CompletionList=br={}));var se;(function(M){function ce(K){return K.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(ce,"fromPlainText"),M.fromPlainText=ce;function ye(K){var F=K;return Te.string(F)||Te.objectLiteral(F)&&Te.string(F.language)&&Te.string(F.value)}o(ye,"is"),M.is=ye})(se||(e.MarkedString=se={}));var Je;(function(M){function ce(ye){var K=ye;return!!K&&Te.objectLiteral(K)&&(Ae.is(K.contents)||se.is(K.contents)||Te.typedArray(K.contents,se.is))&&(ye.range===void 0||c.is(ye.range))}o(ce,"is"),M.is=ce})(Je||(e.Hover=Je={}));var me;(function(M){function ce(ye,K){return K?{label:ye,documentation:K}:{label:ye}}o(ce,"create"),M.create=ce})(me||(e.ParameterInformation=me={}));var ut;(function(M){function ce(ye,K){for(var F=[],Se=2;Se<arguments.length;Se++)F[Se-2]=arguments[Se];var Xe={label:ye};return Te.defined(K)&&(Xe.documentation=K),Te.defined(F)?Xe.parameters=F:Xe.parameters=[],Xe}o(ce,"create"),M.create=ce})(ut||(e.SignatureInformation=ut={}));var ot;(function(M){M.Text=1,M.Read=2,M.Write=3})(ot||(e.DocumentHighlightKind=ot={}));var We;(function(M){function ce(ye,K){var F={range:ye};return Te.number(K)&&(F.kind=K),F}o(ce,"create"),M.create=ce})(We||(e.DocumentHighlight=We={}));var Mr;(function(M){M.File=1,M.Module=2,M.Namespace=3,M.Package=4,M.Class=5,M.Method=6,M.Property=7,M.Field=8,M.Constructor=9,M.Enum=10,M.Interface=11,M.Function=12,M.Variable=13,M.Constant=14,M.String=15,M.Number=16,M.Boolean=17,M.Array=18,M.Object=19,M.Key=20,M.Null=21,M.EnumMember=22,M.Struct=23,M.Event=24,M.Operator=25,M.TypeParameter=26})(Mr||(e.SymbolKind=Mr={}));var In;(function(M){M.Deprecated=1})(In||(e.SymbolTag=In={}));var Hr;(function(M){function ce(ye,K,F,Se,Xe){var rr={name:ye,kind:K,location:{uri:Se,range:F}};return Xe&&(rr.containerName=Xe),rr}o(ce,"create"),M.create=ce})(Hr||(e.SymbolInformation=Hr={}));var Kt;(function(M){function ce(ye,K,F,Se){return Se!==void 0?{name:ye,kind:K,location:{uri:F,range:Se}}:{name:ye,kind:K,location:{uri:F}}}o(ce,"create"),M.create=ce})(Kt||(e.WorkspaceSymbol=Kt={}));var mi;(function(M){function ce(K,F,Se,Xe,rr,gi){var Dn={name:K,detail:F,kind:Se,range:Xe,selectionRange:rr};return gi!==void 0&&(Dn.children=gi),Dn}o(ce,"create"),M.create=ce;function ye(K){var F=K;return F&&Te.string(F.name)&&Te.number(F.kind)&&c.is(F.range)&&c.is(F.selectionRange)&&(F.detail===void 0||Te.string(F.detail))&&(F.deprecated===void 0||Te.boolean(F.deprecated))&&(F.children===void 0||Array.isArray(F.children))&&(F.tags===void 0||Array.isArray(F.tags))}o(ye,"is"),M.is=ye})(mi||(e.DocumentSymbol=mi={}));var Yo;(function(M){M.Empty="",M.QuickFix="quickfix",M.Refactor="refactor",M.RefactorExtract="refactor.extract",M.RefactorInline="refactor.inline",M.RefactorRewrite="refactor.rewrite",M.Source="source",M.SourceOrganizeImports="source.organizeImports",M.SourceFixAll="source.fixAll"})(Yo||(e.CodeActionKind=Yo={}));var Mn;(function(M){M.Invoked=1,M.Automatic=2})(Mn||(e.CodeActionTriggerKind=Mn={}));var $o;(function(M){function ce(K,F,Se){var Xe={diagnostics:K};return F!=null&&(Xe.only=F),Se!=null&&(Xe.triggerKind=Se),Xe}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.defined(F)&&Te.typedArray(F.diagnostics,k.is)&&(F.only===void 0||Te.typedArray(F.only,Te.string))&&(F.triggerKind===void 0||F.triggerKind===Mn.Invoked||F.triggerKind===Mn.Automatic)}o(ye,"is"),M.is=ye})($o||(e.CodeActionContext=$o={}));var Jt;(function(M){function ce(K,F,Se){var Xe={title:K},rr=!0;return typeof F=="string"?(rr=!1,Xe.kind=F):N.is(F)?Xe.command=F:Xe.edit=F,rr&&Se!==void 0&&(Xe.kind=Se),Xe}o(ce,"create"),M.create=ce;function ye(K){var F=K;return F&&Te.string(F.title)&&(F.diagnostics===void 0||Te.typedArray(F.diagnostics,k.is))&&(F.kind===void 0||Te.string(F.kind))&&(F.edit!==void 0||F.command!==void 0)&&(F.command===void 0||N.is(F.command))&&(F.isPreferred===void 0||Te.boolean(F.isPreferred))&&(F.edit===void 0||Ie.is(F.edit))}o(ye,"is"),M.is=ye})(Jt||(e.CodeAction=Jt={}));var po;(function(M){function ce(K,F){var Se={range:K};return Te.defined(F)&&(Se.data=F),Se}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.defined(F)&&c.is(F.range)&&(Te.undefined(F.command)||N.is(F.command))}o(ye,"is"),M.is=ye})(po||(e.CodeLens=po={}));var ko;(function(M){function ce(K,F){return{tabSize:K,insertSpaces:F}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.defined(F)&&Te.uinteger(F.tabSize)&&Te.boolean(F.insertSpaces)}o(ye,"is"),M.is=ye})(ko||(e.FormattingOptions=ko={}));var ua;(function(M){function ce(K,F,Se){return{range:K,target:F,data:Se}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.defined(F)&&c.is(F.range)&&(Te.undefined(F.target)||Te.string(F.target))}o(ye,"is"),M.is=ye})(ua||(e.DocumentLink=ua={}));var le;(function(M){function ce(K,F){return{range:K,parent:F}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.objectLiteral(F)&&c.is(F.range)&&(F.parent===void 0||M.is(F.parent))}o(ye,"is"),M.is=ye})(le||(e.SelectionRange=le={}));var Ge;(function(M){M.namespace="namespace",M.type="type",M.class="class",M.enum="enum",M.interface="interface",M.struct="struct",M.typeParameter="typeParameter",M.parameter="parameter",M.variable="variable",M.property="property",M.enumMember="enumMember",M.event="event",M.function="function",M.method="method",M.macro="macro",M.keyword="keyword",M.modifier="modifier",M.comment="comment",M.string="string",M.number="number",M.regexp="regexp",M.operator="operator",M.decorator="decorator"})(Ge||(e.SemanticTokenTypes=Ge={}));var dt;(function(M){M.declaration="declaration",M.definition="definition",M.readonly="readonly",M.static="static",M.deprecated="deprecated",M.abstract="abstract",M.async="async",M.modification="modification",M.documentation="documentation",M.defaultLibrary="defaultLibrary"})(dt||(e.SemanticTokenModifiers=dt={}));var xt;(function(M){function ce(ye){var K=ye;return Te.objectLiteral(K)&&(K.resultId===void 0||typeof K.resultId=="string")&&Array.isArray(K.data)&&(K.data.length===0||typeof K.data[0]=="number")}o(ce,"is"),M.is=ce})(xt||(e.SemanticTokens=xt={}));var Yr;(function(M){function ce(K,F){return{range:K,text:F}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return F!=null&&c.is(F.range)&&Te.string(F.text)}o(ye,"is"),M.is=ye})(Yr||(e.InlineValueText=Yr={}));var vr;(function(M){function ce(K,F,Se){return{range:K,variableName:F,caseSensitiveLookup:Se}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return F!=null&&c.is(F.range)&&Te.boolean(F.caseSensitiveLookup)&&(Te.string(F.variableName)||F.variableName===void 0)}o(ye,"is"),M.is=ye})(vr||(e.InlineValueVariableLookup=vr={}));var jn;(function(M){function ce(K,F){return{range:K,expression:F}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return F!=null&&c.is(F.range)&&(Te.string(F.expression)||F.expression===void 0)}o(ye,"is"),M.is=ye})(jn||(e.InlineValueEvaluatableExpression=jn={}));var ii;(function(M){function ce(K,F){return{frameId:K,stoppedLocation:F}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.defined(F)&&c.is(K.stoppedLocation)}o(ye,"is"),M.is=ye})(ii||(e.InlineValueContext=ii={}));var Lr;(function(M){M.Type=1,M.Parameter=2;function ce(ye){return ye===1||ye===2}o(ce,"is"),M.is=ce})(Lr||(e.InlayHintKind=Lr={}));var zr;(function(M){function ce(K){return{value:K}}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.objectLiteral(F)&&(F.tooltip===void 0||Te.string(F.tooltip)||Ae.is(F.tooltip))&&(F.location===void 0||l.is(F.location))&&(F.command===void 0||N.is(F.command))}o(ye,"is"),M.is=ye})(zr||(e.InlayHintLabelPart=zr={}));var qr;(function(M){function ce(K,F,Se){var Xe={position:K,label:F};return Se!==void 0&&(Xe.kind=Se),Xe}o(ce,"create"),M.create=ce;function ye(K){var F=K;return Te.objectLiteral(F)&&a.is(F.position)&&(Te.string(F.label)||Te.typedArray(F.label,zr.is))&&(F.kind===void 0||Lr.is(F.kind))&&F.textEdits===void 0||Te.typedArray(F.textEdits,P.is)&&(F.tooltip===void 0||Te.string(F.tooltip)||Ae.is(F.tooltip))&&(F.paddingLeft===void 0||Te.boolean(F.paddingLeft))&&(F.paddingRight===void 0||Te.boolean(F.paddingRight))}o(ye,"is"),M.is=ye})(qr||(e.InlayHint=qr={}));var fi;(function(M){function ce(ye){return{kind:"snippet",value:ye}}o(ce,"createSnippet"),M.createSnippet=ce})(fi||(e.StringValue=fi={}));var qi;(function(M){function ce(ye,K,F,Se){return{insertText:ye,filterText:K,range:F,command:Se}}o(ce,"create"),M.create=ce})(qi||(e.InlineCompletionItem=qi={}));var Do;(function(M){function ce(ye){return{items:ye}}o(ce,"create"),M.create=ce})(Do||(e.InlineCompletionList=Do={}));var vc;(function(M){M.Invoked=0,M.Automatic=1})(vc||(e.InlineCompletionTriggerKind=vc={}));var Mf;(function(M){function ce(ye,K){return{range:ye,text:K}}o(ce,"create"),M.create=ce})(Mf||(e.SelectedCompletionInfo=Mf={}));var D0;(function(M){function ce(ye,K){return{triggerKind:ye,selectedCompletionInfo:K}}o(ce,"create"),M.create=ce})(D0||(e.InlineCompletionContext=D0={}));var Iu;(function(M){function ce(ye){var K=ye;return Te.objectLiteral(K)&&n.is(K.uri)&&Te.string(K.name)}o(ce,"is"),M.is=ce})(Iu||(e.WorkspaceFolder=Iu={})),e.EOL=[`
`,`\r
`,"\r"];var as;(function(M){function ce(Se,Xe,rr,gi){return new xu(Se,Xe,rr,gi)}o(ce,"create"),M.create=ce;function ye(Se){var Xe=Se;return!!(Te.defined(Xe)&&Te.string(Xe.uri)&&(Te.undefined(Xe.languageId)||Te.string(Xe.languageId))&&Te.uinteger(Xe.lineCount)&&Te.func(Xe.getText)&&Te.func(Xe.positionAt)&&Te.func(Xe.offsetAt))}o(ye,"is"),M.is=ye;function K(Se,Xe){for(var rr=Se.getText(),gi=F(Xe,function(N0,cs){var bu=N0.range.start.line-cs.range.start.line;return bu===0?N0.range.start.character-cs.range.start.character:bu}),Dn=rr.length,Ls=gi.length-1;Ls>=0;Ls--){var fa=gi[Ls],oi=Se.offsetAt(fa.range.start),kr=Se.offsetAt(fa.range.end);if(kr<=Dn)rr=rr.substring(0,oi)+fa.newText+rr.substring(kr,rr.length);else throw new Error("Overlapping edit");Dn=oi}return rr}o(K,"applyEdits"),M.applyEdits=K;function F(Se,Xe){if(Se.length<=1)return Se;var rr=Se.length/2|0,gi=Se.slice(0,rr),Dn=Se.slice(rr);F(gi,Xe),F(Dn,Xe);for(var Ls=0,fa=0,oi=0;Ls<gi.length&&fa<Dn.length;){var kr=Xe(gi[Ls],Dn[fa]);kr<=0?Se[oi++]=gi[Ls++]:Se[oi++]=Dn[fa++]}for(;Ls<gi.length;)Se[oi++]=gi[Ls++];for(;fa<Dn.length;)Se[oi++]=Dn[fa++];return Se}o(F,"mergeSort")})(as||(e.TextDocument=as={}));var xu=function(){function M(ce,ye,K,F){this._uri=ce,this._languageId=ye,this._version=K,this._content=F,this._lineOffsets=void 0}return o(M,"FullTextDocument"),Object.defineProperty(M.prototype,"uri",{get:o(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"languageId",{get:o(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"version",{get:o(function(){return this._version},"get"),enumerable:!1,configurable:!0}),M.prototype.getText=function(ce){if(ce){var ye=this.offsetAt(ce.start),K=this.offsetAt(ce.end);return this._content.substring(ye,K)}return this._content},M.prototype.update=function(ce,ye){this._content=ce.text,this._version=ye,this._lineOffsets=void 0},M.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var ce=[],ye=this._content,K=!0,F=0;F<ye.length;F++){K&&(ce.push(F),K=!1);var Se=ye.charAt(F);K=Se==="\r"||Se===`
`,Se==="\r"&&F+1<ye.length&&ye.charAt(F+1)===`
`&&F++}K&&ye.length>0&&ce.push(ye.length),this._lineOffsets=ce}return this._lineOffsets},M.prototype.positionAt=function(ce){ce=Math.max(Math.min(ce,this._content.length),0);var ye=this.getLineOffsets(),K=0,F=ye.length;if(F===0)return a.create(0,ce);for(;K<F;){var Se=Math.floor((K+F)/2);ye[Se]>ce?F=Se:K=Se+1}var Xe=K-1;return a.create(Xe,ce-ye[Xe])},M.prototype.offsetAt=function(ce){var ye=this.getLineOffsets();if(ce.line>=ye.length)return this._content.length;if(ce.line<0)return 0;var K=ye[ce.line],F=ce.line+1<ye.length?ye[ce.line+1]:this._content.length;return Math.max(Math.min(K+ce.character,F),K)},Object.defineProperty(M.prototype,"lineCount",{get:o(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),M}(),Te;(function(M){var ce=Object.prototype.toString;function ye(kr){return typeof kr<"u"}o(ye,"defined"),M.defined=ye;function K(kr){return typeof kr>"u"}o(K,"undefined"),M.undefined=K;function F(kr){return kr===!0||kr===!1}o(F,"boolean"),M.boolean=F;function Se(kr){return ce.call(kr)==="[object String]"}o(Se,"string"),M.string=Se;function Xe(kr){return ce.call(kr)==="[object Number]"}o(Xe,"number"),M.number=Xe;function rr(kr,N0,cs){return ce.call(kr)==="[object Number]"&&N0<=kr&&kr<=cs}o(rr,"numberRange"),M.numberRange=rr;function gi(kr){return ce.call(kr)==="[object Number]"&&-2147483648<=kr&&kr<=2147483647}o(gi,"integer"),M.integer=gi;function Dn(kr){return ce.call(kr)==="[object Number]"&&0<=kr&&kr<=2147483647}o(Dn,"uinteger"),M.uinteger=Dn;function Ls(kr){return ce.call(kr)==="[object Function]"}o(Ls,"func"),M.func=Ls;function fa(kr){return kr!==null&&typeof kr=="object"}o(fa,"objectLiteral"),M.objectLiteral=fa;function oi(kr,N0){return Array.isArray(kr)&&kr.every(N0)}o(oi,"typedArray"),M.typedArray=oi})(Te||(Te={}))})});var co=q(j0=>{"use strict";u();Object.defineProperty(j0,"__esModule",{value:!0});j0.ProtocolNotificationType=j0.ProtocolNotificationType0=j0.ProtocolRequestType=j0.ProtocolRequestType0=j0.RegistrationType=j0.MessageDirection=void 0;var z2=Gy(),tie;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(tie||(j0.MessageDirection=tie={}));var eH=class{static{o(this,"RegistrationType")}constructor(e){this.method=e}};j0.RegistrationType=eH;var tH=class extends z2.RequestType0{static{o(this,"ProtocolRequestType0")}constructor(e){super(e)}};j0.ProtocolRequestType0=tH;var rH=class extends z2.RequestType{static{o(this,"ProtocolRequestType")}constructor(e){super(e,z2.ParameterStructures.byName)}};j0.ProtocolRequestType=rH;var nH=class extends z2.NotificationType0{static{o(this,"ProtocolNotificationType0")}constructor(e){super(e)}};j0.ProtocolNotificationType0=nH;var iH=class extends z2.NotificationType{static{o(this,"ProtocolNotificationType")}constructor(e){super(e,z2.ParameterStructures.byName)}};j0.ProtocolNotificationType=iH});var D6=q(gs=>{"use strict";u();Object.defineProperty(gs,"__esModule",{value:!0});gs.objectLiteral=gs.typedArray=gs.stringArray=gs.array=gs.func=gs.error=gs.number=gs.string=gs.boolean=void 0;function Eke(t){return t===!0||t===!1}o(Eke,"boolean");gs.boolean=Eke;function rie(t){return typeof t=="string"||t instanceof String}o(rie,"string");gs.string=rie;function Ike(t){return typeof t=="number"||t instanceof Number}o(Ike,"number");gs.number=Ike;function xke(t){return t instanceof Error}o(xke,"error");gs.error=xke;function bke(t){return typeof t=="function"}o(bke,"func");gs.func=bke;function nie(t){return Array.isArray(t)}o(nie,"array");gs.array=nie;function vke(t){return nie(t)&&t.every(e=>rie(e))}o(vke,"stringArray");gs.stringArray=vke;function Tke(t,e){return Array.isArray(t)&&t.every(e)}o(Tke,"typedArray");gs.typedArray=Tke;function _ke(t){return t!==null&&typeof t=="object"}o(_ke,"objectLiteral");gs.objectLiteral=_ke});var sie=q(N6=>{"use strict";u();Object.defineProperty(N6,"__esModule",{value:!0});N6.ImplementationRequest=void 0;var iie=co(),oie;(function(t){t.method="textDocument/implementation",t.messageDirection=iie.MessageDirection.clientToServer,t.type=new iie.ProtocolRequestType(t.method)})(oie||(N6.ImplementationRequest=oie={}))});var lie=q(Q6=>{"use strict";u();Object.defineProperty(Q6,"__esModule",{value:!0});Q6.TypeDefinitionRequest=void 0;var aie=co(),cie;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=aie.MessageDirection.clientToServer,t.type=new aie.ProtocolRequestType(t.method)})(cie||(Q6.TypeDefinitionRequest=cie={}))});var die=q(j2=>{"use strict";u();Object.defineProperty(j2,"__esModule",{value:!0});j2.DidChangeWorkspaceFoldersNotification=j2.WorkspaceFoldersRequest=void 0;var P6=co(),uie;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=P6.MessageDirection.serverToClient,t.type=new P6.ProtocolRequestType0(t.method)})(uie||(j2.WorkspaceFoldersRequest=uie={}));var fie;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=P6.MessageDirection.clientToServer,t.type=new P6.ProtocolNotificationType(t.method)})(fie||(j2.DidChangeWorkspaceFoldersNotification=fie={}))});var pie=q(F6=>{"use strict";u();Object.defineProperty(F6,"__esModule",{value:!0});F6.ConfigurationRequest=void 0;var hie=co(),Aie;(function(t){t.method="workspace/configuration",t.messageDirection=hie.MessageDirection.serverToClient,t.type=new hie.ProtocolRequestType(t.method)})(Aie||(F6.ConfigurationRequest=Aie={}))});var yie=q(K2=>{"use strict";u();Object.defineProperty(K2,"__esModule",{value:!0});K2.ColorPresentationRequest=K2.DocumentColorRequest=void 0;var M6=co(),mie;(function(t){t.method="textDocument/documentColor",t.messageDirection=M6.MessageDirection.clientToServer,t.type=new M6.ProtocolRequestType(t.method)})(mie||(K2.DocumentColorRequest=mie={}));var gie;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=M6.MessageDirection.clientToServer,t.type=new M6.ProtocolRequestType(t.method)})(gie||(K2.ColorPresentationRequest=gie={}))});var Iie=q(J2=>{"use strict";u();Object.defineProperty(J2,"__esModule",{value:!0});J2.FoldingRangeRefreshRequest=J2.FoldingRangeRequest=void 0;var L6=co(),Cie;(function(t){t.method="textDocument/foldingRange",t.messageDirection=L6.MessageDirection.clientToServer,t.type=new L6.ProtocolRequestType(t.method)})(Cie||(J2.FoldingRangeRequest=Cie={}));var Eie;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=L6.MessageDirection.serverToClient,t.type=new L6.ProtocolRequestType0(t.method)})(Eie||(J2.FoldingRangeRefreshRequest=Eie={}))});var vie=q(O6=>{"use strict";u();Object.defineProperty(O6,"__esModule",{value:!0});O6.DeclarationRequest=void 0;var xie=co(),bie;(function(t){t.method="textDocument/declaration",t.messageDirection=xie.MessageDirection.clientToServer,t.type=new xie.ProtocolRequestType(t.method)})(bie||(O6.DeclarationRequest=bie={}))});var Sie=q(U6=>{"use strict";u();Object.defineProperty(U6,"__esModule",{value:!0});U6.SelectionRangeRequest=void 0;var Tie=co(),_ie;(function(t){t.method="textDocument/selectionRange",t.messageDirection=Tie.MessageDirection.clientToServer,t.type=new Tie.ProtocolRequestType(t.method)})(_ie||(U6.SelectionRangeRequest=_ie={}))});var kie=q(Hm=>{"use strict";u();Object.defineProperty(Hm,"__esModule",{value:!0});Hm.WorkDoneProgressCancelNotification=Hm.WorkDoneProgressCreateRequest=Hm.WorkDoneProgress=void 0;var Ske=Gy(),H6=co(),wie;(function(t){t.type=new Ske.ProgressType;function e(r){return r===t.type}o(e,"is"),t.is=e})(wie||(Hm.WorkDoneProgress=wie={}));var Bie;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=H6.MessageDirection.serverToClient,t.type=new H6.ProtocolRequestType(t.method)})(Bie||(Hm.WorkDoneProgressCreateRequest=Bie={}));var Rie;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=H6.MessageDirection.clientToServer,t.type=new H6.ProtocolNotificationType(t.method)})(Rie||(Hm.WorkDoneProgressCancelNotification=Rie={}))});var Pie=q(qm=>{"use strict";u();Object.defineProperty(qm,"__esModule",{value:!0});qm.CallHierarchyOutgoingCallsRequest=qm.CallHierarchyIncomingCallsRequest=qm.CallHierarchyPrepareRequest=void 0;var X2=co(),Die;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=X2.MessageDirection.clientToServer,t.type=new X2.ProtocolRequestType(t.method)})(Die||(qm.CallHierarchyPrepareRequest=Die={}));var Nie;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=X2.MessageDirection.clientToServer,t.type=new X2.ProtocolRequestType(t.method)})(Nie||(qm.CallHierarchyIncomingCallsRequest=Nie={}));var Qie;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=X2.MessageDirection.clientToServer,t.type=new X2.ProtocolRequestType(t.method)})(Qie||(qm.CallHierarchyOutgoingCallsRequest=Qie={}))});var Hie=q(K0=>{"use strict";u();Object.defineProperty(K0,"__esModule",{value:!0});K0.SemanticTokensRefreshRequest=K0.SemanticTokensRangeRequest=K0.SemanticTokensDeltaRequest=K0.SemanticTokensRequest=K0.SemanticTokensRegistrationType=K0.TokenFormat=void 0;var sA=co(),Fie;(function(t){t.Relative="relative"})(Fie||(K0.TokenFormat=Fie={}));var f4;(function(t){t.method="textDocument/semanticTokens",t.type=new sA.RegistrationType(t.method)})(f4||(K0.SemanticTokensRegistrationType=f4={}));var Mie;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=sA.MessageDirection.clientToServer,t.type=new sA.ProtocolRequestType(t.method),t.registrationMethod=f4.method})(Mie||(K0.SemanticTokensRequest=Mie={}));var Lie;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=sA.MessageDirection.clientToServer,t.type=new sA.ProtocolRequestType(t.method),t.registrationMethod=f4.method})(Lie||(K0.SemanticTokensDeltaRequest=Lie={}));var Oie;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=sA.MessageDirection.clientToServer,t.type=new sA.ProtocolRequestType(t.method),t.registrationMethod=f4.method})(Oie||(K0.SemanticTokensRangeRequest=Oie={}));var Uie;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=sA.MessageDirection.serverToClient,t.type=new sA.ProtocolRequestType0(t.method)})(Uie||(K0.SemanticTokensRefreshRequest=Uie={}))});var Vie=q(q6=>{"use strict";u();Object.defineProperty(q6,"__esModule",{value:!0});q6.ShowDocumentRequest=void 0;var qie=co(),Gie;(function(t){t.method="window/showDocument",t.messageDirection=qie.MessageDirection.serverToClient,t.type=new qie.ProtocolRequestType(t.method)})(Gie||(q6.ShowDocumentRequest=Gie={}))});var $ie=q(G6=>{"use strict";u();Object.defineProperty(G6,"__esModule",{value:!0});G6.LinkedEditingRangeRequest=void 0;var Wie=co(),Yie;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=Wie.MessageDirection.clientToServer,t.type=new Wie.ProtocolRequestType(t.method)})(Yie||(G6.LinkedEditingRangeRequest=Yie={}))});var toe=q(za=>{"use strict";u();Object.defineProperty(za,"__esModule",{value:!0});za.WillDeleteFilesRequest=za.DidDeleteFilesNotification=za.DidRenameFilesNotification=za.WillRenameFilesRequest=za.DidCreateFilesNotification=za.WillCreateFilesRequest=za.FileOperationPatternKind=void 0;var Ol=co(),zie;(function(t){t.file="file",t.folder="folder"})(zie||(za.FileOperationPatternKind=zie={}));var jie;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Ol.MessageDirection.clientToServer,t.type=new Ol.ProtocolRequestType(t.method)})(jie||(za.WillCreateFilesRequest=jie={}));var Kie;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Ol.MessageDirection.clientToServer,t.type=new Ol.ProtocolNotificationType(t.method)})(Kie||(za.DidCreateFilesNotification=Kie={}));var Jie;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Ol.MessageDirection.clientToServer,t.type=new Ol.ProtocolRequestType(t.method)})(Jie||(za.WillRenameFilesRequest=Jie={}));var Xie;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Ol.MessageDirection.clientToServer,t.type=new Ol.ProtocolNotificationType(t.method)})(Xie||(za.DidRenameFilesNotification=Xie={}));var Zie;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Ol.MessageDirection.clientToServer,t.type=new Ol.ProtocolNotificationType(t.method)})(Zie||(za.DidDeleteFilesNotification=Zie={}));var eoe;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Ol.MessageDirection.clientToServer,t.type=new Ol.ProtocolRequestType(t.method)})(eoe||(za.WillDeleteFilesRequest=eoe={}))});var soe=q(Gm=>{"use strict";u();Object.defineProperty(Gm,"__esModule",{value:!0});Gm.MonikerRequest=Gm.MonikerKind=Gm.UniquenessLevel=void 0;var roe=co(),noe;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(noe||(Gm.UniquenessLevel=noe={}));var ioe;(function(t){t.$import="import",t.$export="export",t.local="local"})(ioe||(Gm.MonikerKind=ioe={}));var ooe;(function(t){t.method="textDocument/moniker",t.messageDirection=roe.MessageDirection.clientToServer,t.type=new roe.ProtocolRequestType(t.method)})(ooe||(Gm.MonikerRequest=ooe={}))});var uoe=q(Vm=>{"use strict";u();Object.defineProperty(Vm,"__esModule",{value:!0});Vm.TypeHierarchySubtypesRequest=Vm.TypeHierarchySupertypesRequest=Vm.TypeHierarchyPrepareRequest=void 0;var Z2=co(),aoe;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=Z2.MessageDirection.clientToServer,t.type=new Z2.ProtocolRequestType(t.method)})(aoe||(Vm.TypeHierarchyPrepareRequest=aoe={}));var coe;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=Z2.MessageDirection.clientToServer,t.type=new Z2.ProtocolRequestType(t.method)})(coe||(Vm.TypeHierarchySupertypesRequest=coe={}));var loe;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=Z2.MessageDirection.clientToServer,t.type=new Z2.ProtocolRequestType(t.method)})(loe||(Vm.TypeHierarchySubtypesRequest=loe={}))});var hoe=q(ex=>{"use strict";u();Object.defineProperty(ex,"__esModule",{value:!0});ex.InlineValueRefreshRequest=ex.InlineValueRequest=void 0;var V6=co(),foe;(function(t){t.method="textDocument/inlineValue",t.messageDirection=V6.MessageDirection.clientToServer,t.type=new V6.ProtocolRequestType(t.method)})(foe||(ex.InlineValueRequest=foe={}));var doe;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=V6.MessageDirection.serverToClient,t.type=new V6.ProtocolRequestType0(t.method)})(doe||(ex.InlineValueRefreshRequest=doe={}))});var goe=q(Wm=>{"use strict";u();Object.defineProperty(Wm,"__esModule",{value:!0});Wm.InlayHintRefreshRequest=Wm.InlayHintResolveRequest=Wm.InlayHintRequest=void 0;var tx=co(),Aoe;(function(t){t.method="textDocument/inlayHint",t.messageDirection=tx.MessageDirection.clientToServer,t.type=new tx.ProtocolRequestType(t.method)})(Aoe||(Wm.InlayHintRequest=Aoe={}));var poe;(function(t){t.method="inlayHint/resolve",t.messageDirection=tx.MessageDirection.clientToServer,t.type=new tx.ProtocolRequestType(t.method)})(poe||(Wm.InlayHintResolveRequest=poe={}));var moe;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=tx.MessageDirection.serverToClient,t.type=new tx.ProtocolRequestType0(t.method)})(moe||(Wm.InlayHintRefreshRequest=moe={}))});var voe=q(Ul=>{"use strict";u();Object.defineProperty(Ul,"__esModule",{value:!0});Ul.DiagnosticRefreshRequest=Ul.WorkspaceDiagnosticRequest=Ul.DocumentDiagnosticRequest=Ul.DocumentDiagnosticReportKind=Ul.DiagnosticServerCancellationData=void 0;var boe=Gy(),wke=D6(),rx=co(),yoe;(function(t){function e(r){let n=r;return n&&wke.boolean(n.retriggerRequest)}o(e,"is"),t.is=e})(yoe||(Ul.DiagnosticServerCancellationData=yoe={}));var Coe;(function(t){t.Full="full",t.Unchanged="unchanged"})(Coe||(Ul.DocumentDiagnosticReportKind=Coe={}));var Eoe;(function(t){t.method="textDocument/diagnostic",t.messageDirection=rx.MessageDirection.clientToServer,t.type=new rx.ProtocolRequestType(t.method),t.partialResult=new boe.ProgressType})(Eoe||(Ul.DocumentDiagnosticRequest=Eoe={}));var Ioe;(function(t){t.method="workspace/diagnostic",t.messageDirection=rx.MessageDirection.clientToServer,t.type=new rx.ProtocolRequestType(t.method),t.partialResult=new boe.ProgressType})(Ioe||(Ul.WorkspaceDiagnosticRequest=Ioe={}));var xoe;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=rx.MessageDirection.serverToClient,t.type=new rx.ProtocolRequestType0(t.method)})(xoe||(Ul.DiagnosticRefreshRequest=xoe={}))});var koe=q(Po=>{"use strict";u();Object.defineProperty(Po,"__esModule",{value:!0});Po.DidCloseNotebookDocumentNotification=Po.DidSaveNotebookDocumentNotification=Po.DidChangeNotebookDocumentNotification=Po.NotebookCellArrayChange=Po.DidOpenNotebookDocumentNotification=Po.NotebookDocumentSyncRegistrationType=Po.NotebookDocument=Po.NotebookCell=Po.ExecutionSummary=Po.NotebookCellKind=void 0;var d4=k6(),ef=D6(),Id=co(),oH;(function(t){t.Markup=1,t.Code=2;function e(r){return r===1||r===2}o(e,"is"),t.is=e})(oH||(Po.NotebookCellKind=oH={}));var sH;(function(t){function e(i,s){let a={executionOrder:i};return(s===!0||s===!1)&&(a.success=s),a}o(e,"create"),t.create=e;function r(i){let s=i;return ef.objectLiteral(s)&&d4.uinteger.is(s.executionOrder)&&(s.success===void 0||ef.boolean(s.success))}o(r,"is"),t.is=r;function n(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}o(n,"equals"),t.equals=n})(sH||(Po.ExecutionSummary=sH={}));var W6;(function(t){function e(s,a){return{kind:s,document:a}}o(e,"create"),t.create=e;function r(s){let a=s;return ef.objectLiteral(a)&&oH.is(a.kind)&&d4.DocumentUri.is(a.document)&&(a.metadata===void 0||ef.objectLiteral(a.metadata))}o(r,"is"),t.is=r;function n(s,a){let c=new Set;return s.document!==a.document&&c.add("document"),s.kind!==a.kind&&c.add("kind"),s.executionSummary!==a.executionSummary&&c.add("executionSummary"),(s.metadata!==void 0||a.metadata!==void 0)&&!i(s.metadata,a.metadata)&&c.add("metadata"),(s.executionSummary!==void 0||a.executionSummary!==void 0)&&!sH.equals(s.executionSummary,a.executionSummary)&&c.add("executionSummary"),c}o(n,"diff"),t.diff=n;function i(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object")return!1;let c=Array.isArray(s),l=Array.isArray(a);if(c!==l)return!1;if(c&&l){if(s.length!==a.length)return!1;for(let f=0;f<s.length;f++)if(!i(s[f],a[f]))return!1}if(ef.objectLiteral(s)&&ef.objectLiteral(a)){let f=Object.keys(s),d=Object.keys(a);if(f.length!==d.length||(f.sort(),d.sort(),!i(f,d)))return!1;for(let h=0;h<f.length;h++){let A=f[h];if(!i(s[A],a[A]))return!1}}return!0}o(i,"equalsMetadata")})(W6||(Po.NotebookCell=W6={}));var Toe;(function(t){function e(n,i,s,a){return{uri:n,notebookType:i,version:s,cells:a}}o(e,"create"),t.create=e;function r(n){let i=n;return ef.objectLiteral(i)&&ef.string(i.uri)&&d4.integer.is(i.version)&&ef.typedArray(i.cells,W6.is)}o(r,"is"),t.is=r})(Toe||(Po.NotebookDocument=Toe={}));var nx;(function(t){t.method="notebookDocument/sync",t.messageDirection=Id.MessageDirection.clientToServer,t.type=new Id.RegistrationType(t.method)})(nx||(Po.NotebookDocumentSyncRegistrationType=nx={}));var _oe;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Id.MessageDirection.clientToServer,t.type=new Id.ProtocolNotificationType(t.method),t.registrationMethod=nx.method})(_oe||(Po.DidOpenNotebookDocumentNotification=_oe={}));var Soe;(function(t){function e(n){let i=n;return ef.objectLiteral(i)&&d4.uinteger.is(i.start)&&d4.uinteger.is(i.deleteCount)&&(i.cells===void 0||ef.typedArray(i.cells,W6.is))}o(e,"is"),t.is=e;function r(n,i,s){let a={start:n,deleteCount:i};return s!==void 0&&(a.cells=s),a}o(r,"create"),t.create=r})(Soe||(Po.NotebookCellArrayChange=Soe={}));var woe;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Id.MessageDirection.clientToServer,t.type=new Id.ProtocolNotificationType(t.method),t.registrationMethod=nx.method})(woe||(Po.DidChangeNotebookDocumentNotification=woe={}));var Boe;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Id.MessageDirection.clientToServer,t.type=new Id.ProtocolNotificationType(t.method),t.registrationMethod=nx.method})(Boe||(Po.DidSaveNotebookDocumentNotification=Boe={}));var Roe;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Id.MessageDirection.clientToServer,t.type=new Id.ProtocolNotificationType(t.method),t.registrationMethod=nx.method})(Roe||(Po.DidCloseNotebookDocumentNotification=Roe={}))});var Qoe=q(Y6=>{"use strict";u();Object.defineProperty(Y6,"__esModule",{value:!0});Y6.InlineCompletionRequest=void 0;var Doe=co(),Noe;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=Doe.MessageDirection.clientToServer,t.type=new Doe.ProtocolRequestType(t.method)})(Noe||(Y6.InlineCompletionRequest=Noe={}))});var $se=q(oe=>{"use strict";u();Object.defineProperty(oe,"__esModule",{value:!0});oe.WorkspaceSymbolRequest=oe.CodeActionResolveRequest=oe.CodeActionRequest=oe.DocumentSymbolRequest=oe.DocumentHighlightRequest=oe.ReferencesRequest=oe.DefinitionRequest=oe.SignatureHelpRequest=oe.SignatureHelpTriggerKind=oe.HoverRequest=oe.CompletionResolveRequest=oe.CompletionRequest=oe.CompletionTriggerKind=oe.PublishDiagnosticsNotification=oe.WatchKind=oe.RelativePattern=oe.FileChangeType=oe.DidChangeWatchedFilesNotification=oe.WillSaveTextDocumentWaitUntilRequest=oe.WillSaveTextDocumentNotification=oe.TextDocumentSaveReason=oe.DidSaveTextDocumentNotification=oe.DidCloseTextDocumentNotification=oe.DidChangeTextDocumentNotification=oe.TextDocumentContentChangeEvent=oe.DidOpenTextDocumentNotification=oe.TextDocumentSyncKind=oe.TelemetryEventNotification=oe.LogMessageNotification=oe.ShowMessageRequest=oe.ShowMessageNotification=oe.MessageType=oe.DidChangeConfigurationNotification=oe.ExitNotification=oe.ShutdownRequest=oe.InitializedNotification=oe.InitializeErrorCodes=oe.InitializeRequest=oe.WorkDoneProgressOptions=oe.TextDocumentRegistrationOptions=oe.StaticRegistrationOptions=oe.PositionEncodingKind=oe.FailureHandlingKind=oe.ResourceOperationKind=oe.UnregistrationRequest=oe.RegistrationRequest=oe.DocumentSelector=oe.NotebookCellTextDocumentFilter=oe.NotebookDocumentFilter=oe.TextDocumentFilter=void 0;oe.MonikerRequest=oe.MonikerKind=oe.UniquenessLevel=oe.WillDeleteFilesRequest=oe.DidDeleteFilesNotification=oe.WillRenameFilesRequest=oe.DidRenameFilesNotification=oe.WillCreateFilesRequest=oe.DidCreateFilesNotification=oe.FileOperationPatternKind=oe.LinkedEditingRangeRequest=oe.ShowDocumentRequest=oe.SemanticTokensRegistrationType=oe.SemanticTokensRefreshRequest=oe.SemanticTokensRangeRequest=oe.SemanticTokensDeltaRequest=oe.SemanticTokensRequest=oe.TokenFormat=oe.CallHierarchyPrepareRequest=oe.CallHierarchyOutgoingCallsRequest=oe.CallHierarchyIncomingCallsRequest=oe.WorkDoneProgressCancelNotification=oe.WorkDoneProgressCreateRequest=oe.WorkDoneProgress=oe.SelectionRangeRequest=oe.DeclarationRequest=oe.FoldingRangeRefreshRequest=oe.FoldingRangeRequest=oe.ColorPresentationRequest=oe.DocumentColorRequest=oe.ConfigurationRequest=oe.DidChangeWorkspaceFoldersNotification=oe.WorkspaceFoldersRequest=oe.TypeDefinitionRequest=oe.ImplementationRequest=oe.ApplyWorkspaceEditRequest=oe.ExecuteCommandRequest=oe.PrepareRenameRequest=oe.RenameRequest=oe.PrepareSupportDefaultBehavior=oe.DocumentOnTypeFormattingRequest=oe.DocumentRangesFormattingRequest=oe.DocumentRangeFormattingRequest=oe.DocumentFormattingRequest=oe.DocumentLinkResolveRequest=oe.DocumentLinkRequest=oe.CodeLensRefreshRequest=oe.CodeLensResolveRequest=oe.CodeLensRequest=oe.WorkspaceSymbolResolveRequest=void 0;oe.InlineCompletionRequest=oe.DidCloseNotebookDocumentNotification=oe.DidSaveNotebookDocumentNotification=oe.DidChangeNotebookDocumentNotification=oe.NotebookCellArrayChange=oe.DidOpenNotebookDocumentNotification=oe.NotebookDocumentSyncRegistrationType=oe.NotebookDocument=oe.NotebookCell=oe.ExecutionSummary=oe.NotebookCellKind=oe.DiagnosticRefreshRequest=oe.WorkspaceDiagnosticRequest=oe.DocumentDiagnosticRequest=oe.DocumentDiagnosticReportKind=oe.DiagnosticServerCancellationData=oe.InlayHintRefreshRequest=oe.InlayHintResolveRequest=oe.InlayHintRequest=oe.InlineValueRefreshRequest=oe.InlineValueRequest=oe.TypeHierarchySupertypesRequest=oe.TypeHierarchySubtypesRequest=oe.TypeHierarchyPrepareRequest=void 0;var pt=co(),Poe=k6(),Ys=D6(),Bke=sie();Object.defineProperty(oe,"ImplementationRequest",{enumerable:!0,get:o(function(){return Bke.ImplementationRequest},"get")});var Rke=lie();Object.defineProperty(oe,"TypeDefinitionRequest",{enumerable:!0,get:o(function(){return Rke.TypeDefinitionRequest},"get")});var Gse=die();Object.defineProperty(oe,"WorkspaceFoldersRequest",{enumerable:!0,get:o(function(){return Gse.WorkspaceFoldersRequest},"get")});Object.defineProperty(oe,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:o(function(){return Gse.DidChangeWorkspaceFoldersNotification},"get")});var kke=pie();Object.defineProperty(oe,"ConfigurationRequest",{enumerable:!0,get:o(function(){return kke.ConfigurationRequest},"get")});var Vse=yie();Object.defineProperty(oe,"DocumentColorRequest",{enumerable:!0,get:o(function(){return Vse.DocumentColorRequest},"get")});Object.defineProperty(oe,"ColorPresentationRequest",{enumerable:!0,get:o(function(){return Vse.ColorPresentationRequest},"get")});var Wse=Iie();Object.defineProperty(oe,"FoldingRangeRequest",{enumerable:!0,get:o(function(){return Wse.FoldingRangeRequest},"get")});Object.defineProperty(oe,"FoldingRangeRefreshRequest",{enumerable:!0,get:o(function(){return Wse.FoldingRangeRefreshRequest},"get")});var Dke=vie();Object.defineProperty(oe,"DeclarationRequest",{enumerable:!0,get:o(function(){return Dke.DeclarationRequest},"get")});var Nke=Sie();Object.defineProperty(oe,"SelectionRangeRequest",{enumerable:!0,get:o(function(){return Nke.SelectionRangeRequest},"get")});var fH=kie();Object.defineProperty(oe,"WorkDoneProgress",{enumerable:!0,get:o(function(){return fH.WorkDoneProgress},"get")});Object.defineProperty(oe,"WorkDoneProgressCreateRequest",{enumerable:!0,get:o(function(){return fH.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(oe,"WorkDoneProgressCancelNotification",{enumerable:!0,get:o(function(){return fH.WorkDoneProgressCancelNotification},"get")});var dH=Pie();Object.defineProperty(oe,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:o(function(){return dH.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(oe,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:o(function(){return dH.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(oe,"CallHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return dH.CallHierarchyPrepareRequest},"get")});var ix=Hie();Object.defineProperty(oe,"TokenFormat",{enumerable:!0,get:o(function(){return ix.TokenFormat},"get")});Object.defineProperty(oe,"SemanticTokensRequest",{enumerable:!0,get:o(function(){return ix.SemanticTokensRequest},"get")});Object.defineProperty(oe,"SemanticTokensDeltaRequest",{enumerable:!0,get:o(function(){return ix.SemanticTokensDeltaRequest},"get")});Object.defineProperty(oe,"SemanticTokensRangeRequest",{enumerable:!0,get:o(function(){return ix.SemanticTokensRangeRequest},"get")});Object.defineProperty(oe,"SemanticTokensRefreshRequest",{enumerable:!0,get:o(function(){return ix.SemanticTokensRefreshRequest},"get")});Object.defineProperty(oe,"SemanticTokensRegistrationType",{enumerable:!0,get:o(function(){return ix.SemanticTokensRegistrationType},"get")});var Qke=Vie();Object.defineProperty(oe,"ShowDocumentRequest",{enumerable:!0,get:o(function(){return Qke.ShowDocumentRequest},"get")});var Pke=$ie();Object.defineProperty(oe,"LinkedEditingRangeRequest",{enumerable:!0,get:o(function(){return Pke.LinkedEditingRangeRequest},"get")});var Vy=toe();Object.defineProperty(oe,"FileOperationPatternKind",{enumerable:!0,get:o(function(){return Vy.FileOperationPatternKind},"get")});Object.defineProperty(oe,"DidCreateFilesNotification",{enumerable:!0,get:o(function(){return Vy.DidCreateFilesNotification},"get")});Object.defineProperty(oe,"WillCreateFilesRequest",{enumerable:!0,get:o(function(){return Vy.WillCreateFilesRequest},"get")});Object.defineProperty(oe,"DidRenameFilesNotification",{enumerable:!0,get:o(function(){return Vy.DidRenameFilesNotification},"get")});Object.defineProperty(oe,"WillRenameFilesRequest",{enumerable:!0,get:o(function(){return Vy.WillRenameFilesRequest},"get")});Object.defineProperty(oe,"DidDeleteFilesNotification",{enumerable:!0,get:o(function(){return Vy.DidDeleteFilesNotification},"get")});Object.defineProperty(oe,"WillDeleteFilesRequest",{enumerable:!0,get:o(function(){return Vy.WillDeleteFilesRequest},"get")});var hH=soe();Object.defineProperty(oe,"UniquenessLevel",{enumerable:!0,get:o(function(){return hH.UniquenessLevel},"get")});Object.defineProperty(oe,"MonikerKind",{enumerable:!0,get:o(function(){return hH.MonikerKind},"get")});Object.defineProperty(oe,"MonikerRequest",{enumerable:!0,get:o(function(){return hH.MonikerRequest},"get")});var AH=uoe();Object.defineProperty(oe,"TypeHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return AH.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(oe,"TypeHierarchySubtypesRequest",{enumerable:!0,get:o(function(){return AH.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(oe,"TypeHierarchySupertypesRequest",{enumerable:!0,get:o(function(){return AH.TypeHierarchySupertypesRequest},"get")});var Yse=hoe();Object.defineProperty(oe,"InlineValueRequest",{enumerable:!0,get:o(function(){return Yse.InlineValueRequest},"get")});Object.defineProperty(oe,"InlineValueRefreshRequest",{enumerable:!0,get:o(function(){return Yse.InlineValueRefreshRequest},"get")});var pH=goe();Object.defineProperty(oe,"InlayHintRequest",{enumerable:!0,get:o(function(){return pH.InlayHintRequest},"get")});Object.defineProperty(oe,"InlayHintResolveRequest",{enumerable:!0,get:o(function(){return pH.InlayHintResolveRequest},"get")});Object.defineProperty(oe,"InlayHintRefreshRequest",{enumerable:!0,get:o(function(){return pH.InlayHintRefreshRequest},"get")});var h4=voe();Object.defineProperty(oe,"DiagnosticServerCancellationData",{enumerable:!0,get:o(function(){return h4.DiagnosticServerCancellationData},"get")});Object.defineProperty(oe,"DocumentDiagnosticReportKind",{enumerable:!0,get:o(function(){return h4.DocumentDiagnosticReportKind},"get")});Object.defineProperty(oe,"DocumentDiagnosticRequest",{enumerable:!0,get:o(function(){return h4.DocumentDiagnosticRequest},"get")});Object.defineProperty(oe,"WorkspaceDiagnosticRequest",{enumerable:!0,get:o(function(){return h4.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(oe,"DiagnosticRefreshRequest",{enumerable:!0,get:o(function(){return h4.DiagnosticRefreshRequest},"get")});var xd=koe();Object.defineProperty(oe,"NotebookCellKind",{enumerable:!0,get:o(function(){return xd.NotebookCellKind},"get")});Object.defineProperty(oe,"ExecutionSummary",{enumerable:!0,get:o(function(){return xd.ExecutionSummary},"get")});Object.defineProperty(oe,"NotebookCell",{enumerable:!0,get:o(function(){return xd.NotebookCell},"get")});Object.defineProperty(oe,"NotebookDocument",{enumerable:!0,get:o(function(){return xd.NotebookDocument},"get")});Object.defineProperty(oe,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:o(function(){return xd.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(oe,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:o(function(){return xd.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(oe,"NotebookCellArrayChange",{enumerable:!0,get:o(function(){return xd.NotebookCellArrayChange},"get")});Object.defineProperty(oe,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:o(function(){return xd.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(oe,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:o(function(){return xd.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(oe,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:o(function(){return xd.DidCloseNotebookDocumentNotification},"get")});var Fke=Qoe();Object.defineProperty(oe,"InlineCompletionRequest",{enumerable:!0,get:o(function(){return Fke.InlineCompletionRequest},"get")});var aH;(function(t){function e(r){let n=r;return Ys.string(n)||Ys.string(n.language)||Ys.string(n.scheme)||Ys.string(n.pattern)}o(e,"is"),t.is=e})(aH||(oe.TextDocumentFilter=aH={}));var cH;(function(t){function e(r){let n=r;return Ys.objectLiteral(n)&&(Ys.string(n.notebookType)||Ys.string(n.scheme)||Ys.string(n.pattern))}o(e,"is"),t.is=e})(cH||(oe.NotebookDocumentFilter=cH={}));var lH;(function(t){function e(r){let n=r;return Ys.objectLiteral(n)&&(Ys.string(n.notebook)||cH.is(n.notebook))&&(n.language===void 0||Ys.string(n.language))}o(e,"is"),t.is=e})(lH||(oe.NotebookCellTextDocumentFilter=lH={}));var uH;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Ys.string(n)&&!aH.is(n)&&!lH.is(n))return!1;return!0}o(e,"is"),t.is=e})(uH||(oe.DocumentSelector=uH={}));var Foe;(function(t){t.method="client/registerCapability",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolRequestType(t.method)})(Foe||(oe.RegistrationRequest=Foe={}));var Moe;(function(t){t.method="client/unregisterCapability",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolRequestType(t.method)})(Moe||(oe.UnregistrationRequest=Moe={}));var Loe;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(Loe||(oe.ResourceOperationKind=Loe={}));var Ooe;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(Ooe||(oe.FailureHandlingKind=Ooe={}));var Uoe;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(Uoe||(oe.PositionEncodingKind=Uoe={}));var Hoe;(function(t){function e(r){let n=r;return n&&Ys.string(n.id)&&n.id.length>0}o(e,"hasId"),t.hasId=e})(Hoe||(oe.StaticRegistrationOptions=Hoe={}));var qoe;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||uH.is(n.documentSelector))}o(e,"is"),t.is=e})(qoe||(oe.TextDocumentRegistrationOptions=qoe={}));var Goe;(function(t){function e(n){let i=n;return Ys.objectLiteral(i)&&(i.workDoneProgress===void 0||Ys.boolean(i.workDoneProgress))}o(e,"is"),t.is=e;function r(n){let i=n;return i&&Ys.boolean(i.workDoneProgress)}o(r,"hasWorkDoneProgress"),t.hasWorkDoneProgress=r})(Goe||(oe.WorkDoneProgressOptions=Goe={}));var Voe;(function(t){t.method="initialize",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Voe||(oe.InitializeRequest=Voe={}));var Woe;(function(t){t.unknownProtocolVersion=1})(Woe||(oe.InitializeErrorCodes=Woe={}));var Yoe;(function(t){t.method="initialized",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(Yoe||(oe.InitializedNotification=Yoe={}));var $oe;(function(t){t.method="shutdown",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType0(t.method)})($oe||(oe.ShutdownRequest=$oe={}));var zoe;(function(t){t.method="exit",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType0(t.method)})(zoe||(oe.ExitNotification=zoe={}));var joe;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(joe||(oe.DidChangeConfigurationNotification=joe={}));var Koe;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(Koe||(oe.MessageType=Koe={}));var Joe;(function(t){t.method="window/showMessage",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolNotificationType(t.method)})(Joe||(oe.ShowMessageNotification=Joe={}));var Xoe;(function(t){t.method="window/showMessageRequest",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolRequestType(t.method)})(Xoe||(oe.ShowMessageRequest=Xoe={}));var Zoe;(function(t){t.method="window/logMessage",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolNotificationType(t.method)})(Zoe||(oe.LogMessageNotification=Zoe={}));var ese;(function(t){t.method="telemetry/event",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolNotificationType(t.method)})(ese||(oe.TelemetryEventNotification=ese={}));var tse;(function(t){t.None=0,t.Full=1,t.Incremental=2})(tse||(oe.TextDocumentSyncKind=tse={}));var rse;(function(t){t.method="textDocument/didOpen",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(rse||(oe.DidOpenTextDocumentNotification=rse={}));var nse;(function(t){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}o(e,"isIncremental"),t.isIncremental=e;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}o(r,"isFull"),t.isFull=r})(nse||(oe.TextDocumentContentChangeEvent=nse={}));var ise;(function(t){t.method="textDocument/didChange",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(ise||(oe.DidChangeTextDocumentNotification=ise={}));var ose;(function(t){t.method="textDocument/didClose",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(ose||(oe.DidCloseTextDocumentNotification=ose={}));var sse;(function(t){t.method="textDocument/didSave",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(sse||(oe.DidSaveTextDocumentNotification=sse={}));var ase;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(ase||(oe.TextDocumentSaveReason=ase={}));var cse;(function(t){t.method="textDocument/willSave",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(cse||(oe.WillSaveTextDocumentNotification=cse={}));var lse;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(lse||(oe.WillSaveTextDocumentWaitUntilRequest=lse={}));var use;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(use||(oe.DidChangeWatchedFilesNotification=use={}));var fse;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(fse||(oe.FileChangeType=fse={}));var dse;(function(t){function e(r){let n=r;return Ys.objectLiteral(n)&&(Poe.URI.is(n.baseUri)||Poe.WorkspaceFolder.is(n.baseUri))&&Ys.string(n.pattern)}o(e,"is"),t.is=e})(dse||(oe.RelativePattern=dse={}));var hse;(function(t){t.Create=1,t.Change=2,t.Delete=4})(hse||(oe.WatchKind=hse={}));var Ase;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolNotificationType(t.method)})(Ase||(oe.PublishDiagnosticsNotification=Ase={}));var pse;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(pse||(oe.CompletionTriggerKind=pse={}));var mse;(function(t){t.method="textDocument/completion",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(mse||(oe.CompletionRequest=mse={}));var gse;(function(t){t.method="completionItem/resolve",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(gse||(oe.CompletionResolveRequest=gse={}));var yse;(function(t){t.method="textDocument/hover",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(yse||(oe.HoverRequest=yse={}));var Cse;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(Cse||(oe.SignatureHelpTriggerKind=Cse={}));var Ese;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Ese||(oe.SignatureHelpRequest=Ese={}));var Ise;(function(t){t.method="textDocument/definition",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Ise||(oe.DefinitionRequest=Ise={}));var xse;(function(t){t.method="textDocument/references",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(xse||(oe.ReferencesRequest=xse={}));var bse;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(bse||(oe.DocumentHighlightRequest=bse={}));var vse;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(vse||(oe.DocumentSymbolRequest=vse={}));var Tse;(function(t){t.method="textDocument/codeAction",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Tse||(oe.CodeActionRequest=Tse={}));var _se;(function(t){t.method="codeAction/resolve",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(_se||(oe.CodeActionResolveRequest=_se={}));var Sse;(function(t){t.method="workspace/symbol",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Sse||(oe.WorkspaceSymbolRequest=Sse={}));var wse;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(wse||(oe.WorkspaceSymbolResolveRequest=wse={}));var Bse;(function(t){t.method="textDocument/codeLens",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Bse||(oe.CodeLensRequest=Bse={}));var Rse;(function(t){t.method="codeLens/resolve",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Rse||(oe.CodeLensResolveRequest=Rse={}));var kse;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolRequestType0(t.method)})(kse||(oe.CodeLensRefreshRequest=kse={}));var Dse;(function(t){t.method="textDocument/documentLink",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Dse||(oe.DocumentLinkRequest=Dse={}));var Nse;(function(t){t.method="documentLink/resolve",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Nse||(oe.DocumentLinkResolveRequest=Nse={}));var Qse;(function(t){t.method="textDocument/formatting",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Qse||(oe.DocumentFormattingRequest=Qse={}));var Pse;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Pse||(oe.DocumentRangeFormattingRequest=Pse={}));var Fse;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Fse||(oe.DocumentRangesFormattingRequest=Fse={}));var Mse;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Mse||(oe.DocumentOnTypeFormattingRequest=Mse={}));var Lse;(function(t){t.Identifier=1})(Lse||(oe.PrepareSupportDefaultBehavior=Lse={}));var Ose;(function(t){t.method="textDocument/rename",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Ose||(oe.RenameRequest=Ose={}));var Use;(function(t){t.method="textDocument/prepareRename",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Use||(oe.PrepareRenameRequest=Use={}));var Hse;(function(t){t.method="workspace/executeCommand",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Hse||(oe.ExecuteCommandRequest=Hse={}));var qse;(function(t){t.method="workspace/applyEdit",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolRequestType("workspace/applyEdit")})(qse||(oe.ApplyWorkspaceEditRequest=qse={}))});var jse=q($6=>{"use strict";u();Object.defineProperty($6,"__esModule",{value:!0});$6.createProtocolConnection=void 0;var zse=Gy();function Mke(t,e,r,n){return zse.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,zse.createMessageConnection)(t,e,r,n)}o(Mke,"createProtocolConnection");$6.createProtocolConnection=Mke});var Jse=q(J0=>{"use strict";u();var Lke=J0&&J0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),z6=J0&&J0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Lke(e,t,r)};Object.defineProperty(J0,"__esModule",{value:!0});J0.LSPErrorCodes=J0.createProtocolConnection=void 0;z6(Gy(),J0);z6(k6(),J0);z6(co(),J0);z6($se(),J0);var Oke=jse();Object.defineProperty(J0,"createProtocolConnection",{enumerable:!0,get:o(function(){return Oke.createProtocolConnection},"get")});var Kse;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(Kse||(J0.LSPErrorCodes=Kse={}))});var Ea=q(bd=>{"use strict";u();var Uke=bd&&bd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xse=bd&&bd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Uke(e,t,r)};Object.defineProperty(bd,"__esModule",{value:!0});bd.createProtocolConnection=void 0;var Hke=ZU();Xse(ZU(),bd);Xse(Jse(),bd);function qke(t,e,r,n){return(0,Hke.createMessageConnection)(t,e,r,n)}o(qke,"createProtocolConnection");bd.createProtocolConnection=qke});var Tn=q((e9,mae)=>{u();(function(t,e){typeof e9=="object"?mae.exports=e9=e():typeof define=="function"&&define.amd?define([],e):t.CryptoJS=e()})(e9,function(){var t=t||function(e,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var i=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),s=Object.create||function(){function T(){}return o(T,"F"),function(S){var k;return T.prototype=S,k=new T,T.prototype=null,k}}(),a={},c=a.lib={},l=c.Base=function(){return{extend:o(function(T){var S=s(this);return T&&S.mixIn(T),(!S.hasOwnProperty("init")||this.init===S.init)&&(S.init=function(){S.$super.init.apply(this,arguments)}),S.init.prototype=S,S.$super=this,S},"extend"),create:o(function(){var T=this.extend();return T.init.apply(T,arguments),T},"create"),init:o(function(){},"init"),mixIn:o(function(T){for(var S in T)T.hasOwnProperty(S)&&(this[S]=T[S]);T.hasOwnProperty("toString")&&(this.toString=T.toString)},"mixIn"),clone:o(function(){return this.init.prototype.extend(this)},"clone")}}(),f=c.WordArray=l.extend({init:o(function(T,S){T=this.words=T||[],S!=r?this.sigBytes=S:this.sigBytes=T.length*4},"init"),toString:o(function(T){return(T||h).stringify(this)},"toString"),concat:o(function(T){var S=this.words,k=T.words,N=this.sigBytes,P=T.sigBytes;if(this.clamp(),N%4)for(var L=0;L<P;L++){var Y=k[L>>>2]>>>24-L%4*8&255;S[N+L>>>2]|=Y<<24-(N+L)%4*8}else for(var te=0;te<P;te+=4)S[N+te>>>2]=k[te>>>2];return this.sigBytes+=P,this},"concat"),clamp:o(function(){var T=this.words,S=this.sigBytes;T[S>>>2]&=4294967295<<32-S%4*8,T.length=e.ceil(S/4)},"clamp"),clone:o(function(){var T=l.clone.call(this);return T.words=this.words.slice(0),T},"clone"),random:o(function(T){for(var S=[],k=0;k<T;k+=4)S.push(i());return new f.init(S,T)},"random")}),d=a.enc={},h=d.Hex={stringify:o(function(T){for(var S=T.words,k=T.sigBytes,N=[],P=0;P<k;P++){var L=S[P>>>2]>>>24-P%4*8&255;N.push((L>>>4).toString(16)),N.push((L&15).toString(16))}return N.join("")},"stringify"),parse:o(function(T){for(var S=T.length,k=[],N=0;N<S;N+=2)k[N>>>3]|=parseInt(T.substr(N,2),16)<<24-N%8*4;return new f.init(k,S/2)},"parse")},A=d.Latin1={stringify:o(function(T){for(var S=T.words,k=T.sigBytes,N=[],P=0;P<k;P++){var L=S[P>>>2]>>>24-P%4*8&255;N.push(String.fromCharCode(L))}return N.join("")},"stringify"),parse:o(function(T){for(var S=T.length,k=[],N=0;N<S;N++)k[N>>>2]|=(T.charCodeAt(N)&255)<<24-N%4*8;return new f.init(k,S)},"parse")},m=d.Utf8={stringify:o(function(T){try{return decodeURIComponent(escape(A.stringify(T)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:o(function(T){return A.parse(unescape(encodeURIComponent(T)))},"parse")},y=c.BufferedBlockAlgorithm=l.extend({reset:o(function(){this._data=new f.init,this._nDataBytes=0},"reset"),_append:o(function(T){typeof T=="string"&&(T=m.parse(T)),this._data.concat(T),this._nDataBytes+=T.sigBytes},"_append"),_process:o(function(T){var S,k=this._data,N=k.words,P=k.sigBytes,L=this.blockSize,Y=L*4,te=P/Y;T?te=e.ceil(te):te=e.max((te|0)-this._minBufferSize,0);var ne=te*L,pe=e.min(ne*4,P);if(ne){for(var W=0;W<ne;W+=L)this._doProcessBlock(N,W);S=N.splice(0,ne),k.sigBytes-=pe}return new f.init(S,pe)},"_process"),clone:o(function(){var T=l.clone.call(this);return T._data=this._data.clone(),T},"clone"),_minBufferSize:0}),x=c.Hasher=y.extend({cfg:l.extend(),init:o(function(T){this.cfg=this.cfg.extend(T),this.reset()},"init"),reset:o(function(){y.reset.call(this),this._doReset()},"reset"),update:o(function(T){return this._append(T),this._process(),this},"update"),finalize:o(function(T){T&&this._append(T);var S=this._doFinalize();return S},"finalize"),blockSize:512/32,_createHelper:o(function(T){return function(S,k){return new T.init(k).finalize(S)}},"_createHelper"),_createHmacHelper:o(function(T){return function(S,k){return new _.HMAC.init(T,k).finalize(S)}},"_createHmacHelper")}),_=a.algo={};return a}(Math);return t})});var g4=q((t9,gae)=>{u();(function(t,e){typeof t9=="object"?gae.exports=t9=e(Tn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(t9,function(t){return function(e){var r=t,n=r.lib,i=n.Base,s=n.WordArray,a=r.x64={},c=a.Word=i.extend({init:o(function(f,d){this.high=f,this.low=d},"init")}),l=a.WordArray=i.extend({init:o(function(f,d){f=this.words=f||[],d!=e?this.sigBytes=d:this.sigBytes=f.length*8},"init"),toX32:o(function(){for(var f=this.words,d=f.length,h=[],A=0;A<d;A++){var m=f[A];h.push(m.high),h.push(m.low)}return s.create(h,this.sigBytes)},"toX32"),clone:o(function(){for(var f=i.clone.call(this),d=f.words=this.words.slice(0),h=d.length,A=0;A<h;A++)d[A]=d[A].clone();return f},"clone")})}(),t})});var Cae=q((r9,yae)=>{u();(function(t,e){typeof r9=="object"?yae.exports=r9=e(Tn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(r9,function(t){return function(){if(typeof ArrayBuffer=="function"){var e=t,r=e.lib,n=r.WordArray,i=n.init,s=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var c=a.byteLength,l=[],f=0;f<c;f++)l[f>>>2]|=a[f]<<24-f%4*8;i.call(this,l,c)}else i.apply(this,arguments)};s.prototype=n}}(),t.lib.WordArray})});var Iae=q((n9,Eae)=>{u();(function(t,e){typeof n9=="object"?Eae.exports=n9=e(Tn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(n9,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,i=e.enc,s=i.Utf16=i.Utf16BE={stringify:o(function(c){for(var l=c.words,f=c.sigBytes,d=[],h=0;h<f;h+=2){var A=l[h>>>2]>>>16-h%4*8&65535;d.push(String.fromCharCode(A))}return d.join("")},"stringify"),parse:o(function(c){for(var l=c.length,f=[],d=0;d<l;d++)f[d>>>1]|=c.charCodeAt(d)<<16-d%2*16;return n.create(f,l*2)},"parse")};i.Utf16LE={stringify:o(function(c){for(var l=c.words,f=c.sigBytes,d=[],h=0;h<f;h+=2){var A=a(l[h>>>2]>>>16-h%4*8&65535);d.push(String.fromCharCode(A))}return d.join("")},"stringify"),parse:o(function(c){for(var l=c.length,f=[],d=0;d<l;d++)f[d>>>1]|=a(c.charCodeAt(d)<<16-d%2*16);return n.create(f,l*2)},"parse")};function a(c){return c<<8&4278255360|c>>>8&16711935}o(a,"swapEndian")}(),t.enc.Utf16})});var jm=q((i9,xae)=>{u();(function(t,e){typeof i9=="object"?xae.exports=i9=e(Tn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(i9,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,i=e.enc,s=i.Base64={stringify:o(function(c){var l=c.words,f=c.sigBytes,d=this._map;c.clamp();for(var h=[],A=0;A<f;A+=3)for(var m=l[A>>>2]>>>24-A%4*8&255,y=l[A+1>>>2]>>>24-(A+1)%4*8&255,x=l[A+2>>>2]>>>24-(A+2)%4*8&255,_=m<<16|y<<8|x,T=0;T<4&&A+T*.75<f;T++)h.push(d.charAt(_>>>6*(3-T)&63));var S=d.charAt(64);if(S)for(;h.length%4;)h.push(S);return h.join("")},"stringify"),parse:o(function(c){var l=c.length,f=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<f.length;h++)d[f.charCodeAt(h)]=h}var A=f.charAt(64);if(A){var m=c.indexOf(A);m!==-1&&(l=m)}return a(c,l,d)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,l,f){for(var d=[],h=0,A=0;A<l;A++)if(A%4){var m=f[c.charCodeAt(A-1)]<<A%4*2,y=f[c.charCodeAt(A)]>>>6-A%4*2,x=m|y;d[h>>>2]|=x<<24-h%4*8,h++}return n.create(d,h)}o(a,"parseLoop")}(),t.enc.Base64})});var vae=q((o9,bae)=>{u();(function(t,e){typeof o9=="object"?bae.exports=o9=e(Tn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(o9,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,i=e.enc,s=i.Base64url={stringify:o(function(c,l){l===void 0&&(l=!0);var f=c.words,d=c.sigBytes,h=l?this._safe_map:this._map;c.clamp();for(var A=[],m=0;m<d;m+=3)for(var y=f[m>>>2]>>>24-m%4*8&255,x=f[m+1>>>2]>>>24-(m+1)%4*8&255,_=f[m+2>>>2]>>>24-(m+2)%4*8&255,T=y<<16|x<<8|_,S=0;S<4&&m+S*.75<d;S++)A.push(h.charAt(T>>>6*(3-S)&63));var k=h.charAt(64);if(k)for(;A.length%4;)A.push(k);return A.join("")},"stringify"),parse:o(function(c,l){l===void 0&&(l=!0);var f=c.length,d=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var A=0;A<d.length;A++)h[d.charCodeAt(A)]=A}var m=d.charAt(64);if(m){var y=c.indexOf(m);y!==-1&&(f=y)}return a(c,f,h)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(c,l,f){for(var d=[],h=0,A=0;A<l;A++)if(A%4){var m=f[c.charCodeAt(A-1)]<<A%4*2,y=f[c.charCodeAt(A)]>>>6-A%4*2,x=m|y;d[h>>>2]|=x<<24-h%4*8,h++}return n.create(d,h)}o(a,"parseLoop")}(),t.enc.Base64url})});var Km=q((s9,Tae)=>{u();(function(t,e){typeof s9=="object"?Tae.exports=s9=e(Tn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(s9,function(t){return function(e){var r=t,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,c=[];(function(){for(var m=0;m<64;m++)c[m]=e.abs(e.sin(m+1))*4294967296|0})();var l=a.MD5=s.extend({_doReset:o(function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:o(function(m,y){for(var x=0;x<16;x++){var _=y+x,T=m[_];m[_]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var S=this._hash.words,k=m[y+0],N=m[y+1],P=m[y+2],L=m[y+3],Y=m[y+4],te=m[y+5],ne=m[y+6],pe=m[y+7],W=m[y+8],$=m[y+9],Ie=m[y+10],fe=m[y+11],X=m[y+12],H=m[y+13],Z=m[y+14],ee=m[y+15],ae=S[0],ie=S[1],ue=S[2],Ae=S[3];ae=f(ae,ie,ue,Ae,k,7,c[0]),Ae=f(Ae,ae,ie,ue,N,12,c[1]),ue=f(ue,Ae,ae,ie,P,17,c[2]),ie=f(ie,ue,Ae,ae,L,22,c[3]),ae=f(ae,ie,ue,Ae,Y,7,c[4]),Ae=f(Ae,ae,ie,ue,te,12,c[5]),ue=f(ue,Ae,ae,ie,ne,17,c[6]),ie=f(ie,ue,Ae,ae,pe,22,c[7]),ae=f(ae,ie,ue,Ae,W,7,c[8]),Ae=f(Ae,ae,ie,ue,$,12,c[9]),ue=f(ue,Ae,ae,ie,Ie,17,c[10]),ie=f(ie,ue,Ae,ae,fe,22,c[11]),ae=f(ae,ie,ue,Ae,X,7,c[12]),Ae=f(Ae,ae,ie,ue,H,12,c[13]),ue=f(ue,Ae,ae,ie,Z,17,c[14]),ie=f(ie,ue,Ae,ae,ee,22,c[15]),ae=d(ae,ie,ue,Ae,N,5,c[16]),Ae=d(Ae,ae,ie,ue,ne,9,c[17]),ue=d(ue,Ae,ae,ie,fe,14,c[18]),ie=d(ie,ue,Ae,ae,k,20,c[19]),ae=d(ae,ie,ue,Ae,te,5,c[20]),Ae=d(Ae,ae,ie,ue,Ie,9,c[21]),ue=d(ue,Ae,ae,ie,ee,14,c[22]),ie=d(ie,ue,Ae,ae,Y,20,c[23]),ae=d(ae,ie,ue,Ae,$,5,c[24]),Ae=d(Ae,ae,ie,ue,Z,9,c[25]),ue=d(ue,Ae,ae,ie,L,14,c[26]),ie=d(ie,ue,Ae,ae,W,20,c[27]),ae=d(ae,ie,ue,Ae,H,5,c[28]),Ae=d(Ae,ae,ie,ue,P,9,c[29]),ue=d(ue,Ae,ae,ie,pe,14,c[30]),ie=d(ie,ue,Ae,ae,X,20,c[31]),ae=h(ae,ie,ue,Ae,te,4,c[32]),Ae=h(Ae,ae,ie,ue,W,11,c[33]),ue=h(ue,Ae,ae,ie,fe,16,c[34]),ie=h(ie,ue,Ae,ae,Z,23,c[35]),ae=h(ae,ie,ue,Ae,N,4,c[36]),Ae=h(Ae,ae,ie,ue,Y,11,c[37]),ue=h(ue,Ae,ae,ie,pe,16,c[38]),ie=h(ie,ue,Ae,ae,Ie,23,c[39]),ae=h(ae,ie,ue,Ae,H,4,c[40]),Ae=h(Ae,ae,ie,ue,k,11,c[41]),ue=h(ue,Ae,ae,ie,L,16,c[42]),ie=h(ie,ue,Ae,ae,ne,23,c[43]),ae=h(ae,ie,ue,Ae,$,4,c[44]),Ae=h(Ae,ae,ie,ue,X,11,c[45]),ue=h(ue,Ae,ae,ie,ee,16,c[46]),ie=h(ie,ue,Ae,ae,P,23,c[47]),ae=A(ae,ie,ue,Ae,k,6,c[48]),Ae=A(Ae,ae,ie,ue,pe,10,c[49]),ue=A(ue,Ae,ae,ie,Z,15,c[50]),ie=A(ie,ue,Ae,ae,te,21,c[51]),ae=A(ae,ie,ue,Ae,X,6,c[52]),Ae=A(Ae,ae,ie,ue,L,10,c[53]),ue=A(ue,Ae,ae,ie,Ie,15,c[54]),ie=A(ie,ue,Ae,ae,N,21,c[55]),ae=A(ae,ie,ue,Ae,W,6,c[56]),Ae=A(Ae,ae,ie,ue,ee,10,c[57]),ue=A(ue,Ae,ae,ie,ne,15,c[58]),ie=A(ie,ue,Ae,ae,H,21,c[59]),ae=A(ae,ie,ue,Ae,Y,6,c[60]),Ae=A(Ae,ae,ie,ue,fe,10,c[61]),ue=A(ue,Ae,ae,ie,P,15,c[62]),ie=A(ie,ue,Ae,ae,$,21,c[63]),S[0]=S[0]+ae|0,S[1]=S[1]+ie|0,S[2]=S[2]+ue|0,S[3]=S[3]+Ae|0},"_doProcessBlock"),_doFinalize:o(function(){var m=this._data,y=m.words,x=this._nDataBytes*8,_=m.sigBytes*8;y[_>>>5]|=128<<24-_%32;var T=e.floor(x/4294967296),S=x;y[(_+64>>>9<<4)+15]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,y[(_+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,m.sigBytes=(y.length+1)*4,this._process();for(var k=this._hash,N=k.words,P=0;P<4;P++){var L=N[P];N[P]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return k},"_doFinalize"),clone:o(function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m},"clone")});function f(m,y,x,_,T,S,k){var N=m+(y&x|~y&_)+T+k;return(N<<S|N>>>32-S)+y}o(f,"FF");function d(m,y,x,_,T,S,k){var N=m+(y&_|x&~_)+T+k;return(N<<S|N>>>32-S)+y}o(d,"GG");function h(m,y,x,_,T,S,k){var N=m+(y^x^_)+T+k;return(N<<S|N>>>32-S)+y}o(h,"HH");function A(m,y,x,_,T,S,k){var N=m+(x^(y|~_))+T+k;return(N<<S|N>>>32-S)+y}o(A,"II"),r.MD5=s._createHelper(l),r.HmacMD5=s._createHmacHelper(l)}(Math),t.MD5})});var IH=q((a9,_ae)=>{u();(function(t,e){typeof a9=="object"?_ae.exports=a9=e(Tn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(a9,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,i=r.Hasher,s=e.algo,a=[],c=s.SHA1=i.extend({_doReset:o(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(l,f){for(var d=this._hash.words,h=d[0],A=d[1],m=d[2],y=d[3],x=d[4],_=0;_<80;_++){if(_<16)a[_]=l[f+_]|0;else{var T=a[_-3]^a[_-8]^a[_-14]^a[_-16];a[_]=T<<1|T>>>31}var S=(h<<5|h>>>27)+x+a[_];_<20?S+=(A&m|~A&y)+1518500249:_<40?S+=(A^m^y)+1859775393:_<60?S+=(A&m|A&y|m&y)-1894007588:S+=(A^m^y)-899497514,x=y,y=m,m=A<<30|A>>>2,A=h,h=S}d[0]=d[0]+h|0,d[1]=d[1]+A|0,d[2]=d[2]+m|0,d[3]=d[3]+y|0,d[4]=d[4]+x|0},"_doProcessBlock"),_doFinalize:o(function(){var l=this._data,f=l.words,d=this._nDataBytes*8,h=l.sigBytes*8;return f[h>>>5]|=128<<24-h%32,f[(h+64>>>9<<4)+14]=Math.floor(d/4294967296),f[(h+64>>>9<<4)+15]=d,l.sigBytes=f.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var l=i.clone.call(this);return l._hash=this._hash.clone(),l},"clone")});e.SHA1=i._createHelper(c),e.HmacSHA1=i._createHmacHelper(c)}(),t.SHA1})});var l9=q((c9,Sae)=>{u();(function(t,e){typeof c9=="object"?Sae.exports=c9=e(Tn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(c9,function(t){return function(e){var r=t,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,c=[],l=[];(function(){function h(x){for(var _=e.sqrt(x),T=2;T<=_;T++)if(!(x%T))return!1;return!0}o(h,"isPrime");function A(x){return(x-(x|0))*4294967296|0}o(A,"getFractionalBits");for(var m=2,y=0;y<64;)h(m)&&(y<8&&(c[y]=A(e.pow(m,1/2))),l[y]=A(e.pow(m,1/3)),y++),m++})();var f=[],d=a.SHA256=s.extend({_doReset:o(function(){this._hash=new i.init(c.slice(0))},"_doReset"),_doProcessBlock:o(function(h,A){for(var m=this._hash.words,y=m[0],x=m[1],_=m[2],T=m[3],S=m[4],k=m[5],N=m[6],P=m[7],L=0;L<64;L++){if(L<16)f[L]=h[A+L]|0;else{var Y=f[L-15],te=(Y<<25|Y>>>7)^(Y<<14|Y>>>18)^Y>>>3,ne=f[L-2],pe=(ne<<15|ne>>>17)^(ne<<13|ne>>>19)^ne>>>10;f[L]=te+f[L-7]+pe+f[L-16]}var W=S&k^~S&N,$=y&x^y&_^x&_,Ie=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),fe=(S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25),X=P+fe+W+l[L]+f[L],H=Ie+$;P=N,N=k,k=S,S=T+X|0,T=_,_=x,x=y,y=X+H|0}m[0]=m[0]+y|0,m[1]=m[1]+x|0,m[2]=m[2]+_|0,m[3]=m[3]+T|0,m[4]=m[4]+S|0,m[5]=m[5]+k|0,m[6]=m[6]+N|0,m[7]=m[7]+P|0},"_doProcessBlock"),_doFinalize:o(function(){var h=this._data,A=h.words,m=this._nDataBytes*8,y=h.sigBytes*8;return A[y>>>5]|=128<<24-y%32,A[(y+64>>>9<<4)+14]=e.floor(m/4294967296),A[(y+64>>>9<<4)+15]=m,h.sigBytes=A.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var h=s.clone.call(this);return h._hash=this._hash.clone(),h},"clone")});r.SHA256=s._createHelper(d),r.HmacSHA256=s._createHmacHelper(d)}(Math),t.SHA256})});var Bae=q((u9,wae)=>{u();(function(t,e,r){typeof u9=="object"?wae.exports=u9=e(Tn(),l9()):typeof define=="function"&&define.amd?define(["./core","./sha256"],e):e(t.CryptoJS)})(u9,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,i=e.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:o(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:o(function(){var c=s._doFinalize.call(this);return c.sigBytes-=4,c},"_doFinalize")});e.SHA224=s._createHelper(a),e.HmacSHA224=s._createHmacHelper(a)}(),t.SHA224})});var xH=q((f9,Rae)=>{u();(function(t,e,r){typeof f9=="object"?Rae.exports=f9=e(Tn(),g4()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(f9,function(t){return function(){var e=t,r=e.lib,n=r.Hasher,i=e.x64,s=i.Word,a=i.WordArray,c=e.algo;function l(){return s.create.apply(s,arguments)}o(l,"X64Word_create");var f=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],d=[];(function(){for(var A=0;A<80;A++)d[A]=l()})();var h=c.SHA512=n.extend({_doReset:o(function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:o(function(A,m){for(var y=this._hash.words,x=y[0],_=y[1],T=y[2],S=y[3],k=y[4],N=y[5],P=y[6],L=y[7],Y=x.high,te=x.low,ne=_.high,pe=_.low,W=T.high,$=T.low,Ie=S.high,fe=S.low,X=k.high,H=k.low,Z=N.high,ee=N.low,ae=P.high,ie=P.low,ue=L.high,Ae=L.low,Ke=Y,tt=te,ct=ne,Ct=pe,Gt=W,Ur=$,kn=Ie,br=fe,se=X,Je=H,me=Z,ut=ee,ot=ae,We=ie,Mr=ue,In=Ae,Hr=0;Hr<80;Hr++){var Kt,mi,Yo=d[Hr];if(Hr<16)mi=Yo.high=A[m+Hr*2]|0,Kt=Yo.low=A[m+Hr*2+1]|0;else{var Mn=d[Hr-15],$o=Mn.high,Jt=Mn.low,po=($o>>>1|Jt<<31)^($o>>>8|Jt<<24)^$o>>>7,ko=(Jt>>>1|$o<<31)^(Jt>>>8|$o<<24)^(Jt>>>7|$o<<25),ua=d[Hr-2],le=ua.high,Ge=ua.low,dt=(le>>>19|Ge<<13)^(le<<3|Ge>>>29)^le>>>6,xt=(Ge>>>19|le<<13)^(Ge<<3|le>>>29)^(Ge>>>6|le<<26),Yr=d[Hr-7],vr=Yr.high,jn=Yr.low,ii=d[Hr-16],Lr=ii.high,zr=ii.low;Kt=ko+jn,mi=po+vr+(Kt>>>0<ko>>>0?1:0),Kt=Kt+xt,mi=mi+dt+(Kt>>>0<xt>>>0?1:0),Kt=Kt+zr,mi=mi+Lr+(Kt>>>0<zr>>>0?1:0),Yo.high=mi,Yo.low=Kt}var qr=se&me^~se&ot,fi=Je&ut^~Je&We,qi=Ke&ct^Ke&Gt^ct&Gt,Do=tt&Ct^tt&Ur^Ct&Ur,vc=(Ke>>>28|tt<<4)^(Ke<<30|tt>>>2)^(Ke<<25|tt>>>7),Mf=(tt>>>28|Ke<<4)^(tt<<30|Ke>>>2)^(tt<<25|Ke>>>7),D0=(se>>>14|Je<<18)^(se>>>18|Je<<14)^(se<<23|Je>>>9),Iu=(Je>>>14|se<<18)^(Je>>>18|se<<14)^(Je<<23|se>>>9),as=f[Hr],xu=as.high,Te=as.low,M=In+Iu,ce=Mr+D0+(M>>>0<In>>>0?1:0),M=M+fi,ce=ce+qr+(M>>>0<fi>>>0?1:0),M=M+Te,ce=ce+xu+(M>>>0<Te>>>0?1:0),M=M+Kt,ce=ce+mi+(M>>>0<Kt>>>0?1:0),ye=Mf+Do,K=vc+qi+(ye>>>0<Mf>>>0?1:0);Mr=ot,In=We,ot=me,We=ut,me=se,ut=Je,Je=br+M|0,se=kn+ce+(Je>>>0<br>>>0?1:0)|0,kn=Gt,br=Ur,Gt=ct,Ur=Ct,ct=Ke,Ct=tt,tt=M+ye|0,Ke=ce+K+(tt>>>0<M>>>0?1:0)|0}te=x.low=te+tt,x.high=Y+Ke+(te>>>0<tt>>>0?1:0),pe=_.low=pe+Ct,_.high=ne+ct+(pe>>>0<Ct>>>0?1:0),$=T.low=$+Ur,T.high=W+Gt+($>>>0<Ur>>>0?1:0),fe=S.low=fe+br,S.high=Ie+kn+(fe>>>0<br>>>0?1:0),H=k.low=H+Je,k.high=X+se+(H>>>0<Je>>>0?1:0),ee=N.low=ee+ut,N.high=Z+me+(ee>>>0<ut>>>0?1:0),ie=P.low=ie+We,P.high=ae+ot+(ie>>>0<We>>>0?1:0),Ae=L.low=Ae+In,L.high=ue+Mr+(Ae>>>0<In>>>0?1:0)},"_doProcessBlock"),_doFinalize:o(function(){var A=this._data,m=A.words,y=this._nDataBytes*8,x=A.sigBytes*8;m[x>>>5]|=128<<24-x%32,m[(x+128>>>10<<5)+30]=Math.floor(y/4294967296),m[(x+128>>>10<<5)+31]=y,A.sigBytes=m.length*4,this._process();var _=this._hash.toX32();return _},"_doFinalize"),clone:o(function(){var A=n.clone.call(this);return A._hash=this._hash.clone(),A},"clone"),blockSize:1024/32});e.SHA512=n._createHelper(h),e.HmacSHA512=n._createHmacHelper(h)}(),t.SHA512})});var Dae=q((d9,kae)=>{u();(function(t,e,r){typeof d9=="object"?kae.exports=d9=e(Tn(),g4(),xH()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],e):e(t.CryptoJS)})(d9,function(t){return function(){var e=t,r=e.x64,n=r.Word,i=r.WordArray,s=e.algo,a=s.SHA512,c=s.SHA384=a.extend({_doReset:o(function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:o(function(){var l=a._doFinalize.call(this);return l.sigBytes-=16,l},"_doFinalize")});e.SHA384=a._createHelper(c),e.HmacSHA384=a._createHmacHelper(c)}(),t.SHA384})});var Qae=q((h9,Nae)=>{u();(function(t,e,r){typeof h9=="object"?Nae.exports=h9=e(Tn(),g4()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(h9,function(t){return function(e){var r=t,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.x64,c=a.Word,l=r.algo,f=[],d=[],h=[];(function(){for(var y=1,x=0,_=0;_<24;_++){f[y+5*x]=(_+1)*(_+2)/2%64;var T=x%5,S=(2*y+3*x)%5;y=T,x=S}for(var y=0;y<5;y++)for(var x=0;x<5;x++)d[y+5*x]=x+(2*y+3*x)%5*5;for(var k=1,N=0;N<24;N++){for(var P=0,L=0,Y=0;Y<7;Y++){if(k&1){var te=(1<<Y)-1;te<32?L^=1<<te:P^=1<<te-32}k&128?k=k<<1^113:k<<=1}h[N]=c.create(P,L)}})();var A=[];(function(){for(var y=0;y<25;y++)A[y]=c.create()})();var m=l.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:o(function(){for(var y=this._state=[],x=0;x<25;x++)y[x]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:o(function(y,x){for(var _=this._state,T=this.blockSize/2,S=0;S<T;S++){var k=y[x+2*S],N=y[x+2*S+1];k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360;var P=_[S];P.high^=N,P.low^=k}for(var L=0;L<24;L++){for(var Y=0;Y<5;Y++){for(var te=0,ne=0,pe=0;pe<5;pe++){var P=_[Y+5*pe];te^=P.high,ne^=P.low}var W=A[Y];W.high=te,W.low=ne}for(var Y=0;Y<5;Y++)for(var $=A[(Y+4)%5],Ie=A[(Y+1)%5],fe=Ie.high,X=Ie.low,te=$.high^(fe<<1|X>>>31),ne=$.low^(X<<1|fe>>>31),pe=0;pe<5;pe++){var P=_[Y+5*pe];P.high^=te,P.low^=ne}for(var H=1;H<25;H++){var te,ne,P=_[H],Z=P.high,ee=P.low,ae=f[H];ae<32?(te=Z<<ae|ee>>>32-ae,ne=ee<<ae|Z>>>32-ae):(te=ee<<ae-32|Z>>>64-ae,ne=Z<<ae-32|ee>>>64-ae);var ie=A[d[H]];ie.high=te,ie.low=ne}var ue=A[0],Ae=_[0];ue.high=Ae.high,ue.low=Ae.low;for(var Y=0;Y<5;Y++)for(var pe=0;pe<5;pe++){var H=Y+5*pe,P=_[H],Ke=A[H],tt=A[(Y+1)%5+5*pe],ct=A[(Y+2)%5+5*pe];P.high=Ke.high^~tt.high&ct.high,P.low=Ke.low^~tt.low&ct.low}var P=_[0],Ct=h[L];P.high^=Ct.high,P.low^=Ct.low}},"_doProcessBlock"),_doFinalize:o(function(){var y=this._data,x=y.words,_=this._nDataBytes*8,T=y.sigBytes*8,S=this.blockSize*32;x[T>>>5]|=1<<24-T%32,x[(e.ceil((T+1)/S)*S>>>5)-1]|=128,y.sigBytes=x.length*4,this._process();for(var k=this._state,N=this.cfg.outputLength/8,P=N/8,L=[],Y=0;Y<P;Y++){var te=k[Y],ne=te.high,pe=te.low;ne=(ne<<8|ne>>>24)&16711935|(ne<<24|ne>>>8)&4278255360,pe=(pe<<8|pe>>>24)&16711935|(pe<<24|pe>>>8)&4278255360,L.push(pe),L.push(ne)}return new i.init(L,N)},"_doFinalize"),clone:o(function(){for(var y=s.clone.call(this),x=y._state=this._state.slice(0),_=0;_<25;_++)x[_]=x[_].clone();return y},"clone")});r.SHA3=s._createHelper(m),r.HmacSHA3=s._createHmacHelper(m)}(Math),t.SHA3})});var Fae=q((A9,Pae)=>{u();(function(t,e){typeof A9=="object"?Pae.exports=A9=e(Tn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(A9,function(t){return function(e){var r=t,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,c=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=i.create([0,1518500249,1859775393,2400959708,2840853838]),A=i.create([1352829926,1548603684,1836072691,2053994217,0]),m=a.RIPEMD160=s.extend({_doReset:o(function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(N,P){for(var L=0;L<16;L++){var Y=P+L,te=N[Y];N[Y]=(te<<8|te>>>24)&16711935|(te<<24|te>>>8)&4278255360}var ne=this._hash.words,pe=h.words,W=A.words,$=c.words,Ie=l.words,fe=f.words,X=d.words,H,Z,ee,ae,ie,ue,Ae,Ke,tt,ct;ue=H=ne[0],Ae=Z=ne[1],Ke=ee=ne[2],tt=ae=ne[3],ct=ie=ne[4];for(var Ct,L=0;L<80;L+=1)Ct=H+N[P+$[L]]|0,L<16?Ct+=y(Z,ee,ae)+pe[0]:L<32?Ct+=x(Z,ee,ae)+pe[1]:L<48?Ct+=_(Z,ee,ae)+pe[2]:L<64?Ct+=T(Z,ee,ae)+pe[3]:Ct+=S(Z,ee,ae)+pe[4],Ct=Ct|0,Ct=k(Ct,fe[L]),Ct=Ct+ie|0,H=ie,ie=ae,ae=k(ee,10),ee=Z,Z=Ct,Ct=ue+N[P+Ie[L]]|0,L<16?Ct+=S(Ae,Ke,tt)+W[0]:L<32?Ct+=T(Ae,Ke,tt)+W[1]:L<48?Ct+=_(Ae,Ke,tt)+W[2]:L<64?Ct+=x(Ae,Ke,tt)+W[3]:Ct+=y(Ae,Ke,tt)+W[4],Ct=Ct|0,Ct=k(Ct,X[L]),Ct=Ct+ct|0,ue=ct,ct=tt,tt=k(Ke,10),Ke=Ae,Ae=Ct;Ct=ne[1]+ee+tt|0,ne[1]=ne[2]+ae+ct|0,ne[2]=ne[3]+ie+ue|0,ne[3]=ne[4]+H+Ae|0,ne[4]=ne[0]+Z+Ke|0,ne[0]=Ct},"_doProcessBlock"),_doFinalize:o(function(){var N=this._data,P=N.words,L=this._nDataBytes*8,Y=N.sigBytes*8;P[Y>>>5]|=128<<24-Y%32,P[(Y+64>>>9<<4)+14]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,N.sigBytes=(P.length+1)*4,this._process();for(var te=this._hash,ne=te.words,pe=0;pe<5;pe++){var W=ne[pe];ne[pe]=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360}return te},"_doFinalize"),clone:o(function(){var N=s.clone.call(this);return N._hash=this._hash.clone(),N},"clone")});function y(N,P,L){return N^P^L}o(y,"f1");function x(N,P,L){return N&P|~N&L}o(x,"f2");function _(N,P,L){return(N|~P)^L}o(_,"f3");function T(N,P,L){return N&L|P&~L}o(T,"f4");function S(N,P,L){return N^(P|~L)}o(S,"f5");function k(N,P){return N<<P|N>>>32-P}o(k,"rotl"),r.RIPEMD160=s._createHelper(m),r.HmacRIPEMD160=s._createHmacHelper(m)}(Math),t.RIPEMD160})});var m9=q((p9,Mae)=>{u();(function(t,e){typeof p9=="object"?Mae.exports=p9=e(Tn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(p9,function(t){(function(){var e=t,r=e.lib,n=r.Base,i=e.enc,s=i.Utf8,a=e.algo,c=a.HMAC=n.extend({init:o(function(l,f){l=this._hasher=new l.init,typeof f=="string"&&(f=s.parse(f));var d=l.blockSize,h=d*4;f.sigBytes>h&&(f=l.finalize(f)),f.clamp();for(var A=this._oKey=f.clone(),m=this._iKey=f.clone(),y=A.words,x=m.words,_=0;_<d;_++)y[_]^=1549556828,x[_]^=909522486;A.sigBytes=m.sigBytes=h,this.reset()},"init"),reset:o(function(){var l=this._hasher;l.reset(),l.update(this._iKey)},"reset"),update:o(function(l){return this._hasher.update(l),this},"update"),finalize:o(function(l){var f=this._hasher,d=f.finalize(l);f.reset();var h=f.finalize(this._oKey.clone().concat(d));return h},"finalize")})})()})});var Oae=q((g9,Lae)=>{u();(function(t,e,r){typeof g9=="object"?Lae.exports=g9=e(Tn(),l9(),m9()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],e):e(t.CryptoJS)})(g9,function(t){return function(){var e=t,r=e.lib,n=r.Base,i=r.WordArray,s=e.algo,a=s.SHA256,c=s.HMAC,l=s.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:o(function(f){this.cfg=this.cfg.extend(f)},"init"),compute:o(function(f,d){for(var h=this.cfg,A=c.create(h.hasher,f),m=i.create(),y=i.create([1]),x=m.words,_=y.words,T=h.keySize,S=h.iterations;x.length<T;){var k=A.update(d).finalize(y);A.reset();for(var N=k.words,P=N.length,L=k,Y=1;Y<S;Y++){L=A.finalize(L),A.reset();for(var te=L.words,ne=0;ne<P;ne++)N[ne]^=te[ne]}m.concat(k),_[0]++}return m.sigBytes=T*4,m},"compute")});e.PBKDF2=function(f,d,h){return l.create(h).compute(f,d)}}(),t.PBKDF2})});var lA=q((y9,Uae)=>{u();(function(t,e,r){typeof y9=="object"?Uae.exports=y9=e(Tn(),IH(),m9()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],e):e(t.CryptoJS)})(y9,function(t){return function(){var e=t,r=e.lib,n=r.Base,i=r.WordArray,s=e.algo,a=s.MD5,c=s.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:o(function(l){this.cfg=this.cfg.extend(l)},"init"),compute:o(function(l,f){for(var d,h=this.cfg,A=h.hasher.create(),m=i.create(),y=m.words,x=h.keySize,_=h.iterations;y.length<x;){d&&A.update(d),d=A.update(l).finalize(f),A.reset();for(var T=1;T<_;T++)d=A.finalize(d),A.reset();m.concat(d)}return m.sigBytes=x*4,m},"compute")});e.EvpKDF=function(l,f,d){return c.create(d).compute(l,f)}}(),t.EvpKDF})});var Rs=q((C9,Hae)=>{u();(function(t,e,r){typeof C9=="object"?Hae.exports=C9=e(Tn(),lA()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],e):e(t.CryptoJS)})(C9,function(t){t.lib.Cipher||function(e){var r=t,n=r.lib,i=n.Base,s=n.WordArray,a=n.BufferedBlockAlgorithm,c=r.enc,l=c.Utf8,f=c.Base64,d=r.algo,h=d.EvpKDF,A=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:o(function(W,$){return this.create(this._ENC_XFORM_MODE,W,$)},"createEncryptor"),createDecryptor:o(function(W,$){return this.create(this._DEC_XFORM_MODE,W,$)},"createDecryptor"),init:o(function(W,$,Ie){this.cfg=this.cfg.extend(Ie),this._xformMode=W,this._key=$,this.reset()},"init"),reset:o(function(){a.reset.call(this),this._doReset()},"reset"),process:o(function(W){return this._append(W),this._process()},"process"),finalize:o(function(W){W&&this._append(W);var $=this._doFinalize();return $},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function W($){return typeof $=="string"?pe:Y}return o(W,"selectCipherStrategy"),function($){return{encrypt:o(function(Ie,fe,X){return W(fe).encrypt($,Ie,fe,X)},"encrypt"),decrypt:o(function(Ie,fe,X){return W(fe).decrypt($,Ie,fe,X)},"decrypt")}}}()}),m=n.StreamCipher=A.extend({_doFinalize:o(function(){var W=this._process(!0);return W},"_doFinalize"),blockSize:1}),y=r.mode={},x=n.BlockCipherMode=i.extend({createEncryptor:o(function(W,$){return this.Encryptor.create(W,$)},"createEncryptor"),createDecryptor:o(function(W,$){return this.Decryptor.create(W,$)},"createDecryptor"),init:o(function(W,$){this._cipher=W,this._iv=$},"init")}),_=y.CBC=function(){var W=x.extend();W.Encryptor=W.extend({processBlock:o(function(Ie,fe){var X=this._cipher,H=X.blockSize;$.call(this,Ie,fe,H),X.encryptBlock(Ie,fe),this._prevBlock=Ie.slice(fe,fe+H)},"processBlock")}),W.Decryptor=W.extend({processBlock:o(function(Ie,fe){var X=this._cipher,H=X.blockSize,Z=Ie.slice(fe,fe+H);X.decryptBlock(Ie,fe),$.call(this,Ie,fe,H),this._prevBlock=Z},"processBlock")});function $(Ie,fe,X){var H,Z=this._iv;Z?(H=Z,this._iv=e):H=this._prevBlock;for(var ee=0;ee<X;ee++)Ie[fe+ee]^=H[ee]}return o($,"xorBlock"),W}(),T=r.pad={},S=T.Pkcs7={pad:o(function(W,$){for(var Ie=$*4,fe=Ie-W.sigBytes%Ie,X=fe<<24|fe<<16|fe<<8|fe,H=[],Z=0;Z<fe;Z+=4)H.push(X);var ee=s.create(H,fe);W.concat(ee)},"pad"),unpad:o(function(W){var $=W.words[W.sigBytes-1>>>2]&255;W.sigBytes-=$},"unpad")},k=n.BlockCipher=A.extend({cfg:A.cfg.extend({mode:_,padding:S}),reset:o(function(){var W;A.reset.call(this);var $=this.cfg,Ie=$.iv,fe=$.mode;this._xformMode==this._ENC_XFORM_MODE?W=fe.createEncryptor:(W=fe.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==W?this._mode.init(this,Ie&&Ie.words):(this._mode=W.call(fe,this,Ie&&Ie.words),this._mode.__creator=W)},"reset"),_doProcessBlock:o(function(W,$){this._mode.processBlock(W,$)},"_doProcessBlock"),_doFinalize:o(function(){var W,$=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?($.pad(this._data,this.blockSize),W=this._process(!0)):(W=this._process(!0),$.unpad(W)),W},"_doFinalize"),blockSize:128/32}),N=n.CipherParams=i.extend({init:o(function(W){this.mixIn(W)},"init"),toString:o(function(W){return(W||this.formatter).stringify(this)},"toString")}),P=r.format={},L=P.OpenSSL={stringify:o(function(W){var $,Ie=W.ciphertext,fe=W.salt;return fe?$=s.create([1398893684,1701076831]).concat(fe).concat(Ie):$=Ie,$.toString(f)},"stringify"),parse:o(function(W){var $,Ie=f.parse(W),fe=Ie.words;return fe[0]==1398893684&&fe[1]==1701076831&&($=s.create(fe.slice(2,4)),fe.splice(0,4),Ie.sigBytes-=16),N.create({ciphertext:Ie,salt:$})},"parse")},Y=n.SerializableCipher=i.extend({cfg:i.extend({format:L}),encrypt:o(function(W,$,Ie,fe){fe=this.cfg.extend(fe);var X=W.createEncryptor(Ie,fe),H=X.finalize($),Z=X.cfg;return N.create({ciphertext:H,key:Ie,iv:Z.iv,algorithm:W,mode:Z.mode,padding:Z.padding,blockSize:W.blockSize,formatter:fe.format})},"encrypt"),decrypt:o(function(W,$,Ie,fe){fe=this.cfg.extend(fe),$=this._parse($,fe.format);var X=W.createDecryptor(Ie,fe).finalize($.ciphertext);return X},"decrypt"),_parse:o(function(W,$){return typeof W=="string"?$.parse(W,this):W},"_parse")}),te=r.kdf={},ne=te.OpenSSL={execute:o(function(W,$,Ie,fe,X){if(fe||(fe=s.random(64/8)),X)var H=h.create({keySize:$+Ie,hasher:X}).compute(W,fe);else var H=h.create({keySize:$+Ie}).compute(W,fe);var Z=s.create(H.words.slice($),Ie*4);return H.sigBytes=$*4,N.create({key:H,iv:Z,salt:fe})},"execute")},pe=n.PasswordBasedCipher=Y.extend({cfg:Y.cfg.extend({kdf:ne}),encrypt:o(function(W,$,Ie,fe){fe=this.cfg.extend(fe);var X=fe.kdf.execute(Ie,W.keySize,W.ivSize,fe.salt,fe.hasher);fe.iv=X.iv;var H=Y.encrypt.call(this,W,$,X.key,fe);return H.mixIn(X),H},"encrypt"),decrypt:o(function(W,$,Ie,fe){fe=this.cfg.extend(fe),$=this._parse($,fe.format);var X=fe.kdf.execute(Ie,W.keySize,W.ivSize,$.salt,fe.hasher);fe.iv=X.iv;var H=Y.decrypt.call(this,W,$,X.key,fe);return H},"decrypt")})}()})});var Gae=q((E9,qae)=>{u();(function(t,e,r){typeof E9=="object"?qae.exports=E9=e(Tn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(E9,function(t){return t.mode.CFB=function(){var e=t.lib.BlockCipherMode.extend();e.Encryptor=e.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize;r.call(this,n,i,a,s),this._prevBlock=n.slice(i,i+a)},"processBlock")}),e.Decryptor=e.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,c=n.slice(i,i+a);r.call(this,n,i,a,s),this._prevBlock=c},"processBlock")});function r(n,i,s,a){var c,l=this._iv;l?(c=l.slice(0),this._iv=void 0):c=this._prevBlock,a.encryptBlock(c,0);for(var f=0;f<s;f++)n[i+f]^=c[f]}return o(r,"generateKeystreamAndEncrypt"),e}(),t.mode.CFB})});var Wae=q((I9,Vae)=>{u();(function(t,e,r){typeof I9=="object"?Vae.exports=I9=e(Tn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(I9,function(t){return t.mode.CTR=function(){var e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,c=this._iv,l=this._counter;c&&(l=this._counter=c.slice(0),this._iv=void 0);var f=l.slice(0);s.encryptBlock(f,0),l[a-1]=l[a-1]+1|0;for(var d=0;d<a;d++)n[i+d]^=f[d]},"processBlock")});return e.Decryptor=r,e}(),t.mode.CTR})});var $ae=q((x9,Yae)=>{u();(function(t,e,r){typeof x9=="object"?Yae.exports=x9=e(Tn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(x9,function(t){return t.mode.CTRGladman=function(){var e=t.lib.BlockCipherMode.extend();function r(s){if((s>>24&255)===255){var a=s>>16&255,c=s>>8&255,l=s&255;a===255?(a=0,c===255?(c=0,l===255?l=0:++l):++c):++a,s=0,s+=a<<16,s+=c<<8,s+=l}else s+=1<<24;return s}o(r,"incWord");function n(s){return(s[0]=r(s[0]))===0&&(s[1]=r(s[1])),s}o(n,"incCounter");var i=e.Encryptor=e.extend({processBlock:o(function(s,a){var c=this._cipher,l=c.blockSize,f=this._iv,d=this._counter;f&&(d=this._counter=f.slice(0),this._iv=void 0),n(d);var h=d.slice(0);c.encryptBlock(h,0);for(var A=0;A<l;A++)s[a+A]^=h[A]},"processBlock")});return e.Decryptor=i,e}(),t.mode.CTRGladman})});var jae=q((b9,zae)=>{u();(function(t,e,r){typeof b9=="object"?zae.exports=b9=e(Tn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(b9,function(t){return t.mode.OFB=function(){var e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,c=this._iv,l=this._keystream;c&&(l=this._keystream=c.slice(0),this._iv=void 0),s.encryptBlock(l,0);for(var f=0;f<a;f++)n[i+f]^=l[f]},"processBlock")});return e.Decryptor=r,e}(),t.mode.OFB})});var Jae=q((v9,Kae)=>{u();(function(t,e,r){typeof v9=="object"?Kae.exports=v9=e(Tn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(v9,function(t){return t.mode.ECB=function(){var e=t.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:o(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),e.Decryptor=e.extend({processBlock:o(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),e}(),t.mode.ECB})});var Zae=q((T9,Xae)=>{u();(function(t,e,r){typeof T9=="object"?Xae.exports=T9=e(Tn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(T9,function(t){return t.pad.AnsiX923={pad:o(function(e,r){var n=e.sigBytes,i=r*4,s=i-n%i,a=n+s-1;e.clamp(),e.words[a>>>2]|=s<<24-a%4*8,e.sigBytes+=s},"pad"),unpad:o(function(e){var r=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=r},"unpad")},t.pad.Ansix923})});var t0e=q((_9,e0e)=>{u();(function(t,e,r){typeof _9=="object"?e0e.exports=_9=e(Tn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(_9,function(t){return t.pad.Iso10126={pad:o(function(e,r){var n=r*4,i=n-e.sigBytes%n;e.concat(t.lib.WordArray.random(i-1)).concat(t.lib.WordArray.create([i<<24],1))},"pad"),unpad:o(function(e){var r=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=r},"unpad")},t.pad.Iso10126})});var n0e=q((S9,r0e)=>{u();(function(t,e,r){typeof S9=="object"?r0e.exports=S9=e(Tn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(S9,function(t){return t.pad.Iso97971={pad:o(function(e,r){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,r)},"pad"),unpad:o(function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--},"unpad")},t.pad.Iso97971})});var o0e=q((w9,i0e)=>{u();(function(t,e,r){typeof w9=="object"?i0e.exports=w9=e(Tn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(w9,function(t){return t.pad.ZeroPadding={pad:o(function(e,r){var n=r*4;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},"pad"),unpad:o(function(e){for(var r=e.words,n=e.sigBytes-1,n=e.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}},"unpad")},t.pad.ZeroPadding})});var a0e=q((B9,s0e)=>{u();(function(t,e,r){typeof B9=="object"?s0e.exports=B9=e(Tn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(B9,function(t){return t.pad.NoPadding={pad:o(function(){},"pad"),unpad:o(function(){},"unpad")},t.pad.NoPadding})});var l0e=q((R9,c0e)=>{u();(function(t,e,r){typeof R9=="object"?c0e.exports=R9=e(Tn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(R9,function(t){return function(e){var r=t,n=r.lib,i=n.CipherParams,s=r.enc,a=s.Hex,c=r.format,l=c.Hex={stringify:o(function(f){return f.ciphertext.toString(a)},"stringify"),parse:o(function(f){var d=a.parse(f);return i.create({ciphertext:d})},"parse")}}(),t.format.Hex})});var f0e=q((k9,u0e)=>{u();(function(t,e,r){typeof k9=="object"?u0e.exports=k9=e(Tn(),jm(),Km(),lA(),Rs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(k9,function(t){return function(){var e=t,r=e.lib,n=r.BlockCipher,i=e.algo,s=[],a=[],c=[],l=[],f=[],d=[],h=[],A=[],m=[],y=[];(function(){for(var T=[],S=0;S<256;S++)S<128?T[S]=S<<1:T[S]=S<<1^283;for(var k=0,N=0,S=0;S<256;S++){var P=N^N<<1^N<<2^N<<3^N<<4;P=P>>>8^P&255^99,s[k]=P,a[P]=k;var L=T[k],Y=T[L],te=T[Y],ne=T[P]*257^P*16843008;c[k]=ne<<24|ne>>>8,l[k]=ne<<16|ne>>>16,f[k]=ne<<8|ne>>>24,d[k]=ne;var ne=te*16843009^Y*65537^L*257^k*16843008;h[P]=ne<<24|ne>>>8,A[P]=ne<<16|ne>>>16,m[P]=ne<<8|ne>>>24,y[P]=ne,k?(k=L^T[T[T[te^L]]],N^=T[T[N]]):k=N=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],_=i.AES=n.extend({_doReset:o(function(){var T;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var S=this._keyPriorReset=this._key,k=S.words,N=S.sigBytes/4,P=this._nRounds=N+6,L=(P+1)*4,Y=this._keySchedule=[],te=0;te<L;te++)te<N?Y[te]=k[te]:(T=Y[te-1],te%N?N>6&&te%N==4&&(T=s[T>>>24]<<24|s[T>>>16&255]<<16|s[T>>>8&255]<<8|s[T&255]):(T=T<<8|T>>>24,T=s[T>>>24]<<24|s[T>>>16&255]<<16|s[T>>>8&255]<<8|s[T&255],T^=x[te/N|0]<<24),Y[te]=Y[te-N]^T);for(var ne=this._invKeySchedule=[],pe=0;pe<L;pe++){var te=L-pe;if(pe%4)var T=Y[te];else var T=Y[te-4];pe<4||te<=4?ne[pe]=T:ne[pe]=h[s[T>>>24]]^A[s[T>>>16&255]]^m[s[T>>>8&255]]^y[s[T&255]]}}},"_doReset"),encryptBlock:o(function(T,S){this._doCryptBlock(T,S,this._keySchedule,c,l,f,d,s)},"encryptBlock"),decryptBlock:o(function(T,S){var k=T[S+1];T[S+1]=T[S+3],T[S+3]=k,this._doCryptBlock(T,S,this._invKeySchedule,h,A,m,y,a);var k=T[S+1];T[S+1]=T[S+3],T[S+3]=k},"decryptBlock"),_doCryptBlock:o(function(T,S,k,N,P,L,Y,te){for(var ne=this._nRounds,pe=T[S]^k[0],W=T[S+1]^k[1],$=T[S+2]^k[2],Ie=T[S+3]^k[3],fe=4,X=1;X<ne;X++){var H=N[pe>>>24]^P[W>>>16&255]^L[$>>>8&255]^Y[Ie&255]^k[fe++],Z=N[W>>>24]^P[$>>>16&255]^L[Ie>>>8&255]^Y[pe&255]^k[fe++],ee=N[$>>>24]^P[Ie>>>16&255]^L[pe>>>8&255]^Y[W&255]^k[fe++],ae=N[Ie>>>24]^P[pe>>>16&255]^L[W>>>8&255]^Y[$&255]^k[fe++];pe=H,W=Z,$=ee,Ie=ae}var H=(te[pe>>>24]<<24|te[W>>>16&255]<<16|te[$>>>8&255]<<8|te[Ie&255])^k[fe++],Z=(te[W>>>24]<<24|te[$>>>16&255]<<16|te[Ie>>>8&255]<<8|te[pe&255])^k[fe++],ee=(te[$>>>24]<<24|te[Ie>>>16&255]<<16|te[pe>>>8&255]<<8|te[W&255])^k[fe++],ae=(te[Ie>>>24]<<24|te[pe>>>16&255]<<16|te[W>>>8&255]<<8|te[$&255])^k[fe++];T[S]=H,T[S+1]=Z,T[S+2]=ee,T[S+3]=ae},"_doCryptBlock"),keySize:256/32});e.AES=n._createHelper(_)}(),t.AES})});var h0e=q((D9,d0e)=>{u();(function(t,e,r){typeof D9=="object"?d0e.exports=D9=e(Tn(),jm(),Km(),lA(),Rs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(D9,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,i=r.BlockCipher,s=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=s.DES=i.extend({_doReset:o(function(){for(var x=this._key,_=x.words,T=[],S=0;S<56;S++){var k=a[S]-1;T[S]=_[k>>>5]>>>31-k%32&1}for(var N=this._subKeys=[],P=0;P<16;P++){for(var L=N[P]=[],Y=l[P],S=0;S<24;S++)L[S/6|0]|=T[(c[S]-1+Y)%28]<<31-S%6,L[4+(S/6|0)]|=T[28+(c[S+24]-1+Y)%28]<<31-S%6;L[0]=L[0]<<1|L[0]>>>31;for(var S=1;S<7;S++)L[S]=L[S]>>>(S-1)*4+3;L[7]=L[7]<<5|L[7]>>>27}for(var te=this._invSubKeys=[],S=0;S<16;S++)te[S]=N[15-S]},"_doReset"),encryptBlock:o(function(x,_){this._doCryptBlock(x,_,this._subKeys)},"encryptBlock"),decryptBlock:o(function(x,_){this._doCryptBlock(x,_,this._invSubKeys)},"decryptBlock"),_doCryptBlock:o(function(x,_,T){this._lBlock=x[_],this._rBlock=x[_+1],A.call(this,4,252645135),A.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),A.call(this,1,1431655765);for(var S=0;S<16;S++){for(var k=T[S],N=this._lBlock,P=this._rBlock,L=0,Y=0;Y<8;Y++)L|=f[Y][((P^k[Y])&d[Y])>>>0];this._lBlock=P,this._rBlock=N^L}var te=this._lBlock;this._lBlock=this._rBlock,this._rBlock=te,A.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),A.call(this,16,65535),A.call(this,4,252645135),x[_]=this._lBlock,x[_+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function A(x,_){var T=(this._lBlock>>>x^this._rBlock)&_;this._rBlock^=T,this._lBlock^=T<<x}o(A,"exchangeLR");function m(x,_){var T=(this._rBlock>>>x^this._lBlock)&_;this._lBlock^=T,this._rBlock^=T<<x}o(m,"exchangeRL"),e.DES=i._createHelper(h);var y=s.TripleDES=i.extend({_doReset:o(function(){var x=this._key,_=x.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var T=_.slice(0,2),S=_.length<4?_.slice(0,2):_.slice(2,4),k=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=h.createEncryptor(n.create(T)),this._des2=h.createEncryptor(n.create(S)),this._des3=h.createEncryptor(n.create(k))},"_doReset"),encryptBlock:o(function(x,_){this._des1.encryptBlock(x,_),this._des2.decryptBlock(x,_),this._des3.encryptBlock(x,_)},"encryptBlock"),decryptBlock:o(function(x,_){this._des3.decryptBlock(x,_),this._des2.encryptBlock(x,_),this._des1.decryptBlock(x,_)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});e.TripleDES=i._createHelper(y)}(),t.TripleDES})});var p0e=q((N9,A0e)=>{u();(function(t,e,r){typeof N9=="object"?A0e.exports=N9=e(Tn(),jm(),Km(),lA(),Rs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(N9,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,i=e.algo,s=i.RC4=n.extend({_doReset:o(function(){for(var l=this._key,f=l.words,d=l.sigBytes,h=this._S=[],A=0;A<256;A++)h[A]=A;for(var A=0,m=0;A<256;A++){var y=A%d,x=f[y>>>2]>>>24-y%4*8&255;m=(m+h[A]+x)%256;var _=h[A];h[A]=h[m],h[m]=_}this._i=this._j=0},"_doReset"),_doProcessBlock:o(function(l,f){l[f]^=a.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function a(){for(var l=this._S,f=this._i,d=this._j,h=0,A=0;A<4;A++){f=(f+1)%256,d=(d+l[f])%256;var m=l[f];l[f]=l[d],l[d]=m,h|=l[(l[f]+l[d])%256]<<24-A*8}return this._i=f,this._j=d,h}o(a,"generateKeystreamWord"),e.RC4=n._createHelper(s);var c=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:o(function(){s._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)a.call(this)},"_doReset")});e.RC4Drop=n._createHelper(c)}(),t.RC4})});var g0e=q((Q9,m0e)=>{u();(function(t,e,r){typeof Q9=="object"?m0e.exports=Q9=e(Tn(),jm(),Km(),lA(),Rs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(Q9,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,i=e.algo,s=[],a=[],c=[],l=i.Rabbit=n.extend({_doReset:o(function(){for(var d=this._key.words,h=this.cfg.iv,A=0;A<4;A++)d[A]=(d[A]<<8|d[A]>>>24)&16711935|(d[A]<<24|d[A]>>>8)&4278255360;var m=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],y=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var A=0;A<4;A++)f.call(this);for(var A=0;A<8;A++)y[A]^=m[A+4&7];if(h){var x=h.words,_=x[0],T=x[1],S=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,k=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,N=S>>>16|k&4294901760,P=k<<16|S&65535;y[0]^=S,y[1]^=N,y[2]^=k,y[3]^=P,y[4]^=S,y[5]^=N,y[6]^=k,y[7]^=P;for(var A=0;A<4;A++)f.call(this)}},"_doReset"),_doProcessBlock:o(function(d,h){var A=this._X;f.call(this),s[0]=A[0]^A[5]>>>16^A[3]<<16,s[1]=A[2]^A[7]>>>16^A[5]<<16,s[2]=A[4]^A[1]>>>16^A[7]<<16,s[3]=A[6]^A[3]>>>16^A[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,d[h+m]^=s[m]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,h=this._C,A=0;A<8;A++)a[A]=h[A];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<a[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<a[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<a[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<a[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<a[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<a[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<a[6]>>>0?1:0)|0,this._b=h[7]>>>0<a[7]>>>0?1:0;for(var A=0;A<8;A++){var m=d[A]+h[A],y=m&65535,x=m>>>16,_=((y*y>>>17)+y*x>>>15)+x*x,T=((m&4294901760)*m|0)+((m&65535)*m|0);c[A]=_^T}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}o(f,"nextState"),e.Rabbit=n._createHelper(l)}(),t.Rabbit})});var C0e=q((P9,y0e)=>{u();(function(t,e,r){typeof P9=="object"?y0e.exports=P9=e(Tn(),jm(),Km(),lA(),Rs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(P9,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,i=e.algo,s=[],a=[],c=[],l=i.RabbitLegacy=n.extend({_doReset:o(function(){var d=this._key.words,h=this.cfg.iv,A=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],m=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var y=0;y<4;y++)f.call(this);for(var y=0;y<8;y++)m[y]^=A[y+4&7];if(h){var x=h.words,_=x[0],T=x[1],S=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,k=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,N=S>>>16|k&4294901760,P=k<<16|S&65535;m[0]^=S,m[1]^=N,m[2]^=k,m[3]^=P,m[4]^=S,m[5]^=N,m[6]^=k,m[7]^=P;for(var y=0;y<4;y++)f.call(this)}},"_doReset"),_doProcessBlock:o(function(d,h){var A=this._X;f.call(this),s[0]=A[0]^A[5]>>>16^A[3]<<16,s[1]=A[2]^A[7]>>>16^A[5]<<16,s[2]=A[4]^A[1]>>>16^A[7]<<16,s[3]=A[6]^A[3]>>>16^A[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,d[h+m]^=s[m]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,h=this._C,A=0;A<8;A++)a[A]=h[A];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<a[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<a[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<a[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<a[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<a[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<a[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<a[6]>>>0?1:0)|0,this._b=h[7]>>>0<a[7]>>>0?1:0;for(var A=0;A<8;A++){var m=d[A]+h[A],y=m&65535,x=m>>>16,_=((y*y>>>17)+y*x>>>15)+x*x,T=((m&4294901760)*m|0)+((m&65535)*m|0);c[A]=_^T}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}o(f,"nextState"),e.RabbitLegacy=n._createHelper(l)}(),t.RabbitLegacy})});var I0e=q((F9,E0e)=>{u();(function(t,e,r){typeof F9=="object"?E0e.exports=F9=e(Tn(),jm(),Km(),lA(),Rs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(F9,function(t){return function(){var e=t,r=e.lib,n=r.BlockCipher,i=e.algo;let s=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var l={pbox:[],sbox:[]};function f(y,x){let _=x>>24&255,T=x>>16&255,S=x>>8&255,k=x&255,N=y.sbox[0][_]+y.sbox[1][T];return N=N^y.sbox[2][S],N=N+y.sbox[3][k],N}o(f,"F");function d(y,x,_){let T=x,S=_,k;for(let N=0;N<s;++N)T=T^y.pbox[N],S=f(y,T)^S,k=T,T=S,S=k;return k=T,T=S,S=k,S=S^y.pbox[s],T=T^y.pbox[s+1],{left:T,right:S}}o(d,"BlowFish_Encrypt");function h(y,x,_){let T=x,S=_,k;for(let N=s+1;N>1;--N)T=T^y.pbox[N],S=f(y,T)^S,k=T,T=S,S=k;return k=T,T=S,S=k,S=S^y.pbox[1],T=T^y.pbox[0],{left:T,right:S}}o(h,"BlowFish_Decrypt");function A(y,x,_){for(let P=0;P<4;P++){y.sbox[P]=[];for(let L=0;L<256;L++)y.sbox[P][L]=c[P][L]}let T=0;for(let P=0;P<s+2;P++)y.pbox[P]=a[P]^x[T],T++,T>=_&&(T=0);let S=0,k=0,N=0;for(let P=0;P<s+2;P+=2)N=d(y,S,k),S=N.left,k=N.right,y.pbox[P]=S,y.pbox[P+1]=k;for(let P=0;P<4;P++)for(let L=0;L<256;L+=2)N=d(y,S,k),S=N.left,k=N.right,y.sbox[P][L]=S,y.sbox[P][L+1]=k;return!0}o(A,"BlowFishInit");var m=i.Blowfish=n.extend({_doReset:o(function(){if(this._keyPriorReset!==this._key){var y=this._keyPriorReset=this._key,x=y.words,_=y.sigBytes/4;A(l,x,_)}},"_doReset"),encryptBlock:o(function(y,x){var _=d(l,y[x],y[x+1]);y[x]=_.left,y[x+1]=_.right},"encryptBlock"),decryptBlock:o(function(y,x){var _=h(l,y[x],y[x+1]);y[x]=_.left,y[x+1]=_.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});e.Blowfish=n._createHelper(m)}(),t.Blowfish})});var y4=q((M9,x0e)=>{u();(function(t,e,r){typeof M9=="object"?x0e.exports=M9=e(Tn(),g4(),Cae(),Iae(),jm(),vae(),Km(),IH(),l9(),Bae(),xH(),Dae(),Qae(),Fae(),m9(),Oae(),lA(),Rs(),Gae(),Wae(),$ae(),jae(),Jae(),Zae(),t0e(),n0e(),o0e(),a0e(),l0e(),f0e(),h0e(),p0e(),g0e(),C0e(),I0e()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],e):t.CryptoJS=e(t.CryptoJS)})(M9,function(t){return t})});var O0e=q((W9,L0e)=>{u();(function(t,e){typeof W9=="object"&&typeof L0e<"u"?e(W9):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e((t.Microsoft=t.Microsoft||{},t.Microsoft.ApplicationInsights=t.Microsoft.ApplicationInsights||{})))})(W9,function(t){"use strict";function e(I,v){return I||v}o(e,"_pureAssign");function r(I,v){return I[v]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",c="object",l="prototype",f="__proto__",d="undefined",h="constructor",A="Symbol",m="_polyfill",y="length",x="name",_="call",T="toString",S=e(Object),k=r(S,l),N=e(String),P=r(N,l),L=e(Math),Y=e(Array),te=r(Y,l),ne=r(te,"slice");function pe(I,v){try{return{v:I.apply(this,v)}}catch(w){return{e:w}}}o(pe,"safe");function W(I){return function(v){return typeof v===I}}o(W,"_createIs");function $(I){var v="[object "+I+"]";return function(w){return!!(w&&Ie(w)===v)}}o($,"_createObjIs");function Ie(I){return k[T].call(I)}o(Ie,"objToString");function fe(I){return typeof I===d||I===d}o(fe,"isUndefined");function X(I){return!Z(I)}o(X,"isStrictUndefined");function H(I){return I===i||fe(I)}o(H,"isNullOrUndefined");function Z(I){return!!I||I!==n}o(Z,"isDefined");var ee=W("string"),ae=W(a);function ie(I){return!I&&H(I)?!1:!!I&&typeof I===c}o(ie,"isObject");var ue=r(Y,"isArray"),Ae=$("Error"),Ke=r(S,"getOwnPropertyDescriptor");function tt(I,v){return!!I&&k.hasOwnProperty[_](I,v)}o(tt,"objHasOwnProperty");var ct=e(r(S,"hasOwn"),Ct);function Ct(I,v){return tt(I,v)||!!Ke(I,v)}o(Ct,"polyObjHasOwn");function Gt(I,v,w){if(I&&ie(I)){for(var D in I)if(ct(I,D)&&v[_](w||I,D,I[D])===-1)break}}o(Gt,"objForEachKey");var Ur={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function kn(I){var v={};if(v[Ur.c]=!0,v[Ur.e]=!0,I.l){v.get=function(){return I.l.v};var w=Ke(I.l,"v");w&&w.set&&(v.set=function(D){I.l.v=D})}return Gt(I,function(D,z){v[Ur[D]]=X(z)?v[Ur[D]]:z}),v}o(kn,"_createProp");var br=r(S,"defineProperty");function se(I,v,w){return br(I,v,kn(w))}o(se,"objDefine");function Je(I,v,w,D,z){var de={};return Gt(I,function(Ce,we){me(de,Ce,v?we:Ce),me(de,we,w?we:Ce)}),D?D(de):de}o(Je,"_createKeyValueMap");function me(I,v,w,D){br(I,v,{value:w,enumerable:!0,writable:!1})}o(me,"_assignMapValue");var ut=e(N),ot="[object Error]";function We(I,v){var w=s,D=k[T][_](I);D===ot&&(I={stack:ut(I.stack),message:ut(I.message),name:ut(I.name)});try{w=JSON.stringify(I,i,v?typeof v=="number"?v:4:n),w=(w?w.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||ut(I)}catch(z){w=" - "+We(z,v)}return D+": "+w}o(We,"dumpObj");function Mr(I){throw new Error(I)}o(Mr,"throwError");function In(I){throw new TypeError(I)}o(In,"throwTypeError");var Hr=r(S,"freeze");function Kt(I){return I}o(Kt,"_doNothing");function mi(I){return I[f]||i}o(mi,"_getProto");var Yo=r(S,"assign"),Mn=r(S,"keys"),$o=e(Hr,Kt),Jt=e(r(S,"getPrototypeOf"),mi);function po(I){return Je(I,1,0,$o)}o(po,"createEnum");function ko(I){var v={};return Gt(I,function(w,D){me(v,w,D[1]),me(v,D[0],D[1])}),$o(v)}o(ko,"createSimpleMap");function ua(I){return ko(I)}o(ua,"createTypeMap");var le="__tsUtils$gblCfg",Ge;function dt(){var I;return typeof globalThis!==d&&(I=globalThis),!I&&typeof self!==d&&(I=self),!I&&typeof window!==d&&(I=window),!I&&typeof global!==d&&(I=global),I}o(dt,"_getGlobalValue");function xt(){if(!Ge){var I=pe(dt).v||{};Ge=I[le]=I[le]||{}}return Ge}o(xt,"_getGlobalConfig");var Yr=vr;function vr(I,v,w){var D=v?v[I]:i;return function(z){var de=(z?z[I]:i)||D;if(de||w){var Ce=arguments;return(de||w).apply(z,de?ne[_](Ce,1):Ce)}In('"'+ut(I)+'" not defined for '+We(z))}}o(vr,"_unwrapFunctionWithPoly");var jn=r(L,"min"),ii=r(L,"max"),Lr=Yr("slice",P),zr=Yr("substring",P),qr=vr("substr",P,fi);function fi(I,v,w){return H(I)&&In("Invalid "+We(I)),w<0?s:(v=v||0,v<0&&(v=ii(v+I[y],0)),fe(w)?Lr(I,v):Lr(I,v,v+w))}o(fi,"polyStrSubstr");function qi(I,v){return zr(I,0,v)}o(qi,"strLeft");var Do="_urid",vc;function Mf(){if(!vc){var I=xt();vc=I.gblSym=I.gblSym||{k:{},s:{}}}return vc}o(Mf,"_globalSymbolRegistry");function D0(I){var v={description:ut(I),toString:o(function(){return A+"("+I+")"},"toString")};return v[m]=!0,v}o(D0,"polyNewSymbol");function Iu(I){var v=Mf();if(!ct(v.k,I)){var w=D0(I),D=Mn(v.s).length;w[Do]=function(){return D+"_"+w[T]()},v.k[I]=w,v.s[w[Do]()]=ut(I)}return v.k[I]}o(Iu,"polySymbolFor");var as;function xu(){as=xt()}o(xu,"_initTestHooks");function Te(I){return br({toJSON:o(function(){return I},"toJSON")},"v",{value:I})}o(Te,"createCachedValue");var M="window",ce;function ye(I,v){var w;return function(){return!as&&xu(),(!w||as.lzy)&&(w=Te(pe(I,v).v)),w.v}}o(ye,"_getGlobalInstFn");function K(I){return!as&&xu(),(!ce||I===!1||as.lzy)&&(ce=Te(pe(dt).v||i)),ce.v}o(K,"getGlobal");function F(I,v){var w;if(!ce||v===!1?w=K(v):w=ce.v,w&&w[I])return w[I];if(I===M)try{return window}catch{}return i}o(F,"getInst");var Se=ye(F,["document"]);function Xe(){return!!rr()}o(Xe,"hasWindow");var rr=ye(F,[M]);function gi(){return!!Dn()}o(gi,"hasNavigator");var Dn=ye(F,["navigator"]),Ls,fa;function oi(){return Ls=Te(pe(F,[A]).v),Ls}o(oi,"_initSymbol");function kr(I){var v=(as.lzy?0:Ls)||oi();return v.v?v.v[I]:n}o(kr,"_getSymbolKey");function N0(I,v){!as&&xu();var w=(as.lzy?0:Ls)||oi();return w.v?w.v(I):v?i:D0(I)}o(N0,"newSymbol");function cs(I){return!as&&xu(),fa=(as.lzy?0:fa)||Te(pe(kr,["for"]).v),(fa.v||Iu)(I)}o(cs,"symbolFor");function bu(I,v,w){return I.apply(v,w)}o(bu,"fnApply");function Os(I,v,w){if(I)for(var D=I[y]>>>0,z=0;z<D&&!(z in I&&v[_](w||I,I[z],z,I)===-1);z++);}o(Os,"arrForEach");var vu=Yr("indexOf",te),pl=Yr("map",te),No=Yr("reduce",te),Lf=e(r(S,"create"),dp);function dp(I){if(!I)return{};var v=typeof I;v!==c&&v!==a&&In("Prototype must be an Object or function: "+We(I));function w(){}return o(w,"tempFunc"),w[l]=I,new w}o(dp,"polyObjCreate");var C5;function Tu(I,v){var w=S.setPrototypeOf||function(D,z){var de;!C5&&(C5=Te((de={},de[f]=[],de instanceof Array))),C5.v?D[f]=z:Gt(z,function(Ce,we){return D[Ce]=we})};return w(I,v)}o(Tu,"objSetPrototypeOf");function TM(I,v,w){pe(se,[v,x,{v:I,c:!0,e:!1}]),v=Tu(v,w);function D(){this[h]=v,pe(se,[this,x,{v:I,c:!0,e:!1}])}return o(D,"__"),v[l]=w===i?Lf(w):(D[l]=w[l],new D),v}o(TM,"_createCustomError");function Of(I,v){v&&(I[x]=v)}o(Of,"_setName");function _M(I,v,w){var D=w||Error,z=D[l][x],de=Error.captureStackTrace;return TM(I,function(){var Ce=this,we=arguments;try{pe(Of,[D,I]);var Me=bu(D,Ce,ne[_](we))||Ce;if(Me!==Ce){var Ze=Jt(Ce);Ze!==Jt(Me)&&Tu(Me,Ze)}return de&&de(Me,Ce[h]),v&&v(Me,we),Me}finally{pe(Of,[D,z])}},D)}o(_M,"createCustomError");function Ih(){return(Date.now||E5)()}o(Ih,"utcNow");function E5(){return new Date().getTime()}o(E5,"polyUtcNow");function nI(I){return o(function(w){return H(w)&&In("strTrim called ["+We(w)+"]"),w&&w.replace&&(w=w.replace(I,s)),w},"_doTrim")}o(nI,"_createTrimFn");var SM=nI(/^\s+|(?=\s)\s+$/g),Ma=vr("trim",P,SM),Uf=r(L,"floor"),N1,xh,Q1;function Hf(I){if(!I||typeof I!==c)return!1;Q1||(Q1=Xe()?rr():!0);var v=!1;if(I!==Q1){xh||(N1=Function[l][T],xh=N1[_](S));try{var w=Jt(I);v=!w,v||(tt(w,h)&&(w=w[h]),v=!!(w&&typeof w===a&&N1[_](w)===xh))}catch{}}return v}o(Hf,"isPlainObject");var iI;function P1(){return!as&&xu(),(!iI||as.lzy)&&(iI=Te(pe(F,["performance"]).v)),iI.v}o(P1,"getPerformance");var I5=r(L,"round"),hp=vr("endsWith",P,Ap);function Ap(I,v,w){ee(I)||In("'"+We(I)+"' is not a string");var D=ee(v)?v:ut(v),z=!fe(w)&&w<I[y]?w:I[y];return zr(I,z-D[y],z)===D}o(Ap,"polyStrEndsWith");var Yt=Yr("indexOf",P),s0="ref",bh="unref",pp="hasRef",wM="enabled";function qf(I,v,w){var D=!0,z=I?v(i):i,de;function Ce(){return D=!1,z&&z[bh]&&z[bh](),de}o(Ce,"_unref");function we(){z&&w(z),z=i}o(we,"_cancel");function Me(){return z=v(z),D||Ce(),de}o(Me,"_refresh");function Ze(St){!St&&z&&we(),St&&!z&&Me()}return o(Ze,"_setEnabled"),de={cancel:we,refresh:Me},de[pp]=function(){return z&&z[pp]?z[pp]():D},de[s0]=function(){return D=!0,z&&z[s0]&&z[s0](),de},de[bh]=Ce,de=br(de,wM,{get:o(function(){return!!z},"get"),set:Ze}),{h:de,dn:o(function(){z=i},"dn")}}o(qf,"_createTimerHandler");function BM(I,v,w){var D=ue(v),z=D?v.length:0,de=(z>0?v[0]:D?n:v)||setTimeout,Ce=(z>1?v[1]:n)||clearTimeout,we=w[0];w[0]=function(){Me.dn(),bu(we,n,ne[_](arguments))};var Me=qf(I,function(Ze){if(Ze){if(Ze.refresh)return Ze.refresh(),Ze;bu(Ce,n,[Ze])}return bu(de,n,w)},function(Ze){bu(Ce,n,[Ze])});return Me.h}o(BM,"_createTimeoutWith");function x5(I,v){return BM(!0,n,ne[_](arguments))}o(x5,"scheduleTimeout");var F1=po,RM=ua,M1="toLowerCase",ls="length",Gf="warnToConsole",L1="throwInternal",t8="watch",kM="apply",Ln="push",vh="splice",Vf="logger",b5="cancel",O1="name",a0="unload",r8="version",n8="loggingLevelConsole",v5="messageId",Th="message",T5="diagLog",i8="userAgent",_5="split",mp="replace",Wf="type",o8="evtName",oI="traceFlags",S5="getAttribute",sI;function DM(I,v){sI||(sI=_M("AggregationError",function(D,z){z[ls]>1&&(D.errors=z[1])}));var w=I||"One or more errors occurred.";throw Os(v,function(D,z){w+=`
`.concat(z," > ").concat(We(D))}),new sI(w,v||[])}o(DM,"throwAggregationError");var NM="function",s8="object",QM="undefined",_u="prototype",aI=Object,w5=aI[_u];(K()||{}).Symbol,(K()||{}).Reflect;var cI="hasOwnProperty",PM=o(function(I){for(var v,w=1,D=arguments.length;w<D;w++){v=arguments[w];for(var z in v)w5[cI].call(v,z)&&(I[z]=v[z])}return I},"__objAssignFnImpl"),lI=Yo||PM,uI=o(function(I,v){return uI=aI.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,D){w.__proto__=D}||function(w,D){for(var z in D)D[cI](z)&&(w[z]=D[z])},uI(I,v)},"extendStaticsFn");function Yf(I,v){typeof v!==NM&&v!==null&&In("Class extends value "+String(v)+" is not a constructor or null"),uI(I,v);function w(){this.constructor=I}o(w,"__"),I[_u]=v===null?Lf(v):(w[_u]=v[_u],new w)}o(Yf,"__extendsFn");var fI,_h="constructor",Q0="prototype",P0="function",Sh="_dynInstFuncs",gp="_isDynProxy",$f="_dynClass",yp="_dynCls$",B5="_dynInstChk",wh=B5,Cp="_dfOpts",R5="_unknown_",dI="__proto__",Ep="_dyn"+dI,U1="__dynProto$Gbl",hI="_dynInstProto",Ip="useBaseInst",xp="setInstFuncs",H1=Object,Bh=H1.getPrototypeOf,bp=H1.getOwnPropertyNames,k5=K(),AI=k5[U1]||(k5[U1]={o:(fI={},fI[xp]=!0,fI[Ip]=!0,fI),n:1e3});function vp(I){return I&&(I===H1[Q0]||I===Array[Q0])}o(vp,"_isObjectOrArrayPrototype");function Tp(I){return vp(I)||I===Function[Q0]}o(Tp,"_isObjectArrayOrFunctionPrototype");function Su(I){var v;if(I){if(Bh)return Bh(I);var w=I[dI]||I[Q0]||(I[_h]?I[_h][Q0]:null);v=I[Ep]||w,tt(I,Ep)||(delete I[hI],v=I[Ep]=I[hI]||I[Ep],I[hI]=w)}return v}o(Su,"_getObjProto");function ml(I,v){var w=[];if(bp)w=bp(I);else for(var D in I)typeof D=="string"&&tt(I,D)&&w.push(D);if(w&&w.length>0)for(var z=0;z<w.length;z++)v(w[z])}o(ml,"_forEachProp");function _p(I,v,w){return v!==_h&&typeof I[v]===P0&&(w||tt(I,v))&&v!==dI&&v!==Q0}o(_p,"_isDynamicCandidate");function Sp(I){In("DynamicProto: "+I)}o(Sp,"_throwTypeError");function pI(I){var v=Lf(null);return ml(I,function(w){!v[w]&&_p(I,w,!1)&&(v[w]=I[w])}),v}o(pI,"_getInstanceFuncs");function D5(I,v){for(var w=I.length-1;w>=0;w--)if(I[w]===v)return!0;return!1}o(D5,"_hasVisited");function N5(I,v,w,D){function z(Me,Ze,St){var Ar=Ze[St];if(Ar[gp]&&D){var Br=Me[Sh]||{};Br[wh]!==!1&&(Ar=(Br[Ze[$f]]||{})[St]||Ar)}return function(){return Ar.apply(Me,arguments)}}o(z,"_instFuncProxy");var de=Lf(null);ml(w,function(Me){de[Me]=z(v,w,Me)});for(var Ce=Su(I),we=[];Ce&&!Tp(Ce)&&!D5(we,Ce);)ml(Ce,function(Me){!de[Me]&&_p(Ce,Me,!Bh)&&(de[Me]=z(v,Ce,Me))}),we.push(Ce),Ce=Su(Ce);return de}o(N5,"_getBaseFuncs");function FM(I,v,w,D){var z=null;if(I&&tt(w,$f)){var de=I[Sh]||Lf(null);if(z=(de[w[$f]]||Lf(null))[v],z||Sp("Missing ["+v+"] "+P0),!z[B5]&&de[wh]!==!1){for(var Ce=!tt(I,v),we=Su(I),Me=[];Ce&&we&&!Tp(we)&&!D5(Me,we);){var Ze=we[v];if(Ze){Ce=Ze===D;break}Me.push(we),we=Su(we)}try{Ce&&(I[v]=z),z[B5]=1}catch{de[wh]=!1}}}return z}o(FM,"_getInstFunc");function MM(I,v,w){var D=v[I];return D===w&&(D=Su(v)[I]),typeof D!==P0&&Sp("["+I+"] is not a "+P0),D}o(MM,"_getProtoFunc");function LM(I,v,w,D,z){function de(Me,Ze){var St=o(function(){var Ar=FM(this,Ze,Me,St)||MM(Ze,Me,St);return Ar.apply(this,arguments)},"dynProtoProxy");return St[gp]=1,St}if(o(de,"_createDynamicPrototype"),!vp(I)){var Ce=w[Sh]=w[Sh]||Lf(null);if(!vp(Ce)){var we=Ce[v]=Ce[v]||Lf(null);Ce[wh]!==!1&&(Ce[wh]=!!z),vp(we)||ml(w,function(Me){_p(w,Me,!1)&&w[Me]!==D[Me]&&(we[Me]=w[Me],delete w[Me],(!tt(I,Me)||I[Me]&&!I[Me][gp])&&(I[Me]=de(I,Me)))})}}}o(LM,"_populatePrototype");function OM(I,v){if(Bh){for(var w=[],D=Su(v);D&&!Tp(D)&&!D5(w,D);){if(D===I)return!0;w.push(D),D=Su(D)}return!1}return!0}o(OM,"_checkPrototype");function Q5(I,v){return tt(I,Q0)?I.name||v||R5:((I||{})[_h]||{}).name||v||R5}o(Q5,"_getObjName");function q1(I,v,w,D){tt(I,Q0)||Sp("theClass is an invalid class definition.");var z=I[Q0];OM(z,v)||Sp("["+Q5(I)+"] not in hierarchy of ["+Q5(v)+"]");var de=null;tt(z,$f)?de=z[$f]:(de=yp+Q5(I,"_")+"$"+AI.n,AI.n++,z[$f]=de);var Ce=q1[Cp],we=!!Ce[Ip];we&&D&&D[Ip]!==void 0&&(we=!!D[Ip]);var Me=pI(v),Ze=N5(z,v,Me,we);w(v,Ze);var St=!!Bh&&!!Ce[xp];St&&D&&(St=!!D[xp]),LM(z,de,v,Me,St!==!1)}o(q1,"dynamicProto"),q1[Cp]=AI.o;var da=void 0,mo="",a8="Not dynamic - ",c8=/-([a-z])/g,G1=/([^\w\d_$])/g,P5=/^(\d+[\w\d_$])/;function F5(I){return!H(I)}o(F5,"isNotNullOrUndefined");function mI(I){var v=I;return v&&ee(v)&&(v=v[mp](c8,function(w,D){return D.toUpperCase()}),v=v[mp](G1,"_"),v=v[mp](P5,function(w,D){return"_"+D})),v}o(mI,"normalizeJsName");function l8(I,v){return I&&v?Yt(I,v)!==-1:!1}o(l8,"strContains");function wu(I){return I&&I.toISOString()||""}o(wu,"toISOString");function zf(I){return Ae(I)?I[O1]:mo}o(zf,"getExceptionName");function V1(I){return function(){function v(){var w=this;I&&Gt(I,function(D,z){w[D]=z})}return o(v,"class_1"),v}()}o(V1,"createClassFromInterface");var u8="console",gI="JSON",UM="crypto",jf="msCrypto",wp="msie",Or="trident/",Bp=null,Rh=null,Bu=null;function yI(){return typeof console!==QM?console:F(u8)}o(yI,"getConsole");function On(){return!!(typeof JSON===s8&&JSON||F(gI)!==null)}o(On,"hasJSON");function Rp(){return On()?JSON||F(gI):null}o(Rp,"getJSON");function zo(){return F(UM)}o(zo,"getCrypto");function kp(){return F(jf)}o(kp,"getMsCrypto");function W1(){var I=Dn();if(I&&(I[i8]!==Rh||Bp===null)){Rh=I[i8];var v=(Rh||mo)[M1]();Bp=l8(v,wp)||l8(v,Or)}return Bp}o(W1,"isIE");function Kf(I){return(Bu===null||I===!1)&&(Bu=gi()&&!!Dn().sendBeacon),Bu}o(Kf,"isBeaconsSupported");function Y1(I,v){if(I)for(var w=0;w<I[ls];w++){var D=I[w];if(D[O1]&&D[O1]===v)return D}return{}}o(Y1,"_getNamedValue");function CI(I){var v=Se();return v&&I?Y1(v.querySelectorAll("meta"),I).content:null}o(CI,"findMetaTag");function gl(I){var v,w=P1();if(w){var D=w.getEntriesByType("navigation")||[];v=Y1((D[ls]>0?D[0]:{}).serverTiming,I).description}return v}o(gl,"findNamedServerTiming");var Dp=4294967296,Tc=4294967295,Np=123456789,Jf=987654321,Us=!1,Qp=Np,yl=Jf;function f8(I){I<0&&(I>>>=0),Qp=Np+I&Tc,yl=Jf-I&Tc,Us=!0}o(f8,"_mwcSeed");function kh(){try{var I=Ih()&2147483647;f8((Math.random()*Dp^I)+I)}catch{}}o(kh,"_autoSeedMwc");function EI(I){return I>0?Uf(Pp()/Tc*(I+1))>>>0:0}o(EI,"randomValue");function Pp(I){var v=0,w=zo()||kp();return w&&w.getRandomValues&&(v=w.getRandomValues(new Uint32Array(1))[0]&Tc),v===0&&W1()&&(Us||kh(),v=d8()&Tc),v===0&&(v=Uf(Dp*Math.random()|0)),I||(v>>>=0),v}o(Pp,"random32");function d8(I){yl=36969*(yl&65535)+(yl>>16)&Tc,Qp=18e3*(Qp&65535)+(Qp>>16)&Tc;var v=(yl<<16)+(Qp&65535)>>>0&Tc|0;return I||(v>>>=0),v}o(d8,"mwcRandom32");function Dh(I){I===void 0&&(I=22);for(var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=Pp()>>>0,D=0,z=mo;z[ls]<I;)D++,z+=v.charAt(w&63),w>>>=6,D===5&&(w=(Pp()<<2&4294967295|w&3)>>>0,D=0);return z}o(Dh,"newId");var Cl="3.3.6",II="."+Dh(6),Nh=0;function El(I){return I.nodeType===1||I.nodeType===9||!+I.nodeType}o(El,"_canAcceptData");function xI(I,v){var w=v[I.id];if(!w){w={};try{El(v)&&se(v,I.id,{e:!1,v:w})}catch{}}return w}o(xI,"_getCache");function Ru(I,v){return v===void 0&&(v=!1),mI(I+Nh+++(v?"."+Cl:mo)+II)}o(Ru,"createUniqueNamespace");function Il(I){var v={id:Ru("_aiData-"+(I||mo)+"."+Cl),accept:o(function(w){return El(w)},"accept"),get:o(function(w,D,z,de){var Ce=w[v.id];return Ce?Ce[mI(D)]:(de&&(Ce=xI(v,w),Ce[mI(D)]=z),z)},"get"),kill:o(function(w,D){if(w&&w[D])try{delete w[D]}catch{}},"kill")};return v}o(Il,"createElmNodeData");function Xf(I){return I&&ie(I)&&(I.isVal||I.fb||ct(I,"v")||ct(I,"mrg")||ct(I,"ref")||I.set)}o(Xf,"_isConfigDefaults");function bI(I,v,w){var D,z=w.dfVal||Z;if(v&&w.fb){var de=w.fb;ue(de)||(de=[de]);for(var Ce=0;Ce<de[ls];Ce++){var we=de[Ce],Me=v[we];if(z(Me)?D=Me:I&&(Me=I.cfg[we],z(Me)&&(D=Me),I.set(I.cfg,ut(we),Me)),z(D))break}}return!z(D)&&z(w.v)&&(D=w.v),D}o(bI,"_getDefault");function Zf(I,v,w){var D=w;if(w&&Xf(w)&&(D=bI(I,v,w)),D){Xf(D)&&(D=Zf(I,v,D));var z;ue(D)?(z=[],z[ls]=D[ls]):Hf(D)&&(z={}),z&&(Gt(D,function(de,Ce){Ce&&Xf(Ce)&&(Ce=Zf(I,v,Ce)),z[de]=Ce}),D=z)}return D}o(Zf,"_resolveDefaultValue");function ed(I,v,w,D){var z,de,Ce,we=D,Me,Ze,St,Ar;Xf(we)?(z=we.isVal,de=we.set,St=we.rdOnly,Ar=we.blkVal,Me=we.mrg,Ze=we.ref,!Ze&&fe(Ze)&&(Ze=!!Me),Ce=bI(I,v,we)):Ce=D,Ar&&I.blkVal(v,w);var Br,Bt=!0,Ft=v[w];(Ft||!H(Ft))&&(Br=Ft,Bt=!1,z&&Br!==Ce&&!z(Br)&&(Br=Ce,Bt=!0),de&&(Br=de(Br,Ce,v),Bt=Br===Ce)),Bt?Ce?Br=Zf(I,v,Ce):Br=Ce:(Hf(Br)||ue(Ce))&&Me&&Ce&&(Hf(Ce)||ue(Ce))&&Gt(Ce,function(Tr,pr){ed(I,Br,Tr,pr)}),I.set(v,w,Br),Ze&&I.ref(v,w),St&&I.rdOnly(v,w)}o(ed,"_applyDefaultValue");var ha=cs("[[ai_dynCfg_1]]"),M5=cs("[[ai_blkDynCfg_1]]"),$1=cs("[[ai_frcDynCfg_1]]");function L5(I){if(I){var v;if(ue(I)?(v=[],v[ls]=I[ls]):Hf(I)&&(v={}),v)return Gt(I,function(w,D){v[w]=L5(D)}),v}return I}o(L5,"_cfgDeepCopy");function O5(I){if(I){var v=I[ha]||I;if(v.cfg&&(v.cfg===I||v.cfg[ha]===v))return v}return null}o(O5,"getDynamicConfigHandler");function Fp(I){if(I&&(Hf(I)||ue(I)))try{I[M5]=!0}catch{}return I}o(Fp,"blockDynamicConversion");function td(I,v,w){var D=!1;return w&&!I[v.blkVal]&&(D=w[$1],!D&&!w[M5]&&(D=Hf(w)||ue(w))),D}o(td,"_canMakeDynamic");function _c(I){In("InvalidAccess:"+I)}o(_c,"throwInvalidAccess");var h8=["push","pop","shift","unshift","splice"],ku=o(function(I,v,w,D){I&&I[L1](3,108,"".concat(w," [").concat(v,"] failed - ")+We(D))},"_throwDynamicError");function U5(I,v,w){ue(v)&&Os(h8,function(D){var z=v[D];v[D]=function(){for(var de=[],Ce=0;Ce<arguments.length;Ce++)de[Ce]=arguments[Ce];var we=z[kM](this,de);return Qh(I,v,w,"Patching"),we}})}o(U5,"_patchArray");function Du(I,v){var w=Ke(I,v);return w&&w.get}o(Du,"_getOwnPropGetter");function A8(I,v,w,D){var z={n:w,h:[],trk:o(function(Ze){Ze&&Ze.fn&&(vu(z.h,Ze)===-1&&z.h[Ln](Ze),I.trk(Ze,z))},"trk"),clr:o(function(Ze){var St=vu(z.h,Ze);St!==-1&&z.h[vh](St,1)},"clr")},de=!0,Ce=!1;function we(){de&&(Ce=Ce||td(we,I,D),D&&!D[ha]&&Ce&&(D=Qh(I,D,w,"Converting")),de=!1);var Ze=I.act;return Ze&&z.trk(Ze),D}o(we,"_getProperty"),we[I.prop]={chng:o(function(){I.add(z)},"chng")};function Me(Ze){if(D!==Ze){we[I.ro]&&!I.upd&&_c("["+w+"] is read-only:"+We(v)),de&&(Ce=Ce||td(we,I,D),de=!1);var St=Ce&&we[I.rf];if(Ce)if(St){Gt(D,function(Br){D[Br]=Ze?Ze[Br]:da});try{Gt(Ze,function(Br,Bt){Mp(I,D,Br,Bt)}),Ze=D}catch(Br){ku((I.hdlr||{})[Vf],w,"Assigning",Br),Ce=!1}}else D&&D[ha]&&Gt(D,function(Br){var Bt=Du(D,Br);if(Bt){var Ft=Bt[I.prop];Ft&&Ft.chng()}});if(Ze!==D){var Ar=Ze&&td(we,I,Ze);!St&&Ar&&(Ze=Qh(I,Ze,w,"Converting")),D=Ze,Ce=Ar}I.add(z)}}o(Me,"_setProperty"),se(v,z.n,{g:we,s:Me})}o(A8,"_createDynamicProperty");function Mp(I,v,w,D){if(v){var z=Du(v,w),de=z&&!!z[I.prop];de?v[w]=D:A8(I,v,w,D)}return v}o(Mp,"_setDynamicProperty");function H5(I,v,w,D){if(v){var z=Du(v,w),de=z&&!!z[I.prop],Ce=D&&D[0],we=D&&D[1],Me=D&&D[2];if(!de){if(Me)try{Fp(v)}catch(Ze){ku((I.hdlr||{})[Vf],w,"Blocking",Ze)}try{Mp(I,v,w,v[w]),z=Du(v,w)}catch(Ze){ku((I.hdlr||{})[Vf],w,"State",Ze)}}Ce&&(z[I.rf]=Ce),we&&(z[I.ro]=we),Me&&(z[I.blkVal]=!0)}return v}o(H5,"_setDynamicPropertyState");function Qh(I,v,w,D){try{Gt(v,function(z,de){Mp(I,v,z,de)}),v[ha]||(br(v,ha,{get:o(function(){return I.hdlr},"get")}),U5(I,v,w))}catch(z){ku((I.hdlr||{})[Vf],w,D,z)}return v}o(Qh,"_makeDynamicObject");var Ph="[[ai_",F0="]]";function p8(I){var v=N0(Ph+"get"+I.uid+F0),w=N0(Ph+"ro"+I.uid+F0),D=N0(Ph+"rf"+I.uid+F0),z=N0(Ph+"blkVal"+I.uid+F0),de=N0(Ph+"dtl"+I.uid+F0),Ce=null,we=null,Me;function Ze(Bt,Ft){var Tr=Me.act;try{Me.act=Bt,Bt&&Bt[de]&&(Os(Bt[de],function(ln){ln.clr(Bt)}),Bt[de]=[]),Ft({cfg:I.cfg,set:I.set.bind(I),setDf:I.setDf.bind(I),ref:I.ref.bind(I),rdOnly:I.rdOnly.bind(I)})}catch(ln){var pr=I[Vf];throw pr&&pr[L1](1,107,We(ln)),ln}finally{Me.act=Tr||null}}o(Ze,"_useHandler");function St(){if(Ce){var Bt=Ce;Ce=null,we&&we[b5](),we=null;var Ft=[];if(Os(Bt,function(Tr){if(Tr&&(Tr[de]&&(Os(Tr[de],function(pr){pr.clr(Tr)}),Tr[de]=null),Tr.fn))try{Ze(Tr,Tr.fn)}catch(pr){Ft[Ln](pr)}}),Ce)try{St()}catch(Tr){Ft[Ln](Tr)}Ft[ls]>0&&DM("Watcher error(s): ",Ft)}}o(St,"_notifyWatchers");function Ar(Bt){if(Bt&&Bt.h[ls]>0){Ce||(Ce=[]),we||(we=x5(function(){we=null,St()},0));for(var Ft=0;Ft<Bt.h[ls];Ft++){var Tr=Bt.h[Ft];Tr&&vu(Ce,Tr)===-1&&Ce[Ln](Tr)}}}o(Ar,"_addWatcher");function Br(Bt,Ft){if(Bt){var Tr=Bt[de]=Bt[de]||[];vu(Tr,Ft)===-1&&Tr[Ln](Ft)}}return o(Br,"_trackHandler"),Me={prop:v,ro:w,rf:D,blkVal:z,hdlr:I,add:Ar,notify:St,use:Ze,trk:Br},Me}o(p8,"_createState");function HM(I,v){var w={fn:v,rm:o(function(){w.fn=null,I=null,v=null},"rm")};return se(w,"toJSON",{v:o(function(){return"WatcherHandler"+(w.fn?"":"[X]")},"v")}),I.use(w,v),w}o(HM,"_createAndUseHandler");function m8(I,v,w){var D=O5(v);if(D)return D;var z=Ru("dyncfg",!0),de=v&&w!==!1?v:L5(v),Ce;function we(){Ce.notify()}o(we,"_notifyWatchers");function Me(pr,ln,Kn){try{pr=Mp(Ce,pr,ln,Kn)}catch(xn){ku(I,ln,"Setting value",xn)}return pr[ln]}o(Me,"_setValue");function Ze(pr){return HM(Ce,pr)}o(Ze,"_watch");function St(pr,ln){Ce.use(null,function(Kn){var xn=Ce.upd;try{fe(ln)||(Ce.upd=ln),pr(Kn)}finally{Ce.upd=xn}})}o(St,"_block");function Ar(pr,ln){var Kn;return H5(Ce,pr,ln,(Kn={},Kn[0]=!0,Kn))[ln]}o(Ar,"_ref");function Br(pr,ln){var Kn;return H5(Ce,pr,ln,(Kn={},Kn[1]=!0,Kn))[ln]}o(Br,"_rdOnly");function Bt(pr,ln){var Kn;return H5(Ce,pr,ln,(Kn={},Kn[2]=!0,Kn))[ln]}o(Bt,"_blkPropValue");function Ft(pr,ln){return ln&&Gt(ln,function(Kn,xn){ed(Tr,pr,Kn,xn)}),pr}o(Ft,"_applyDefaults");var Tr={uid:null,cfg:de,logger:I,notify:we,set:Me,setDf:Ft,watch:Ze,ref:Ar,rdOnly:Br,blkVal:Bt,_block:St};return se(Tr,"uid",{c:!1,e:!1,w:!1,v:z}),Ce=p8(Tr),Qh(Ce,de,"config","Creating"),Tr}o(m8,"_createDynamicHandler");function g8(I,v){I?(I[Gf](v),I[L1](2,108,v)):_c(v)}o(g8,"_logInvalidAccess");function z1(I,v,w,D){var z=m8(w,I||{},D);return v&&z.setDf(z.cfg,v),z}o(z1,"createDynamicConfig");function y8(I,v,w){var D=I[ha]||I;return D.cfg&&(D.cfg===I||D.cfg[ha]===D)?D[t8](v):(g8(w,a8+We(I)),z1(I,null,w)[t8](v))}o(y8,"onConfigChange");var vI=null;function C8(){var I=F("Microsoft");return I&&(vI=I.ApplicationInsights),vI}o(C8,"_getExtensionNamespace");function qM(I){var v=vI;return!v&&I.disableDbgExt!==!0&&(v=vI||C8()),v?v.ChromeDbgExt:null}o(qM,"getDebugExt");var Lp,TI="warnToConsole",E8="AI (Internal): ",I8="AI: ",GM="AITR_",VM={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},x8=(Lp={},Lp[0]=null,Lp[1]="errorToConsole",Lp[2]=TI,Lp[3]="debugToConsole",Lp);function b8(I){return I?'"'+I[mp](/\"/g,mo)+'"':mo}o(b8,"_sanitizeDiagnosticText");function _I(I,v){var w=yI();if(w){var D="log";w[I]&&(D=I),ae(w[D])&&w[D](v)}}o(_I,"_logToConsole");var SI=function(){function I(v,w,D,z){D===void 0&&(D=!1);var de=this;de[v5]=v,de[Th]=(D?I8:E8)+v;var Ce=mo;On()&&(Ce=Rp().stringify(z));var we=(w?" message:"+b8(w):mo)+(z?" props:"+b8(Ce):mo);de[Th]+=we}return o(I,"_InternalLogMessage"),I.dataType="MessageData",I}();function WM(I,v){return(I||{})[Vf]||new wI(v)}o(WM,"safeGetLogger");var wI=function(){function I(v){this.identifier="DiagnosticLogger",this.queue=[];var w=0,D={},z,de,Ce,we,Me;q1(I,this,function(Ze){Me=Ar(v||{}),Ze.consoleLoggingLevel=function(){return z},Ze[L1]=function(Ft,Tr,pr,ln,Kn){Kn===void 0&&(Kn=!1);var xn=new SI(Tr,pr,Kn,ln);if(we)throw We(xn);var us=x8[Ft]||TI;if(fe(xn[Th]))Bt("throw"+(Ft===1?"Critical":"Warning"),xn);else{if(Kn){var pm=+xn[v5];!D[pm]&&z>=Ft&&(Ze[us](xn[Th]),D[pm]=!0)}else z>=Ft&&Ze[us](xn[Th]);St(Ft,xn)}},Ze.debugToConsole=function(Ft){_I("debug",Ft),Bt("warning",Ft)},Ze[Gf]=function(Ft){_I("warn",Ft),Bt("warning",Ft)},Ze.errorToConsole=function(Ft){_I("error",Ft),Bt("error",Ft)},Ze.resetInternalMessageCount=function(){w=0,D={}},Ze.logInternalMessage=St,Ze[a0]=function(Ft){Me&&Me.rm(),Me=null};function St(Ft,Tr){if(!Br()){var pr=!0,ln=GM+Tr[v5];if(D[ln]?pr=!1:D[ln]=!0,pr&&(Ft<=de&&(Ze.queue[Ln](Tr),w++,Bt(Ft===1?"error":"warn",Tr)),w===Ce)){var Kn="Internal events throttle limit per PageView reached for this app.",xn=new SI(23,Kn,!1);Ze.queue[Ln](xn),Ft===1?Ze.errorToConsole(Kn):Ze[Gf](Kn)}}}o(St,"_logInternalMessage");function Ar(Ft){return y8(z1(Ft,VM,Ze).cfg,function(Tr){var pr=Tr.cfg;z=pr[n8],de=pr.loggingLevelTelemetry,Ce=pr.maxMessageLimit,we=pr.enableDebug})}o(Ar,"_setDefaultsFromConfig");function Br(){return w>=Ce}o(Br,"_areInternalMessagesThrottled");function Bt(Ft,Tr){var pr=qM(v||{});pr&&pr[T5]&&pr[T5](Ft,Tr)}o(Bt,"_debugExtMsg")})}return o(I,"DiagnosticLogger"),I.__ieDyn=1,I}();function BI(I){return I||new wI}o(BI,"_getLogger");function c0(I,v,w,D,z,de){de===void 0&&(de=!1),BI(I)[L1](v,w,D,z,de)}o(c0,"_throwInternal");function RI(){for(var I=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],v=mo,w,D=0;D<4;D++)w=Pp(),v+=I[w&15]+I[w>>4&15]+I[w>>8&15]+I[w>>12&15]+I[w>>16&15]+I[w>>20&15]+I[w>>24&15]+I[w>>28&15];var z=I[8+(Pp()&3)|0];return qr(v,0,8)+qr(v,9,4)+"4"+qr(v,13,3)+z+qr(v,16,3)+qr(v,19,12)}o(RI,"generateW3CId");var Op=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,q5="00",M0="ff",cn="00000000000000000000000000000000",Nu="0000000000000000",jo=1;function Sc(I,v,w){return I&&I[ls]===v&&I!==w?!!I.match(/^[\da-f]*$/i):!1}o(Sc,"_isValid");function kI(I,v,w){return Sc(I,v)?I:w}o(kI,"_formatValue");function Fh(I){(isNaN(I)||I<0||I>255)&&(I=1);for(var v=I.toString(16);v[ls]<2;)v="0"+v;return v}o(Fh,"_formatFlags");function Up(I,v,w,D){return{version:Sc(D,2,M0)?D:q5,traceId:Hp(I)?I:RI(),spanId:qp(v)?v:qi(RI(),16),traceFlags:w>=0&&w<=255?w:1}}o(Up,"createTraceParent");function L0(I,v){if(!I||(ue(I)&&(I=I[0]||""),!I||!ee(I)||I[ls]>8192))return null;if(I.indexOf(",")!==-1){var w=I[_5](",");I=w[v>0&&w[ls]>v?v:0]}var D=Op.exec(Ma(I));return!D||D[1]===M0||D[2]===cn||D[3]===Nu?null:{version:(D[1]||mo)[M1](),traceId:(D[2]||mo)[M1](),spanId:(D[3]||mo)[M1](),traceFlags:parseInt(D[4],16)}}o(L0,"parseTraceParent");function Hp(I){return Sc(I,32,cn)}o(Hp,"isValidTraceId");function qp(I){return Sc(I,16,Nu)}o(qp,"isValidSpanId");function Gp(I){return!(!I||!Sc(I[r8],2,M0)||!Sc(I.traceId,32,cn)||!Sc(I.spanId,16,Nu)||!Sc(Fh(I[oI]),2))}o(Gp,"isValidTraceParent");function DI(I){return Gp(I)?(I[oI]&jo)===jo:!1}o(DI,"isSampledFlag");function Mh(I){if(I){var v=Fh(I[oI]);Sc(v,2)||(v="01");var w=I[r8]||q5;return w!=="00"&&w!=="ff"&&(w=q5),"".concat(w.toLowerCase(),"-").concat(kI(I.traceId,32,cn).toLowerCase(),"-").concat(kI(I.spanId,16,Nu).toLowerCase(),"-").concat(v.toLowerCase())}return""}o(Mh,"formatTraceParent");function G5(I){var v="traceparent",w=L0(CI(v),I);return w||(w=L0(gl(v),I)),w}o(G5,"findW3cTraceParent");function V5(I){var v=I.getElementsByTagName("script"),w=[];return Os(v,function(D){var z=D[S5]("src");if(z){var de=D[S5]("crossorigin"),Ce=D.hasAttribute("async")===!0,we=D.hasAttribute("defer")===!0,Me=D[S5]("referrerpolicy"),Ze={url:z};de&&(Ze.crossOrigin=de),Ce&&(Ze.async=Ce),we&&(Ze.defer=we),Me&&(Ze.referrerPolicy=Me),w[Ln](Ze)}}),w}o(V5,"findAllScripts");var NI="on",j1="attachEvent",QI="addEventListener",PI="detachEvent",v8="removeEventListener",W5="events";Ru("aiEvtPageHide"),Ru("aiEvtPageShow");var YM=/\.[\.]+/g,$M=/[\.]+$/,FI=1,Vp=Il("events"),Hs=/^([^.]*)(?:\.(.+)|)/;function K1(I){return I&&I[mp]?I[mp](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,mo):I}o(K1,"_normalizeNamespace");function Ss(I,v){if(v){var w=mo;ue(v)?(w=mo,Os(v,function(z){z=K1(z),z&&(z[0]!=="."&&(z="."+z),w+=z)})):w=K1(v),w&&(w[0]!=="."&&(w="."+w),I=(I||mo)+w)}var D=Hs.exec(I||mo)||[];return{type:D[1],ns:(D[2]||mo).replace(YM,".").replace($M,mo)[_5](".").sort().join(".")}}o(Ss,"_getEvtNamespace");function rd(I,v,w){w===void 0&&(w=!0);var D=Vp.get(I,W5,{},w),z=D[v];return z||(z=D[v]=[]),z}o(rd,"_getRegisteredEvents");function T8(I,v,w,D){I&&v&&v[Wf]&&(I[v8]?I[v8](v[Wf],w,D):I[PI]&&I[PI](NI+v[Wf],w))}o(T8,"_doDetach");function zM(I,v,w,D){var z=!1;return I&&v&&v[Wf]&&w&&(I[QI]?(I[QI](v[Wf],w,D),z=!0):I[j1]&&(I[j1](NI+v[Wf],w),z=!0)),z}o(zM,"_doAttach");function J1(I,v,w,D){for(var z=v[ls];z--;){var de=v[z];de&&(!w.ns||w.ns===de[o8].ns)&&(!D||D(de))&&(T8(I,de[o8],de.handler,de.capture),v[vh](z,1))}}o(J1,"_doUnregister");function Y5(I,v,w){if(v[Wf])J1(I,rd(I,v[Wf]),v,w);else{var D=Vp.get(I,W5,{});Gt(D,function(z,de){J1(I,de,v,w)}),Mn(D)[ls]===0&&Vp.kill(I,W5)}}o(Y5,"_unregisterEvents");function jM(I,v){var w;return v?(ue(v)?w=[I].concat(v):w=[I,v],w=Ss("xx",w).ns[_5](".")):w=I,w}o(jM,"mergeEvtNamespace");function $5(I,v,w,D,z){z===void 0&&(z=!1);var de=!1;if(I)try{var Ce=Ss(v,D);if(de=zM(I,Ce,w,z),de&&Vp.accept(I)){var we={guid:FI++,evtName:Ce,handler:w,capture:z};rd(I,Ce.type)[Ln](we)}}catch{}return de}o($5,"eventOn");function _8(I,v,w,D,z){if(z===void 0&&(z=!1),I)try{var de=Ss(v,D),Ce=!1;Y5(I,de,function(we){return de.ns&&!w||we.handler===w?(Ce=!0,!0):!1}),Ce||T8(I,de,w,z)}catch{}}o(_8,"eventOff");var MI="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",S8="sampleRate",LI="ProcessLegacy",w8="http.method",z5="https://dc.services.visualstudio.com",X1="/v2/track",xl="not_specified",j5="iKey",B8=RM({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),nd="split",hr="length",Wp="toLowerCase",Lh="ingestionendpoint",Oh="toString",K5="removeItem",Z1="message",Yp="count",OI="preTriggerDate",J5="getUTCDate",UI="stringify",$p="pathname",Uh="match",X5="correlationHeaderExcludePatterns",O0="name",zp="extensionConfig",bl="properties",La="measurements",jp="sizeInBytes",ey="typeName",Kp="exceptions",ty="severityLevel",Jp="problemGroup",l0="parsedStack",HI="hasFullStack",qI="assembly",wc="fileName",Xp="line",id="aiDataContract",ry="duration";function Z5(I,v,w){var D=v[hr],z=eT(I,v);if(z[hr]!==D){for(var de=0,Ce=z;w[Ce]!==void 0;)de++,Ce=zr(z,0,147)+R8(de);z=Ce}return z}o(Z5,"dataSanitizeKeyAndAddUniqueness");function eT(I,v){var w;return v&&(v=Ma(ut(v)),v[hr]>150&&(w=zr(v,0,150),c0(I,2,57,"name is too long.  It has been truncated to 150 characters.",{name:v},!0))),w||v}o(eT,"dataSanitizeKey");function ws(I,v,w){w===void 0&&(w=1024);var D;return v&&(w=w||1024,v=Ma(ut(v)),v[hr]>w&&(D=zr(v,0,w),c0(I,2,61,"string value is too long. It has been truncated to "+w+" characters.",{value:v},!0))),D||v}o(ws,"dataSanitizeString");function vl(I,v){return rT(I,v,2048,66)}o(vl,"dataSanitizeUrl");function GI(I,v){var w;return v&&v[hr]>32768&&(w=zr(v,0,32768),c0(I,2,56,"message is too long, it has been truncated to 32768 characters.",{message:v},!0)),w||v}o(GI,"dataSanitizeMessage");function tT(I,v){var w;if(v){var D=""+v;D[hr]>32768&&(w=zr(D,0,32768),c0(I,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:v},!0))}return w||v}o(tT,"dataSanitizeException");function Qu(I,v){if(v){var w={};Gt(v,function(D,z){if(ie(z)&&On())try{z=Rp()[UI](z)}catch(de){c0(I,2,49,"custom property is not valid",{exception:de},!0)}z=ws(I,z,8192),D=Z5(I,D,w),w[D]=z}),v=w}return v}o(Qu,"dataSanitizeProperties");function U0(I,v){if(v){var w={};Gt(v,function(D,z){D=Z5(I,D,w),w[D]=z}),v=w}return v}o(U0,"dataSanitizeMeasurements");function Zp(I,v){return v&&rT(I,v,128,69)[Oh]()}o(Zp,"dataSanitizeId");function rT(I,v,w,D){var z;return v&&(v=Ma(ut(v)),v[hr]>w&&(z=zr(v,0,w),c0(I,2,D,"input is too long, it has been truncated to "+w+" characters.",{data:v},!0))),z||v}o(rT,"dataSanitizeInput");function R8(I){var v="00"+I;return qr(v,v[hr]-3)}o(R8,"dsPadNumber");var nT=Se()||{},k8=0,KM=[null,null,null,null,null];function em(I){var v=k8,w=KM,D=w[v];return nT.createElement?w[v]||(D=w[v]=nT.createElement("a")):D={host:N8(I,!0)},D.href=I,v++,v>=w[hr]&&(v=0),k8=v,D}o(em,"urlParseUrl");function JM(I){var v,w=em(I);return w&&(v=w.href),v}o(JM,"urlGetAbsoluteUrl");function XM(I){var v,w=em(I);return w&&(v=w[$p]),v}o(XM,"urlGetPathName");function D8(I,v){return I?I.toUpperCase()+" "+v:v}o(D8,"urlGetCompleteUrl");function N8(I,v){var w=Pu(I,v)||"";if(w){var D=w[Uh](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(D!=null&&D[hr]>3&&ee(D[2])&&D[2][hr]>0)return D[2]+(D[3]||"")}return w}o(N8,"urlParseHost");function Pu(I,v){var w=null;if(I){var D=I[Uh](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(D!=null&&D[hr]>2&&ee(D[2])&&D[2][hr]>0&&(w=D[2]||"",v&&D[hr]>2)){var z=(D[1]||"")[Wp](),de=D[3]||"";(z==="http"&&de===":80"||z==="https"&&de===":443")&&(de=""),w+=de}}return w}o(Pu,"urlParseFullHost");var Q8=[z5+X1,"https://breeze.aimon.applicationinsights.io"+X1,"https://dc-int.services.visualstudio.com"+X1],tm="cid-v1:";function P8(I){return vu(Q8,I[Wp]())!==-1}o(P8,"isInternalApplicationInsightsEndpoint");function iT(I){tm=I}o(iT,"correlationIdSetPrefix");function oT(){return tm}o(oT,"correlationIdGetPrefix");function od(I,v,w){if(!v||I&&I.disableCorrelationHeaders)return!1;if(I&&I[X5]){for(var D=0;D<I.correlationHeaderExcludePatterns[hr];D++)if(I[X5][D].test(v))return!1}var z=em(v).host[Wp]();if(z&&(Yt(z,":443")!==-1||Yt(z,":80")!==-1)&&(z=(Pu(v,!0)||"")[Wp]()),(!I||!I.enableCorsCorrelation)&&z&&z!==w)return!1;var de=I&&I.correlationHeaderDomains;if(de){var Ce;if(Os(de,function(Ze){var St=new RegExp(Ze.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Ce=Ce||St.test(z)}),!Ce)return!1}var we=I&&I.correlationHeaderExcludedDomains;if(!we||we[hr]===0)return!0;for(var D=0;D<we[hr];D++){var Me=new RegExp(we[D].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Me.test(z))return!1}return z&&z[hr]>0}o(od,"correlationIdCanIncludeCorrelationHeader");function F8(I){if(I){var v=M8(I,B8[1]);if(v&&v!==tm)return v}}o(F8,"correlationIdGetCorrelationContext");function M8(I,v){if(I)for(var w=I[nd](","),D=0;D<w[hr];++D){var z=w[D][nd]("=");if(z[hr]===2&&z[0]===v)return z[1]}}o(M8,"correlationIdGetCorrelationContextValue");function L8(I,v,w,D){var z,de=D,Ce=D;if(v&&v[hr]>0){var we=em(v);if(z=we.host,!de)if(we[$p]!=null){var Me=we.pathname[hr]===0?"/":we[$p];Me.charAt(0)!=="/"&&(Me="/"+Me),Ce=we[$p],de=ws(I,w?w+" "+Me:Me)}else de=ws(I,v)}else z=D,de=D;return{target:z,name:de,data:Ce}}o(L8,"AjaxHelperParseDependencyPath");function ZM(){var I=P1();if(I&&I.now&&I.timing){var v=I.now()+I.timing.navigationStart;if(v>0)return v}return Ih()}o(ZM,"dateTimeUtilsNow");function eL(I,v){var w=null;return I!==0&&v!==0&&!H(I)&&!H(v)&&(w=v-I),w}o(eL,"dateTimeUtilsDuration");function sT(I,v){var w=I||{};return{getName:o(function(){return w[O0]},"getName"),setName:o(function(D){v&&v.setName(D),w[O0]=D},"setName"),getTraceId:o(function(){return w.traceID},"getTraceId"),setTraceId:o(function(D){v&&v.setTraceId(D),Hp(D)&&(w.traceID=D)},"setTraceId"),getSpanId:o(function(){return w.parentID},"getSpanId"),setSpanId:o(function(D){v&&v.setSpanId(D),qp(D)&&(w.parentID=D)},"setSpanId"),getTraceFlags:o(function(){return w.traceFlags},"getTraceFlags"),setTraceFlags:o(function(D){v&&v.setTraceFlags(D),w.traceFlags=D},"setTraceFlags")}}o(sT,"createDistributedTraceContextFromTrace");var rm=F1({LocalStorage:0,SessionStorage:1}),tL=F1({AI:0,AI_AND_W3C:1,W3C:2}),ny=F1({Normal:1,Critical:2}),sd=void 0,Bc=void 0,O8="";function nm(){return VI()?im(rm.LocalStorage):null}o(nm,"_getLocalStorageObject");function im(I){try{if(H(K()))return null;var v=new Date()[Oh](),w=F(I===rm.LocalStorage?"localStorage":"sessionStorage"),D=O8+v;w.setItem(D,v);var z=w.getItem(D)!==v;if(w[K5](D),!z)return w}catch{}return null}o(im,"_getVerifiedStorageObject");function om(){return Fu()?im(rm.SessionStorage):null}o(om,"_getSessionStorageObject");function iy(){sd=!1,Bc=!1}o(iy,"utlDisableStorage");function oy(I){O8=I||""}o(oy,"utlSetStoragePrefix");function rL(){sd=VI(!0),Bc=Fu(!0)}o(rL,"utlEnableStorage");function VI(I){return(I||sd===void 0)&&(sd=!!im(rm.LocalStorage)),sd}o(VI,"utlCanUseLocalStorage");function U8(I,v){var w=nm();if(w!==null)try{return w.getItem(v)}catch(D){sd=!1,c0(I,2,1,"Browser failed read of local storage. "+zf(D),{exception:We(D)})}return null}o(U8,"utlGetLocalStorage");function H8(I,v,w){var D=nm();if(D!==null)try{return D.setItem(v,w),!0}catch(z){sd=!1,c0(I,2,3,"Browser failed write to local storage. "+zf(z),{exception:We(z)})}return!1}o(H8,"utlSetLocalStorage");function H0(I,v){var w=nm();if(w!==null)try{return w[K5](v),!0}catch(D){sd=!1,c0(I,2,5,"Browser failed removal of local storage item. "+zf(D),{exception:We(D)})}return!1}o(H0,"utlRemoveStorage");function Fu(I){return(I||Bc===void 0)&&(Bc=!!im(rm.SessionStorage)),Bc}o(Fu,"utlCanUseSessionStorage");function sm(){var I=[];return Fu()&&Gt(F("sessionStorage"),function(v){I.push(v)}),I}o(sm,"utlGetSessionStorageKeys");function q8(I,v){var w=om();if(w!==null)try{return w.getItem(v)}catch(D){Bc=!1,c0(I,2,2,"Browser failed read of session storage. "+zf(D),{exception:We(D)})}return null}o(q8,"utlGetSessionStorage");function nL(I,v,w){var D=om();if(D!==null)try{return D.setItem(v,w),!0}catch(z){Bc=!1,c0(I,2,4,"Browser failed write to session storage. "+zf(z),{exception:We(z)})}return!1}o(nL,"utlSetSessionStorage");function G8(I,v){var w=om();if(w!==null)try{return w[K5](v),!0}catch(D){Bc=!1,c0(I,2,6,"Browser failed removal of session storage item. "+zf(D),{exception:We(D)})}return!1}o(G8,"utlRemoveSessionStorage");var iL="appInsightsThrottle",oL=function(){function I(v,w){var D=this,z,de,Ce,we,Me,Ze,St,Ar=!1,Br=!1;Ft(),D._getDbgPlgTargets=function(){return[St]},D.getConfig=function(){return Ce},D.canThrottle=function(at){var Ut=ET(at),tr=Tr(at);return Kn(tr,z,Ut)},D.isTriggered=function(at){return sB(at)},D.isReady=function(){return Ar},D.flush=function(at){try{var Ut=aB(at);if(Ut&&Ut[hr]>0){var tr=Ut.slice(0);return St[at]=[],Os(tr,function(vi){Bt(vi.msgID,vi[Z1],vi.severity,!1)}),!0}}catch{}return!1},D.flushAll=function(){try{if(St){var at=!0;return Gt(St,function(Ut){var tr=D.flush(parseInt(Ut));at=at&&tr}),at}}catch{}return!1},D.onReadyState=function(at,Ut){return Ut===void 0&&(Ut=!0),Ar=H(at)?!0:at,Ar&&Ut?D.flushAll():null},D.sendMessage=function(at,Ut,tr){return Bt(at,Ut,tr,!0)};function Bt(at,Ut,tr,vi){if(Ar){var ds=bL(at);if(!ds)return;var go=Tr(at),hs=ET(at),qh=Kn(go,z,hs),fd=!1,mm=0,cB=sB(at);try{qh&&!cB?(mm=jn(go.limit.maxSendNumber,hs[Yp]+1),hs[Yp]=0,fd=!0,Me[at]=!0,hs[OI]=new Date):(Me[at]=qh,hs[Yp]+=1);var lB=xn(at);CT(de,lB,hs);for(var i2=0;i2<mm;i2++)oB(at,de,Ut,tr)}catch{}return{isThrottled:fd,throttleNum:mm}}else if(vi){var vL=aB(at);vL.push({msgID:at,message:Ut,severity:tr})}return null}o(Bt,"_flushMessage");function Ft(){de=WM(v),Me={},we={},St={},Ce={},pr(109),Ze=F5(w)?w:"",v.addUnloadHook(y8(v.config,function(at){var Ut=at.cfg;z=VI();var tr=Ut.throttleMgrCfg||{};Gt(tr,function(vi,ds){pr(parseInt(vi),ds)})}))}o(Ft,"_initConfig");function Tr(at){return Ce[at]||Ce[109]}o(Tr,"_getCfgByKey");function pr(at,Ut){var tr,vi;try{var ds=Ut||{},go={};go.disabled=!!ds.disabled;var hs=ds.interval||{};Br=hs?.daysOfMonth&&hs?.daysOfMonth[hr]>0,go.interval=ln(hs);var qh={samplingRate:((tr=ds.limit)===null||tr===void 0?void 0:tr.samplingRate)||100,maxSendNumber:((vi=ds.limit)===null||vi===void 0?void 0:vi.maxSendNumber)||1};go.limit=qh,Ce[at]=go}catch{}}o(pr,"_setCfgByKey");function ln(at){at=at||{};var Ut=at?.monthInterval,tr=at?.dayInterval;return H(Ut)&&H(tr)&&(at.monthInterval=3,Br||(at.daysOfMonth=[28],Br=!0)),at={monthInterval:at?.monthInterval,dayInterval:at?.dayInterval,daysOfMonth:at?.daysOfMonth},at}o(ln,"_getIntervalConfig");function Kn(at,Ut,tr){if(at&&!at.disabled&&Ut&&F5(tr)){var vi=hy(),ds=tr.date,go=at.interval,hs=1;if(go?.monthInterval){var qh=(vi.getUTCFullYear()-ds.getUTCFullYear())*12+vi.getUTCMonth()-ds.getUTCMonth();hs=n2(go.monthInterval,0,qh)}var fd=1;if(Br)fd=vu(go.daysOfMonth,vi[J5]());else if(go?.dayInterval){var mm=Uf((vi.getTime()-ds.getTime())/864e5);fd=n2(go.dayInterval,0,mm)}return hs>=0&&fd>=0}return!1}o(Kn,"_canThrottle");function xn(at,Ut){var tr=F5(Ut)?Ut:"";return at?iL+tr+"-"+at:null}o(xn,"_getLocalStorageName");function us(at){try{if(at){var Ut=new Date;return at.getUTCFullYear()===Ut.getUTCFullYear()&&at.getUTCMonth()===Ut.getUTCMonth()&&at[J5]()===Ut[J5]()}}catch{}return!1}o(us,"_isTriggeredOnCurDate");function pm(at,Ut,tr){try{var vi={date:hy(),count:0};if(at){var ds=JSON.parse(at),go={date:hy(ds.date)||vi.date,count:ds[Yp]||vi[Yp],preTriggerDate:ds.preTriggerDate?hy(ds[OI]):void 0};return go}else return CT(Ut,tr,vi),vi}catch{}return null}o(pm,"_getLocalStorageObj");function hy(at){try{if(at){var Ut=new Date(at);if(!isNaN(Ut.getDate()))return Ut}else return new Date}catch{}return null}o(hy,"_getThrottleDate");function CT(at,Ut,tr){try{return H8(at,Ut,Ma(JSON[UI](tr)))}catch{}return!1}o(CT,"_resetLocalStorage");function n2(at,Ut,tr){return at<=0?1:tr>=Ut&&(tr-Ut)%at==0?Uf((tr-Ut)/at)+1:-1}o(n2,"_checkInterval");function oB(at,Ut,tr,vi){c0(Ut,vi||1,at,tr)}o(oB,"_sendMessage");function bL(at){try{var Ut=Tr(at);return EI(1e6)<=Ut.limit.samplingRate}catch{}return!1}o(bL,"_canSampledIn");function ET(at){try{var Ut=we[at];if(!Ut){var tr=xn(at,Ze);Ut=pm(U8(de,tr),de,tr),we[at]=Ut}return we[at]}catch{}return null}o(ET,"_getLocalStorageObjByKey");function sB(at){var Ut=Me[at];if(H(Ut)){Ut=!1;var tr=ET(at);tr&&(Ut=us(tr[OI])),Me[at]=Ut}return Me[at]}o(sB,"_isTrigger");function aB(at){return St=St||{},H(St[at])&&(St[at]=[]),St[at]}o(aB,"_getQueueByKey")}return o(I,"ThrottleMgr"),I}(),aT=";",Tl="=";function WI(I){if(!I)return{};var v=I[nd](aT),w=No(v,function(z,de){var Ce=de[nd](Tl);if(Ce[hr]===2){var we=Ce[0][Wp](),Me=Ce[1];z[we]=Me}return z},{});if(Mn(w)[hr]>0){if(w.endpointsuffix){var D=w.location?w.location+".":"";w[Lh]=w[Lh]||"https://"+D+"dc."+w.endpointsuffix}w[Lh]=w[Lh]||z5,hp(w[Lh],"/")&&(w[Lh]=w[Lh].slice(0,-1))}return w}o(WI,"parseConnectionString");var YI={parse:WI},$I=function(){function I(v,w,D){var z=this,de=this;de.ver=1,de.sampleRate=100,de.tags={},de[O0]=ws(v,D)||xl,de.data=w,de.time=wu(new Date),de[id]={time:1,iKey:1,name:1,sampleRate:o(function(){return z.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(I,"Envelope"),I}(),sL=function(){function I(v,w,D,z){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var de=this;de.ver=2,de[O0]=ws(v,w)||xl,de[bl]=Qu(v,D),de[La]=U0(v,z)}return o(I,"Event"),I.envelopeType="Microsoft.ApplicationInsights.{0}.Event",I.dataType="EventData",I}(),aL=58,V8=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,cL=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,am=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,W8=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,lL=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,uL=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,fL=/([^\(\s\n]+):([0-9]+)$/,Y8="<no_method>",cm="error",u0="stack",sy="stackDetails",zI="errorSrc",ay="message",cy="description",cT=[{re:cL,len:5,m:1,fn:2,ln:3,col:4},{chk:jI,pre:Mt,re:am,len:4,m:1,fn:2,ln:3},{re:W8,len:3,m:1,fn:2,hdl:uT},{re:lL,len:2,fn:1,hdl:uT}];function Mt(I){return I.replace(/(\(anonymous\))/,"<anonymous>")}o(Mt,"_scrubAnonymous");function jI(I){return Yt(I,"[native")<0}o(jI,"_ignoreNative");function ly(I,v){var w=I;return w&&!ee(w)&&(JSON&&JSON[UI]?(w=JSON[UI](I),v&&(!w||w==="{}")&&(ae(I[Oh])?w=I[Oh]():w=""+I)):w=""+I+" - (Missing JSON.stringify)"),w||""}o(ly,"_stringify");function ad(I,v){var w=I;return I&&(w&&!ee(w)&&(w=I[ay]||I[cy]||w),w&&!ee(w)&&(w=ly(w,!0)),I.filename&&(w=w+" @"+(I.filename||"")+":"+(I.lineno||"?")+":"+(I.colno||"?"))),v&&v!=="String"&&v!=="Object"&&v!=="Error"&&Yt(w||"",v)===-1&&(w=v+": "+w),w||""}o(ad,"_formatMessage");function $8(I){try{if(ie(I))return"hasFullStack"in I&&"typeName"in I}catch{}return!1}o($8,"_isExceptionDetailsInternal");function z8(I){try{if(ie(I))return"ver"in I&&"exceptions"in I&&"properties"in I}catch{}return!1}o(z8,"_isExceptionInternal");function KI(I){return I&&I.src&&ee(I.src)&&I.obj&&ue(I.obj)}o(KI,"_isStackDetails");function Mu(I){var v=I||"";ee(v)||(ee(v[u0])?v=v[u0]:v=""+v);var w=v[nd](`
`);return{src:v,obj:w}}o(Mu,"_convertStackObj");function j8(I){for(var v=[],w=I[nd](`
`),D=0;D<w[hr];D++){var z=w[D];w[D+1]&&(z+="@"+w[D+1],D++),v.push(z)}return{src:I,obj:v}}o(j8,"_getOperaStack");function JI(I){var v=null;if(I)try{if(I[u0])v=Mu(I[u0]);else if(I[cm]&&I[cm][u0])v=Mu(I[cm][u0]);else if(I.exception&&I.exception[u0])v=Mu(I.exception[u0]);else if(KI(I))v=I;else if(KI(I[sy]))v=I[sy];else if(rr()&&rr().opera&&I[ay])v=j8(I[Z1]);else if(I.reason&&I.reason[u0])v=Mu(I.reason[u0]);else if(ee(I))v=Mu(I);else{var w=I[ay]||I[cy]||"";ee(I[zI])&&(w&&(w+=`
`),w+=" from "+I[zI]),w&&(v=Mu(w))}}catch(D){v=Mu(D)}return v||{src:"",obj:null}}o(JI,"_getStackFromErrorObj");function K8(I){var v="";return I&&(I.obj?v=I.obj.join(`
`):v=I.src||""),v}o(K8,"_formatStackTrace");function XI(I){var v,w=I.obj;if(w&&w[hr]>0){v=[];var D=0,z=!1,de=0;Os(w,function(Tr){if(z||dL(Tr)){var pr=ut(Tr);z=!0;var ln=hL(pr,D);ln&&(de+=ln[jp],v.push(ln),D++)}});var Ce=32*1024;if(de>Ce)for(var we=0,Me=v[hr]-1,Ze=0,St=we,Ar=Me;we<Me;){var Br=v[we][jp],Bt=v[Me][jp];if(Ze+=Br+Bt,Ze>Ce){var Ft=Ar-St+1;v.splice(St,Ft);break}St=we,Ar=Me,we++,Me--}}return v}o(XI,"_parseStack");function lm(I){var v="";if(I&&(v=I.typeName||I[O0]||"",!v))try{var w=/function (.{1,200})\(/,D=w.exec(I.constructor[Oh]());v=D&&D[hr]>1?D[1]:""}catch{}return v}o(lm,"_getErrorType");function ZI(I){if(I)try{if(!ee(I)){var v=lm(I),w=ly(I,!1);return(!w||w==="{}")&&(I[cm]&&(I=I[cm],v=lm(I)),w=ly(I,!0)),Yt(w,v)!==0&&v!=="String"?v+":"+w:w}}catch{}return""+(I||"")}o(ZI,"_formatErrorCode");var _l=function(){function I(v,w,D,z,de,Ce){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var we=this;we.ver=2,z8(w)?(we[Kp]=w[Kp]||[],we[bl]=w[bl],we[La]=w[La],w[ty]&&(we[ty]=w[ty]),w.id&&(we.id=w.id,w[bl].id=w.id),w[Jp]&&(we[Jp]=w[Jp]),H(w.isManual)||(we.isManual=w.isManual)):(D||(D={}),Ce&&(D.id=Ce),we[Kp]=[Z8(v,w,D)],we[bl]=Qu(v,D),we[La]=U0(v,z),de&&(we[ty]=de),Ce&&(we.id=Ce))}return o(I,"Exception"),I.CreateAutoException=function(v,w,D,z,de,Ce,we,Me){var Ze=lm(de||Ce||v);return{message:ad(v,Ze),url:w,lineNumber:D,columnNumber:z,error:ZI(de||Ce||v),evt:ZI(Ce||v),typeName:Ze,stackDetails:JI(we||de||Ce),errorSrc:Me}},I.CreateFromInterface=function(v,w,D,z){var de=w[Kp]&&pl(w[Kp],function(we){return lT(v,we)}),Ce=new I(v,lI(lI({},w),{exceptions:de}),D,z);return Ce},I.prototype.toInterface=function(){var v=this,w=v.exceptions,D=v.properties,z=v.measurements,de=v.severityLevel,Ce=v.problemGroup,we=v.id,Me=v.isManual,Ze=w instanceof Array&&pl(w,function(St){return St.toInterface()})||void 0;return{ver:"4.0",exceptions:Ze,severityLevel:de,properties:D,measurements:z,problemGroup:Ce,id:we,isManual:Me}},I.CreateSimpleException=function(v,w,D,z,de,Ce){var we;return{exceptions:[(we={},we[HI]=!0,we.message=v,we.stack=de,we.typeName=w,we)]}},I.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",I.dataType="ExceptionData",I.formatError=ZI,I}(),J8=$o({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function X8(){var I=this,v=ue(I[l0])&&pl(I[l0],function(D){return tB(D)}),w={id:I.id,outerId:I.outerId,typeName:I[ey],message:I[Z1],hasFullStack:I[HI],stack:I[u0],parsedStack:v||void 0};return w}o(X8,"_toInterface");function Z8(I,v,w){var D,z,de,Ce,we,Me,Ze,St;if($8(v))Ce=v[ey],we=v[Z1],Ze=v[u0],St=v[l0]||[],Me=v[HI];else{var Ar=v,Br=Ar&&Ar.evt;Ae(Ar)||(Ar=Ar[cm]||Br||Ar),Ce=ws(I,lm(Ar))||xl,we=GI(I,ad(v||Ar,Ce))||xl;var Bt=v[sy]||JI(v);St=XI(Bt),ue(St)&&pl(St,function(Ft){Ft[qI]=ws(I,Ft[qI]),Ft[wc]=ws(I,Ft[wc])}),Ze=tT(I,K8(Bt)),Me=ue(St)&&St[hr]>0,w&&(w[ey]=w[ey]||Ce)}return D={},D[id]=J8,D.id=z,D.outerId=de,D.typeName=Ce,D.message=we,D[HI]=Me,D.stack=Ze,D.parsedStack=St,D.toInterface=X8,D}o(Z8,"_createExceptionDetails");function lT(I,v){var w=ue(v[l0])&&pl(v[l0],function(z){return eB(z)})||v[l0],D=Z8(I,lI(lI({},v),{parsedStack:w}));return D}o(lT,"_createExDetailsFromInterface");function uy(I,v){var w=v[Uh](uL);if(w&&w[hr]>=4)I[wc]=w[1],I[Xp]=parseInt(w[2]);else{var D=v[Uh](fL);D&&D[hr]>=3?(I[wc]=D[1],I[Xp]=parseInt(D[2])):I[wc]=v}}o(uy,"_parseFilename");function uT(I,v,w){var D=I[wc];v.fn&&w&&w[hr]>v.fn&&(v.ln&&w[hr]>v.ln?(D=Ma(w[v.fn]||""),I[Xp]=parseInt(Ma(w[v.ln]||""))||0):D=Ma(w[v.fn]||"")),D&&uy(I,D)}o(uT,"_handleFilename");function dL(I){var v=!1;if(I&&ee(I)){var w=Ma(I);w&&(v=V8.test(w))}return v}o(dL,"_isStackFrame");var fT=$o({level:1,method:1,assembly:0,fileName:0,line:0});function hL(I,v){var w,D;if(I&&ee(I)&&Ma(I)){D=(w={},w[id]=fT,w.level=v,w.assembly=Ma(I),w.method=Y8,w.fileName="",w.line=0,w.sizeInBytes=0,w);for(var z=0;z<cT[hr];){var de=cT[z];if(de.chk&&!de.chk(I))break;de.pre&&(I=de.pre(I));var Ce=I[Uh](de.re);if(Ce&&Ce[hr]>=de.len){de.m&&(D.method=Ma(Ce[de.m]||Y8)),de.hdl?de.hdl(D,de,Ce):de.fn&&(de.ln?(D[wc]=Ma(Ce[de.fn]||""),D[Xp]=parseInt(Ma(Ce[de.ln]||""))||0):uy(D,Ce[de.fn]||""));break}z++}}return dT(D)}o(hL,"_extractStackFrame");function eB(I){var v,w=(v={},v[id]=fT,v.level=I.level,v.method=I.method,v.assembly=I[qI],v.fileName=I[wc],v.line=I[Xp],v.sizeInBytes=0,v);return dT(w)}o(eB,"_stackFrameFromInterface");function dT(I){var v=aL;return I&&(v+=I.method[hr],v+=I.assembly[hr],v+=I.fileName[hr],v+=I.level.toString()[hr],v+=I.line.toString()[hr],I[jp]=v),I}o(dT,"_populateFrameSizeInBytes");function tB(I){return{level:I.level,method:I.method,assembly:I[qI],fileName:I[wc],line:I[Xp]}}o(tB,"_parsedFrameToInterface");var rB=function(){function I(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(I,"DataPoint"),I}(),AL=function(){function I(v,w,D,z,de,Ce,we,Me,Ze){this.aiDataContract={ver:1,metrics:1,properties:0};var St=this;St.ver=2;var Ar=new rB;Ar[Yp]=z>0?z:void 0,Ar.max=isNaN(Ce)||Ce===null?void 0:Ce,Ar.min=isNaN(de)||de===null?void 0:de,Ar[O0]=ws(v,w)||xl,Ar.value=D,Ar.stdDev=isNaN(we)||we===null?void 0:we,St.metrics=[Ar],St[bl]=Qu(v,Me),St[La]=U0(v,Ze)}return o(I,"Metric"),I.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",I.dataType="MetricData",I}(),um="";function pL(I,v){return v===void 0&&(v=!1),I==null?v:I.toString()[Wp]()==="true"}o(pL,"stringToBoolOrDefault");function hT(I){(isNaN(I)||I<0)&&(I=0),I=I5(I);var v=um+I%1e3,w=um+Uf(I/1e3)%60,D=um+Uf(I/(1e3*60))%60,z=um+Uf(I/(1e3*60*60))%24,de=Uf(I/(1e3*60*60*24));return v=v[hr]===1?"00"+v:v[hr]===2?"0"+v:v,w=w[hr]<2?"0"+w:w,D=D[hr]<2?"0"+D:D,z=z[hr]<2?"0"+z:z,(de>0?de+".":um)+z+":"+D+":"+w+"."+v}o(hT,"msToTimeSpan");function mL(I,v){var w=null;return Os(I,function(D){if(D.identifier===v)return w=D,-1}),w}o(mL,"getExtensionByName");function cd(I,v,w,D,z){return!z&&ee(I)&&(I==="Script error."||I==="Script error")}o(cd,"isCrossOriginError");var gL=function(){function I(v,w,D,z,de,Ce,we){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Me=this;Me.ver=2,Me.id=Zp(v,we),Me.url=vl(v,D),Me[O0]=ws(v,w)||xl,isNaN(z)||(Me[ry]=hT(z)),Me[bl]=Qu(v,de),Me[La]=U0(v,Ce)}return o(I,"PageView"),I.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",I.dataType="PageviewData",I}(),fm=function(){function I(v,w,D,z,de,Ce,we,Me,Ze,St,Ar,Br){Ze===void 0&&(Ze="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Bt=this;Bt.ver=2,Bt.id=w,Bt[ry]=hT(de),Bt.success=Ce,Bt.resultCode=we+"",Bt.type=ws(v,Ze);var Ft=L8(v,D,Me,z);Bt.data=vl(v,z)||Ft.data,Bt.target=ws(v,Ft.target),St&&(Bt.target="".concat(Bt.target," | ").concat(St)),Bt[O0]=ws(v,Ft[O0]),Bt[bl]=Qu(v,Ar),Bt[La]=U0(v,Br)}return o(I,"RemoteDependencyData"),I.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",I.dataType="RemoteDependencyData",I}(),AT=function(){function I(v,w,D,z,de){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Ce=this;Ce.ver=2,w=w||xl,Ce[Z1]=GI(v,w),Ce[bl]=Qu(v,z),Ce[La]=U0(v,de),D&&(Ce[ty]=D)}return o(I,"Trace"),I.envelopeType="Microsoft.ApplicationInsights.{0}.Message",I.dataType="MessageData",I}(),fy=function(){function I(v,w,D,z,de,Ce,we){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Me=this;Me.ver=2,Me.url=vl(v,D),Me[O0]=ws(v,w)||xl,Me[bl]=Qu(v,de),Me[La]=U0(v,Ce),we&&(Me.domProcessing=we.domProcessing,Me[ry]=we[ry],Me.networkConnect=we.networkConnect,Me.perfTotal=we.perfTotal,Me.receivedResponse=we.receivedResponse,Me.sentRequest=we.sentRequest)}return o(I,"PageViewPerformance"),I.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",I.dataType="PageviewPerformanceData",I}(),yL=function(){function I(v,w){this.aiDataContract={baseType:1,baseData:1},this.baseType=v,this.baseData=w}return o(I,"Data"),I}(),e2=F1({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),CL=function(){function I(){}return o(I,"ConfigurationManager"),I.getConfig=function(v,w,D,z){z===void 0&&(z=!1);var de;return D&&v[zp]&&v[zp][D]&&!H(v[zp][D][w])?de=v[zp][D][w]:de=v[w],H(de)?z:de},I}();function Sl(I){var v="ai."+I+".";return function(w){return v+w}}o(Sl,"_aiNameFunc");var dm=Sl("application"),Ko=Sl("device"),t2=Sl("location"),hm=Sl("operation"),r2=Sl("session"),ld=Sl("user"),Hh=Sl("cloud"),dy=Sl("internal"),ud=function(I){Yf(v,I);function v(){return I.call(this)||this}return o(v,"ContextTagKeys"),v}(V1({applicationVersion:dm("ver"),applicationBuild:dm("build"),applicationTypeId:dm("typeId"),applicationId:dm("applicationId"),applicationLayer:dm("layer"),deviceId:Ko("id"),deviceIp:Ko("ip"),deviceLanguage:Ko("language"),deviceLocale:Ko("locale"),deviceModel:Ko("model"),deviceFriendlyName:Ko("friendlyName"),deviceNetwork:Ko("network"),deviceNetworkName:Ko("networkName"),deviceOEMName:Ko("oemName"),deviceOS:Ko("os"),deviceOSVersion:Ko("osVersion"),deviceRoleInstance:Ko("roleInstance"),deviceRoleName:Ko("roleName"),deviceScreenResolution:Ko("screenResolution"),deviceType:Ko("type"),deviceMachineName:Ko("machineName"),deviceVMName:Ko("vmName"),deviceBrowser:Ko("browser"),deviceBrowserVersion:Ko("browserVersion"),locationIp:t2("ip"),locationCountry:t2("country"),locationProvince:t2("province"),locationCity:t2("city"),operationId:hm("id"),operationName:hm("name"),operationParentId:hm("parentId"),operationRootId:hm("rootId"),operationSyntheticSource:hm("syntheticSource"),operationCorrelationVector:hm("correlationVector"),sessionId:r2("id"),sessionIsFirst:r2("isFirst"),sessionIsNew:r2("isNew"),userAccountAcquisitionDate:ld("accountAcquisitionDate"),userAccountId:ld("accountId"),userAgent:ld("userAgent"),userId:ld("id"),userStoreRegion:ld("storeRegion"),userAuthUserId:ld("authUserId"),userAnonymousUserAcquisitionDate:ld("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ld("authUserAcquisitionDate"),cloudName:Hh("name"),cloudRole:Hh("role"),cloudRoleVer:Hh("roleVer"),cloudRoleInstance:Hh("roleInstance"),cloudEnvironment:Hh("environment"),cloudLocation:Hh("location"),cloudDeploymentUnit:Hh("deploymentUnit"),internalNodeName:dy("nodeName"),internalSdkVersion:dy("sdkVersion"),internalAgentVersion:dy("agentVersion"),internalSnippet:dy("snippet"),internalSdkSrc:dy("sdkSrc")}));function pT(I,v,w,D,z,de){w=ws(D,w)||xl,(H(I)||H(v)||H(w))&&Mr("Input doesn't contain all required fields");var Ce="";I[j5]&&(Ce=I[j5],delete I[j5]);var we={name:w,time:wu(new Date),iKey:Ce,ext:de||{},tags:[],data:{},baseType:v,baseData:I};return H(z)||Gt(z,function(Me,Ze){we.data[Me]=Ze}),we}o(pT,"createTelemetryItem");var mT=function(){function I(){}return o(I,"TelemetryItemCreator"),I.create=pT,I}(),EL={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},IL=new ud;function nB(I){var v=null;if(ae(Event))v=new Event(I);else{var w=Se();w&&w.createEvent&&(v=w.createEvent("Event"),v.initEvent(I,!0,!0))}return v}o(nB,"createDomEvent");function gT(I,v){_8(I,null,null,v)}o(gT,"_disableEvents");function iB(I){var v=Se(),w=Dn(),D=!1,z=[],de=1;w&&!H(w.onLine)&&!w.onLine&&(de=2);var Ce=0,we=Br(),Me=jM(Ru("OfflineListener"),I);try{if(St(rr())&&(D=!0),v){var Ze=v.body||v;Ze.ononline&&St(Ze)&&(D=!0)}}catch{D=!1}function St(xn){var us=!1;return xn&&(us=$5(xn,"online",Tr,Me),us&&$5(xn,"offline",pr,Me)),us}o(St,"_enableEvents");function Ar(){return we}o(Ar,"_isOnline");function Br(){return!(Ce===2||de===2)}o(Br,"calCurrentState");function Bt(){var xn=Br();we!==xn&&(we=xn,Os(z,function(us){var pm={isOnline:we,rState:de,uState:Ce};try{us(pm)}catch{}}))}o(Bt,"listnerNoticeCheck");function Ft(xn){Ce=xn,Bt()}o(Ft,"setOnlineState");function Tr(){de=1,Bt()}o(Tr,"_setOnline");function pr(){de=2,Bt()}o(pr,"_setOffline");function ln(){var xn=rr();if(xn&&D){if(gT(xn,Me),v){var us=v.body||v;fe(us.ononline)||gT(us,Me)}D=!1}}o(ln,"_unload");function Kn(xn){return z.push(xn),{rm:o(function(){var us=z.indexOf(xn);if(us>-1)return z.splice(us,1)},"rm")}}return o(Kn,"addListener"),{isOnline:Ar,isListening:o(function(){return D},"isListening"),unload:ln,addListener:Kn,setOnlineState:Ft}}o(iB,"createOfflineListener");var xL="AppInsightsPropertiesPlugin",yT="AppInsightsChannelPlugin",Am="ApplicationInsightsAnalytics";t.AnalyticsPluginIdentifier=Am,t.BreezeChannelIdentifier=yT,t.ConfigurationManager=CL,t.ConnectionStringParser=YI,t.ContextTagKeys=ud,t.CtxTagKeys=IL,t.DEFAULT_BREEZE_ENDPOINT=z5,t.DEFAULT_BREEZE_PATH=X1,t.Data=yL,t.DisabledPropertyName=MI,t.DistributedTracingModes=tL,t.Envelope=$I,t.Event=sL,t.EventPersistence=ny,t.Exception=_l,t.Extensions=EL,t.HttpMethod=w8,t.Metric=AL,t.PageView=gL,t.PageViewPerformance=fy,t.ProcessLegacy=LI,t.PropertiesPluginIdentifier=xL,t.RemoteDependencyData=fm,t.RequestHeaders=B8,t.SampleRate=S8,t.SeverityLevel=e2,t.TelemetryItemCreator=mT,t.ThrottleMgr=oL,t.Trace=AT,t.correlationIdCanIncludeCorrelationHeader=od,t.correlationIdGetCorrelationContext=F8,t.correlationIdGetCorrelationContextValue=M8,t.correlationIdGetPrefix=oT,t.correlationIdSetPrefix=iT,t.createDistributedTraceContextFromTrace=sT,t.createDomEvent=nB,t.createOfflineListener=iB,t.createTelemetryItem=pT,t.createTraceParent=Up,t.dataSanitizeException=tT,t.dataSanitizeId=Zp,t.dataSanitizeInput=rT,t.dataSanitizeKey=eT,t.dataSanitizeKeyAndAddUniqueness=Z5,t.dataSanitizeMeasurements=U0,t.dataSanitizeMessage=GI,t.dataSanitizeProperties=Qu,t.dataSanitizeString=ws,t.dataSanitizeUrl=vl,t.dateTimeUtilsDuration=eL,t.dateTimeUtilsNow=ZM,t.dsPadNumber=R8,t.findAllScripts=V5,t.findW3cTraceParent=G5,t.formatTraceParent=Mh,t.getExtensionByName=mL,t.isBeaconApiSupported=Kf,t.isCrossOriginError=cd,t.isInternalApplicationInsightsEndpoint=P8,t.isSampledFlag=DI,t.isValidSpanId=qp,t.isValidTraceId=Hp,t.isValidTraceParent=Gp,t.msToTimeSpan=hT,t.parseConnectionString=WI,t.parseTraceParent=L0,t.strNotSpecified=xl,t.stringToBoolOrDefault=pL,t.urlGetAbsoluteUrl=JM,t.urlGetCompleteUrl=D8,t.urlGetPathName=XM,t.urlParseFullHost=Pu,t.urlParseHost=N8,t.urlParseUrl=em,t.utlCanUseLocalStorage=VI,t.utlCanUseSessionStorage=Fu,t.utlDisableStorage=iy,t.utlEnableStorage=rL,t.utlGetLocalStorage=U8,t.utlGetSessionStorage=q8,t.utlGetSessionStorageKeys=sm,t.utlRemoveSessionStorage=G8,t.utlRemoveStorage=H0,t.utlSetLocalStorage=H8,t.utlSetSessionStorage=nL,t.utlSetStoragePrefix=oy})});var H0e=q((Y9,U0e)=>{u();(function(t,e){typeof Y9=="object"&&typeof U0e<"u"?e(Y9):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e((t.Microsoft=t.Microsoft||{},t.Microsoft.ApplicationInsights=t.Microsoft.ApplicationInsights||{})))})(Y9,function(t){"use strict";function e(p,g){return p||g}o(e,"_pureAssign");function r(p,g){return p[g]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",c="object",l="prototype",f="__proto__",d="undefined",h="constructor",A="Symbol",m="_polyfill",y="length",x="name",_="call",T="toString",S=e(Object),k=r(S,l),N=e(String),P=r(N,l),L=e(Math),Y=e(Array),te=r(Y,l),ne=r(te,"slice");function pe(p,g){try{return{v:p.apply(this,g)}}catch(E){return{e:E}}}o(pe,"safe");function W(p,g){var E=pe(p);return E.e?g:E.v}o(W,"safeGet");var $;function Ie(p){return function(g){return typeof g===p}}o(Ie,"_createIs");function fe(p){var g="[object "+p+"]";return function(E){return!!(E&&X(E)===g)}}o(fe,"_createObjIs");function X(p){return k[T].call(p)}o(X,"objToString");function H(p){return typeof p===d||p===d}o(H,"isUndefined");function Z(p){return!ie(p)}o(Z,"isStrictUndefined");function ee(p){return p===i||H(p)}o(ee,"isNullOrUndefined");function ae(p){return p===i||!ie(p)}o(ae,"isStrictNullOrUndefined");function ie(p){return!!p||p!==n}o(ie,"isDefined");function ue(p){return!$&&($=["string","number","boolean",d,"symbol","bigint"]),p!==c&&$.indexOf(p)!==-1}o(ue,"isPrimitiveType");var Ae=Ie("string"),Ke=Ie(a);function tt(p){return!p&&ee(p)?!1:!!p&&typeof p===c}o(tt,"isObject");var ct=r(Y,"isArray"),Ct=fe("Date"),Gt=Ie("number"),Ur=Ie("boolean"),kn=fe("Error");function br(p){return!!(p&&p.then&&Ke(p.then))}o(br,"isPromiseLike");function se(p){return!(!p||W(function(){return!(p&&0+p)},!p))}o(se,"isTruthy");var Je=r(S,"getOwnPropertyDescriptor");function me(p,g){return!!p&&k.hasOwnProperty[_](p,g)}o(me,"objHasOwnProperty");var ut=e(r(S,"hasOwn"),ot);function ot(p,g){return me(p,g)||!!Je(p,g)}o(ot,"polyObjHasOwn");function We(p,g,E){if(p&&tt(p)){for(var b in p)if(ut(p,b)&&g[_](E||p,b,p[b])===-1)break}}o(We,"objForEachKey");var Mr={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function In(p){var g={};if(g[Mr.c]=!0,g[Mr.e]=!0,p.l){g.get=function(){return p.l.v};var E=Je(p.l,"v");E&&E.set&&(g.set=function(b){p.l.v=b})}return We(p,function(b,B){g[Mr[b]]=Z(B)?g[Mr[b]]:B}),g}o(In,"_createProp");var Hr=r(S,"defineProperty");function Kt(p,g,E){return Hr(p,g,In(E))}o(Kt,"objDefine");function mi(p,g,E,b,B){var R={};return We(p,function(Q,V){Yo(R,Q,g?V:Q),Yo(R,V,E?V:Q)}),b?b(R):R}o(mi,"_createKeyValueMap");function Yo(p,g,E,b){Hr(p,g,{value:E,enumerable:!0,writable:!1})}o(Yo,"_assignMapValue");var Mn=e(N),$o="[object Error]";function Jt(p,g){var E=s,b=k[T][_](p);b===$o&&(p={stack:Mn(p.stack),message:Mn(p.message),name:Mn(p.name)});try{E=JSON.stringify(p,i,g?typeof g=="number"?g:4:n),E=(E?E.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||Mn(p)}catch(B){E=" - "+Jt(B,g)}return b+": "+E}o(Jt,"dumpObj");function po(p){throw new Error(p)}o(po,"throwError");function ko(p){throw new TypeError(p)}o(ko,"throwTypeError");var ua=r(S,"freeze");function le(p){return p}o(le,"_doNothing");function Ge(p){return p[f]||i}o(Ge,"_getProto");var dt=r(S,"assign"),xt=r(S,"keys");function Yr(p){return ua&&We(p,function(g,E){(ct(E)||tt(E))&&Yr(E)}),vr(p)}o(Yr,"objDeepFreeze");var vr=e(ua,le),jn=e(r(S,"getPrototypeOf"),Ge);function ii(p){return mi(p,1,0,vr)}o(ii,"createEnum");function Lr(p){return mi(p,0,0,vr)}o(Lr,"createEnumKeyMap");function zr(p){var g={};return We(p,function(E,b){Yo(g,E,b[1]),Yo(g,b[0],b[1])}),vr(g)}o(zr,"createSimpleMap");function qr(p){return zr(p)}o(qr,"createTypeMap");var fi=Lr({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),qi="__tsUtils$gblCfg",Do;function vc(){var p;return typeof globalThis!==d&&(p=globalThis),!p&&typeof self!==d&&(p=self),!p&&typeof window!==d&&(p=window),!p&&typeof global!==d&&(p=global),p}o(vc,"_getGlobalValue");function Mf(){if(!Do){var p=pe(vc).v||{};Do=p[qi]=p[qi]||{}}return Do}o(Mf,"_getGlobalConfig");var D0=Iu;function Iu(p,g,E){var b=g?g[p]:i;return function(B){var R=(B?B[p]:i)||b;if(R||E){var Q=arguments;return(R||E).apply(B,R?ne[_](Q,1):Q)}ko('"'+Mn(p)+'" not defined for '+Jt(B))}}o(Iu,"_unwrapFunctionWithPoly");function as(p){return function(g){return g[p]}}o(as,"_unwrapProp");var xu=r(L,"min"),Te=r(L,"max"),M=D0("slice",P),ce=D0("substring",P),ye=Iu("substr",P,K);function K(p,g,E){return ee(p)&&ko("Invalid "+Jt(p)),E<0?s:(g=g||0,g<0&&(g=Te(g+p[y],0)),H(E)?M(p,g):M(p,g,g+E))}o(K,"polyStrSubstr");function F(p,g){return ce(p,0,g)}o(F,"strLeft");var Se="_urid",Xe;function rr(){if(!Xe){var p=Mf();Xe=p.gblSym=p.gblSym||{k:{},s:{}}}return Xe}o(rr,"_globalSymbolRegistry");var gi;function Dn(p){var g={description:Mn(p),toString:o(function(){return A+"("+p+")"},"toString")};return g[m]=!0,g}o(Dn,"polyNewSymbol");function Ls(p){var g=rr();if(!ut(g.k,p)){var E=Dn(p),b=xt(g.s).length;E[Se]=function(){return b+"_"+E[T]()},g.k[p]=E,g.s[E[Se]()]=Mn(p)}return g.k[p]}o(Ls,"polySymbolFor");function fa(p){!gi&&(gi={});var g,E=fi[p];return E&&(g=gi[E]=gi[E]||Dn(A+"."+E)),g}o(fa,"polyGetKnownSymbol");var oi;function kr(){oi=Mf()}o(kr,"_initTestHooks");function N0(p){var g={};return!oi&&kr(),g.b=oi.lzy,Hr(g,"v",{configurable:!0,get:o(function(){var E=p();return oi.lzy||Hr(g,"v",{value:E}),g.b=oi.lzy,E},"get")}),g}o(N0,"getLazy");function cs(p){return Hr({toJSON:o(function(){return p},"toJSON")},"v",{value:p})}o(cs,"createCachedValue");var bu="window",Os;function vu(p,g){var E;return function(){return!oi&&kr(),(!E||oi.lzy)&&(E=cs(pe(p,g).v)),E.v}}o(vu,"_getGlobalInstFn");function pl(p){return!oi&&kr(),(!Os||p===!1||oi.lzy)&&(Os=cs(pe(vc).v||i)),Os.v}o(pl,"getGlobal");function No(p,g){var E;if(!Os||g===!1?E=pl(g):E=Os.v,E&&E[p])return E[p];if(p===bu)try{return window}catch{}return i}o(No,"getInst");function Lf(){return!!dp()}o(Lf,"hasDocument");var dp=vu(No,["document"]);function C5(){return!!Tu()}o(C5,"hasWindow");var Tu=vu(No,[bu]);function TM(){return!!Of()}o(TM,"hasNavigator");var Of=vu(No,["navigator"]),_M=vu(function(){return!!pe(function(){return process&&(process.versions||{}).node}).v}),Ih,E5;function nI(){return Ih=cs(pe(No,[A]).v),Ih}o(nI,"_initSymbol");function SM(p){var g=(oi.lzy?0:Ih)||nI();return g.v?g.v[p]:n}o(SM,"_getSymbolKey");function Ma(){return!!Uf()}o(Ma,"hasSymbol");function Uf(){return!oi&&kr(),((oi.lzy?0:Ih)||nI()).v}o(Uf,"getSymbol");function N1(p,g){var E=fi[p];!oi&&kr();var b=(oi.lzy?0:Ih)||nI();return b.v?b.v[E||p]:g?n:fa(p)}o(N1,"getKnownSymbol");function xh(p,g){!oi&&kr();var E=(oi.lzy?0:Ih)||nI();return E.v?E.v(p):g?i:Dn(p)}o(xh,"newSymbol");function Q1(p){return!oi&&kr(),E5=(oi.lzy?0:E5)||cs(pe(SM,["for"]).v),(E5.v||Ls)(p)}o(Q1,"symbolFor");function Hf(p){return!!p&&Ke(p.next)}o(Hf,"isIterator");function iI(p){return!ae(p)&&Ke(p[N1(3)])}o(iI,"isIterable");var P1;function I5(p,g,E){if(p&&(Hf(p)||(!P1&&(P1=cs(N1(3))),p=p[P1.v]?p[P1.v]():i),Hf(p))){var b=n,B=n;try{for(var R=0;!(B=p.next()).done&&g[_](E||p,B.value,R,p)!==-1;)R++}catch(Q){b={e:Q},p.throw&&(B=i,p.throw(b))}finally{try{B&&!B.done&&p.return&&p.return(B)}finally{if(b)throw b.e}}}}o(I5,"iterForOf");function hp(p,g,E){return p.apply(g,E)}o(hp,"fnApply");function Ap(p,g){return!H(g)&&p&&(ct(g)?hp(p.push,p,g):Hf(g)||iI(g)?I5(g,function(E){p.push(E)}):p.push(g)),p}o(Ap,"arrAppend");function Yt(p,g,E){if(p)for(var b=p[y]>>>0,B=0;B<b&&!(B in p&&g[_](E||p,p[B],B,p)===-1);B++);}o(Yt,"arrForEach");var s0=D0("indexOf",te),bh=D0("map",te);function pp(p,g,E){return((p?p.slice:i)||ne).apply(p,ne[_](arguments,1))}o(pp,"arrSlice");var wM=D0("reduce",te),qf=e(r(S,"create"),BM);function BM(p){if(!p)return{};var g=typeof p;g!==c&&g!==a&&ko("Prototype must be an Object or function: "+Jt(p));function E(){}return o(E,"tempFunc"),E[l]=p,new E}o(BM,"polyObjCreate");var x5;function F1(p,g){var E=S.setPrototypeOf||function(b,B){var R;!x5&&(x5=cs((R={},R[f]=[],R instanceof Array))),x5.v?b[f]=B:We(B,function(Q,V){return b[Q]=V})};return E(p,g)}o(F1,"objSetPrototypeOf");function RM(p,g,E){pe(Kt,[g,x,{v:p,c:!0,e:!1}]),g=F1(g,E);function b(){this[h]=g,pe(Kt,[this,x,{v:p,c:!0,e:!1}])}return o(b,"__"),g[l]=E===i?qf(E):(b[l]=E[l],new b),g}o(RM,"_createCustomError");function M1(p,g){g&&(p[x]=g)}o(M1,"_setName");function ls(p,g,E){var b=E||Error,B=b[l][x],R=Error.captureStackTrace;return RM(p,function(){var Q=this,V=arguments;try{pe(M1,[b,p]);var j=hp(b,Q,ne[_](V))||Q;if(j!==Q){var re=jn(Q);re!==jn(j)&&F1(j,re)}return R&&R(j,Q[h]),g&&g(j,V),j}finally{pe(M1,[b,B])}},b)}o(ls,"createCustomError");function Gf(){return(Date.now||L1)()}o(Gf,"utcNow");function L1(){return new Date().getTime()}o(L1,"polyUtcNow");function t8(p){return o(function(E){return ee(E)&&ko("strTrim called ["+Jt(E)+"]"),E&&E.replace&&(E=E.replace(p,s)),E},"_doTrim")}o(t8,"_createTrimFn");var kM=t8(/^\s+|(?=\s)\s+$/g),Ln=Iu("trim",P,kM),vh=r(L,"floor"),Vf,b5,O1;function a0(p){if(!p||typeof p!==c)return!1;O1||(O1=C5()?Tu():!0);var g=!1;if(p!==O1){b5||(Vf=Function[l][T],b5=Vf[_](S));try{var E=jn(p);g=!E,g||(me(E,h)&&(E=E[h]),g=!!(E&&typeof E===a&&Vf[_](E)===b5))}catch{}}return g}o(a0,"isPlainObject");function r8(p){return p.value&&oI(p),!0}o(r8,"_defaultDeepCopyHandler");var n8=[mp,oI,o8,Wf];function v5(p,g,E,b){var B;return Yt(p,function(R){if(R.k===g)return B=R,-1}),B||(B={k:g,v:g},p.push(B),b(B)),B.v}o(v5,"_getSetVisited");function Th(p,g,E,b){var B=E.handler,R=E.path?b?E.path.concat(b):E.path:[],Q={handler:E.handler,src:E.src,path:R},V=typeof g,j=!1,re=g===i;re||(g&&V===c?j=a0(g):re=ue(V));var ge={type:V,isPrim:re,isPlain:j,value:g,result:g,path:R,origin:E.src,copy:o(function(ve,Qe){return Th(p,ve,Qe?Q:E,Qe)},"copy"),copyTo:o(function(ve,Qe){return T5(p,ve,Qe,Q)},"copyTo")};return ge.isPrim?B&&B[_](E,ge)?ge.result:g:v5(p,g,R,function(ve){Kt(ge,"result",{g:o(function(){return ve.v},"g"),s:o(function(ke){ve.v=ke},"s")});for(var Qe=0,_e=B;!(_e||(Qe<n8.length?n8[Qe++]:r8))[_](E,ge);)_e=i})}o(Th,"_deepCopy");function T5(p,g,E,b){if(!ee(E))for(var B in E)g[B]=Th(p,E[B],b,B);return g}o(T5,"_copyProps");function i8(p,g,E){var b={handler:E,src:g,path:[]};return T5([],p,g,b)}o(i8,"objCopyProps");function _5(p,g){var E={handler:g,src:p};return Th([],p,E)}o(_5,"objDeepCopy");function mp(p){var g=p.value;if(ct(g)){var E=p.result=[];return E.length=g.length,p.copyTo(E,g),!0}return!1}o(mp,"arrayDeepCopyHandler");function Wf(p){var g=p.value;return Ct(g)?(p.result=new Date(g.getTime()),!0):!1}o(Wf,"dateDeepCopyHandler");function o8(p){return p.type===a}o(o8,"functionDeepCopyHandler");function oI(p){var g=p.value;if(g&&p.isPlain){var E=p.result={};return p.copyTo(E,g),!0}return!1}o(oI,"plainObjDeepCopyHandler");function S5(p,g){return Yt(g,function(E){i8(p,E)}),p}o(S5,"_doExtend");function sI(p,g,E,b,B,R,Q){return S5(_5(p)||{},ne[_](arguments))}o(sI,"deepExtend");var DM=as(y),NM=r(L,"round"),s8=Iu("endsWith",P,QM);function QM(p,g,E){Ae(p)||ko("'"+Jt(p)+"' is not a string");var b=Ae(g)?g:Mn(g),B=!H(E)&&E<p[y]?E:p[y];return ce(p,B-b[y],B)===b}o(QM,"polyStrEndsWith");var _u=D0("indexOf",P),aI="ref",w5="unref",cI="hasRef",PM="enabled";function lI(p,g,E){var b=!0,B=p?g(i):i,R;function Q(){return b=!1,B&&B[w5]&&B[w5](),R}o(Q,"_unref");function V(){B&&E(B),B=i}o(V,"_cancel");function j(){return B=g(B),b||Q(),R}o(j,"_refresh");function re(ge){!ge&&B&&V(),ge&&!B&&j()}return o(re,"_setEnabled"),R={cancel:V,refresh:j},R[cI]=function(){return B&&B[cI]?B[cI]():b},R[aI]=function(){return b=!0,B&&B[aI]&&B[aI](),R},R[w5]=Q,R=Hr(R,PM,{get:o(function(){return!!B},"get"),set:re}),{h:R,dn:o(function(){B=i},"dn")}}o(lI,"_createTimerHandler");function uI(p,g,E){var b=ct(g),B=b?g.length:0,R=(B>0?g[0]:b?n:g)||setTimeout,Q=(B>1?g[1]:n)||clearTimeout,V=E[0];E[0]=function(){j.dn(),hp(V,n,ne[_](arguments))};var j=lI(p,function(re){if(re){if(re.refresh)return re.refresh(),re;hp(Q,n,[re])}return hp(R,n,E)},function(re){hp(Q,n,[re])});return j.h}o(uI,"_createTimeoutWith");function Yf(p,g){return uI(!0,n,ne[_](arguments))}o(Yf,"scheduleTimeout");function fI(p,g){return uI(!1,n,ne[_](arguments))}o(fI,"createTimeout");var _h,Q0="constructor",P0="prototype",Sh="function",gp="_dynInstFuncs",$f="_isDynProxy",yp="_dynClass",B5="_dynCls$",wh="_dynInstChk",Cp=wh,R5="_dfOpts",dI="_unknown_",Ep="__proto__",U1="_dyn"+Ep,hI="__dynProto$Gbl",Ip="_dynInstProto",xp="useBaseInst",H1="setInstFuncs",Bh=Object,bp=Bh.getPrototypeOf,k5=Bh.getOwnPropertyNames,AI=pl(),vp=AI[hI]||(AI[hI]={o:(_h={},_h[H1]=!0,_h[xp]=!0,_h),n:1e3});function Tp(p){return p&&(p===Bh[P0]||p===Array[P0])}o(Tp,"_isObjectOrArrayPrototype");function Su(p){return Tp(p)||p===Function[P0]}o(Su,"_isObjectArrayOrFunctionPrototype");function ml(p){var g;if(p){if(bp)return bp(p);var E=p[Ep]||p[P0]||(p[Q0]?p[Q0][P0]:null);g=p[U1]||E,me(p,U1)||(delete p[Ip],g=p[U1]=p[Ip]||p[U1],p[Ip]=E)}return g}o(ml,"_getObjProto");function _p(p,g){var E=[];if(k5)E=k5(p);else for(var b in p)typeof b=="string"&&me(p,b)&&E.push(b);if(E&&E.length>0)for(var B=0;B<E.length;B++)g(E[B])}o(_p,"_forEachProp");function Sp(p,g,E){return g!==Q0&&typeof p[g]===Sh&&(E||me(p,g))&&g!==Ep&&g!==P0}o(Sp,"_isDynamicCandidate");function pI(p){ko("DynamicProto: "+p)}o(pI,"_throwTypeError");function D5(p){var g=qf(null);return _p(p,function(E){!g[E]&&Sp(p,E,!1)&&(g[E]=p[E])}),g}o(D5,"_getInstanceFuncs");function N5(p,g){for(var E=p.length-1;E>=0;E--)if(p[E]===g)return!0;return!1}o(N5,"_hasVisited");function FM(p,g,E,b){function B(j,re,ge){var ve=re[ge];if(ve[$f]&&b){var Qe=j[gp]||{};Qe[Cp]!==!1&&(ve=(Qe[re[yp]]||{})[ge]||ve)}return function(){return ve.apply(j,arguments)}}o(B,"_instFuncProxy");var R=qf(null);_p(E,function(j){R[j]=B(g,E,j)});for(var Q=ml(p),V=[];Q&&!Su(Q)&&!N5(V,Q);)_p(Q,function(j){!R[j]&&Sp(Q,j,!bp)&&(R[j]=B(g,Q,j))}),V.push(Q),Q=ml(Q);return R}o(FM,"_getBaseFuncs");function MM(p,g,E,b){var B=null;if(p&&me(E,yp)){var R=p[gp]||qf(null);if(B=(R[E[yp]]||qf(null))[g],B||pI("Missing ["+g+"] "+Sh),!B[wh]&&R[Cp]!==!1){for(var Q=!me(p,g),V=ml(p),j=[];Q&&V&&!Su(V)&&!N5(j,V);){var re=V[g];if(re){Q=re===b;break}j.push(V),V=ml(V)}try{Q&&(p[g]=B),B[wh]=1}catch{R[Cp]=!1}}}return B}o(MM,"_getInstFunc");function LM(p,g,E){var b=g[p];return b===E&&(b=ml(g)[p]),typeof b!==Sh&&pI("["+p+"] is not a "+Sh),b}o(LM,"_getProtoFunc");function OM(p,g,E,b,B){function R(j,re){var ge=o(function(){var ve=MM(this,re,j,ge)||LM(re,j,ge);return ve.apply(this,arguments)},"dynProtoProxy");return ge[$f]=1,ge}if(o(R,"_createDynamicPrototype"),!Tp(p)){var Q=E[gp]=E[gp]||qf(null);if(!Tp(Q)){var V=Q[g]=Q[g]||qf(null);Q[Cp]!==!1&&(Q[Cp]=!!B),Tp(V)||_p(E,function(j){Sp(E,j,!1)&&E[j]!==b[j]&&(V[j]=E[j],delete E[j],(!me(p,j)||p[j]&&!p[j][$f])&&(p[j]=R(p,j)))})}}}o(OM,"_populatePrototype");function Q5(p,g){if(bp){for(var E=[],b=ml(g);b&&!Su(b)&&!N5(E,b);){if(b===p)return!0;E.push(b),b=ml(b)}return!1}return!0}o(Q5,"_checkPrototype");function q1(p,g){return me(p,P0)?p.name||g||dI:((p||{})[Q0]||{}).name||g||dI}o(q1,"_getObjName");function da(p,g,E,b){me(p,P0)||pI("theClass is an invalid class definition.");var B=p[P0];Q5(B,g)||pI("["+q1(p)+"] not in hierarchy of ["+q1(g)+"]");var R=null;me(B,yp)?R=B[yp]:(R=B5+q1(p,"_")+"$"+vp.n,vp.n++,B[yp]=R);var Q=da[R5],V=!!Q[xp];V&&b&&b[xp]!==void 0&&(V=!!b[xp]);var j=D5(g),re=FM(B,g,j,V);E(g,re);var ge=!!bp&&!!Q[H1];ge&&b&&(ge=!!b[H1]),OM(B,R,g,j,ge!==!1)}o(da,"dynamicProto"),da[R5]=vp.o;var mo="function",a8="object",c8="undefined",G1="prototype",P5=Object,F5=P5[G1];(pl()||{}).Symbol,(pl()||{}).Reflect;var mI="hasOwnProperty",l8=o(function(p){for(var g,E=1,b=arguments.length;E<b;E++){g=arguments[E];for(var B in g)F5[mI].call(g,B)&&(p[B]=g[B])}return p},"__objAssignFnImpl"),wu=dt||l8,zf=o(function(p,g){return zf=P5.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,b){E.__proto__=b}||function(E,b){for(var B in b)b[mI](B)&&(E[B]=b[B])},zf(p,g)},"extendStaticsFn");function V1(p,g){typeof g!==mo&&g!==null&&ko("Class extends value "+String(g)+" is not a constructor or null"),zf(p,g);function E(){this.constructor=p}o(E,"__"),p[G1]=g===null?qf(g):(E[G1]=g[G1],new E)}o(V1,"__extendsFn");function u8(p,g){for(var E=0,b=g.length,B=p.length;E<b;E++,B++)p[B]=g[E];return p}o(u8,"__spreadArrayFn");var gI=ii,UM=qr,jf=gI({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),wp="toLowerCase",Or="length",Bp="warnToConsole",Rh="throwInternal",Bu="watch",yI="apply",On="push",Rp="splice",zo="logger",kp="cancel",W1="initialize",Kf="identifier",Y1="removeNotificationListener",CI="addNotificationListener",gl="isInitialized",Dp="value",Tc="getNotifyMgr",Np="getPlugin",Jf="name",Us="processNext",Qp="getProcessTelContext",yl="enabled",f8="stopPollingInternalLogs",kh="unload",EI="onComplete",Pp="version",d8="loggingLevelConsole",Dh="createNew",Cl="teardown",II="messageId",Nh="message",El="diagLog",xI="_doTeardown",Ru="update",Il="getNext",Xf="setNextPlugin",bI="userAgent",Zf="split",ed="replace",ha="type",M5="evtName",$1="status",L5="getAllResponseHeaders",O5="isChildEvt",Fp="data",td="getCtx",_c="setCtx",h8="itemsReceived",ku="urlString",U5="headers",Du="timeout",A8="traceFlags",Mp;function H5(p,g){Mp||(Mp=ls("AggregationError",function(b,B){B[Or]>1&&(b.errors=B[1])}));var E=p||"One or more errors occurred.";throw Yt(g,function(b,B){E+=`
`.concat(B," > ").concat(Jt(b))}),new Mp(E,g||[])}o(H5,"throwAggregationError");var Qh="Promise",Ph="rejected";function F0(p,g){return p8(p,function(E){return g?g({status:"fulfilled",rejected:!1,value:E}):E},function(E){return g?g({status:Ph,rejected:!0,reason:E}):E})}o(F0,"doAwaitResponse");function p8(p,g,E,b){var B=p;try{if(br(p))(g||E)&&(B=p.then(g,E));else try{g&&(B=g(p))}catch(R){if(E)B=E(R);else throw R}}finally{b&&HM(B,b)}return B}o(p8,"doAwait");function HM(p,g){var E=p;return g&&(br(p)?p.finally?E=p.finally(g):E=p.then(function(b){return g(),b},function(b){throw g(),b}):g()),E}o(HM,"doFinally");var m8=["pending","resolving","resolved",Ph],g8="dispatchEvent",z1;function y8(p){var g;return p&&p.createEvent&&(g=p.createEvent("Event")),!!g&&g.initEvent}o(y8,"_hasInitEventFn");function vI(p,g,E,b){var B=dp();!z1&&(z1=cs(!!pe(y8,[B]).v));var R=z1.v?B.createEvent("Event"):b?new Event(g):{};if(E&&E(R),z1.v&&R.initEvent(g,!1,!0),R&&p[g8])p[g8](R);else{var Q=p["on"+g];if(Q)Q(R);else{var V=No("console");V&&(V.error||V.log)(g,Jt(R))}}}o(vI,"emitEvent");var C8="unhandledRejection",qM=C8.toLowerCase(),Lp=10,TI;function E8(p){return Ke(p)?p.toString():Jt(p)}o(E8,"dumpFnObj");function I8(p,g,E){var b=pp(arguments,3),B=0,R=!1,Q,V=[],j=!1,re=null,ge;function ve(Et,Dt){try{j=!0,re&&re.cancel(),re=null;var Dr=p(function(hn,An){V.push(function(){try{var si=B===2?Et:Dt,or=H(si)?Q:Ke(si)?si(Q):si;br(or)?or.then(hn,An):si?hn(or):B===3?An(or):hn(or)}catch(Vt){An(Vt)}}),R&&Ye()},b);return Dr}finally{}}o(ve,"_then");function Qe(Et){return ve(void 0,Et)}o(Qe,"_catch");function _e(Et){var Dt=Et,Dr=Et;return Ke(Et)&&(Dt=o(function(hn){return Et&&Et(),hn},"thenFinally"),Dr=o(function(hn){throw Et&&Et(),hn},"catchFinally")),ve(Dt,Dr)}o(_e,"_finally");function ke(){return m8[B]}o(ke,"_strState");function Ye(){if(V.length>0){var Et=V.slice();V=[],j=!0,re&&re.cancel(),re=null,g(Et)}}o(Ye,"_processQueue");function Oe(Et,Dt){return function(Dr){if(B===Dt){if(Et===2&&br(Dr)){B=1,Dr.then(Oe(2,1),Oe(3,1));return}B=Et,R=!0,Q=Dr,Ye(),!j&&Et===3&&!re&&(re=Yf(rt,Lp))}}}o(Oe,"_createSettleIfFn");function rt(){if(!j)if(j=!0,_M())process.emit(C8,Q,ge);else{var Et=Tu()||pl();!TI&&(TI=cs(pe(No,[Qh+"RejectionEvent"]).v)),vI(Et,qM,function(Dt){return Kt(Dt,"promise",{g:o(function(){return ge},"g")}),Dt.reason=Q,Dt},!!TI.v)}}o(rt,"_notifyUnhandledRejection"),ge={then:ve,catch:Qe,finally:_e},Hr(ge,"state",{get:ke}),Ma()&&(ge[N1(11)]="IPromise");function ht(){return"IPromise "+ke()+(R?" - "+E8(Q):"")}return o(ht,"_toString"),ge.toString=ht,o(function(){Ke(E)||ko(Qh+": executor is not a function - "+E8(E));var Dt=Oe(3,0);try{E.call(ge,Oe(2,0),Dt)}catch(Dr){Dt(Dr)}},"_initialize")(),ge}o(I8,"_createPromise");function GM(p){return function(g){var E=pp(arguments,1);return p(function(b,B){try{var R=[],Q=1;I5(g,function(V,j){V&&(Q++,p8(V,function(re){R[j]=re,--Q===0&&b(R)},B))}),Q--,Q===0&&b(R)}catch(V){B(V)}},E)}}o(GM,"_createAllPromise");function VM(p){return cs(function(g){var E=pp(arguments,1);return p(function(b,B){var R=[],Q=1;function V(j,re){Q++,F0(j,function(ge){ge.rejected?R[re]={status:Ph,reason:ge.reason}:R[re]={status:"fulfilled",value:ge.value},--Q===0&&b(R)})}o(V,"processItem");try{ct(g)?Yt(g,V):iI(g)?I5(g,V):ko("Input is not an iterable"),Q--,Q===0&&b(R)}catch(j){B(j)}},E)})}o(VM,"_createAllSettledPromise");function x8(p){Yt(p,function(g){try{g()}catch{}})}o(x8,"syncItemProcessor");function b8(p){var g=Gt(p)?p:0;return function(E){Yf(function(){x8(E)},g)}}o(b8,"timeoutItemProcessor");function _I(p,g){return I8(_I,b8(g),p,g)}o(_I,"createAsyncPromise");var SI;function WM(p,g){!SI&&(SI=cs(pe(No,[Qh]).v||null));var E=SI.v;if(!E)return _I(p);Ke(p)||ko(Qh+": executor is not a function - "+Jt(p));var b=0;function B(){return m8[b]}o(B,"_strState");var R=new E(function(Q,V){function j(ge){b=2,Q(ge)}o(j,"_resolve");function re(ge){b=3,V(ge)}o(re,"_reject"),p(j,re)});return Hr(R,"state",{get:B}),R}o(WM,"createNativePromise");var wI;function BI(p){return I8(BI,x8,p)}o(BI,"createSyncPromise");function c0(p,g){return!wI&&(wI=VM(BI)),wI.v(p,g)}o(c0,"createSyncAllSettledPromise");var RI;function Op(p,g){return!RI&&(RI=cs(WM)),RI.v.call(this,p,g)}o(Op,"createPromise");var q5=GM(Op),M0=void 0,cn="",Nu="channels",jo="core",Sc="createPerfMgr",kI="disabled",Fh="extensionConfig",Up="extensions",L0="processTelemetry",Hp="priority",qp="eventsSent",Gp="eventsDiscarded",DI="eventsSendRequest",Mh="perfEvent",G5="offlineEventsStored",V5="offlineBatchSent",NI="offlineBatchDrop",j1="getPerfMgr",QI="domain",PI="path",v8="Not dynamic - ",W5=/-([a-z])/g,YM=/([^\w\d_$])/g,$M=/^(\d+[\w\d_$])/;function FI(p){return!ee(p)}o(FI,"isNotNullOrUndefined");function Vp(p){var g=p;return g&&Ae(g)&&(g=g[ed](W5,function(E,b){return b.toUpperCase()}),g=g[ed](YM,"_"),g=g[ed]($M,function(E,b){return"_"+b})),g}o(Vp,"normalizeJsName");function Hs(p,g){return p&&g?_u(p,g)!==-1:!1}o(Hs,"strContains");function K1(p){return p&&p.toISOString()||""}o(K1,"toISOString");function Ss(p){return kn(p)?p[Jf]:cn}o(Ss,"getExceptionName");function rd(p,g,E,b,B){var R=E;return p&&(R=p[g],R!==E&&(!B||B(R))&&(!b||b(E))&&(R=E,p[g]=R)),R}o(rd,"setValue");function T8(p,g,E){var b;return p?(b=p[g],!b&&ee(b)&&(b=H(E)?{}:E,p[g]=b)):b=H(E)?{}:E,b}o(T8,"getSetValue");function zM(p,g){var E=null,b=null;return Ke(p)?E=p:b=p,function(){var B=arguments;if(E&&(b=E()),b)return b[g][yI](b,B)}}o(zM,"_createProxyFunction");function J1(p,g,E,b,B){p&&g&&E&&(B!==!1||H(p[g]))&&(p[g]=zM(E,b))}o(J1,"proxyFunctionAs");function Y5(p,g,E,b){return p&&g&&tt(p)&&ct(E)&&Yt(E,function(B){Ae(B)&&J1(p,B,g,B,b)}),p}o(Y5,"proxyFunctions");function jM(p){return function(){function g(){var E=this;p&&We(p,function(b,B){E[b]=B})}return o(g,"class_1"),g}()}o(jM,"createClassFromInterface");function $5(p){return p&&dt&&(p=P5(dt({},p))),p}o($5,"optimizeObject");function _8(p,g,E,b,B,R){var Q=arguments,V=Q[0]||{},j=Q[Or],re=!1,ge=1;for(j>0&&Ur(V)&&(re=V,V=Q[ge]||{},ge++),tt(V)||(V={});ge<j;ge++){var ve=Q[ge],Qe=ct(ve),_e=tt(ve);for(var ke in ve){var Ye=Qe&&ke in ve||_e&&ut(ve,ke);if(Ye){var Oe=ve[ke],rt=void 0;if(re&&Oe&&((rt=ct(Oe))||a0(Oe))){var ht=V[ke];rt?ct(ht)||(ht=[]):a0(ht)||(ht={}),Oe=_8(re,ht,Oe)}Oe!==void 0&&(V[ke]=Oe)}}}return V}o(_8,"objExtend");function MI(p){try{return p.responseText}catch{}return null}o(MI,"getResponseText");function S8(p,g){return p?"XDomainRequest,Response:"+MI(p)||"":g}o(S8,"formatErrorMessageXdr");function LI(p,g){return p?"XMLHttpRequest,Status:"+p[$1]+",Response:"+MI(p)||p.response||"":g}o(LI,"formatErrorMessageXhr");function w8(p,g){return g&&(Gt(g)?p=[g].concat(p):ct(g)&&(p=g.concat(p))),p}o(w8,"prependTransports");var z5="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",X1="withCredentials",xl="timeout";function j5(p,g,E,b,B,R){b===void 0&&(b=!1),B===void 0&&(B=!1);function Q(j,re,ge){try{j[re]=ge}catch{}}o(Q,"_wrapSetXhrProp");var V=new XMLHttpRequest;return b&&Q(V,z5,b),E&&Q(V,X1,E),V.open(p,g,!B),E&&Q(V,X1,E),!B&&R&&Q(V,xl,R),V}o(j5,"openXhr");function B8(p){var g={};if(Ae(p)){var E=Ln(p)[Zf](/[\r\n]+/);Yt(E,function(b){if(b){var B=b.indexOf(": ");if(B!==-1){var R=Ln(b.substring(0,B))[wp](),Q=Ln(b.substring(B+1));g[R]=Q}else g[Ln(b)]=1}})}return g}o(B8,"convertAllHeadersToMap");function nd(p,g,E){if(!p[E]&&g&&g.getResponseHeader){var b=g.getResponseHeader(E);b&&(p[E]=Ln(b))}return p}o(nd,"_appendHeader");var hr="kill-duration",Wp="kill-duration-seconds",Lh="time-delta-millis";function Oh(p,g){var E={};return p[L5]?E=B8(p[L5]()):g&&(E=nd(E,p,Lh),E=nd(E,p,hr),E=nd(E,p,Wp)),E}o(Oh,"_getAllResponseHeaders");var K5="documentMode",Z1="location",Yp="console",OI="JSON",J5="crypto",UI="msCrypto",$p="msie",Uh="trident/",X5="XMLHttpRequest",O0=null,zp=null,bl=!1,La=null,jp=null;function ey(p,g){var E=!1;if(p){try{if(E=g in p,!E){var b=p[G1];b&&(E=g in b)}}catch{}if(!E)try{var B=new p;E=!H(B[g])}catch{}}return E}o(ey,"_hasProperty");function Kp(p){if(p&&bl){var g=No("__mockLocation");if(g)return g}return typeof location===a8&&location?location:No(Z1)}o(Kp,"getLocation");function ty(){return typeof console!==c8?console:No(Yp)}o(ty,"getConsole");function Jp(){return!!(typeof JSON===a8&&JSON||No(OI)!==null)}o(Jp,"hasJSON");function l0(){return Jp()?JSON||No(OI):null}o(l0,"getJSON");function HI(){return No(J5)}o(HI,"getCrypto");function qI(){return No(UI)}o(qI,"getMsCrypto");function wc(){var p=Of();if(p&&(p[bI]!==zp||O0===null)){zp=p[bI];var g=(zp||cn)[wp]();O0=Hs(g,$p)||Hs(g,Uh)}return O0}o(wc,"isIE");function Xp(p){if(p===void 0&&(p=null),!p){var g=Of()||{};p=g?(g.userAgent||cn)[wp]():cn}var E=(p||cn)[wp]();if(Hs(E,$p)){var b=dp()||{};return Te(parseInt(E[Zf]($p)[1]),b[K5]||0)}else if(Hs(E,Uh)){var B=parseInt(E[Zf](Uh)[1]);if(B)return B+4}return null}o(Xp,"getIEVersion");function id(p){return(jp===null||p===!1)&&(jp=TM()&&!!Of().sendBeacon),jp}o(id,"isBeaconsSupported");function ry(p){var g=!1;try{g=!!No("fetch");var E=No("Request");g&&p&&E&&(g=ey(E,"keepalive"))}catch{}return g}o(ry,"isFetchSupported");function Z5(){return La===null&&(La=typeof XDomainRequest!==c8,La&&eT()&&(La=La&&!ey(No(X5),"withCredentials"))),La}o(Z5,"useXDomainRequest");function eT(){var p=!1;try{var g=No(X5);p=!!g}catch{}return p}o(eT,"isXhrSupported");var ws=4294967296,vl=4294967295,GI=123456789,tT=987654321,Qu=!1,U0=GI,Zp=tT;function rT(p){p<0&&(p>>>=0),U0=GI+p&vl,Zp=tT-p&vl,Qu=!0}o(rT,"_mwcSeed");function R8(){try{var p=Gf()&2147483647;rT((Math.random()*ws^p)+p)}catch{}}o(R8,"_autoSeedMwc");function nT(p){var g=0,E=HI()||qI();return E&&E.getRandomValues&&(g=E.getRandomValues(new Uint32Array(1))[0]&vl),g===0&&wc()&&(Qu||R8(),g=k8()&vl),g===0&&(g=vh(ws*Math.random()|0)),p||(g>>>=0),g}o(nT,"random32");function k8(p){Zp=36969*(Zp&65535)+(Zp>>16)&vl,U0=18e3*(U0&65535)+(U0>>16)&vl;var g=(Zp<<16)+(U0&65535)>>>0&vl|0;return p||(g>>>=0),g}o(k8,"mwcRandom32");function KM(p){p===void 0&&(p=22);for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=nT()>>>0,b=0,B=cn;B[Or]<p;)b++,B+=g.charAt(E&63),E>>>=6,b===5&&(E=(nT()<<2&4294967295|E&3)>>>0,b=0);return B}o(KM,"newId");var em="3.3.6",JM="."+KM(6),XM=0;function D8(p){return p.nodeType===1||p.nodeType===9||!+p.nodeType}o(D8,"_canAcceptData");function N8(p,g){var E=g[p.id];if(!E){E={};try{D8(g)&&Kt(g,p.id,{e:!1,v:E})}catch{}}return E}o(N8,"_getCache");function Pu(p,g){return g===void 0&&(g=!1),Vp(p+XM+++(g?"."+em:cn)+JM)}o(Pu,"createUniqueNamespace");function Q8(p){var g={id:Pu("_aiData-"+(p||cn)+"."+em),accept:o(function(E){return D8(E)},"accept"),get:o(function(E,b,B,R){var Q=E[g.id];return Q?Q[Vp(b)]:(R&&(Q=N8(g,E),Q[Vp(b)]=B),B)},"get"),kill:o(function(E,b){if(E&&E[b])try{delete E[b]}catch{}},"kill")};return g}o(Q8,"createElmNodeData");function tm(p){return p&&tt(p)&&(p.isVal||p.fb||ut(p,"v")||ut(p,"mrg")||ut(p,"ref")||p.set)}o(tm,"_isConfigDefaults");function P8(p,g,E){var b,B=E.dfVal||ie;if(g&&E.fb){var R=E.fb;ct(R)||(R=[R]);for(var Q=0;Q<R[Or];Q++){var V=R[Q],j=g[V];if(B(j)?b=j:p&&(j=p.cfg[V],B(j)&&(b=j),p.set(p.cfg,Mn(V),j)),B(b))break}}return!B(b)&&B(E.v)&&(b=E.v),b}o(P8,"_getDefault");function iT(p,g,E){var b=E;if(E&&tm(E)&&(b=P8(p,g,E)),b){tm(b)&&(b=iT(p,g,b));var B;ct(b)?(B=[],B[Or]=b[Or]):a0(b)&&(B={}),B&&(We(b,function(R,Q){Q&&tm(Q)&&(Q=iT(p,g,Q)),B[R]=Q}),b=B)}return b}o(iT,"_resolveDefaultValue");function oT(p,g,E,b){var B,R,Q,V=b,j,re,ge,ve;tm(V)?(B=V.isVal,R=V.set,ge=V.rdOnly,ve=V.blkVal,j=V.mrg,re=V.ref,!re&&H(re)&&(re=!!j),Q=P8(p,g,V)):Q=b,ve&&p.blkVal(g,E);var Qe,_e=!0,ke=g[E];(ke||!ee(ke))&&(Qe=ke,_e=!1,B&&Qe!==Q&&!B(Qe)&&(Qe=Q,_e=!0),R&&(Qe=R(Qe,Q,g),_e=Qe===Q)),_e?Q?Qe=iT(p,g,Q):Qe=Q:(a0(Qe)||ct(Q))&&j&&Q&&(a0(Q)||ct(Q))&&We(Q,function(Ye,Oe){oT(p,Qe,Ye,Oe)}),p.set(g,E,Qe),re&&p.ref(g,E),ge&&p.rdOnly(g,E)}o(oT,"_applyDefaultValue");var od=Q1("[[ai_dynCfg_1]]"),F8=Q1("[[ai_blkDynCfg_1]]"),M8=Q1("[[ai_frcDynCfg_1]]");function L8(p){if(p){var g;if(ct(p)?(g=[],g[Or]=p[Or]):a0(p)&&(g={}),g)return We(p,function(E,b){g[E]=L8(b)}),g}return p}o(L8,"_cfgDeepCopy");function ZM(p){if(p){var g=p[od]||p;if(g.cfg&&(g.cfg===p||g.cfg[od]===g))return g}return null}o(ZM,"getDynamicConfigHandler");function eL(p){if(p&&(a0(p)||ct(p)))try{p[F8]=!0}catch{}return p}o(eL,"blockDynamicConversion");function sT(p,g,E){var b=!1;return E&&!p[g.blkVal]&&(b=E[M8],!b&&!E[F8]&&(b=a0(E)||ct(E))),b}o(sT,"_canMakeDynamic");function rm(p){ko("InvalidAccess:"+p)}o(rm,"throwInvalidAccess");var tL=["push","pop","shift","unshift","splice"],ny=o(function(p,g,E,b){p&&p[Rh](3,108,"".concat(E," [").concat(g,"] failed - ")+Jt(b))},"_throwDynamicError");function sd(p,g,E){ct(g)&&Yt(tL,function(b){var B=g[b];g[b]=function(){for(var R=[],Q=0;Q<arguments.length;Q++)R[Q]=arguments[Q];var V=B[yI](this,R);return om(p,g,E,"Patching"),V}})}o(sd,"_patchArray");function Bc(p,g){var E=Je(p,g);return E&&E.get}o(Bc,"_getOwnPropGetter");function O8(p,g,E,b){var B={n:E,h:[],trk:o(function(re){re&&re.fn&&(s0(B.h,re)===-1&&B.h[On](re),p.trk(re,B))},"trk"),clr:o(function(re){var ge=s0(B.h,re);ge!==-1&&B.h[Rp](ge,1)},"clr")},R=!0,Q=!1;function V(){R&&(Q=Q||sT(V,p,b),b&&!b[od]&&Q&&(b=om(p,b,E,"Converting")),R=!1);var re=p.act;return re&&B.trk(re),b}o(V,"_getProperty"),V[p.prop]={chng:o(function(){p.add(B)},"chng")};function j(re){if(b!==re){V[p.ro]&&!p.upd&&rm("["+E+"] is read-only:"+Jt(g)),R&&(Q=Q||sT(V,p,b),R=!1);var ge=Q&&V[p.rf];if(Q)if(ge){We(b,function(Qe){b[Qe]=re?re[Qe]:M0});try{We(re,function(Qe,_e){nm(p,b,Qe,_e)}),re=b}catch(Qe){ny((p.hdlr||{})[zo],E,"Assigning",Qe),Q=!1}}else b&&b[od]&&We(b,function(Qe){var _e=Bc(b,Qe);if(_e){var ke=_e[p.prop];ke&&ke.chng()}});if(re!==b){var ve=re&&sT(V,p,re);!ge&&ve&&(re=om(p,re,E,"Converting")),b=re,Q=ve}p.add(B)}}o(j,"_setProperty"),Kt(g,B.n,{g:V,s:j})}o(O8,"_createDynamicProperty");function nm(p,g,E,b){if(g){var B=Bc(g,E),R=B&&!!B[p.prop];R?g[E]=b:O8(p,g,E,b)}return g}o(nm,"_setDynamicProperty");function im(p,g,E,b){if(g){var B=Bc(g,E),R=B&&!!B[p.prop],Q=b&&b[0],V=b&&b[1],j=b&&b[2];if(!R){if(j)try{eL(g)}catch(re){ny((p.hdlr||{})[zo],E,"Blocking",re)}try{nm(p,g,E,g[E]),B=Bc(g,E)}catch(re){ny((p.hdlr||{})[zo],E,"State",re)}}Q&&(B[p.rf]=Q),V&&(B[p.ro]=V),j&&(B[p.blkVal]=!0)}return g}o(im,"_setDynamicPropertyState");function om(p,g,E,b){try{We(g,function(B,R){nm(p,g,B,R)}),g[od]||(Hr(g,od,{get:o(function(){return p.hdlr},"get")}),sd(p,g,E))}catch(B){ny((p.hdlr||{})[zo],E,b,B)}return g}o(om,"_makeDynamicObject");var iy="[[ai_",oy="]]";function rL(p){var g=xh(iy+"get"+p.uid+oy),E=xh(iy+"ro"+p.uid+oy),b=xh(iy+"rf"+p.uid+oy),B=xh(iy+"blkVal"+p.uid+oy),R=xh(iy+"dtl"+p.uid+oy),Q=null,V=null,j;function re(_e,ke){var Ye=j.act;try{j.act=_e,_e&&_e[R]&&(Yt(_e[R],function(rt){rt.clr(_e)}),_e[R]=[]),ke({cfg:p.cfg,set:p.set.bind(p),setDf:p.setDf.bind(p),ref:p.ref.bind(p),rdOnly:p.rdOnly.bind(p)})}catch(rt){var Oe=p[zo];throw Oe&&Oe[Rh](1,107,Jt(rt)),rt}finally{j.act=Ye||null}}o(re,"_useHandler");function ge(){if(Q){var _e=Q;Q=null,V&&V[kp](),V=null;var ke=[];if(Yt(_e,function(Ye){if(Ye&&(Ye[R]&&(Yt(Ye[R],function(Oe){Oe.clr(Ye)}),Ye[R]=null),Ye.fn))try{re(Ye,Ye.fn)}catch(Oe){ke[On](Oe)}}),Q)try{ge()}catch(Ye){ke[On](Ye)}ke[Or]>0&&H5("Watcher error(s): ",ke)}}o(ge,"_notifyWatchers");function ve(_e){if(_e&&_e.h[Or]>0){Q||(Q=[]),V||(V=Yf(function(){V=null,ge()},0));for(var ke=0;ke<_e.h[Or];ke++){var Ye=_e.h[ke];Ye&&s0(Q,Ye)===-1&&Q[On](Ye)}}}o(ve,"_addWatcher");function Qe(_e,ke){if(_e){var Ye=_e[R]=_e[R]||[];s0(Ye,ke)===-1&&Ye[On](ke)}}return o(Qe,"_trackHandler"),j={prop:g,ro:E,rf:b,blkVal:B,hdlr:p,add:ve,notify:ge,use:re,trk:Qe},j}o(rL,"_createState");function VI(p,g){var E={fn:g,rm:o(function(){E.fn=null,p=null,g=null},"rm")};return Kt(E,"toJSON",{v:o(function(){return"WatcherHandler"+(E.fn?"":"[X]")},"v")}),p.use(E,g),E}o(VI,"_createAndUseHandler");function U8(p,g,E){var b=ZM(g);if(b)return b;var B=Pu("dyncfg",!0),R=g&&E!==!1?g:L8(g),Q;function V(){Q.notify()}o(V,"_notifyWatchers");function j(Oe,rt,ht){try{Oe=nm(Q,Oe,rt,ht)}catch(Et){ny(p,rt,"Setting value",Et)}return Oe[rt]}o(j,"_setValue");function re(Oe){return VI(Q,Oe)}o(re,"_watch");function ge(Oe,rt){Q.use(null,function(ht){var Et=Q.upd;try{H(rt)||(Q.upd=rt),Oe(ht)}finally{Q.upd=Et}})}o(ge,"_block");function ve(Oe,rt){var ht;return im(Q,Oe,rt,(ht={},ht[0]=!0,ht))[rt]}o(ve,"_ref");function Qe(Oe,rt){var ht;return im(Q,Oe,rt,(ht={},ht[1]=!0,ht))[rt]}o(Qe,"_rdOnly");function _e(Oe,rt){var ht;return im(Q,Oe,rt,(ht={},ht[2]=!0,ht))[rt]}o(_e,"_blkPropValue");function ke(Oe,rt){return rt&&We(rt,function(ht,Et){oT(Ye,Oe,ht,Et)}),Oe}o(ke,"_applyDefaults");var Ye={uid:null,cfg:R,logger:p,notify:V,set:j,setDf:ke,watch:re,ref:ve,rdOnly:Qe,blkVal:_e,_block:ge};return Kt(Ye,"uid",{c:!1,e:!1,w:!1,v:B}),Q=rL(Ye),om(Q,R,"config","Creating"),Ye}o(U8,"_createDynamicHandler");function H8(p,g){p?(p[Bp](g),p[Rh](2,108,g)):rm(g)}o(H8,"_logInvalidAccess");function H0(p,g,E,b){var B=U8(E,p||{},b);return g&&B.setDf(B.cfg,g),B}o(H0,"createDynamicConfig");function Fu(p,g,E){var b=p[od]||p;return b.cfg&&(b.cfg===p||b.cfg[od]===b)?b[Bu](g):(H8(E,v8+Jt(p)),H0(p,null,E)[Bu](g))}o(Fu,"onConfigChange");function sm(p,g){if(p&&p[kh])return p[kh](g)}o(sm,"runTargetUnload");function q8(p,g,E){var b;return E||(b=Op(function(B){E=B})),p&&DM(p)>0?F0(sm(p[0],g),function(){q8(pp(p,1),g,E)}):E(),b}o(q8,"doUnloadAll");var nL=500,G8="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function iL(p,g,E){return!p&&ee(p)?g:Ur(p)?p:Mn(p)[wp]()==="true"}o(iL,"_stringToBoolOrDefault");function oL(p){return{mrg:!0,v:p}}o(oL,"cfgDfMerge");function aT(p,g,E){return{fb:E,isVal:p,v:g}}o(aT,"cfgDfValidate");function Tl(p,g){return{fb:g,set:iL,v:!!p}}o(Tl,"cfgDfBoolean");var WI=[qp,Gp,DI,Mh],YI=null,$I;function sL(p,g){return function(){var E=arguments,b=V8(g);if(b){var B=b.listener;B&&B[p]&&B[p][yI](B,E)}}}o(sL,"_listenerProxyFunc");function aL(){var p=No("Microsoft");return p&&(YI=p.ApplicationInsights),YI}o(aL,"_getExtensionNamespace");function V8(p){var g=YI;return!g&&p.disableDbgExt!==!0&&(g=YI||aL()),g?g.ChromeDbgExt:null}o(V8,"getDebugExt");function cL(p){if(!$I){$I={};for(var g=0;g<WI[Or];g++)$I[WI[g]]=sL(WI[g],p)}return $I}o(cL,"getDebugListener");var am,W8="warnToConsole",lL="AI (Internal): ",uL="AI: ",fL="AITR_",Y8={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},cm=(am={},am[0]=null,am[1]="errorToConsole",am[2]=W8,am[3]="debugToConsole",am);function u0(p){return p?'"'+p[ed](/\"/g,cn)+'"':cn}o(u0,"_sanitizeDiagnosticText");function sy(p,g){var E=ty();if(E){var b="log";E[p]&&(b=p),Ke(E[b])&&E[b](g)}}o(sy,"_logToConsole");var zI=function(){function p(g,E,b,B){b===void 0&&(b=!1);var R=this;R[II]=g,R[Nh]=(b?uL:lL)+g;var Q=cn;Jp()&&(Q=l0().stringify(B));var V=(E?" message:"+u0(E):cn)+(B?" props:"+u0(Q):cn);R[Nh]+=V}return o(p,"_InternalLogMessage"),p.dataType="MessageData",p}();function ay(p,g){return(p||{})[zo]||new cy(g)}o(ay,"safeGetLogger");var cy=function(){function p(g){this.identifier="DiagnosticLogger",this.queue=[];var E=0,b={},B,R,Q,V,j;da(p,this,function(re){j=ve(g||{}),re.consoleLoggingLevel=function(){return B},re[Rh]=function(ke,Ye,Oe,rt,ht){ht===void 0&&(ht=!1);var Et=new zI(Ye,Oe,ht,rt);if(V)throw Jt(Et);var Dt=cm[ke]||W8;if(H(Et[Nh]))_e("throw"+(ke===1?"Critical":"Warning"),Et);else{if(ht){var Dr=+Et[II];!b[Dr]&&B>=ke&&(re[Dt](Et[Nh]),b[Dr]=!0)}else B>=ke&&re[Dt](Et[Nh]);ge(ke,Et)}},re.debugToConsole=function(ke){sy("debug",ke),_e("warning",ke)},re[Bp]=function(ke){sy("warn",ke),_e("warning",ke)},re.errorToConsole=function(ke){sy("error",ke),_e("error",ke)},re.resetInternalMessageCount=function(){E=0,b={}},re.logInternalMessage=ge,re[kh]=function(ke){j&&j.rm(),j=null};function ge(ke,Ye){if(!Qe()){var Oe=!0,rt=fL+Ye[II];if(b[rt]?Oe=!1:b[rt]=!0,Oe&&(ke<=R&&(re.queue[On](Ye),E++,_e(ke===1?"error":"warn",Ye)),E===Q)){var ht="Internal events throttle limit per PageView reached for this app.",Et=new zI(23,ht,!1);re.queue[On](Et),ke===1?re.errorToConsole(ht):re[Bp](ht)}}}o(ge,"_logInternalMessage");function ve(ke){return Fu(H0(ke,Y8,re).cfg,function(Ye){var Oe=Ye.cfg;B=Oe[d8],R=Oe.loggingLevelTelemetry,Q=Oe.maxMessageLimit,V=Oe.enableDebug})}o(ve,"_setDefaultsFromConfig");function Qe(){return E>=Q}o(Qe,"_areInternalMessagesThrottled");function _e(ke,Ye){var Oe=V8(g||{});Oe&&Oe[El]&&Oe[El](ke,Ye)}o(_e,"_debugExtMsg")})}return o(p,"DiagnosticLogger"),p.__ieDyn=1,p}();function cT(p){return p||new cy}o(cT,"_getLogger");function Mt(p,g,E,b,B,R){R===void 0&&(R=!1),cT(p)[Rh](g,E,b,B,R)}o(Mt,"_throwInternal");function jI(p,g){cT(p)[Bp](g)}o(jI,"_warnToConsole");var ly,ad,$8="toGMTString",z8="toUTCString",KI="cookie",Mu="expires",j8="isCookieUseDisabled",JI="disableCookiesUsage",K8="_ckMgr",XI=null,lm=null,ZI=null,_l,J8={},X8={},Z8=(ly={cookieCfg:oL((ad={},ad[QI]={fb:"cookieDomain",dfVal:FI},ad.path={fb:"cookiePath",dfVal:FI},ad.enabled=M0,ad.ignoreCookies=M0,ad.blockedCookies=M0,ad)),cookieDomain:M0,cookiePath:M0},ly[JI]=M0,ly);function lT(){!_l&&(_l=N0(function(){return dp()}))}o(lT,"_getDoc");function uy(p){return p?p.isEnabled():!0}o(uy,"_isMgrEnabled");function uT(p,g){return g&&p&&ct(p.ignoreCookies)?s0(p.ignoreCookies,g)!==-1:!1}o(uT,"_isIgnoredCookie");function dL(p,g){return g&&p&&ct(p.blockedCookies)&&s0(p.blockedCookies,g)!==-1?!0:uT(p,g)}o(dL,"_isBlockedCookie");function fT(p,g){var E=g[yl];if(ee(E)){var b=void 0;H(p[j8])||(b=!p[j8]),H(p[JI])||(b=!p[JI]),E=b}return E}o(fT,"_isCfgEnabled");function hL(p,g){var E,b,B,R,Q,V,j,re;p=H0(p||X8,null,g).cfg,R=Fu(p,function(ve){ve.setDf(ve.cfg,Z8),E=ve.ref(ve.cfg,"cookieCfg"),b=E[PI]||"/",B=E[QI],Q=fT(p,E)!==!1,V=E.getCookie||AL,j=E.setCookie||um,re=E.delCookie||um},g);var ge={isEnabled:o(function(){var ve=fT(p,E)!==!1&&Q&&eB(g),Qe=X8[K8];return ve&&Qe&&ge!==Qe&&(ve=uy(Qe)),ve},"isEnabled"),setEnabled:o(function(ve){Q=ve!==!1,E[yl]=ve},"setEnabled"),set:o(function(ve,Qe,_e,ke,Ye){var Oe=!1;if(uy(ge)&&!dL(E,ve)){var rt={},ht=Ln(Qe||cn),Et=_u(ht,";");if(Et!==-1&&(ht=Ln(F(Qe,Et)),rt=dT(ce(Qe,Et+1))),rd(rt,QI,ke||B,se,H),!ee(_e)){var Dt=wc();if(H(rt[Mu])){var Dr=Gf(),hn=Dr+_e*1e3;if(hn>0){var An=new Date;An.setTime(hn),rd(rt,Mu,tB(An,Dt?$8:z8)||tB(An,Dt?$8:z8)||cn,se)}}Dt||rd(rt,"max-age",cn+_e,null,H)}var si=Kp();si&&si.protocol==="https:"&&(rd(rt,"secure",null,null,H),lm===null&&(lm=!pL((Of()||{})[bI])),lm&&rd(rt,"SameSite","None",null,H)),rd(rt,PI,Ye||b,null,H),j(ve,rB(ht,rt)),Oe=!0}return Oe},"set"),get:o(function(ve){var Qe=cn;return uy(ge)&&!uT(E,ve)&&(Qe=V(ve)),Qe},"get"),del:o(function(ve,Qe){var _e=!1;return uy(ge)&&(_e=ge.purge(ve,Qe)),_e},"del"),purge:o(function(ve,Qe){var _e,ke=!1;if(eB(g)){var Ye=(_e={},_e[PI]=Qe||"/",_e[Mu]="Thu, 01 Jan 1970 00:00:01 GMT",_e);wc()||(Ye["max-age"]="0"),re(ve,rB(cn,Ye)),ke=!0}return ke},"purge"),unload:o(function(ve){R&&R.rm(),R=null},"unload")};return ge[K8]=ge,ge}o(hL,"createCookieMgr");function eB(p){if(XI===null){XI=!1,!_l&&lT();try{var g=_l.v||{};XI=g[KI]!==void 0}catch(E){Mt(p,2,68,"Cannot access document.cookie - "+Ss(E),{exception:Jt(E)})}}return XI}o(eB,"areCookiesSupported");function dT(p){var g={};if(p&&p[Or]){var E=Ln(p)[Zf](";");Yt(E,function(b){if(b=Ln(b||cn),b){var B=_u(b,"=");B===-1?g[b]=null:g[Ln(F(b,B))]=Ln(ce(b,B+1))}})}return g}o(dT,"_extractParts");function tB(p,g){return Ke(p[g])?p[g]():null}o(tB,"_formatDate");function rB(p,g){var E=p||cn;return We(g,function(b,B){E+="; "+b+(ee(B)?cn:"="+B)}),E}o(rB,"_formatCookieValue");function AL(p){var g=cn;if(!_l&&lT(),_l.v){var E=_l.v[KI]||cn;ZI!==E&&(J8=dT(E),ZI=E),g=Ln(J8[p]||cn)}return g}o(AL,"_getCookieValue");function um(p,g){!_l&&lT(),_l.v&&(_l.v[KI]=p+"="+g)}o(um,"_setCookieValue");function pL(p){return Ae(p)?!!(Hs(p,"CPU iPhone OS 12")||Hs(p,"iPad; CPU OS 12")||Hs(p,"Macintosh; Intel Mac OS X 10_14")&&Hs(p,"Version/")&&Hs(p,"Safari")||Hs(p,"Macintosh; Intel Mac OS X 10_14")&&s8(p,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Hs(p,"Chrome/5")||Hs(p,"Chrome/6")||Hs(p,"UnrealEngine")&&!Hs(p,"Chrome")||Hs(p,"UCBrowser/12")||Hs(p,"UCBrowser/11")):!1}o(pL,"uaDisallowsSameSiteNone");var hT={perfEvtsSendAll:!1};function mL(p){p.h=null;var g=p.cb;p.cb=[],Yt(g,function(E){pe(E.fn,[E.arg])})}o(mL,"_runScheduledListeners");function cd(p,g,E,b){Yt(p,function(B){B&&B[g]&&(E?(E.cb[On]({fn:b,arg:B}),E.h=E.h||Yf(mL,0,E)):pe(b,[B]))})}o(cd,"_runListeners");var gL=function(){function p(g){this.listeners=[];var E,b,B=[],R={h:null,cb:[]},Q=H0(g,hT);b=Q[Bu](function(V){E=!!V.cfg.perfEvtsSendAll}),da(p,this,function(V){Kt(V,"listeners",{g:o(function(){return B},"g")}),V[CI]=function(j){B[On](j)},V[Y1]=function(j){for(var re=s0(B,j);re>-1;)B[Rp](re,1),re=s0(B,j)},V[qp]=function(j){cd(B,qp,R,function(re){re[qp](j)})},V[Gp]=function(j,re){cd(B,Gp,R,function(ge){ge[Gp](j,re)})},V[DI]=function(j,re){cd(B,DI,re?R:null,function(ge){ge[DI](j,re)})},V[Mh]=function(j){j&&(E||!j[O5]())&&cd(B,Mh,null,function(re){j.isAsync?Yf(function(){return re[Mh](j)},0):re[Mh](j)})},V[G5]=function(j){j&&j[Or]&&cd(B,G5,R,function(re){re[G5](j)})},V[V5]=function(j){j&&j[Fp]&&cd(B,V5,R,function(re){re[V5](j)})},V[NI]=function(j,re){if(j>0){var ge=re||0;cd(B,NI,R,function(ve){ve[NI](j,ge)})}},V[kh]=function(j){var re=o(function(){b&&b.rm(),b=null,B=[],R.h&&R.h[kp](),R.h=null,R.cb=[]},"_finishUnload"),ge;if(cd(B,"unload",null,function(ve){var Qe=ve[kh](j);Qe&&(ge||(ge=[]),ge[On](Qe))}),ge)return Op(function(ve){return F0(q5(ge),function(){re(),ve()})});re()}})}return o(p,"NotificationManager"),p.__ieDyn=1,p}(),fm="ctx",AT="ParentContextKey",fy="ChildrenContextKey",yL=null,e2=function(){function p(g,E,b){var B=this;if(B.start=Gf(),B[Jf]=g,B.isAsync=b,B[O5]=function(){return!1},Ke(E)){var R;Kt(B,"payload",{g:o(function(){return!R&&Ke(E)&&(R=E(),E=null),R},"g")})}B[td]=function(Q){return Q?Q===p[AT]||Q===p[fy]?B[Q]:(B[fm]||{})[Q]:null},B[_c]=function(Q,V){if(Q)if(Q===p[AT])B[Q]||(B[O5]=function(){return!0}),B[Q]=V;else if(Q===p[fy])B[Q]=V;else{var j=B[fm]=B[fm]||{};j[Q]=V}},B.complete=function(){var Q=0,V=B[td](p[fy]);if(ct(V))for(var j=0;j<V[Or];j++){var re=V[j];re&&(Q+=re.time)}B.time=Gf()-B.start,B.exTime=B.time-Q,B.complete=function(){}}}return o(p,"PerfEvent"),p.ParentContextKey="parent",p.ChildrenContextKey="childEvts",p}(),CL=function(){function p(g){this.ctx={},da(p,this,function(E){E.create=function(b,B,R){return new e2(b,B,R)},E.fire=function(b){b&&(b.complete(),g&&Ke(g[Mh])&&g[Mh](b))},E[_c]=function(b,B){if(b){var R=E[fm]=E[fm]||{};R[b]=B}},E[td]=function(b){return(E[fm]||{})[b]}})}return o(p,"PerfManager"),p.__ieDyn=1,p}(),Sl="CoreUtils.doPerf";function dm(p,g,E,b,B){if(p){var R=p;if(R[j1]&&(R=R[j1]()),R){var Q=void 0,V=R[td](Sl);try{if(Q=R.create(g(),b,B),Q){if(V&&Q[_c]&&(Q[_c](e2[AT],V),V[td]&&V[_c])){var j=V[td](e2[fy]);j||(j=[],V[_c](e2[fy],j)),j[On](Q)}return R[_c](Sl,Q),E(Q)}}catch(re){Q&&Q[_c]&&Q[_c]("exception",re)}finally{Q&&R.fire(Q),R[_c](Sl,V)}}}return E()}o(dm,"doPerf");function Ko(){return yL}o(Ko,"getGblPerfMgr");var t2="00000000000000000000000000000000",hm="0000000000000000";function r2(p,g,E){return p&&p[Or]===g&&p!==E?!!p.match(/^[\da-f]*$/i):!1}o(r2,"_isValid");function ld(p){return r2(p,32,t2)}o(ld,"isValidTraceId");function Hh(p){return r2(p,16,hm)}o(Hh,"isValidSpanId");var dy=Q8("plugin");function ud(p){return dy.get(p,"state",{},!0)}o(ud,"_getPluginState");function pT(p,g){for(var E=[],b=null,B=p[Il](),R;B;){var Q=B[Np]();if(Q){b&&b[Xf]&&Q[L0]&&b[Xf](Q),R=ud(Q);var V=!!R[gl];Q[gl]&&(V=Q[gl]()),V||E[On](Q),b=Q,B=B[Il]()}}Yt(E,function(j){var re=p[jo]();j[W1](p.getCfg(),re,g,p[Il]()),R=ud(j),!j[jo]&&!R[jo]&&(R[jo]=re),R[gl]=!0,delete R[Cl]})}o(pT,"initializePlugins");function mT(p){return p.sort(function(g,E){var b=0;if(E){var B=E[L0];g[L0]?b=B?g[Hp]-E[Hp]:1:B&&(b=-1)}else b=g?1:-1;return b})}o(mT,"sortPlugins");function EL(p){var g={};return{getName:o(function(){return g[Jf]},"getName"),setName:o(function(E){p&&p.setName(E),g[Jf]=E},"setName"),getTraceId:o(function(){return g.traceId},"getTraceId"),setTraceId:o(function(E){p&&p.setTraceId(E),ld(E)&&(g.traceId=E)},"setTraceId"),getSpanId:o(function(){return g.spanId},"getSpanId"),setSpanId:o(function(E){p&&p.setSpanId(E),Hh(E)&&(g.spanId=E)},"setSpanId"),getTraceFlags:o(function(){return g[A8]},"getTraceFlags"),setTraceFlags:o(function(E){p&&p.setTraceFlags(E),g[A8]=E},"setTraceFlags")}}o(EL,"createDistributedTraceContext");var IL="TelemetryPluginChain",nB="_hasRun",gT="_getTelCtx",iB=0;function xL(p,g,E){for(;p;){if(p[Np]()===E)return p;p=p[Il]()}return w([E],g.config||{},g)}o(xL,"_getNextProxyStart");function yT(p,g,E,b){var B=null,R=[];g||(g=H0({},null,E[zo])),b!==null&&(B=b?xL(p,E,b):p);var Q={_next:j,ctx:{core:o(function(){return E},"core"),diagLog:o(function(){return ay(E,g.cfg)},"diagLog"),getCfg:o(function(){return g.cfg},"getCfg"),getExtCfg:ge,getConfig:ve,hasNext:o(function(){return!!B},"hasNext"),getNext:o(function(){return B},"getNext"),setNext:o(function(_e){B=_e},"setNext"),iterate:Qe,onComplete:V}};function V(_e,ke){for(var Ye=[],Oe=2;Oe<arguments.length;Oe++)Ye[Oe-2]=arguments[Oe];_e&&R[On]({func:_e,self:H(ke)?Q.ctx:ke,args:Ye})}o(V,"_addOnComplete");function j(){var _e=B;if(B=_e?_e[Il]():null,!_e){var ke=R;ke&&ke[Or]>0&&(Yt(ke,function(Ye){try{Ye.func.call(Ye.self,Ye.args)}catch(Oe){Mt(E[zo],2,73,"Unexpected Exception during onComplete - "+Jt(Oe))}}),R=[])}return _e}o(j,"_moveNext");function re(_e,ke){var Ye=null,Oe=g.cfg;if(Oe&&_e){var rt=Oe[Fh];!rt&&ke&&(rt={}),Oe[Fh]=rt,rt=g.ref(Oe,Fh),rt&&(Ye=rt[_e],!Ye&&ke&&(Ye={}),rt[_e]=Ye,Ye=g.ref(rt,_e))}return Ye}o(re,"_getExtCfg");function ge(_e,ke){var Ye=re(_e,!0);return ke&&We(ke,function(Oe,rt){if(ee(Ye[Oe])){var ht=g.cfg[Oe];(ht||!ee(ht))&&(Ye[Oe]=ht)}oT(g,Ye,Oe,rt)}),g.setDf(Ye,ke)}o(ge,"_resolveExtCfg");function ve(_e,ke,Ye){Ye===void 0&&(Ye=!1);var Oe,rt=re(_e,!1),ht=g.cfg;return rt&&(rt[ke]||!ee(rt[ke]))?Oe=rt[ke]:(ht[ke]||!ee(ht[ke]))&&(Oe=ht[ke]),Oe||!ee(Oe)?Oe:Ye}o(ve,"_getConfig");function Qe(_e){for(var ke;ke=Q._next();){var Ye=ke[Np]();Ye&&_e(Ye)}}return o(Qe,"_iterateChain"),Q}o(yT,"_createInternalContext");function Am(p,g,E,b){var B=H0(g),R=yT(p,B,E,b),Q=R.ctx;function V(re){var ge=R._next();return ge&&ge[L0](re,Q),!ge}o(V,"_processNext");function j(re,ge){return re===void 0&&(re=null),ct(re)&&(re=w(re,B.cfg,E,ge)),Am(re||Q[Il](),B.cfg,E,ge)}return o(j,"_createNew"),Q[Us]=V,Q[Dh]=j,Q}o(Am,"createProcessTelemetryContext");function I(p,g,E){var b=H0(g.config),B=yT(p,b,g,E),R=B.ctx;function Q(j){var re=B._next();return re&&re[kh](R,j),!re}o(Q,"_processNext");function V(j,re){return j===void 0&&(j=null),ct(j)&&(j=w(j,b.cfg,g,re)),I(j||R[Il](),g,re)}return o(V,"_createNew"),R[Us]=Q,R[Dh]=V,R}o(I,"createProcessTelemetryUnloadContext");function v(p,g,E){var b=H0(g.config),B=yT(p,b,g,E),R=B.ctx;function Q(j){return R.iterate(function(re){Ke(re[Ru])&&re[Ru](R,j)})}o(Q,"_processNext");function V(j,re){return j===void 0&&(j=null),ct(j)&&(j=w(j,b.cfg,g,re)),v(j||R[Il](),g,re)}return o(V,"_createNew"),R[Us]=Q,R[Dh]=V,R}o(v,"createProcessTelemetryUpdateContext");function w(p,g,E,b){var B=null,R=!b;if(ct(p)&&p[Or]>0){var Q=null;Yt(p,function(V){if(!R&&b===V&&(R=!0),R&&V&&Ke(V[L0])){var j=D(V,g,E);B||(B=j),Q&&Q._setNext(j),Q=j}})}return b&&!B?w([b],g,E):B}o(w,"createTelemetryProxyChain");function D(p,g,E){var b=null,B=Ke(p[L0]),R=Ke(p[Xf]),Q;p?Q=p[Kf]+"-"+p[Hp]+"-"+iB++:Q="Unknown-0-"+iB++;var V={getPlugin:o(function(){return p},"getPlugin"),getNext:o(function(){return b},"getNext"),processTelemetry:ge,unload:ve,update:Qe,_id:Q,_setNext:o(function(_e){b=_e},"_setNext")};function j(){var _e;return p&&Ke(p[gT])&&(_e=p[gT]()),_e||(_e=Am(V,g,E)),_e}o(j,"_getTelCtx");function re(_e,ke,Ye,Oe,rt){var ht=!1,Et=p?p[Kf]:IL,Dt=_e[nB];return Dt||(Dt=_e[nB]={}),_e.setNext(b),p&&dm(_e[jo](),function(){return Et+":"+Ye},function(){Dt[Q]=!0;try{var Dr=b?b._id:cn;Dr&&(Dt[Dr]=!1),ht=ke(_e)}catch(An){var hn=b?Dt[b._id]:!0;hn&&(ht=!0),(!b||!hn)&&Mt(_e[El](),1,73,"Plugin ["+Et+"] failed during "+Ye+" - "+Jt(An)+", run flags: "+Jt(Dt))}},Oe,rt),ht}o(re,"_processChain");function ge(_e,ke){ke=ke||j();function Ye(Oe){if(!p||!B)return!1;var rt=ud(p);return rt[Cl]||rt[kI]?!1:(R&&p[Xf](b),p[L0](_e,Oe),!0)}o(Ye,"_callProcessTelemetry"),re(ke,Ye,"processTelemetry",function(){return{item:_e}},!_e.sync)||ke[Us](_e)}o(ge,"_processTelemetry");function ve(_e,ke){function Ye(){var Oe=!1;if(p){var rt=ud(p),ht=p[jo]||rt[jo];p&&(!ht||ht===_e.core())&&!rt[Cl]&&(rt[jo]=null,rt[Cl]=!0,rt[gl]=!1,p[Cl]&&p[Cl](_e,ke)===!0&&(Oe=!0))}return Oe}o(Ye,"_callTeardown"),re(_e,Ye,"unload",function(){},ke.isAsync)||_e[Us](ke)}o(ve,"_unloadPlugin");function Qe(_e,ke){function Ye(){var Oe=!1;if(p){var rt=ud(p),ht=p[jo]||rt[jo];p&&(!ht||ht===_e.core())&&!rt[Cl]&&p[Ru]&&p[Ru](_e,ke)===!0&&(Oe=!0)}return Oe}o(Ye,"_callUpdate"),re(_e,Ye,"update",function(){},!1)||_e[Us](ke)}return o(Qe,"_updatePlugin"),vr(V)}o(D,"createTelemetryPluginProxy");function z(){var p=[];function g(b){b&&p[On](b)}o(g,"_addHandler");function E(b,B){Yt(p,function(R){try{R(b,B)}catch(Q){Mt(b[El](),2,73,"Unexpected error calling unload handler - "+Jt(Q))}}),p=[]}return o(E,"_runHandlers"),{add:g,run:E}}o(z,"createUnloadHandlerContainer");function de(){var p=[];function g(b){var B=p;p=[],Yt(B,function(R){try{(R.rm||R.remove).call(R)}catch(Q){Mt(b,2,73,"Unloading:"+Jt(Q))}})}o(g,"_doUnload");function E(b){b&&Ap(p,b)}return o(E,"_addHook"),{run:g,add:E}}o(de,"createUnloadHookContainer");var Ce,we="getPlugin",Me=(Ce={},Ce[Fh]={isVal:FI,v:{}},Ce),Ze=function(){function p(){var g=this,E,b,B,R,Q;re(),da(p,g,function(ge){ge[W1]=function(ve,Qe,_e,ke){j(ve,Qe,ke),E=!0},ge[Cl]=function(ve,Qe){var _e=ge[jo];if(!_e||ve&&_e!==ve[jo]())return;var ke,Ye=!1,Oe=ve||I(null,_e,B&&B[we]?B[we]():B),rt=Qe||{reason:0,isAsync:!1};function ht(){Ye||(Ye=!0,R.run(Oe,Qe),Q.run(Oe[El]()),ke===!0&&Oe[Us](rt),re())}return o(ht,"_unloadCallback"),!ge[xI]||ge[xI](Oe,rt,ht)!==!0?ht():ke=!0,ke},ge[Ru]=function(ve,Qe){var _e=ge[jo];if(!_e||ve&&_e!==ve[jo]())return;var ke,Ye=!1,Oe=ve||v(null,_e,B&&B[we]?B[we]():B),rt=Qe||{reason:0};function ht(){Ye||(Ye=!0,j(Oe.getCfg(),Oe.core(),Oe[Il]()))}return o(ht,"_updateCallback"),!ge._doUpdate||ge._doUpdate(Oe,rt,ht)!==!0?ht():ke=!0,ke},J1(ge,"_addUnloadCb",function(){return R},"add"),J1(ge,"_addHook",function(){return Q},"add"),Kt(ge,"_unloadHooks",{g:o(function(){return Q},"g")})}),g[El]=function(ge){return V(ge)[El]()},g[gl]=function(){return E},g.setInitialized=function(ge){E=ge},g[Xf]=function(ge){B=ge},g[Us]=function(ge,ve){ve?ve[Us](ge):B&&Ke(B[L0])&&B[L0](ge,null)},g._getTelCtx=V;function V(ge){ge===void 0&&(ge=null);var ve=ge;if(!ve){var Qe=b||Am(null,{},g[jo]);B&&B[we]?ve=Qe[Dh](null,B[we]):ve=Qe[Dh](null,B)}return ve}o(V,"_getTelCtx");function j(ge,ve,Qe){H0(ge,Me,ay(ve)),!Qe&&ve&&(Qe=ve[Qp]()[Il]());var _e=B;B&&B[we]&&(_e=B[we]()),g[jo]=ve,b=Am(Qe,ge,ve,_e)}o(j,"_setDefaults");function re(){E=!1,g[jo]=null,b=null,B=null,Q=de(),R=z()}o(re,"_initDefaults")}return o(p,"BaseTelemetryPlugin"),p.__ieDyn=1,p}();function St(p,g,E){var b={id:g,fn:E};Ap(p,b);var B={remove:o(function(){Yt(p,function(R,Q){if(R.id===b.id)return p[Rp](Q,1),-1})},"remove")};return B}o(St,"_addInitializer");function Ar(p,g,E){for(var b=!1,B=p[Or],R=0;R<B;++R){var Q=p[R];if(Q)try{if(Q.fn[yI](null,[g])===!1){b=!0;break}}catch(V){Mt(E,2,64,"Telemetry initializer failed: "+Ss(V),{exception:Jt(V)},!0)}}return!b}o(Ar,"_runInitializers");var Br=function(p){V1(g,p);function g(){var E=p.call(this)||this;E.identifier="TelemetryInitializerPlugin",E.priority=199;var b,B;R(),da(g,E,function(Q,V){Q.addTelemetryInitializer=function(j){return St(B,b++,j)},Q[L0]=function(j,re){Ar(B,j,re?re[El]():Q[El]())&&Q[Us](j,re)},Q[xI]=function(){R()}});function R(){b=0,B=[]}return o(R,"_initDefaults"),E}return o(g,"TelemetryInitializerPlugin"),g.__ieDyn=1,g}(Ze),Bt,Ft="Plugins must provide initialize method",Tr="_notificationManager",pr="SDK is still unloading...",ln="SDK is not initialized",Kn=100,xn=5e4,us=Yr((Bt={cookieCfg:{}},Bt[Up]={rdOnly:!0,ref:!0,v:[]},Bt[Nu]={rdOnly:!0,ref:!0,v:[]},Bt[Fh]={ref:!0,v:{}},Bt[Sc]=M0,Bt.loggingLevelConsole=0,Bt.diagnosticLogInterval=M0,Bt));function pm(p,g){return new CL(g)}o(pm,"_createPerfManager");function hy(p,g,E){var b=[],B=[],R={};return Yt(E,function(Q){(ee(Q)||ee(Q[W1]))&&po(Ft);var V=Q[Hp],j=Q[Kf];Q&&V&&(ee(R[V])?R[V]=j:jI(p,"Two extensions have same priority #"+V+" - "+R[V]+", "+j)),!V||V<g?b[On](Q):B[On](Q)}),{core:b,channels:B}}o(hy,"_validateExtensions");function CT(p,g){var E=!1;return Yt(g,function(b){if(b===p)return E=!0,-1}),E}o(CT,"_isPluginPresent");function n2(p,g,E,b){E&&We(E,function(B,R){b&&a0(R)&&a0(g[B])&&n2(p,g[B],R,b),b&&a0(R)&&a0(g[B])?n2(p,g[B],R,b):p.set(g,B,R)})}o(n2,"_deepMergeConfig");function oB(p,g){var E=null,b=-1;return Yt(p,function(B,R){if(B.w===g)return E=B,b=R,-1}),{i:b,l:E}}o(oB,"_findWatcher");function bL(p,g){var E=oB(p,g).l;return E||(E={w:g,rm:o(function(){var b=oB(p,g);b.i!==-1&&p[Rp](b.i,1)},"rm")},p[On](E)),E}o(bL,"_addDelayedCfgListener");function ET(p,g,E){Yt(g,function(b){var B=Fu(p,b.w,E);delete b.w,b.rm=function(){B.rm()}})}o(ET,"_registerDelayedCfgListener");function sB(p,g,E,b){return g.add(p[Bu](function(B){var R=B.cfg.disableDbgExt;R===!0&&b&&(E[Y1](b),b=null),E&&!b&&R!==!0&&(b=cL(B.cfg),E[CI](b))})),b}o(sB,"_initDebugListener");function aB(p){return Kt({rm:o(function(){p.rm()},"rm")},"toJSON",{v:o(function(){return"aicore::onCfgChange<"+JSON.stringify(p)+">"},"v")})}o(aB,"_createUnloadHook");var at=function(){function p(){var g,E,b,B,R,Q,V,j,re,ge,ve,Qe,_e,ke,Ye,Oe,rt,ht,Et,Dt,Dr,hn,An,si,or,Vt,pn,io,wi,At,Wt,Jn;da(p,this,function(st){qe(),st._getDbgPlgTargets=function(){return[An,B]},st[gl]=function(){return E},st.activeStatus=function(){return Vt},st._setPendingStatus=function(){Vt=3},st[W1]=function(ze,kt,Er,Ht){_e&&po(pr),st[gl]()&&po("Core cannot be initialized more than once"),g=H0(ze,us,Er||st[zo],!1),ze=g.cfg,pa(g[Bu](function(yi){var Vi=yi.cfg,Ha=Vt===3;if(!Ha){io=Vi.initInMemoMaxSize||Kn;var q0=Vi.instrumentationKey,Uu=Vi.endpointUrl;if(ee(q0)){Dr=null,Vt=jf.INACTIVE;var Hu="Please provide instrumentation key";E?(Mt(b,1,100,Hu),yo()):po(Hu);return}var m2=[];if(br(q0)?(m2[On](q0),Dr=null):Dr=q0,br(Uu)?(m2[On](Uu),pn=null):pn=Uu,m2[Or]){wi=!1,Vt=3;var UT=FI(Vi.initTimeOut)?Vi.initTimeOut:xn,tO=c0(m2);Yf(function(){wi||mr()},UT),F0(tO,function(_m){try{if(wi)return;if(!_m.rejected){var Sm=_m[Dp];if(Sm&&Sm[Or]){var kB=Sm[0];if(Dr=kB&&kB[Dp],Sm[Or]>1){var DB=Sm[1];pn=DB&&DB[Dp]}}Dr&&(ze.instrumentationKey=Dr,ze.endpointUrl=pn)}mr()}catch{wi||mr()}})}else mr();var g2=yi.ref(yi.cfg,Fh);We(g2,function(_m){yi.ref(g2,_m)})}})),R=Ht,Et=sB(g,ht,R&&st[Tc](),Et),vm(),st[zo]=Er;var Ir=ze[Up];if(ge=[],ge[On].apply(ge,u8(u8([],kt,!1),Ir)),ve=ze[Nu],Co(null),(!Qe||Qe[Or]===0)&&po("No "+Nu+" available"),ve&&ve[Or]>1){var di=st[Np]("TeeChannelController");(!di||!di.plugin)&&Mt(b,1,28,"TeeChannel required")}ET(ze,hn,b),hn=null,E=!0,Vt===jf.ACTIVE&&yo()},st.getChannels=function(){var ze=[];return Qe&&Yt(Qe,function(kt){ze[On](kt)}),vr(ze)},st.track=function(ze){dm(st[j1](),function(){return"AppInsightsCore:track"},function(){ze===null&&(oo(ze),po("Invalid telemetry item")),!ze[Jf]&&ee(ze[Jf])&&(oo(ze),po("telemetry name required")),ze.iKey=ze.iKey||Dr,ze.time=ze.time||K1(new Date),ze.ver=ze.ver||"4.0",!_e&&st[gl]()&&Vt===jf.ACTIVE?As()[Us](ze):Vt!==jf.INACTIVE&&B[Or]<=io&&B[On](ze)},function(){return{item:ze}},!ze.sync)},st[Qp]=As,st[Tc]=function(){return R||(R=new gL(g.cfg),st[Tr]=R),R},st[CI]=function(ze){st.getNotifyMgr()[CI](ze)},st[Y1]=function(ze){R&&R[Y1](ze)},st.getCookieMgr=function(){return j||(j=hL(g.cfg,st[zo])),j},st.setCookieMgr=function(ze){j!==ze&&(sm(j,!1),j=ze)},st[j1]=function(){return Q||V||Ko()},st.setPerfMgr=function(ze){Q=ze},st.eventCnt=function(){return B[Or]},st.releaseQueue=function(){if(E&&B[Or]>0){var ze=B;B=[],Vt===2?Yt(ze,function(kt){kt.iKey=kt.iKey||Dr,As()[Us](kt)}):Mt(b,2,20,"core init status is not active")}},st.pollInternalLogs=function(ze){return Ye=ze||null,Jn=!1,At&&At[kp](),ai(!0)};function mr(){wi=!0,ee(Dr)?(Vt=jf.INACTIVE,Mt(b,1,112,"ikey can't be resolved from promises")):Vt=jf.ACTIVE,yo()}o(mr,"_setStatus");function yo(){E&&(st.releaseQueue(),st.pollInternalLogs())}o(yo,"_releaseQueues");function ai(ze){if((!At||!At[yl])&&!Jn){var kt=ze||b&&b.queue[Or]>0;kt&&(Wt||(Wt=!0,pa(g[Bu](function(Er){var Ht=Er.cfg.diagnosticLogInterval;(!Ht||!(Ht>0))&&(Ht=1e4);var Ir=!1;At&&(Ir=At[yl],At[kp]()),At=fI(bm,Ht),At.unref(),At[yl]=Ir}))),At[yl]=!0)}return At}o(ai,"_startLogPoller"),st[f8]=function(){Jn=!0,At&&At[kp](),bm()},Y5(st,function(){return ke},["addTelemetryInitializer"]),st[kh]=function(ze,kt,Er){ze===void 0&&(ze=!0),E||po(ln),_e&&po(pr);var Ht={reason:50,isAsync:ze,flushComplete:!1},Ir;ze&&!kt&&(Ir=Op(function(Vi){kt=Vi}));var di=I(Bl(),st);di[EI](function(){ht.run(st[zo]),q8([j,R,b],ze,function(){qe(),kt&&kt(Ht)})},st);function yi(Vi){Ht.flushComplete=Vi,_e=!0,rt.run(di,Ht),st[f8](),di[Us](Ht)}return o(yi,"_doUnload"),bm(),Lu(ze,yi,6,Er),Ir},st[Np]=Ws,st.addPlugin=function(ze,kt,Er,Ht){if(!ze){Ht&&Ht(!1),Tm(Ft);return}var Ir=Ws(ze[Kf]);if(Ir&&!kt){Ht&&Ht(!1),Tm("Plugin ["+ze[Kf]+"] is already loaded!");return}var di={reason:16};function yi(q0){ge[On](ze),di.added=[ze],Co(di),Ht&&Ht(!0)}if(o(yi,"_addPlugin"),Ir){var Vi=[Ir.plugin],Ha={reason:2,isAsync:!!Er};f0(Vi,Ha,function(q0){q0?(di.removed=Vi,di.reason|=32,yi()):Ht&&Ht(!1)})}else yi()},st.updateCfg=function(ze,kt){kt===void 0&&(kt=!0);var Er;if(st[gl]()){Er={reason:1,cfg:g.cfg,oldCfg:sI({},g.cfg),newConfig:sI({},ze),merge:kt},ze=Er.newConfig;var Ht=g.cfg;ze[Up]=Ht[Up],ze[Nu]=Ht[Nu]}g._block(function(Ir){var di=Ir.cfg;n2(Ir,di,ze,kt),kt||We(di,function(yi){ut(ze,yi)||Ir.set(di,yi,M0)}),Ir.setDf(di,us)},!0),g.notify(),Er&&Ou(Er)},st.evtNamespace=function(){return Oe},st.flush=Lu,st.getTraceCtx=function(ze){return Dt||(Dt=EL()),Dt},st.setTraceCtx=function(ze){Dt=ze||null},st.addUnloadHook=pa,J1(st,"addUnloadCb",function(){return rt},"add"),st.onCfgChange=function(ze){var kt;return E?kt=Fu(g.cfg,ze,st[zo]):kt=bL(hn,ze),aB(kt)},st.getWParam=function(){return Lf()||g.cfg.enableWParam?0:-1};function Vs(){var ze={};si=[];var kt=o(function(Er){Er&&Yt(Er,function(Ht){if(Ht[Kf]&&Ht[Pp]&&!ze[Ht.identifier]){var Ir=Ht[Kf]+"="+Ht[Pp];si[On](Ir),ze[Ht.identifier]=Ht}})},"_addPluginVersions");kt(Qe),ve&&Yt(ve,function(Er){kt(Er)}),kt(ge)}o(Vs,"_setPluginVersions");function qe(){E=!1,g=H0({},us,st[zo]),g.cfg[d8]=1,Kt(st,"config",{g:o(function(){return g.cfg},"g"),s:o(function(kt){st.updateCfg(kt,!1)},"s")}),Kt(st,"pluginVersionStringArr",{g:o(function(){return si||Vs(),si},"g")}),Kt(st,"pluginVersionString",{g:o(function(){return or||(si||Vs(),or=si.join(";")),or||cn},"g")}),Kt(st,"logger",{g:o(function(){return b||(b=new cy(g.cfg),g[zo]=b),b},"g"),s:o(function(kt){g[zo]=kt,b!==kt&&(sm(b,!1),b=kt)},"s")}),st[zo]=new cy(g.cfg),An=[];var ze=st.config[Up]||[];ze.splice(0,ze[Or]),Ap(ze,An),ke=new Br,B=[],sm(R,!1),R=null,Q=null,V=null,sm(j,!1),j=null,re=null,ge=[],ve=null,Qe=null,_e=!1,Ye=null,Oe=Pu("AIBaseCore",!0),rt=z(),Dt=null,Dr=null,ht=de(),hn=[],or=null,si=null,Jn=!1,At=null,Wt=!1,Vt=0,pn=null,io=null,wi=!1}o(qe,"_initDefaults");function As(){var ze=Am(Bl(),g.cfg,st);return ze[EI](ai),ze}o(As,"_createTelCtx");function Co(ze){var kt=hy(st[zo],nL,ge);re=null,or=null,si=null,Qe=(ve||[])[0]||[],Qe=mT(Ap(Qe,kt[Nu]));var Er=Ap(mT(kt[jo]),Qe);An=vr(Er);var Ht=st.config[Up]||[];Ht.splice(0,Ht[Or]),Ap(Ht,An);var Ir=As();Qe&&Qe[Or]>0&&pT(Ir[Dh](Qe),Er),pT(Ir,Er),ze&&Ou(ze)}o(Co,"_initPluginChain");function Ws(ze){var kt=null,Er=null,Ht=[];return Yt(An,function(Ir){if(Ir[Kf]===ze&&Ir!==ke)return Er=Ir,-1;Ir.getChannel&&Ht[On](Ir)}),!Er&&Ht[Or]>0&&Yt(Ht,function(Ir){if(Er=Ir.getChannel(ze),!Er)return-1}),Er&&(kt={plugin:Er,setEnabled:o(function(Ir){ud(Er)[kI]=!Ir},"setEnabled"),isEnabled:o(function(){var Ir=ud(Er);return!Ir[Cl]&&!Ir[kI]},"isEnabled"),remove:o(function(Ir,di){Ir===void 0&&(Ir=!0);var yi=[Er],Vi={reason:1,isAsync:Ir};f0(yi,Vi,function(Ha){Ha&&Co({reason:32,removed:yi}),di&&di(Ha)})},"remove")}),kt}o(Ws,"_getPlugin");function Bl(){if(!re){var ze=(An||[]).slice();s0(ze,ke)===-1&&ze[On](ke),re=w(mT(ze),g.cfg,st)}return re}o(Bl,"_getPluginChain");function f0(ze,kt,Er){if(ze&&ze[Or]>0){var Ht=w(ze,g.cfg,st),Ir=I(Ht,st);Ir[EI](function(){var di=!1,yi=[];Yt(ge,function(Ha,q0){CT(Ha,ze)?di=!0:yi[On](Ha)}),ge=yi,or=null,si=null;var Vi=[];ve&&(Yt(ve,function(Ha,q0){var Uu=[];Yt(Ha,function(Hu){CT(Hu,ze)?di=!0:Uu[On](Hu)}),Vi[On](Uu)}),ve=Vi),Er&&Er(di),ai()}),Ir[Us](kt)}else Er(!1)}o(f0,"_removePlugins");function bm(){if(b&&b.queue){var ze=b.queue.slice(0);b.queue[Or]=0,Yt(ze,function(kt){var Er={name:Ye||"InternalMessageId: "+kt[II],iKey:Dr,time:K1(new Date),baseType:zI.dataType,baseData:{message:kt[Nh]}};st.track(Er)})}}o(bm,"_flushInternalLogs");function Lu(ze,kt,Er,Ht){var Ir=1,di=!1,yi=null;Ht=Ht||5e3;function Vi(){Ir--,di&&Ir===0&&(yi&&yi[kp](),yi=null,kt&&kt(di),kt=null)}if(o(Vi,"doCallback"),Qe&&Qe[Or]>0){var Ha=As()[Dh](Qe);Ha.iterate(function(q0){if(q0.flush){Ir++;var Uu=!1;q0.flush(ze,function(){Uu=!0,Vi()},Er)||Uu||(ze&&yi==null?yi=Yf(function(){yi=null,Vi()},Ht):Vi())}})}return di=!0,Vi(),!0}o(Lu,"_flushChannels");function vm(){var ze;pa(g[Bu](function(kt){var Er=kt.cfg.enablePerfMgr;if(Er){var Ht=kt.cfg[Sc];(ze!==Ht||!ze)&&(Ht||(Ht=pm),T8(kt.cfg,Sc,Ht),ze=Ht,V=null),!Q&&!V&&Ke(Ht)&&(V=Ht(st,st[Tc]()))}else V=null,ze=null}))}o(vm,"_initPerfManager");function Ou(ze){var kt=v(Bl(),st);kt[EI](ai),(!st._updateHook||st._updateHook(kt,ze)!==!0)&&kt[Us](ze)}o(Ou,"_doUpdate");function Tm(ze){var kt=st[zo];kt?(Mt(kt,2,73,ze),ai()):po(ze)}o(Tm,"_logOrThrowError");function oo(ze){var kt=st[Tc]();kt&&kt[Gp]([ze],2)}o(oo,"_notifyInvalidEvent");function pa(ze){ht.add(ze)}o(pa,"_addUnloadHook")})}return o(p,"AppInsightsCore"),p.__ieDyn=1,p}();function Ut(p,g){try{if(p&&p!==""){var E=l0().parse(p);if(E&&E[h8]&&E[h8]>=E.itemsAccepted&&E.itemsReceived-E.itemsAccepted===E.errors[Or])return E}}catch(b){Mt(g,1,43,"Cannot parse the response. "+(b[Jf]||Jt(b)),{response:p})}return null}o(Ut,"parseResponse");var tr="",vi="NoResponseBody",ds="&"+vi+"=true",go="POST",hs=function(){function p(){var g=0,E,b,B,R,Q,V,j,re,ge,ve,Qe,_e,ke,Ye;da(p,this,function(Oe,rt){var ht=!0;wi(),Oe[W1]=function(At,Wt){B=Wt,b&&Mt(B,1,28,"Sender is already initialized"),Oe.SetConfig(At),b=!0},Oe._getDbgPlgTargets=function(){return[b,R,V,E]},Oe.SetConfig=function(At){try{if(Q=At.senderOnCompleteCallBack||{},V=!!At.disableCredentials,j=At.fetchCredentials,R=!!At.isOneDs,E=!!At.enableSendPromise,ge=!!At.disableXhr,ve=!!At.disableBeacon,Qe=!!At.disableBeaconSync,Ye=At.timeWrapper,ke=!!At.addNoResponse,_e=!!At.disableFetchKeepAlive,re={sendPOST:Vt},R||(ht=!1),V){var Wt=Kp();Wt&&Wt.protocol&&Wt.protocol[wp]()==="file:"&&(ht=!1)}return!0}catch{}return!1},Oe.getSyncFetchPayload=function(){return g},Oe.getSenderInst=function(At,Wt){return At&&At[Or]?hn(At,Wt):null},Oe.getFallbackInst=function(){return re},Oe[xI]=function(At,Wt){wi()};function Et(At,Wt){An(Wt,200,{},At)}o(Et,"_onSuccess");function Dt(At,Wt){Mt(B,2,26,"Failed to send telemetry.",{message:At}),An(Wt,400,{})}o(Dt,"_onError");function Dr(At){Dt("No endpoint url is provided for the batch",At)}o(Dr,"_onNoPayloadUrl");function hn(At,Wt){for(var Jn=0,st=null,mr=0;st==null&&mr<At[Or];)Jn=At[mr],!ge&&Jn===1?Z5()?st=io:eT()&&(st=Vt):Jn===2&&ry(Wt)&&(!Wt||!_e)?st=pn:Jn===3&&id()&&(Wt?!Qe:!ve)&&(st=or),mr++;return st?{_transport:Jn,_isSync:Wt,sendPOST:st}:null}o(hn,"_getSenderInterface");function An(At,Wt,Jn,st){try{At&&At(Wt,Jn,st)}catch{}}o(An,"_doOnComplete");function si(At,Wt){var Jn=Of(),st=At[ku];if(!st)return Dr(Wt),!0;st=At[ku]+(ke?ds:tr);var mr=At[Fp],yo=R?mr:new Blob([mr],{type:"text/plain;charset=UTF-8"}),ai=Jn.sendBeacon(st,yo);return ai}o(si,"_doBeaconSend");function or(At,Wt,Jn){var st=At[Fp];try{if(st)if(si(At,Wt))Et(tr,Wt);else{var mr=Q&&Q.beaconOnRetry;mr&&Ke(mr)?mr(At,Wt,si):(re&&re.sendPOST(At,Wt,!0),Mt(B,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(yo){R&&jI(B,"Failed to send telemetry using sendBeacon API. Ex:"+Jt(yo)),An(Wt,R?0:400,{},tr)}}o(or,"_beaconSender");function Vt(At,Wt,Jn){var st,mr,yo,ai=At[U5]||{};!Jn&&E&&(st=Op(function(Co,Ws){mr=Co,yo=Ws})),R&&Jn&&At.disableXhrSync&&(Jn=!1);var Vs=At[ku];if(!Vs){Dr(Wt),mr&&mr(!1);return}var qe=j5(go,Vs,ht,!0,Jn,At[Du]);R||qe.setRequestHeader("Content-type","application/json"),Yt(xt(ai),function(Co){qe.setRequestHeader(Co,ai[Co])}),qe.onreadystatechange=function(){R||(As(qe),qe.readyState===4&&mr&&mr(!0))},qe.onload=function(){R&&As(qe)};function As(Co){var Ws=Q&&Q.xhrOnComplete,Bl=Ws&&Ke(Ws);if(Bl)Ws(Co,Wt,At);else{var f0=MI(Co);An(Wt,Co[$1],Oh(Co,R),f0)}}return o(As,"_doOnReadyFunc"),qe.onerror=function(Co){An(Wt,R?qe[$1]:400,Oh(qe,R),R?tr:LI(qe)),yo&&yo(Co)},qe.ontimeout=function(){An(Wt,R?qe[$1]:500,Oh(qe,R),R?tr:LI(qe)),mr&&mr(!1)},qe.send(At[Fp]),st}o(Vt,"_xhrSender");function pn(At,Wt,Jn){var st,mr=At[ku],yo=At[Fp],ai=R?yo:new Blob([yo],{type:"application/json"}),Vs,qe,As,Co=new Headers,Ws=yo[Or],Bl=!1,f0=!1,bm=At[U5]||{},Lu=(st={method:go,body:ai},st[G8]=!0,st);At.headers&&xt(At.headers)[Or]>0&&(Yt(xt(bm),function(oo){Co.append(oo,bm[oo])}),Lu[U5]=Co),j?Lu.credentials=j:ht&&R&&(Lu.credentials="include"),Jn&&(Lu.keepalive=!0,g+=Ws,R?At._sendReason===2&&(Bl=!0,ke&&(mr+=ds)):Bl=!0);var vm=new Request(mr,Lu);try{vm[G8]=!0}catch{}if(!Jn&&E&&(Vs=Op(function(oo,pa){qe=oo,As=pa})),!mr){Dr(Wt),qe&&qe(!1);return}function Ou(oo){An(Wt,R?0:400,{},R?tr:oo)}o(Ou,"_handleError");function Tm(oo,pa,ze){var kt=oo[$1],Er=Q.fetchOnComplete;Er&&Ke(Er)?Er(oo,Wt,ze||tr,pa):An(Wt,kt,{},ze||tr)}o(Tm,"_onFetchComplete");try{F0(fetch(R?mr:vm,R?Lu:null),function(oo){if(Jn&&(g-=Ws,Ws=0),!f0)if(f0=!0,oo.rejected)Ou(oo.reason&&oo.reason[Nh]),As&&As(oo.reason);else{var pa=oo[Dp];try{!R&&!pa.ok?(Ou(pa.statusText),qe&&qe(!1)):R&&!pa.body?(Tm(pa,null,tr),qe&&qe(!0)):F0(pa.text(),function(ze){Tm(pa,At,ze[Dp]),qe&&qe(!0)})}catch(ze){Ou(Jt(ze)),As&&As(ze)}}})}catch(oo){f0||(Ou(Jt(oo)),As&&As(oo))}return Bl&&!f0&&(f0=!0,An(Wt,200,{}),qe&&qe(!0)),R&&!f0&&At[Du]>0&&Ye&&Ye.set(function(){f0||(f0=!0,An(Wt,500,{}),qe&&qe(!0))},At[Du]),Vs}o(pn,"_doFetchSender");function io(At,Wt,Jn){var st=Tu(),mr=new XDomainRequest,yo=At[Fp];mr.onload=function(){var Co=MI(mr),Ws=Q&&Q.xdrOnComplete;Ws&&Ke(Ws)?Ws(mr,Wt,At):An(Wt,200,{},Co)},mr.onerror=function(){An(Wt,400,{},R?tr:S8(mr))},mr.ontimeout=function(){An(Wt,500,{})},mr.onprogress=function(){};var ai=st&&st.location&&st.location.protocol||"",Vs=At[ku];if(!Vs){Dr(Wt);return}if(!R&&Vs.lastIndexOf(ai,0)!==0){var qe="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Mt(B,2,40,". "+qe),Dt(qe,Wt);return}var As=R?Vs:Vs[ed](/^(https?:)/,"");mr.open(go,As),At[Du]&&(mr[Du]=At[Du]),mr.send(yo),R&&Jn?Ye&&Ye.set(function(){mr.send(yo)},0):mr.send(yo)}o(io,"_xdrSender");function wi(){g=0,b=!1,E=!1,B=null,R=null,Q=null,V=null,j=null,re=null,ge=!1,ve=!1,Qe=!1,_e=!1,ke=!1,Ye=null}o(wi,"_initDefaults")})}return o(p,"SenderPostManager"),p.__ieDyn=1,p}(),qh="on",fd="attachEvent",mm="addEventListener",cB="detachEvent",lB="removeEventListener",i2="events";Pu("aiEvtPageHide"),Pu("aiEvtPageShow");var vL=/\.[\.]+/g,cee=/[\.]+$/,_we=1,uB=Q8("events"),Swe=/^([^.]*)(?:\.(.+)|)/;function lee(p){return p&&p[ed]?p[ed](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,cn):p}o(lee,"_normalizeNamespace");function TL(p,g){if(g){var E=cn;ct(g)?(E=cn,Yt(g,function(B){B=lee(B),B&&(B[0]!=="."&&(B="."+B),E+=B)})):E=lee(g),E&&(E[0]!=="."&&(E="."+E),p=(p||cn)+E)}var b=Swe.exec(p||cn)||[];return{type:b[1],ns:(b[2]||cn).replace(vL,".").replace(cee,cn)[Zf](".").sort().join(".")}}o(TL,"_getEvtNamespace");function uee(p,g,E){E===void 0&&(E=!0);var b=uB.get(p,i2,{},E),B=b[g];return B||(B=b[g]=[]),B}o(uee,"_getRegisteredEvents");function fee(p,g,E,b){p&&g&&g[ha]&&(p[lB]?p[lB](g[ha],E,b):p[cB]&&p[cB](qh+g[ha],E))}o(fee,"_doDetach");function wwe(p,g,E,b){var B=!1;return p&&g&&g[ha]&&E&&(p[mm]?(p[mm](g[ha],E,b),B=!0):p[fd]&&(p[fd](qh+g[ha],E),B=!0)),B}o(wwe,"_doAttach");function dee(p,g,E,b){for(var B=g[Or];B--;){var R=g[B];R&&(!E.ns||E.ns===R[M5].ns)&&(!b||b(R))&&(fee(p,R[M5],R.handler,R.capture),g[Rp](B,1))}}o(dee,"_doUnregister");function Bwe(p,g,E){if(g[ha])dee(p,uee(p,g[ha]),g,E);else{var b=uB.get(p,i2,{});We(b,function(B,R){dee(p,R,g,E)}),xt(b)[Or]===0&&uB.kill(p,i2)}}o(Bwe,"_unregisterEvents");function hee(p,g){var E;return g?(ct(g)?E=[p].concat(g):E=[p,g],E=TL("xx",E).ns[Zf](".")):E=p,E}o(hee,"mergeEvtNamespace");function Aee(p,g,E,b,B){B===void 0&&(B=!1);var R=!1;if(p)try{var Q=TL(g,b);if(R=wwe(p,Q,E,B),R&&uB.accept(p)){var V={guid:_we++,evtName:Q,handler:E,capture:B};uee(p,Q.type)[On](V)}}catch{}return R}o(Aee,"eventOn");function Rwe(p,g,E,b,B){if(B===void 0&&(B=!1),p)try{var R=TL(g,b),Q=!1;Bwe(p,R,function(V){return R.ns&&!E||V.handler===E?(Q=!0,!0):!1}),Q||fee(p,R,E,B)}catch{}}o(Rwe,"eventOff");var pee="sampleRate",_L="ProcessLegacy",mee="http.method",SL="https://dc.services.visualstudio.com",o2="/v2/track",gm="not_specified",gee=UM({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),fB="split",rn="length",wL="toLowerCase",Ay="ingestionendpoint",IT="toString",yee="removeItem",dB="message",kwe="count",BL="stringify",RL="pathname",xT="match",ym="name",dd="properties",Gh="measurements",hB="sizeInBytes",AB="typeName",bT="exceptions",vT="severityLevel",kL="problemGroup",s2="parsedStack",pB="hasFullStack",mB="assembly",Vh="fileName",a2="line",gB="aiDataContract",yB="duration";function Cee(p,g,E){var b=g[rn],B=Dwe(p,g);if(B[rn]!==b){for(var R=0,Q=B;E[Q]!==void 0;)R++,Q=ce(B,0,147)+Pwe(R);B=Q}return B}o(Cee,"dataSanitizeKeyAndAddUniqueness");function Dwe(p,g){var E;return g&&(g=Ln(Mn(g)),g[rn]>150&&(E=ce(g,0,150),Mt(p,2,57,"name is too long.  It has been truncated to 150 characters.",{name:g},!0))),E||g}o(Dwe,"dataSanitizeKey");function Oa(p,g,E){E===void 0&&(E=1024);var b;return g&&(E=E||1024,g=Ln(Mn(g)),g[rn]>E&&(b=ce(g,0,E),Mt(p,2,61,"string value is too long. It has been truncated to "+E+" characters.",{value:g},!0))),b||g}o(Oa,"dataSanitizeString");function DL(p,g){return Iee(p,g,2048,66)}o(DL,"dataSanitizeUrl");function Eee(p,g){var E;return g&&g[rn]>32768&&(E=ce(g,0,32768),Mt(p,2,56,"message is too long, it has been truncated to 32768 characters.",{message:g},!0)),E||g}o(Eee,"dataSanitizeMessage");function Nwe(p,g){var E;if(g){var b=""+g;b[rn]>32768&&(E=ce(b,0,32768),Mt(p,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:g},!0))}return E||g}o(Nwe,"dataSanitizeException");function py(p,g){if(g){var E={};We(g,function(b,B){if(tt(B)&&Jp())try{B=l0()[BL](B)}catch(R){Mt(p,2,49,"custom property is not valid",{exception:R},!0)}B=Oa(p,B,8192),b=Cee(p,b,E),E[b]=B}),g=E}return g}o(py,"dataSanitizeProperties");function my(p,g){if(g){var E={};We(g,function(b,B){b=Cee(p,b,E),E[b]=B}),g=E}return g}o(my,"dataSanitizeMeasurements");function Qwe(p,g){return g&&Iee(p,g,128,69)[IT]()}o(Qwe,"dataSanitizeId");function Iee(p,g,E,b){var B;return g&&(g=Ln(Mn(g)),g[rn]>E&&(B=ce(g,0,E),Mt(p,2,b,"input is too long, it has been truncated to "+E+" characters.",{data:g},!0))),B||g}o(Iee,"dataSanitizeInput");function Pwe(p){var g="00"+p;return ye(g,g[rn]-3)}o(Pwe,"dsPadNumber");var xee=dp()||{},bee=0,Fwe=[null,null,null,null,null];function Mwe(p){var g=bee,E=Fwe,b=E[g];return xee.createElement?E[g]||(b=E[g]=xee.createElement("a")):b={host:Lwe(p,!0)},b.href=p,g++,g>=E[rn]&&(g=0),bee=g,b}o(Mwe,"urlParseUrl");function Lwe(p,g){var E=Owe(p,g)||"";if(E){var b=E[xT](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(b!=null&&b[rn]>3&&Ae(b[2])&&b[2][rn]>0)return b[2]+(b[3]||"")}return E}o(Lwe,"urlParseHost");function Owe(p,g){var E=null;if(p){var b=p[xT](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(b!=null&&b[rn]>2&&Ae(b[2])&&b[2][rn]>0&&(E=b[2]||"",g&&b[rn]>2)){var B=(b[1]||"")[wL](),R=b[3]||"";(B==="http"&&R===":80"||B==="https"&&R===":443")&&(R=""),E+=R}}return E}o(Owe,"urlParseFullHost");var Uwe=[SL+o2,"https://breeze.aimon.applicationinsights.io"+o2,"https://dc-int.services.visualstudio.com"+o2];function vee(p){return s0(Uwe,p[wL]())!==-1}o(vee,"isInternalApplicationInsightsEndpoint");function Hwe(p,g,E,b){var B,R=b,Q=b;if(g&&g[rn]>0){var V=Mwe(g);if(B=V.host,!R)if(V[RL]!=null){var j=V.pathname[rn]===0?"/":V[RL];j.charAt(0)!=="/"&&(j="/"+j),Q=V[RL],R=Oa(p,E?E+" "+j:j)}else R=Oa(p,g)}else B=b,R=b;return{target:B,name:R,data:Q}}o(Hwe,"AjaxHelperParseDependencyPath");var NL=gI({LocalStorage:0,SessionStorage:1}),c2=void 0,Tee="";function _ee(p){try{if(ee(pl()))return null;var g=new Date()[IT](),E=No(p===NL.LocalStorage?"localStorage":"sessionStorage"),b=Tee+g;E.setItem(b,g);var B=E.getItem(b)!==g;if(E[yee](b),!B)return E}catch{}return null}o(_ee,"_getVerifiedStorageObject");function QL(){return See()?_ee(NL.SessionStorage):null}o(QL,"_getSessionStorageObject");function qwe(p){Tee=p||""}o(qwe,"utlSetStoragePrefix");function See(p){return(p||c2===void 0)&&(c2=!!_ee(NL.SessionStorage)),c2}o(See,"utlCanUseSessionStorage");function Gwe(p,g){var E=QL();if(E!==null)try{return E.getItem(g)}catch(b){c2=!1,Mt(p,2,2,"Browser failed read of session storage. "+Ss(b),{exception:Jt(b)})}return null}o(Gwe,"utlGetSessionStorage");function Vwe(p,g,E){var b=QL();if(b!==null)try{return b.setItem(g,E),!0}catch(B){c2=!1,Mt(p,2,4,"Browser failed write to session storage. "+Ss(B),{exception:Jt(B)})}return!1}o(Vwe,"utlSetSessionStorage");function Wwe(p,g){var E=QL();if(E!==null)try{return E[yee](g),!0}catch(b){c2=!1,Mt(p,2,6,"Browser failed removal of session storage item. "+Ss(b),{exception:Jt(b)})}return!1}o(Wwe,"utlRemoveSessionStorage");var Ywe=";",$we="=";function PL(p){if(!p)return{};var g=p[fB](Ywe),E=wM(g,function(B,R){var Q=R[fB]($we);if(Q[rn]===2){var V=Q[0][wL](),j=Q[1];B[V]=j}return B},{});if(xt(E)[rn]>0){if(E.endpointsuffix){var b=E.location?E.location+".":"";E[Ay]=E[Ay]||"https://"+b+"dc."+E.endpointsuffix}E[Ay]=E[Ay]||SL,s8(E[Ay],"/")&&(E[Ay]=E[Ay].slice(0,-1))}return E}o(PL,"parseConnectionString");var zwe=function(){function p(g,E,b){var B=this,R=this;R.ver=1,R.sampleRate=100,R.tags={},R[ym]=Oa(g,b)||gm,R.data=E,R.time=K1(new Date),R[gB]={time:1,iKey:1,name:1,sampleRate:o(function(){return B.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(p,"Envelope"),p}(),l2=function(){function p(g,E,b,B){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var R=this;R.ver=2,R[ym]=Oa(g,E)||gm,R[dd]=py(g,b),R[Gh]=my(g,B)}return o(p,"Event"),p.envelopeType="Microsoft.ApplicationInsights.{0}.Event",p.dataType="EventData",p}(),jwe=58,Kwe=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,Jwe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,Xwe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,Zwe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,e8e=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,t8e=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,r8e=/([^\(\s\n]+):([0-9]+)$/,wee="<no_method>",u2="error",wl="stack",FL="stackDetails",Bee="errorSrc",ML="message",Ree="description",kee=[{re:Jwe,len:5,m:1,fn:2,ln:3,col:4},{chk:i8e,pre:n8e,re:Xwe,len:4,m:1,fn:2,ln:3},{re:Zwe,len:3,m:1,fn:2,hdl:Mee},{re:e8e,len:2,fn:1,hdl:Mee}];function n8e(p){return p.replace(/(\(anonymous\))/,"<anonymous>")}o(n8e,"_scrubAnonymous");function i8e(p){return _u(p,"[native")<0}o(i8e,"_ignoreNative");function LL(p,g){var E=p;return E&&!Ae(E)&&(JSON&&JSON[BL]?(E=JSON[BL](p),g&&(!E||E==="{}")&&(Ke(p[IT])?E=p[IT]():E=""+p)):E=""+p+" - (Missing JSON.stringify)"),E||""}o(LL,"_stringify");function Dee(p,g){var E=p;return p&&(E&&!Ae(E)&&(E=p[ML]||p[Ree]||E),E&&!Ae(E)&&(E=LL(E,!0)),p.filename&&(E=E+" @"+(p.filename||"")+":"+(p.lineno||"?")+":"+(p.colno||"?"))),g&&g!=="String"&&g!=="Object"&&g!=="Error"&&_u(E||"",g)===-1&&(E=g+": "+E),E||""}o(Dee,"_formatMessage");function o8e(p){try{if(tt(p))return"hasFullStack"in p&&"typeName"in p}catch{}return!1}o(o8e,"_isExceptionDetailsInternal");function s8e(p){try{if(tt(p))return"ver"in p&&"exceptions"in p&&"properties"in p}catch{}return!1}o(s8e,"_isExceptionInternal");function Nee(p){return p&&p.src&&Ae(p.src)&&p.obj&&ct(p.obj)}o(Nee,"_isStackDetails");function gy(p){var g=p||"";Ae(g)||(Ae(g[wl])?g=g[wl]:g=""+g);var E=g[fB](`
`);return{src:g,obj:E}}o(gy,"_convertStackObj");function a8e(p){for(var g=[],E=p[fB](`
`),b=0;b<E[rn];b++){var B=E[b];E[b+1]&&(B+="@"+E[b+1],b++),g.push(B)}return{src:p,obj:g}}o(a8e,"_getOperaStack");function Qee(p){var g=null;if(p)try{if(p[wl])g=gy(p[wl]);else if(p[u2]&&p[u2][wl])g=gy(p[u2][wl]);else if(p.exception&&p.exception[wl])g=gy(p.exception[wl]);else if(Nee(p))g=p;else if(Nee(p[FL]))g=p[FL];else if(Tu()&&Tu().opera&&p[ML])g=a8e(p[dB]);else if(p.reason&&p.reason[wl])g=gy(p.reason[wl]);else if(Ae(p))g=gy(p);else{var E=p[ML]||p[Ree]||"";Ae(p[Bee])&&(E&&(E+=`
`),E+=" from "+p[Bee]),E&&(g=gy(E))}}catch(b){g=gy(b)}return g||{src:"",obj:null}}o(Qee,"_getStackFromErrorObj");function c8e(p){var g="";return p&&(p.obj?g=p.obj.join(`
`):g=p.src||""),g}o(c8e,"_formatStackTrace");function l8e(p){var g,E=p.obj;if(E&&E[rn]>0){g=[];var b=0,B=!1,R=0;Yt(E,function(Ye){if(B||h8e(Ye)){var Oe=Mn(Ye);B=!0;var rt=A8e(Oe,b);rt&&(R+=rt[hB],g.push(rt),b++)}});var Q=32*1024;if(R>Q)for(var V=0,j=g[rn]-1,re=0,ge=V,ve=j;V<j;){var Qe=g[V][hB],_e=g[j][hB];if(re+=Qe+_e,re>Q){var ke=ve-ge+1;g.splice(ge,ke);break}ge=V,ve=j,V++,j--}}return g}o(l8e,"_parseStack");function CB(p){var g="";if(p&&(g=p.typeName||p[ym]||"",!g))try{var E=/function (.{1,200})\(/,b=E.exec(p.constructor[IT]());g=b&&b[rn]>1?b[1]:""}catch{}return g}o(CB,"_getErrorType");function OL(p){if(p)try{if(!Ae(p)){var g=CB(p),E=LL(p,!1);return(!E||E==="{}")&&(p[u2]&&(p=p[u2],g=CB(p)),E=LL(p,!0)),_u(E,g)!==0&&g!=="String"?g+":"+E:E}}catch{}return""+(p||"")}o(OL,"_formatErrorCode");var EB=function(){function p(g,E,b,B,R,Q){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var V=this;V.ver=2,s8e(E)?(V[bT]=E[bT]||[],V[dd]=E[dd],V[Gh]=E[Gh],E[vT]&&(V[vT]=E[vT]),E.id&&(V.id=E.id,E[dd].id=E.id),E[kL]&&(V[kL]=E[kL]),ee(E.isManual)||(V.isManual=E.isManual)):(b||(b={}),Q&&(b.id=Q),V[bT]=[Pee(g,E,b)],V[dd]=py(g,b),V[Gh]=my(g,B),R&&(V[vT]=R),Q&&(V.id=Q))}return o(p,"Exception"),p.CreateAutoException=function(g,E,b,B,R,Q,V,j){var re=CB(R||Q||g);return{message:Dee(g,re),url:E,lineNumber:b,columnNumber:B,error:OL(R||Q||g),evt:OL(Q||g),typeName:re,stackDetails:Qee(V||R||Q),errorSrc:j}},p.CreateFromInterface=function(g,E,b,B){var R=E[bT]&&bh(E[bT],function(V){return d8e(g,V)}),Q=new p(g,wu(wu({},E),{exceptions:R}),b,B);return Q},p.prototype.toInterface=function(){var g=this,E=g.exceptions,b=g.properties,B=g.measurements,R=g.severityLevel,Q=g.problemGroup,V=g.id,j=g.isManual,re=E instanceof Array&&bh(E,function(ge){return ge.toInterface()})||void 0;return{ver:"4.0",exceptions:re,severityLevel:R,properties:b,measurements:B,problemGroup:Q,id:V,isManual:j}},p.CreateSimpleException=function(g,E,b,B,R,Q){var V;return{exceptions:[(V={},V[pB]=!0,V.message=g,V.stack=R,V.typeName=E,V)]}},p.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",p.dataType="ExceptionData",p.formatError=OL,p}(),u8e=vr({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function f8e(){var p=this,g=ct(p[s2])&&bh(p[s2],function(b){return m8e(b)}),E={id:p.id,outerId:p.outerId,typeName:p[AB],message:p[dB],hasFullStack:p[pB],stack:p[wl],parsedStack:g||void 0};return E}o(f8e,"_toInterface");function Pee(p,g,E){var b,B,R,Q,V,j,re,ge;if(o8e(g))Q=g[AB],V=g[dB],re=g[wl],ge=g[s2]||[],j=g[pB];else{var ve=g,Qe=ve&&ve.evt;kn(ve)||(ve=ve[u2]||Qe||ve),Q=Oa(p,CB(ve))||gm,V=Eee(p,Dee(g||ve,Q))||gm;var _e=g[FL]||Qee(g);ge=l8e(_e),ct(ge)&&bh(ge,function(ke){ke[mB]=Oa(p,ke[mB]),ke[Vh]=Oa(p,ke[Vh])}),re=Nwe(p,c8e(_e)),j=ct(ge)&&ge[rn]>0,E&&(E[AB]=E[AB]||Q)}return b={},b[gB]=u8e,b.id=B,b.outerId=R,b.typeName=Q,b.message=V,b[pB]=j,b.stack=re,b.parsedStack=ge,b.toInterface=f8e,b}o(Pee,"_createExceptionDetails");function d8e(p,g){var E=ct(g[s2])&&bh(g[s2],function(B){return p8e(B)})||g[s2],b=Pee(p,wu(wu({},g),{parsedStack:E}));return b}o(d8e,"_createExDetailsFromInterface");function Fee(p,g){var E=g[xT](t8e);if(E&&E[rn]>=4)p[Vh]=E[1],p[a2]=parseInt(E[2]);else{var b=g[xT](r8e);b&&b[rn]>=3?(p[Vh]=b[1],p[a2]=parseInt(b[2])):p[Vh]=g}}o(Fee,"_parseFilename");function Mee(p,g,E){var b=p[Vh];g.fn&&E&&E[rn]>g.fn&&(g.ln&&E[rn]>g.ln?(b=Ln(E[g.fn]||""),p[a2]=parseInt(Ln(E[g.ln]||""))||0):b=Ln(E[g.fn]||"")),b&&Fee(p,b)}o(Mee,"_handleFilename");function h8e(p){var g=!1;if(p&&Ae(p)){var E=Ln(p);E&&(g=Kwe.test(E))}return g}o(h8e,"_isStackFrame");var Lee=vr({level:1,method:1,assembly:0,fileName:0,line:0});function A8e(p,g){var E,b;if(p&&Ae(p)&&Ln(p)){b=(E={},E[gB]=Lee,E.level=g,E.assembly=Ln(p),E.method=wee,E.fileName="",E.line=0,E.sizeInBytes=0,E);for(var B=0;B<kee[rn];){var R=kee[B];if(R.chk&&!R.chk(p))break;R.pre&&(p=R.pre(p));var Q=p[xT](R.re);if(Q&&Q[rn]>=R.len){R.m&&(b.method=Ln(Q[R.m]||wee)),R.hdl?R.hdl(b,R,Q):R.fn&&(R.ln?(b[Vh]=Ln(Q[R.fn]||""),b[a2]=parseInt(Ln(Q[R.ln]||""))||0):Fee(b,Q[R.fn]||""));break}B++}}return Oee(b)}o(A8e,"_extractStackFrame");function p8e(p){var g,E=(g={},g[gB]=Lee,g.level=p.level,g.method=p.method,g.assembly=p[mB],g.fileName=p[Vh],g.line=p[a2],g.sizeInBytes=0,g);return Oee(E)}o(p8e,"_stackFrameFromInterface");function Oee(p){var g=jwe;return p&&(g+=p.method[rn],g+=p.assembly[rn],g+=p.fileName[rn],g+=p.level.toString()[rn],g+=p.line.toString()[rn],p[hB]=g),p}o(Oee,"_populateFrameSizeInBytes");function m8e(p){return{level:p.level,method:p.method,assembly:p[mB],fileName:p[Vh],line:p[a2]}}o(m8e,"_parsedFrameToInterface");var g8e=function(){function p(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(p,"DataPoint"),p}(),TT=function(){function p(g,E,b,B,R,Q,V,j,re){this.aiDataContract={ver:1,metrics:1,properties:0};var ge=this;ge.ver=2;var ve=new g8e;ve[kwe]=B>0?B:void 0,ve.max=isNaN(Q)||Q===null?void 0:Q,ve.min=isNaN(R)||R===null?void 0:R,ve[ym]=Oa(g,E)||gm,ve.value=b,ve.stdDev=isNaN(V)||V===null?void 0:V,ge.metrics=[ve],ge[dd]=py(g,j),ge[Gh]=my(g,re)}return o(p,"Metric"),p.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",p.dataType="MetricData",p}(),_T="";function Uee(p){(isNaN(p)||p<0)&&(p=0),p=NM(p);var g=_T+p%1e3,E=_T+vh(p/1e3)%60,b=_T+vh(p/(1e3*60))%60,B=_T+vh(p/(1e3*60*60))%24,R=vh(p/(1e3*60*60*24));return g=g[rn]===1?"00"+g:g[rn]===2?"0"+g:g,E=E[rn]<2?"0"+E:E,b=b[rn]<2?"0"+b:b,B=B[rn]<2?"0"+B:B,(R>0?R+".":_T)+B+":"+b+":"+E+"."+g}o(Uee,"msToTimeSpan");var IB=function(){function p(g,E,b,B,R,Q,V){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var j=this;j.ver=2,j.id=Qwe(g,V),j.url=DL(g,b),j[ym]=Oa(g,E)||gm,isNaN(B)||(j[yB]=Uee(B)),j[dd]=py(g,R),j[Gh]=my(g,Q)}return o(p,"PageView"),p.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",p.dataType="PageviewData",p}(),xB=function(){function p(g,E,b,B,R,Q,V,j,re,ge,ve,Qe){re===void 0&&(re="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var _e=this;_e.ver=2,_e.id=E,_e[yB]=Uee(R),_e.success=Q,_e.resultCode=V+"",_e.type=Oa(g,re);var ke=Hwe(g,b,j,B);_e.data=DL(g,B)||ke.data,_e.target=Oa(g,ke.target),ge&&(_e.target="".concat(_e.target," | ").concat(ge)),_e[ym]=Oa(g,ke[ym]),_e[dd]=py(g,ve),_e[Gh]=my(g,Qe)}return o(p,"RemoteDependencyData"),p.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",p.dataType="RemoteDependencyData",p}(),bB=function(){function p(g,E,b,B,R){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Q=this;Q.ver=2,E=E||gm,Q[dB]=Eee(g,E),Q[dd]=py(g,B),Q[Gh]=my(g,R),b&&(Q[vT]=b)}return o(p,"Trace"),p.envelopeType="Microsoft.ApplicationInsights.{0}.Message",p.dataType="MessageData",p}(),vB=function(){function p(g,E,b,B,R,Q,V){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var j=this;j.ver=2,j.url=DL(g,b),j[ym]=Oa(g,E)||gm,j[dd]=py(g,R),j[Gh]=my(g,Q),V&&(j.domProcessing=V.domProcessing,j[yB]=V[yB],j.networkConnect=V.networkConnect,j.perfTotal=V.perfTotal,j.receivedResponse=V.receivedResponse,j.sentRequest=V.sentRequest)}return o(p,"PageViewPerformance"),p.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",p.dataType="PageviewPerformanceData",p}(),yy=function(){function p(g,E){this.aiDataContract={baseType:1,baseData:1},this.baseType=g,this.baseData=E}return o(p,"Data"),p}(),y8e=gI({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function Cm(p){var g="ai."+p+".";return function(E){return g+E}}o(Cm,"_aiNameFunc");var ST=Cm("application"),Bs=Cm("device"),TB=Cm("location"),f2=Cm("operation"),UL=Cm("session"),Em=Cm("user"),Cy=Cm("cloud"),wT=Cm("internal"),Hee=function(p){V1(g,p);function g(){return p.call(this)||this}return o(g,"ContextTagKeys"),g}(jM({applicationVersion:ST("ver"),applicationBuild:ST("build"),applicationTypeId:ST("typeId"),applicationId:ST("applicationId"),applicationLayer:ST("layer"),deviceId:Bs("id"),deviceIp:Bs("ip"),deviceLanguage:Bs("language"),deviceLocale:Bs("locale"),deviceModel:Bs("model"),deviceFriendlyName:Bs("friendlyName"),deviceNetwork:Bs("network"),deviceNetworkName:Bs("networkName"),deviceOEMName:Bs("oemName"),deviceOS:Bs("os"),deviceOSVersion:Bs("osVersion"),deviceRoleInstance:Bs("roleInstance"),deviceRoleName:Bs("roleName"),deviceScreenResolution:Bs("screenResolution"),deviceType:Bs("type"),deviceMachineName:Bs("machineName"),deviceVMName:Bs("vmName"),deviceBrowser:Bs("browser"),deviceBrowserVersion:Bs("browserVersion"),locationIp:TB("ip"),locationCountry:TB("country"),locationProvince:TB("province"),locationCity:TB("city"),operationId:f2("id"),operationName:f2("name"),operationParentId:f2("parentId"),operationRootId:f2("rootId"),operationSyntheticSource:f2("syntheticSource"),operationCorrelationVector:f2("correlationVector"),sessionId:UL("id"),sessionIsFirst:UL("isFirst"),sessionIsNew:UL("isNew"),userAccountAcquisitionDate:Em("accountAcquisitionDate"),userAccountId:Em("accountId"),userAgent:Em("userAgent"),userId:Em("id"),userStoreRegion:Em("storeRegion"),userAuthUserId:Em("authUserId"),userAnonymousUserAcquisitionDate:Em("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Em("authUserAcquisitionDate"),cloudName:Cy("name"),cloudRole:Cy("role"),cloudRoleVer:Cy("roleVer"),cloudRoleInstance:Cy("roleInstance"),cloudEnvironment:Cy("environment"),cloudLocation:Cy("location"),cloudDeploymentUnit:Cy("deploymentUnit"),internalNodeName:wT("nodeName"),internalSdkVersion:wT("sdkVersion"),internalAgentVersion:wT("agentVersion"),internalSnippet:wT("snippet"),internalSdkSrc:wT("sdkSrc")})),qs=new Hee;function qee(p,g){Rwe(p,null,null,g)}o(qee,"_disableEvents");function C8e(p){var g=dp(),E=Of(),b=!1,B=[],R=1;E&&!ee(E.onLine)&&!E.onLine&&(R=2);var Q=0,V=Qe(),j=hee(Pu("OfflineListener"),p);try{if(ge(Tu())&&(b=!0),g){var re=g.body||g;re.ononline&&ge(re)&&(b=!0)}}catch{b=!1}function ge(Et){var Dt=!1;return Et&&(Dt=Aee(Et,"online",Ye,j),Dt&&Aee(Et,"offline",Oe,j)),Dt}o(ge,"_enableEvents");function ve(){return V}o(ve,"_isOnline");function Qe(){return!(Q===2||R===2)}o(Qe,"calCurrentState");function _e(){var Et=Qe();V!==Et&&(V=Et,Yt(B,function(Dt){var Dr={isOnline:V,rState:R,uState:Q};try{Dt(Dr)}catch{}}))}o(_e,"listnerNoticeCheck");function ke(Et){Q=Et,_e()}o(ke,"setOnlineState");function Ye(){R=1,_e()}o(Ye,"_setOnline");function Oe(){R=2,_e()}o(Oe,"_setOffline");function rt(){var Et=Tu();if(Et&&b){if(qee(Et,j),g){var Dt=g.body||g;H(Dt.ononline)||qee(Dt,j)}b=!1}}o(rt,"_unload");function ht(Et){return B.push(Et),{rm:o(function(){var Dt=B.indexOf(Et);if(Dt>-1)return B.splice(Dt,1)},"rm")}}return o(ht,"addListener"),{isOnline:ve,isListening:o(function(){return b},"isListening"),unload:rt,addListener:ht,setOnlineState:ke}}o(C8e,"createOfflineListener");var E8e="AppInsightsChannelPlugin",Ey="duration",Aa="tags",HL="deviceType",Rc="data",Wh="name",BT="traceID",un="length",RT="stringify",Iy="measurements",hd="dataType",xy="envelopeType",by="toString",vy="enqueue",Ty="count",Yh="push",qL="emitLineDelimitedJson",d2="clear",_B="markAsSent",kT="clearSent",GL="bufferOverride",DT="BUFFER_KEY",Im="SENT_BUFFER_KEY",h2="concat",NT="MAX_BUFFER_SIZE",QT="triggerSend",Ua="diagLog",VL="initialize",PT="_sender",FT="endpointUrl",MT="instrumentationKey",WL="customHeaders",Gee="maxBatchSizeInBytes",YL="onunloadDisableBeacon",$L="isBeaconApiDisabled",Vee="alwaysUseXhrOverride",Wee="enableSessionStorageBuffer",Ad="_buffer",Yee="onunloadDisableFetch",$ee="disableSendBeaconSplit",SB="getSenderInst",_y="_onError",zL="_onPartialSuccess",wB="_onSuccess",jL="itemsReceived",KL="itemsAccepted",JL="baseType",BB="sampleRate",I8e="getHashCodeScore",XL="baseType",no="baseData",Gs="properties",zee="true";function Jo(p,g,E){return rd(p,g,E,se)}o(Jo,"_setValueIf");function x8e(p,g,E){var b=E[Aa]=E[Aa]||{},B=g.ext=g.ext||{},R=g[Aa]=g[Aa]||[],Q=B.user;Q&&(Jo(b,qs.userAuthUserId,Q.authId),Jo(b,qs.userId,Q.id||Q.localId));var V=B.app;V&&Jo(b,qs.sessionId,V.sesId);var j=B.device;j&&(Jo(b,qs.deviceId,j.id||j.localId),Jo(b,qs[HL],j.deviceClass),Jo(b,qs.deviceIp,j.ip),Jo(b,qs.deviceModel,j.model),Jo(b,qs[HL],j[HL]));var re=g.ext.web;if(re){Jo(b,qs.deviceLanguage,re.browserLang),Jo(b,qs.deviceBrowserVersion,re.browserVer),Jo(b,qs.deviceBrowser,re.browser);var ge=E[Rc]=E[Rc]||{},ve=ge[no]=ge[no]||{},Qe=ve[Gs]=ve[Gs]||{};Jo(Qe,"domain",re.domain),Jo(Qe,"isManual",re.isManual?zee:null),Jo(Qe,"screenRes",re.screenRes),Jo(Qe,"userConsent",re.userConsent?zee:null)}var _e=B.os;_e&&(Jo(b,qs.deviceOS,_e[Wh]),Jo(b,qs.deviceOSVersion,_e.osVer));var ke=B.trace;ke&&(Jo(b,qs.operationParentId,ke.parentID),Jo(b,qs.operationName,Oa(p,ke[Wh])),Jo(b,qs.operationId,ke[BT]));for(var Ye={},Oe=R[un]-1;Oe>=0;Oe--){var rt=R[Oe];We(rt,function(Et,Dt){Ye[Et]=Dt}),R.splice(Oe,1)}We(R,function(Et,Dt){Ye[Et]=Dt});var ht=wu(wu({},b),Ye);ht[qs.internalSdkVersion]||(ht[qs.internalSdkVersion]=Oa(p,"javascript:".concat(b8e.Version),64)),E[Aa]=$5(ht)}o(x8e,"_extractPartAExtensions");function xm(p,g,E){ee(p)||We(p,function(b,B){Gt(B)?E[b]=B:Ae(B)?g[b]=B:Jp()&&(g[b]=l0()[RT](B))})}o(xm,"_extractPropsAndMeasurements");function Sy(p,g){ee(p)||We(p,function(E,b){p[E]=b||g})}o(Sy,"_convertPropsUndefinedToCustomDefinedValue");function wy(p,g,E,b){var B=new zwe(p,b,g);Jo(B,"sampleRate",E[pee]),(E[no]||{}).startTime&&(B.time=K1(E[no].startTime)),B.iKey=E.iKey;var R=E.iKey.replace(/-/g,"");return B[Wh]=B[Wh].replace("{0}",R),x8e(p,E,B),E[Aa]=E[Aa]||[],$5(B)}o(wy,"_createEnvelope");function By(p,g){ee(g[no])&&Mt(p,1,46,"telemetryItem.baseData cannot be null.")}o(By,"EnvelopeCreatorInit");var b8e={Version:"3.3.6"};function v8e(p,g,E){By(p,g);var b=g[no][Iy]||{},B=g[no][Gs]||{};xm(g[Rc],B,b),ee(E)||Sy(B,E);var R=g[no];if(ee(R))return jI(p,"Invalid input for dependency data"),null;var Q=R[Gs]&&R[Gs][mee]?R[Gs][mee]:"GET",V=new xB(p,R.id,R.target,R[Wh],R[Ey],R.success,R.responseCode,Q,R.type,R.correlationContext,B,b),j=new yy(xB[hd],V);return wy(p,xB[xy],g,j)}o(v8e,"DependencyEnvelopeCreator");function jee(p,g,E){By(p,g);var b={},B={};g[XL]!==l2[hd]&&(b.baseTypeSource=g[XL]),g[XL]===l2[hd]?(b=g[no][Gs]||{},B=g[no][Iy]||{}):g[no]&&xm(g[no],b,B),xm(g[Rc],b,B),ee(E)||Sy(b,E);var R=g[no][Wh],Q=new l2(p,R,b,B),V=new yy(l2[hd],Q);return wy(p,l2[xy],g,V)}o(jee,"EventEnvelopeCreator");function T8e(p,g,E){By(p,g);var b=g[no][Iy]||{},B=g[no][Gs]||{};xm(g[Rc],B,b),ee(E)||Sy(B,E);var R=g[no],Q=EB.CreateFromInterface(p,R,B,b),V=new yy(EB[hd],Q);return wy(p,EB[xy],g,V)}o(T8e,"ExceptionEnvelopeCreator");function _8e(p,g,E){By(p,g);var b=g[no],B=b[Gs]||{},R=b[Iy]||{};xm(g[Rc],B,R),ee(E)||Sy(B,E);var Q=new TT(p,b[Wh],b.average,b.sampleCount,b.min,b.max,b.stdDev,B,R),V=new yy(TT[hd],Q);return wy(p,TT[xy],g,V)}o(_8e,"MetricEnvelopeCreator");function S8e(p,g,E){By(p,g);var b,B=g[no];!ee(B)&&!ee(B[Gs])&&!ee(B[Gs][Ey])?(b=B[Gs][Ey],delete B[Gs][Ey]):!ee(g[Rc])&&!ee(g[Rc][Ey])&&(b=g[Rc][Ey],delete g[Rc][Ey]);var R=g[no],Q;((g.ext||{}).trace||{})[BT]&&(Q=g.ext.trace[BT]);var V=R.id||Q,j=R[Wh],re=R.uri,ge=R[Gs]||{},ve=R[Iy]||{};if(ee(R.refUri)||(ge.refUri=R.refUri),ee(R.pageType)||(ge.pageType=R.pageType),ee(R.isLoggedIn)||(ge.isLoggedIn=R.isLoggedIn[by]()),!ee(R[Gs])){var Qe=R[Gs];We(Qe,function(Ye,Oe){ge[Ye]=Oe})}xm(g[Rc],ge,ve),ee(E)||Sy(ge,E);var _e=new IB(p,j,re,b,ge,ve,V),ke=new yy(IB[hd],_e);return wy(p,IB[xy],g,ke)}o(S8e,"PageViewEnvelopeCreator");function w8e(p,g,E){By(p,g);var b=g[no],B=b[Wh],R=b.uri||b.url,Q=b[Gs]||{},V=b[Iy]||{};xm(g[Rc],Q,V),ee(E)||Sy(Q,E);var j=new vB(p,B,R,void 0,Q,V,b),re=new yy(vB[hd],j);return wy(p,vB[xy],g,re)}o(w8e,"PageViewPerformanceEnvelopeCreator");function B8e(p,g,E){By(p,g);var b=g[no].message,B=g[no].severityLevel,R=g[no][Gs]||{},Q=g[no][Iy]||{};xm(g[Rc],R,Q),ee(E)||Sy(R,E);var V=new bB(p,b,B,R,Q),j=new yy(bB[hd],V);return wy(p,bB[xy],g,j)}o(B8e,"TraceEnvelopeCreator");var Kee=function(){function p(g,E){var b=[],B=!1,R=E.maxRetryCnt;this._get=function(){return b},this._set=function(Q){return b=Q,b},da(p,this,function(Q){Q[vy]=function(V){if(Q[Ty]()>=E.eventsLimitInMem){B||(Mt(g,2,105,"Maximum in-memory buffer size reached: "+Q[Ty](),!0),B=!0);return}V.cnt=V.cnt||0,!(!ee(R)&&V.cnt>R)&&b[Yh](V)},Q[Ty]=function(){return b[un]},Q.size=function(){for(var V=b[un],j=0;j<b[un];j++)V+=b[j].item[un];return E[qL]||(V+=2),V},Q[d2]=function(){b=[],B=!1},Q.getItems=function(){return b.slice(0)},Q.batchPayloads=function(V){if(V&&V[un]>0){var j=[];Yt(V,function(ge){j[Yh](ge.item)});var re=E[qL]?j.join(`
`):"["+j.join(",")+"]";return re}return null},Q.createNew=function(V,j,re){var ge=b.slice(0);V=V||g,j=j||{};var ve=re?new Jee(V,j):new ZL(V,j);return Yt(ge,function(Qe){ve[vy](Qe)}),ve}})}return o(p,"BaseSendBuffer"),p.__ieDyn=1,p}(),ZL=function(p){V1(g,p);function g(E,b){var B=p.call(this,E,b)||this;return da(g,B,function(R,Q){R[_B]=function(V){Q[d2]()},R[kT]=function(V){}}),B}return o(g,"ArraySendBuffer"),g.__ieDyn=1,g}(Kee),R8e=["AI_buffer","AI_sentBuffer"],Jee=function(p){V1(g,p);function g(b,B){var R=p.call(this,b,B)||this,Q=!1,V=B?.namePrefix,j=B[GL]||{getItem:Gwe,setItem:Vwe},re=j.getItem,ge=j.setItem,ve=B.maxRetryCnt;return da(g,R,function(Qe,_e){var ke=Dt(g[DT]),Ye=Dt(g[Im]),Oe=An(),rt=Ye[h2](Oe),ht=Qe._set(ke[h2](rt));ht[un]>g[NT]&&(ht[un]=g[NT]),hn(g[Im],[]),hn(g[DT],ht),Qe[vy]=function(or){if(Qe[Ty]()>=g[NT]){Q||(Mt(b,2,67,"Maximum buffer size reached: "+Qe[Ty](),!0),Q=!0);return}or.cnt=or.cnt||0,!(!ee(ve)&&or.cnt>ve)&&(_e[vy](or),hn(g[DT],Qe._get()))},Qe[d2]=function(){_e[d2](),hn(g[DT],Qe._get()),hn(g[Im],[]),Q=!1},Qe[_B]=function(or){hn(g[DT],Qe._set(Et(or,Qe._get())));var Vt=Dt(g[Im]);Vt instanceof Array&&or instanceof Array&&(Vt=Vt[h2](or),Vt[un]>g[NT]&&(Mt(b,1,67,"Sent buffer reached its maximum size: "+Vt[un],!0),Vt[un]=g[NT]),hn(g[Im],Vt))},Qe[kT]=function(or){var Vt=Dt(g[Im]);Vt=Et(or,Vt),hn(g[Im],Vt)},Qe.createNew=function(or,Vt,pn){pn=!!pn;var io=Qe._get().slice(0),wi=Dt(g[Im]).slice(0);or=or||b,Vt=Vt||{},Qe[d2]();var At=pn?new g(or,Vt):new ZL(or,Vt);return Yt(io,function(Wt){At[vy](Wt)}),pn&&At[_B](wi),At};function Et(or,Vt){var pn=[],io=[];return Yt(or,function(wi){io[Yh](wi.item)}),Yt(Vt,function(wi){!Ke(wi)&&s0(io,wi.item)===-1&&pn[Yh](wi)}),pn}o(Et,"_removePayloadsFromBuffer");function Dt(or){var Vt=or;return Vt=V?V+"_"+Vt:Vt,Dr(Vt)}o(Dt,"_getBuffer");function Dr(or){try{var Vt=re(b,or);if(Vt){var pn=l0().parse(Vt);if(Ae(pn)&&(pn=l0().parse(pn)),pn&&ct(pn))return pn}}catch(io){Mt(b,1,42," storage key: "+or+", "+Ss(io),{exception:Jt(io)})}return[]}o(Dr,"_getBufferBase");function hn(or,Vt){var pn=or;try{pn=V?V+"_"+pn:pn;var io=JSON[RT](Vt);ge(b,pn,io)}catch(wi){ge(b,pn,JSON[RT]([])),Mt(b,2,41," storage key: "+pn+", "+Ss(wi)+". Buffer cleared",{exception:Jt(wi)})}}o(hn,"_setBuffer");function An(){var or=[];try{return Yt(R8e,function(Vt){var pn=si(Vt);if(or=or[h2](pn),V){var io=V+"_"+Vt,wi=si(io);or=or[h2](wi)}}),or}catch(Vt){Mt(b,2,41,"Transfer events from previous buffers: "+Ss(Vt)+". previous Buffer items can not be removed",{exception:Jt(Vt)})}return[]}o(An,"_getPreviousEvents");function si(or){try{var Vt=Dr(or),pn=[];return Yt(Vt,function(io){var wi={item:io,cnt:0};pn[Yh](wi)}),Wwe(b,or),pn}catch{}return[]}o(si,"_getItemsFromPreviousKey")}),R}o(g,"SessionStorageSendBuffer");var E;return E=g,g.VERSION="_1",g.BUFFER_KEY="AI_buffer"+E.VERSION,g.SENT_BUFFER_KEY="AI_sentBuffer"+E.VERSION,g.MAX_BUFFER_SIZE=2e3,g}(Kee),k8e=function(){function p(g){da(p,this,function(E){E.serialize=function(Q){var V=b(Q,"root");try{return l0()[RT](V)}catch(j){Mt(g,1,48,j&&Ke(j[by])?j[by]():"Error serializing object",null,!0)}};function b(Q,V){var j="__aiCircularRefCheck",re={};if(!Q)return Mt(g,1,48,"cannot serialize object because it is null or undefined",{name:V},!0),re;if(Q[j])return Mt(g,2,50,"Circular reference detected while serializing object",{name:V},!0),re;if(!Q.aiDataContract){if(V==="measurements")re=R(Q,"number",V);else if(V==="properties")re=R(Q,"string",V);else if(V==="tags")re=R(Q,"string",V);else if(ct(Q))re=B(Q,V);else{Mt(g,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:V},!0);try{l0()[RT](Q),re=Q}catch(ge){Mt(g,1,48,ge&&Ke(ge[by])?ge[by]():"Error serializing object",null,!0)}}return re}return Q[j]=!0,We(Q.aiDataContract,function(ge,ve){var Qe=Ke(ve)?ve()&1:ve&1,_e=Ke(ve)?ve()&4:ve&4,ke=ve&2,Ye=Q[ge]!==void 0,Oe=tt(Q[ge])&&Q[ge]!==null;if(Qe&&!Ye&&!ke)Mt(g,1,24,"Missing required field specification. The field is required but not present on source",{field:ge,name:V});else if(!_e){var rt=void 0;Oe?ke?rt=B(Q[ge],ge):rt=b(Q[ge],ge):rt=Q[ge],rt!==void 0&&(re[ge]=rt)}}),delete Q[j],re}o(b,"_serializeObject");function B(Q,V){var j;if(Q)if(!ct(Q))Mt(g,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:V},!0);else{j=[];for(var re=0;re<Q[un];re++){var ge=Q[re],ve=b(ge,V+"["+re+"]");j[Yh](ve)}}return j}o(B,"_serializeArray");function R(Q,V,j){var re;return Q&&(re={},We(Q,function(ge,ve){if(V==="string")ve===void 0?re[ge]="undefined":ve===null?re[ge]="null":ve[by]?re[ge]=ve[by]():re[ge]="invalid field: toString() is not defined.";else if(V==="number")if(ve===void 0)re[ge]="undefined";else if(ve===null)re[ge]="null";else{var Qe=parseFloat(ve);re[ge]=Qe}else re[ge]="invalid field: "+j+" is of unknown type.",Mt(g,1,re[ge],null,!0)})),re}o(R,"_serializeStringMap")})}return o(p,"Serializer"),p.__ieDyn=1,p}(),D8e=8,N8e=function(){function p(){}return o(p,"HashCodeScoreGenerator"),p.prototype.getHashCodeScore=function(g){var E=this.getHashCode(g)/p.INT_MAX_VALUE;return E*100},p.prototype.getHashCode=function(g){if(g==="")return 0;for(;g[un]<D8e;)g=g[h2](g);for(var E=5381,b=0;b<g[un];++b)E=(E<<5)+E+g.charCodeAt(b),E=E&E;return Math.abs(E)},p.INT_MAX_VALUE=2147483647,p}(),Q8e=function(){function p(){var g=this,E=new N8e,b=new Hee;g.getSamplingScore=function(B){var R=0;return B[Aa]&&B[Aa][b.userId]?R=E.getHashCodeScore(B[Aa][b.userId]):B.ext&&B.ext.user&&B.ext.user.id?R=E[I8e](B.ext.user.id):B[Aa]&&B[Aa][b.operationId]?R=E.getHashCodeScore(B[Aa][b.operationId]):B.ext&&B.ext.telemetryTrace&&B.ext.telemetryTrace[BT]?R=E.getHashCodeScore(B.ext.telemetryTrace[BT]):R=Math.random()*100,R}}return o(p,"SamplingScoreGenerator"),p}(),P8e=function(){function p(g,E){this.INT_MAX_VALUE=2147483647;var b=E||ay(null);(g>100||g<0)&&(b.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:g},!0),g=100),this[BB]=g,this.samplingScoreGenerator=new Q8e}return o(p,"Sample"),p.prototype.isSampledIn=function(g){var E=this[BB],b=!1;return E==null||E>=100||g.baseType===TT[hd]?!0:(b=this.samplingScoreGenerator.getSamplingScore(g)<E,b)},p}(),Gi,$h,pd=void 0,Xee="",F8e=65e3;function Zee(p){try{return p.responseText}catch{}return null}o(Zee,"_getResponseText");function M8e(p){return p&&p.sendPOST}o(M8e,"isOverrideFn");var ete=Yr((Gi={endpointUrl:aT(se,SL+o2)},Gi[qL]=Tl(),Gi.maxBatchInterval=15e3,Gi[Gee]=102400,Gi.disableTelemetry=Tl(),Gi[Wee]=Tl(!0),Gi.isRetryDisabled=Tl(),Gi[$L]=Tl(!0),Gi[$ee]=Tl(!0),Gi.disableXhr=Tl(),Gi[Yee]=Tl(),Gi[YL]=Tl(),Gi[MT]=pd,Gi.namePrefix=pd,Gi.samplingPercentage=aT(L8e,100),Gi[WL]=pd,Gi.convertUndefined=pd,Gi.eventsLimitInMem=1e4,Gi[GL]=!1,Gi.httpXHROverride={isVal:M8e,v:pd},Gi[Vee]=Tl(),Gi.transports=pd,Gi.retryCodes=pd,Gi.maxRetryCnt={isVal:Gt,v:10},Gi));function L8e(p){return!isNaN(p)&&p>0&&p<=100}o(L8e,"_chkSampling");var O8e=($h={},$h[l2.dataType]=jee,$h[bB.dataType]=B8e,$h[IB.dataType]=S8e,$h[vB.dataType]=w8e,$h[EB.dataType]=T8e,$h[TT.dataType]=_8e,$h[xB.dataType]=v8e,$h),tte=function(p){V1(g,p);function g(){var E=p.call(this)||this;E.priority=1001,E.identifier=E8e;var b,B,R,Q,V,j,re,ge=0,ve,Qe,_e,ke,Ye,Oe,rt,ht,Et,Dt,Dr,hn,An,si,or,Vt,pn,io,wi,At,Wt,Jn,st,mr,yo,ai,Vs;return da(g,E,function(qe,As){nte(),qe.pause=function(){_m(),R=!0},qe.resume=function(){R&&(R=!1,B=null,yi(),g2())},qe.flush=function(Be,et,bt){if(Be===void 0&&(Be=!0),!R){_m();try{return qe[QT](Be,null,bt||1)}catch(Ot){Mt(qe[Ua](),1,22,"flush failed, telemetry will not be collected: "+Ss(Ot),{exception:Jt(Ot)})}}},qe.onunloadFlush=function(){if(!R)if(rt||At)try{return qe[QT](!0,q0,2)}catch(Be){Mt(qe[Ua](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Ss(Be),{exception:Jt(Be)})}else qe.flush(!1)},qe.addHeader=function(Be,et){re[Be]=et},qe[VL]=function(Be,et,bt,Ot){qe.isInitialized()&&Mt(qe[Ua](),1,28,"Sender is already initialized"),As[VL](Be,et,bt,Ot);var xr=qe.identifier;V=new k8e(et.logger),b=0,B=null,qe[PT]=null,j=0;var sr=qe[Ua]();_e=hee(Pu("Sender"),et.evtNamespace&&et.evtNamespace()),Qe=C8e(_e),qe._addHook(Fu(Be,function(Un){var Xo=Un.cfg;Xo.storagePrefix&&qwe(Xo.storagePrefix);var kc=Am(null,Xo,et),Zr=kc.getExtCfg(xr,ete),ite=Zr[FT];if(ke&&ite===ke){var rO=Xo[FT];rO&&rO!==ite&&(Zr[FT]=rO)}br(Zr[MT])&&(Zr[MT]=Xo[MT]),Kt(qe,"_senderConfig",{g:o(function(){return Zr},"g")}),Ye!==Zr[FT]&&(ke=Ye=Zr[FT]),et.activeStatus()===jf.PENDING?qe.pause():et.activeStatus()===jf.ACTIVE&&qe.resume(),Dt&&Dt!==Zr[WL]&&Yt(Dt,function(ma){delete re[ma.header]}),Oe=Zr[Gee],rt=(Zr[YL]===!1||Zr[$L]===!1)&&id(),ht=Zr[YL]===!1&&id(),Et=Zr[$L]===!1&&id(),At=Zr[Vee],Wt=!!Zr.disableXhr,Vs=Zr.retryCodes;var nO=Zr[GL],y2=!!Zr[Wee]&&(!!nO||See()),ote=Zr.namePrefix,G8e=y2!==Vt||y2&&io!==ote||y2&&pn!==nO;if(qe[Ad]){if(G8e)try{qe[Ad]=qe[Ad].createNew(sr,Zr,y2)}catch(ma){Mt(qe[Ua](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Ss(ma),{exception:Jt(ma)})}yi()}else qe[Ad]=y2?new Jee(sr,Zr):new ZL(sr,Zr);io=ote,Vt=y2,pn=nO,Jn=!Zr[Yee]&&ry(!0),yo=!!Zr[$ee],qe._sample=new P8e(Zr.samplingPercentage,sr),hn=Zr[MT],!br(hn)&&!rte(hn,Xo)&&Mt(sr,1,100,"Invalid Instrumentation key "+hn),Dt=Zr[WL],Ae(ke)&&!vee(ke)&&Dt&&Dt[un]>0?Yt(Dt,function(ma){E.addHeader(ma.header,ma.value)}):Dt=null,wi=Zr.enableSendPromise;var ste=Ws();ai?ai.SetConfig(ste):(ai=new hs,ai[VL](ste,sr));var NB=Zr.httpXHROverride,QB=null,HT=null,V8e=w8([3,1,2],Zr.transports);QB=ai&&ai[SB](V8e,!1);var iO=ai&&ai.getFallbackInst();st=o(function(ma,Ry){return Ht(iO,ma,Ry)},"_xhrSend"),mr=o(function(ma,Ry){return Ht(iO,ma,Ry,!1)},"_fallbackSend"),QB=At?NB:QB||NB||iO,qe[PT]=function(ma,Ry){return Ht(QB,ma,Ry)},Jn&&(ve=m2);var oO=w8([3,1],Zr.unloadTransports);Jn||(oO=oO.filter(function(ma){return ma!==2})),HT=ai&&ai[SB](oO,!0),HT=At?NB:HT||NB,(At||Zr.unloadTransports||!ve)&&HT&&(ve=o(function(ma,Ry){return Ht(HT,ma,Ry)},"_syncUnloadSender")),ve||(ve=st),Dr=Zr.disableTelemetry,An=Zr.convertUndefined||pd,si=Zr.isRetryDisabled,or=Zr.maxBatchInterval}))},qe.processTelemetry=function(Be,et){et=qe._getTelCtx(et);var bt=et[Ua]();try{var Ot=Ou(Be,bt);if(!Ot)return;var xr=Tm(Be,bt);if(!xr)return;var sr=V.serialize(xr),Un=qe[Ad];yi(sr);var Xo={item:sr,cnt:0};Un[vy](Xo),g2()}catch(kc){Mt(bt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Ss(kc),{exception:Jt(kc)})}qe.processNext(Be,et)},qe.isCompletelyIdle=function(){return!R&&ge===0&&qe._buffer[Ty]()===0},qe.getOfflineListener=function(){return Qe},qe._xhrReadyStateChange=function(Be,et,bt){if(!Hu(et))return Bl(Be,et,bt)},qe[QT]=function(Be,et,bt){Be===void 0&&(Be=!0);var Ot;if(!R)try{var xr=qe[Ad];if(Dr)xr[d2]();else if(xr[Ty]()>0){var sr=xr.getItems();DB(bt||0,Be),et?Ot=et.call(qe,sr,Be):Ot=qe[PT](sr,Be)}_m()}catch(Xo){var Un=Xp();(!Un||Un>9)&&Mt(qe[Ua](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Ss(Xo),{exception:Jt(Xo)})}return Ot},qe.getOfflineSupport=function(){return{getUrl:o(function(){return ke},"getUrl"),createPayload:ze,serialize:oo,batch:pa,shouldProcess:o(function(Be){return!!Ou(Be)},"shouldProcess")}},qe._doTeardown=function(Be,et){qe.onunloadFlush(),sm(Qe,!1),nte()},qe[_y]=function(Be,et,bt){if(!Hu(Be))return f0(Be,et)},qe[zL]=function(Be,et){if(!Hu(Be))return bm(Be,et)},qe[wB]=function(Be,et){if(!Hu(Be))return Lu(Be)},qe._xdrOnLoad=function(Be,et){if(!Hu(et))return Co(Be,et)};function Co(Be,et){var bt=Zee(Be);if(Be&&(bt+""=="200"||bt===""))b=0,qe[wB](et,0);else{var Ot=Ut(bt);Ot&&Ot[jL]&&Ot[jL]>Ot[KL]&&!si?qe[zL](et,Ot):qe[_y](et,S8(Be))}}o(Co,"_xdrOnLoad");function Ws(){try{var Be={xdrOnComplete:o(function(bt,Ot,xr){var sr=vm(xr);if(sr)return Co(bt,sr)},"xdrOnComplete"),fetchOnComplete:o(function(bt,Ot,xr,sr){var Un=vm(sr);if(Un)return Vi(bt.status,Un,bt.url,Un[un],bt.statusText,xr||"")},"fetchOnComplete"),xhrOnComplete:o(function(bt,Ot,xr){var sr=vm(xr);if(sr)return Bl(bt,sr,sr[un])},"xhrOnComplete"),beaconOnRetry:o(function(bt,Ot,xr){return Uu(bt,Ot,xr)},"beaconOnRetry")},et={enableSendPromise:wi,isOneDs:!1,disableCredentials:!1,disableXhr:Wt,disableBeacon:!Et,disableBeaconSync:!ht,senderOnCompleteCallBack:Be};return et}catch{}return null}o(Ws,"_getSendPostMgrConfig");function Bl(Be,et,bt){Be.readyState===4&&Vi(Be.status,et,Be.responseURL,bt,LI(Be),Zee(Be)||Be.response)}o(Bl,"_xhrReadyStateChange");function f0(Be,et,bt){Mt(qe[Ua](),2,26,"Failed to send telemetry.",{message:et}),qe._buffer&&qe._buffer[kT](Be)}o(f0,"_onError");function bm(Be,et){for(var bt=[],Ot=[],xr=et.errors.reverse(),sr=0,Un=xr;sr<Un.length;sr++){var Xo=Un[sr],kc=Be.splice(Xo.index,1)[0];Sm(Xo.statusCode)?Ot[Yh](kc):bt[Yh](kc)}Be[un]>0&&qe[wB](Be,et[KL]),bt[un]>0&&qe[_y](bt,LI(null,["partial success",et[KL],"of",et.itemsReceived].join(" "))),Ot[un]>0&&(UT(Ot),Mt(qe[Ua](),2,40,"Partial success. Delivered: "+Be[un]+", Failed: "+bt[un]+". Will retry to send "+Ot[un]+" our of "+et[jL]+" items"))}o(bm,"_onPartialSuccess");function Lu(Be,et){qe._buffer&&qe._buffer[kT](Be)}o(Lu,"_onSuccess");function vm(Be){try{if(Be){var et=Be,bt=et.oriPayload;return bt&&bt[un]?bt:null}}catch{}return null}o(vm,"_getPayloadArr");function Ou(Be,et){if(Dr)return!1;if(!Be)return et&&Mt(et,1,7,"Cannot send empty telemetry"),!1;if(Be.baseData&&!Be[JL])return et&&Mt(et,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(Be[JL]||(Be[JL]="EventData"),!qe[PT])return et&&Mt(et,1,28,"Sender was not initialized"),!1;if(kt(Be))Be[pee]=qe._sample[BB];else return et&&Mt(et,2,33,"Telemetry item was sampled out and not sent",{SampleRate:qe._sample[BB]}),!1;return!0}o(Ou,"_validate");function Tm(Be,et){var bt=Be.iKey||hn,Ot=g.constructEnvelope(Be,bt,et,An);if(!Ot){Mt(et,1,47,"Unable to create an AppInsights envelope");return}var xr=!1;if(Be[Aa]&&Be[Aa][_L]&&(Yt(Be[Aa][_L],function(sr){try{sr&&sr(Ot)===!1&&(xr=!0,jI(et,"Telemetry processor check returns false"))}catch(Un){Mt(et,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Ss(Un),{exception:Jt(Un)},!0)}}),delete Be[Aa][_L]),!xr)return Ot}o(Tm,"_getEnvelope");function oo(Be){var et=Xee,bt=qe[Ua]();try{var Ot=Ou(Be,bt),xr=null;Ot&&(xr=Tm(Be,bt)),xr&&(et=V.serialize(xr))}catch{}return et}o(oo,"_serialize");function pa(Be){var et=Xee;return Be&&Be[un]&&(et="["+Be.join(",")+"]"),et}o(pa,"_batch");function ze(Be){var et=di();return{urlString:ke,data:Be,headers:et}}o(ze,"_createPayload");function kt(Be){return qe._sample.isSampledIn(Be)}o(kt,"_isSampledIn");function Er(Be,et,bt,Ot){et===200&&Be?qe._onSuccess(Be,Be[un]):Ot&&qe[_y](Be,Ot)}o(Er,"_getOnComplete");function Ht(Be,et,bt,Ot){Ot===void 0&&(Ot=!0);var xr=o(function(Xo,kc,Zr){return Er(et,Xo,kc,Zr)},"onComplete"),sr=Ir(et),Un=Be&&Be.sendPOST;return Un&&sr?(Ot&&qe._buffer[_B](et),Un(sr,xr,!bt)):null}o(Ht,"_doSend");function Ir(Be){if(ct(Be)&&Be[un]>0){var et=qe[Ad].batchPayloads(Be),bt=di(),Ot={data:et,urlString:ke,headers:bt,disableXhrSync:Wt,disableFetchKeepAlive:!Jn,oriPayload:Be};return Ot}return null}o(Ir,"_getPayload");function di(){try{var Be=re||{};return vee(ke)&&(Be[gee[6]]=gee[7]),Be}catch{}return null}o(di,"_getHeaders");function yi(Be){var et=Be?Be[un]:0;return qe[Ad].size()+et>Oe?((!Qe||Qe.isOnline())&&qe[QT](!0,null,10),!0):!1}o(yi,"_checkMaxSize");function Vi(Be,et,bt,Ot,xr,sr){var Un=null;if(qe._appId||(Un=Ut(sr),Un&&Un.appId&&(qe._appId=Un.appId)),(Be<200||Be>=300)&&Be!==0){if((Be===301||Be===307||Be===308)&&!Ha(bt)){qe[_y](et,xr);return}if(Qe&&!Qe.isOnline()){if(!si){var Xo=10;UT(et,Xo),Mt(qe[Ua](),2,40,". Offline - Response Code: ".concat(Be,". Offline status: ").concat(!Qe.isOnline(),". Will retry to send ").concat(et.length," items."))}return}!si&&Sm(Be)?(UT(et),Mt(qe[Ua](),2,40,". Response code "+Be+". Will retry to send "+et[un]+" items.")):qe[_y](et,xr)}else Ha(bt),Be===206?(Un||(Un=Ut(sr)),Un&&!si?qe[zL](et,Un):qe[_y](et,xr)):(b=0,qe[wB](et,Ot))}o(Vi,"_checkResponsStatus");function Ha(Be){return j>=10?!1:!ee(Be)&&Be!==""&&Be!==ke?(ke=Be,++j,!0):!1}o(Ha,"_checkAndUpdateEndPointUrl");function q0(Be,et){if(ve)ve(Be,!1);else{var bt=ai&&ai[SB]([3],!0);return Ht(bt,Be,et)}}o(q0,"_doUnloadSend");function Uu(Be,et,bt){var Ot=Be,xr=Ot&&Ot.oriPayload;if(yo)mr&&mr(xr,!0),Mt(qe[Ua](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var sr=[],Un=0;Un<xr[un];Un++){var Xo=xr[Un],kc=[Xo],Zr=Ir(kc);bt(Zr,et)?qe._onSuccess(kc,kc[un]):sr[Yh](Xo)}sr[un]>0&&(mr&&mr(sr,!0),Mt(qe[Ua](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(Uu,"_onBeaconRetry");function Hu(Be){try{if(Be&&Be[un])return Ae(Be[0])}catch{}return null}o(Hu,"_isStringArr");function m2(Be,et){var bt=null;if(ct(Be)){for(var Ot=Be[un],xr=0;xr<Be[un];xr++)Ot+=Be[xr].item[un];var sr=ai.getSyncFetchPayload();sr+Ot<=F8e?bt=2:id()?bt=3:(bt=1,Mt(qe[Ua](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Un=ai&&ai[SB]([bt],!0);return Ht(Un,Be,et)}return null}o(m2,"_fetchKeepAliveSender");function UT(Be,et){if(et===void 0&&(et=1),!(!Be||Be[un]===0)){var bt=qe[Ad];bt[kT](Be),b++;for(var Ot=0,xr=Be;Ot<xr.length;Ot++){var sr=xr[Ot];sr.cnt=sr.cnt||0,sr.cnt++,bt[vy](sr)}tO(et),g2()}}o(UT,"_resendPayload");function tO(Be){var et=10,bt;if(b<=1)bt=et;else{var Ot=(Math.pow(2,b)-1)/2,xr=vh(Math.random()*Ot*et)+1;xr=Be*xr,bt=Te(xu(xr,3600),et)}var sr=Gf()+bt*1e3;B=sr}o(tO,"_setRetryTime");function g2(){if(!Q&&!R){var Be=B?Te(0,B-Gf()):0,et=Te(or,Be);Q=Yf(function(){Q=null,qe[QT](!0,null,1)},et)}}o(g2,"_setupTimer");function _m(){Q&&Q.cancel(),Q=null,B=null}o(_m,"_clearScheduledTimer");function Sm(Be){return ee(Vs)?Be===401||Be===408||Be===429||Be===500||Be===502||Be===503||Be===504:Vs[un]&&Vs.indexOf(Be)>-1}o(Sm,"_isRetriable");function kB(){var Be="getNotifyMgr";return qe.core[Be]?qe.core[Be]():qe.core._notificationManager}o(kB,"_getNotifyMgr");function DB(Be,et){var bt=kB();if(bt&&bt.eventsSendRequest)try{bt.eventsSendRequest(Be,et)}catch(Ot){Mt(qe[Ua](),1,74,"send request notification failed: "+Ss(Ot),{exception:Jt(Ot)})}}o(DB,"_notifySendRequest");function rte(Be,et){var bt=et.disableInstrumentationKeyValidation,Ot=ee(bt)?!1:bt;if(Ot)return!0;var xr="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",sr=new RegExp(xr);return sr.test(Be)}o(rte,"_validateInstrumentationKey");function nte(){qe[PT]=null,qe[Ad]=null,qe._appId=null,qe._sample=null,re={},Qe=null,b=0,B=null,R=!1,Q=null,V=null,j=0,ge=0,ve=null,_e=null,ke=null,Ye=null,Oe=0,rt=!1,Dt=null,Dr=!1,hn=null,An=pd,si=!1,Vt=null,io=pd,Wt=!1,Jn=!1,yo=!1,st=null,mr=null,ai=null,Kt(qe,"_senderConfig",{g:o(function(){return _8({},ete)},"g")})}o(nte,"_initDefaults")}),E}return o(g,"Sender"),g.constructEnvelope=function(E,b,B,R){var Q;b!==E.iKey&&!ee(b)?Q=wu(wu({},E),{iKey:b}):Q=E;var V=O8e[Q.baseType]||jee;return V(B,Q,R)},g}(Ze),A2="instrumentationKey",RB="connectionString",LT="endpointUrl",OT="userOverrideEndpointUrl",p2,eO=void 0,U8e=(p2={diagnosticLogInterval:aT(H8e,1e4)},p2[RB]=eO,p2.endpointUrl=eO,p2[A2]=eO,p2.extensionConfig={},p2);function H8e(p){return p&&p>0}o(H8e,"_chkDiagLevel");var q8e=function(){function p(g){var E=new at,b;(ee(g)||ee(g[A2])&&ee(g[RB]))&&po("Invalid input configuration"),da(p,this,function(R){Kt(R,"config",{g:o(function(){return b},"g")}),Q(),R.initialize=Q,R.track=B,Y5(R,E,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function Q(){var V=H0(g||{},U8e);b=V.cfg,E.addUnloadHook(Fu(V,function(){var j=b[RB];if(br(j)){var re=BI(function(_e,ke){F0(j,function(Ye){var Oe=Ye.value,rt=b[A2];if(!Ye.rejected&&Oe){b[RB]=Oe;var ht=PL(Oe);rt=ht.instrumentationkey||rt}_e(rt)})}),ge=BI(function(_e,ke){F0(j,function(Ye){var Oe=Ye.value,rt=b[LT];if(!Ye.rejected&&Oe){var ht=PL(Oe),Et=ht.ingestionendpoint;rt=Et?Et+o2:rt}_e(rt)})});b[A2]=re,b[LT]=b[OT]||ge}if(Ae(j)){var ve=PL(j),Qe=ve.ingestionendpoint;b[LT]=b[OT]?b[OT]:Qe+o2,b[A2]=ve.instrumentationkey||b[A2]}b[LT]=b[OT]?b[OT]:b[LT]})),E.initialize(b,[new tte])}o(Q,"_initialize")});function B(R){R&&(R.baseData=R.baseData||{},R.baseType=R.baseType||"EventData"),E.track(R)}o(B,"_track")}return o(p,"ApplicationInsights"),p.__ieDyn=1,p}();t.AppInsightsCore=at,t.ApplicationInsights=q8e,t.Sender=tte,t.SeverityLevel=y8e,t.arrForEach=Yt,t.isNullOrUndefined=ee,t.proxyFunctions=Y5,t.throwError=po})});var Sce=q(cR=>{"use strict";u();Object.defineProperty(cR,"__esModule",{value:!0});cR.state=void 0;cR.state={instrumenterImplementation:void 0}});var kx=q((fG,yle)=>{u();var t7=require("buffer"),Qd=t7.Buffer;function gle(t,e){for(var r in t)e[r]=t[r]}o(gle,"copyProps");Qd.from&&Qd.alloc&&Qd.allocUnsafe&&Qd.allocUnsafeSlow?yle.exports=t7:(gle(t7,fG),fG.Buffer=VC);function VC(t,e,r){return Qd(t,e,r)}o(VC,"SafeBuffer");VC.prototype=Object.create(Qd.prototype);gle(Qd,VC);VC.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Qd(t,e,r)};VC.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Qd(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};VC.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Qd(t)};VC.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return t7.SlowBuffer(t)}});var dG=q((wVt,Cle)=>{u();var r7=kx().Buffer,zNe=require("stream"),jNe=require("util");function n7(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=r7.alloc(0),this;if(typeof t.pipe=="function")return this.buffer=r7.alloc(0),t.pipe(this),this;if(t.length||typeof t=="object")return this.buffer=t,this.writable=!1,process.nextTick(function(){this.emit("end",t),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}o(n7,"DataStream");jNe.inherits(n7,zNe);n7.prototype.write=o(function(e){this.buffer=r7.concat([this.buffer,r7.from(e)]),this.emit("data",e)},"write");n7.prototype.end=o(function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},"end");Cle.exports=n7});var Ile=q((kVt,Ele)=>{"use strict";u();function hG(t){var e=(t/8|0)+(t%8===0?0:1);return e}o(hG,"getParamSize");var KNe={ES256:hG(256),ES384:hG(384),ES512:hG(521)};function JNe(t){var e=KNe[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}o(JNe,"getParamBytesForAlg");Ele.exports=JNe});var wle=q((QVt,Sle)=>{"use strict";u();var i7=kx().Buffer,ble=Ile(),o7=128,vle=0,XNe=32,ZNe=16,eQe=2,Tle=ZNe|XNe|vle<<6,s7=eQe|vle<<6;function tQe(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}o(tQe,"base64Url");function _le(t){if(i7.isBuffer(t))return t;if(typeof t=="string")return i7.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}o(_le,"signatureAsBuffer");function rQe(t,e){t=_le(t);var r=ble(e),n=r+1,i=t.length,s=0;if(t[s++]!==Tle)throw new Error('Could not find expected "seq"');var a=t[s++];if(a===(o7|1)&&(a=t[s++]),i-s<a)throw new Error('"seq" specified length of "'+a+'", only "'+(i-s)+'" remaining');if(t[s++]!==s7)throw new Error('Could not find expected "int" for "r"');var c=t[s++];if(i-s-2<c)throw new Error('"r" specified length of "'+c+'", only "'+(i-s-2)+'" available');if(n<c)throw new Error('"r" specified length of "'+c+'", max of "'+n+'" is acceptable');var l=s;if(s+=c,t[s++]!==s7)throw new Error('Could not find expected "int" for "s"');var f=t[s++];if(i-s!==f)throw new Error('"s" specified length of "'+f+'", expected "'+(i-s)+'"');if(n<f)throw new Error('"s" specified length of "'+f+'", max of "'+n+'" is acceptable');var d=s;if(s+=f,s!==i)throw new Error('Expected to consume entire buffer, but "'+(i-s)+'" bytes remain');var h=r-c,A=r-f,m=i7.allocUnsafe(h+c+A+f);for(s=0;s<h;++s)m[s]=0;t.copy(m,s,l+Math.max(-h,0),l+c),s=r;for(var y=s;s<y+A;++s)m[s]=0;return t.copy(m,s,d+Math.max(-A,0),d+f),m=m.toString("base64"),m=tQe(m),m}o(rQe,"derToJose");function xle(t,e,r){for(var n=0;e+n<r&&t[e+n]===0;)++n;var i=t[e+n]>=o7;return i&&--n,n}o(xle,"countPadding");function nQe(t,e){t=_le(t);var r=ble(e),n=t.length;if(n!==r*2)throw new TypeError('"'+e+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var i=xle(t,0,r),s=xle(t,r,t.length),a=r-i,c=r-s,l=2+a+1+1+c,f=l<o7,d=i7.allocUnsafe((f?2:3)+l),h=0;return d[h++]=Tle,f?d[h++]=l:(d[h++]=o7|1,d[h++]=l&255),d[h++]=s7,d[h++]=a,i<0?(d[h++]=0,h+=t.copy(d,h,0,r)):h+=t.copy(d,h,i,r),d[h++]=s7,d[h++]=c,s<0?(d[h++]=0,t.copy(d,h,r)):t.copy(d,h,r+s),d}o(nQe,"joseToDer");Sle.exports={derToJose:rQe,joseToDer:nQe}});var Rle=q((MVt,Ble)=>{"use strict";u();var D_=require("buffer").Buffer,AG=require("buffer").SlowBuffer;Ble.exports=a7;function a7(t,e){if(!D_.isBuffer(t)||!D_.isBuffer(e)||t.length!==e.length)return!1;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}o(a7,"bufferEq");a7.install=function(){D_.prototype.equal=AG.prototype.equal=o(function(e){return a7(this,e)},"equal")};var iQe=D_.prototype.equal,oQe=AG.prototype.equal;a7.restore=function(){D_.prototype.equal=iQe,AG.prototype.equal=oQe}});var yG=q((UVt,Ole)=>{u();var Nx=kx().Buffer,Vl=require("crypto"),Dle=wle(),kle=require("util"),sQe=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,N_="secret must be a string or buffer",Dx="key must be a string or a buffer",aQe="key must be a string, a buffer or an object",mG=typeof Vl.createPublicKey=="function";mG&&(Dx+=" or a KeyObject",N_+="or a KeyObject");function Nle(t){if(!Nx.isBuffer(t)&&typeof t!="string"&&(!mG||typeof t!="object"||typeof t.type!="string"||typeof t.asymmetricKeyType!="string"||typeof t.export!="function"))throw sf(Dx)}o(Nle,"checkIsPublicKey");function Qle(t){if(!Nx.isBuffer(t)&&typeof t!="string"&&typeof t!="object")throw sf(aQe)}o(Qle,"checkIsPrivateKey");function cQe(t){if(!Nx.isBuffer(t)){if(typeof t=="string")return t;if(!mG||typeof t!="object"||t.type!=="secret"||typeof t.export!="function")throw sf(N_)}}o(cQe,"checkIsSecretKey");function gG(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}o(gG,"fromBase64");function Ple(t){t=t.toString();var e=4-t.length%4;if(e!==4)for(var r=0;r<e;++r)t+="=";return t.replace(/\-/g,"+").replace(/_/g,"/")}o(Ple,"toBase64");function sf(t){var e=[].slice.call(arguments,1),r=kle.format.bind(kle,t).apply(null,e);return new TypeError(r)}o(sf,"typeError");function lQe(t){return Nx.isBuffer(t)||typeof t=="string"}o(lQe,"bufferOrString");function Q_(t){return lQe(t)||(t=JSON.stringify(t)),t}o(Q_,"normalizeInput");function Fle(t){return o(function(r,n){cQe(n),r=Q_(r);var i=Vl.createHmac("sha"+t,n),s=(i.update(r),i.digest("base64"));return gG(s)},"sign")}o(Fle,"createHmacSigner");var pG,uQe="timingSafeEqual"in Vl?o(function(e,r){return e.byteLength!==r.byteLength?!1:Vl.timingSafeEqual(e,r)},"timingSafeEqual"):o(function(e,r){return pG||(pG=Rle()),pG(e,r)},"timingSafeEqual");function fQe(t){return o(function(r,n,i){var s=Fle(t)(r,i);return uQe(Nx.from(n),Nx.from(s))},"verify")}o(fQe,"createHmacVerifier");function Mle(t){return o(function(r,n){Qle(n),r=Q_(r);var i=Vl.createSign("RSA-SHA"+t),s=(i.update(r),i.sign(n,"base64"));return gG(s)},"sign")}o(Mle,"createKeySigner");function Lle(t){return o(function(r,n,i){Nle(i),r=Q_(r),n=Ple(n);var s=Vl.createVerify("RSA-SHA"+t);return s.update(r),s.verify(i,n,"base64")},"verify")}o(Lle,"createKeyVerifier");function dQe(t){return o(function(r,n){Qle(n),r=Q_(r);var i=Vl.createSign("RSA-SHA"+t),s=(i.update(r),i.sign({key:n,padding:Vl.constants.RSA_PKCS1_PSS_PADDING,saltLength:Vl.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return gG(s)},"sign")}o(dQe,"createPSSKeySigner");function hQe(t){return o(function(r,n,i){Nle(i),r=Q_(r),n=Ple(n);var s=Vl.createVerify("RSA-SHA"+t);return s.update(r),s.verify({key:i,padding:Vl.constants.RSA_PKCS1_PSS_PADDING,saltLength:Vl.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")},"verify")}o(hQe,"createPSSKeyVerifier");function AQe(t){var e=Mle(t);return o(function(){var n=e.apply(null,arguments);return n=Dle.derToJose(n,"ES"+t),n},"sign")}o(AQe,"createECDSASigner");function pQe(t){var e=Lle(t);return o(function(n,i,s){i=Dle.joseToDer(i,"ES"+t).toString("base64");var a=e(n,i,s);return a},"verify")}o(pQe,"createECDSAVerifer");function mQe(){return o(function(){return""},"sign")}o(mQe,"createNoneSigner");function gQe(){return o(function(e,r){return r===""},"verify")}o(gQe,"createNoneVerifier");Ole.exports=o(function(e){var r={hs:Fle,rs:Mle,ps:dQe,es:AQe,none:mQe},n={hs:fQe,rs:Lle,ps:hQe,es:pQe,none:gQe},i=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!i)throw sf(sQe,e);var s=(i[1]||i[3]).toLowerCase(),a=i[2];return{sign:r[s](a),verify:n[s](a)}},"jwa")});var CG=q((GVt,Ule)=>{u();var yQe=require("buffer").Buffer;Ule.exports=o(function(e){return typeof e=="string"?e:typeof e=="number"||yQe.isBuffer(e)?e.toString():JSON.stringify(e)},"toString")});var Yle=q((YVt,Wle)=>{u();var CQe=kx().Buffer,Hle=dG(),EQe=yG(),IQe=require("stream"),qle=CG(),EG=require("util");function Gle(t,e){return CQe.from(t,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}o(Gle,"base64url");function xQe(t,e,r){r=r||"utf8";var n=Gle(qle(t),"binary"),i=Gle(qle(e),r);return EG.format("%s.%s",n,i)}o(xQe,"jwsSecuredInput");function Vle(t){var e=t.header,r=t.payload,n=t.secret||t.privateKey,i=t.encoding,s=EQe(e.alg),a=xQe(e,r,i),c=s.sign(a,n);return EG.format("%s.%s",a,c)}o(Vle,"jwsSign");function c7(t){var e=t.secret||t.privateKey||t.key,r=new Hle(e);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=r,this.payload=new Hle(t.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}o(c7,"SignStream");EG.inherits(c7,IQe);c7.prototype.sign=o(function(){try{var e=Vle({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}},"sign");c7.sign=Vle;Wle.exports=c7});var rue=q((jVt,tue)=>{u();var zle=kx().Buffer,$le=dG(),bQe=yG(),vQe=require("stream"),jle=CG(),TQe=require("util"),_Qe=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function SQe(t){return Object.prototype.toString.call(t)==="[object Object]"}o(SQe,"isObject");function wQe(t){if(SQe(t))return t;try{return JSON.parse(t)}catch{return}}o(wQe,"safeJsonParse");function Kle(t){var e=t.split(".",1)[0];return wQe(zle.from(e,"base64").toString("binary"))}o(Kle,"headerFromJWS");function BQe(t){return t.split(".",2).join(".")}o(BQe,"securedInputFromJWS");function Jle(t){return t.split(".")[2]}o(Jle,"signatureFromJWS");function RQe(t,e){e=e||"utf8";var r=t.split(".")[1];return zle.from(r,"base64").toString(e)}o(RQe,"payloadFromJWS");function Xle(t){return _Qe.test(t)&&!!Kle(t)}o(Xle,"isValidJws");function Zle(t,e,r){if(!e){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}t=jle(t);var i=Jle(t),s=BQe(t),a=bQe(e);return a.verify(s,i,r)}o(Zle,"jwsVerify");function eue(t,e){if(e=e||{},t=jle(t),!Xle(t))return null;var r=Kle(t);if(!r)return null;var n=RQe(t);return(r.typ==="JWT"||e.json)&&(n=JSON.parse(n,e.encoding)),{header:r,payload:n,signature:Jle(t)}}o(eue,"jwsDecode");function Qx(t){t=t||{};var e=t.secret||t.publicKey||t.key,r=new $le(e);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=r,this.signature=new $le(t.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}o(Qx,"VerifyStream");TQe.inherits(Qx,vQe);Qx.prototype.verify=o(function(){try{var e=Zle(this.signature.buffer,this.algorithm,this.key.buffer),r=eue(this.signature.buffer,this.encoding);return this.emit("done",e,r),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}},"verify");Qx.decode=eue;Qx.isValid=Xle;Qx.verify=Zle;tue.exports=Qx});var u7=q(xg=>{u();var nue=Yle(),l7=rue(),kQe=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];xg.ALGORITHMS=kQe;xg.sign=nue.sign;xg.verify=l7.verify;xg.decode=l7.decode;xg.isValid=l7.isValid;xg.createSign=o(function(e){return new nue(e)},"createSign");xg.createVerify=o(function(e){return new l7(e)},"createVerify")});var IG=q((tWt,iue)=>{u();var DQe=u7();iue.exports=function(t,e){e=e||{};var r=DQe.decode(t,e);if(!r)return null;var n=r.payload;if(typeof n=="string")try{var i=JSON.parse(n);i!==null&&typeof i=="object"&&(n=i)}catch{}return e.complete===!0?{header:r.header,payload:n,signature:r.signature}:n}});var P_=q((nWt,oue)=>{u();var f7=o(function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,e&&(this.inner=e)},"JsonWebTokenError");f7.prototype=Object.create(Error.prototype);f7.prototype.constructor=f7;oue.exports=f7});var xG=q((sWt,aue)=>{u();var sue=P_(),d7=o(function(t,e){sue.call(this,t),this.name="NotBeforeError",this.date=e},"NotBeforeError");d7.prototype=Object.create(sue.prototype);d7.prototype.constructor=d7;aue.exports=d7});var bG=q((lWt,lue)=>{u();var cue=P_(),h7=o(function(t,e){cue.call(this,t),this.name="TokenExpiredError",this.expiredAt=e},"TokenExpiredError");h7.prototype=Object.create(cue.prototype);h7.prototype.constructor=h7;lue.exports=h7});var vG=q((dWt,uue)=>{u();var Px=1e3,Fx=Px*60,Mx=Fx*60,WC=Mx*24,NQe=WC*7,QQe=WC*365.25;uue.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return PQe(t);if(r==="number"&&isFinite(t))return e.long?MQe(t):FQe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function PQe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*QQe;case"weeks":case"week":case"w":return r*NQe;case"days":case"day":case"d":return r*WC;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Mx;case"minutes":case"minute":case"mins":case"min":case"m":return r*Fx;case"seconds":case"second":case"secs":case"sec":case"s":return r*Px;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(PQe,"parse");function FQe(t){var e=Math.abs(t);return e>=WC?Math.round(t/WC)+"d":e>=Mx?Math.round(t/Mx)+"h":e>=Fx?Math.round(t/Fx)+"m":e>=Px?Math.round(t/Px)+"s":t+"ms"}o(FQe,"fmtShort");function MQe(t){var e=Math.abs(t);return e>=WC?A7(t,e,WC,"day"):e>=Mx?A7(t,e,Mx,"hour"):e>=Fx?A7(t,e,Fx,"minute"):e>=Px?A7(t,e,Px,"second"):t+" ms"}o(MQe,"fmtLong");function A7(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}o(A7,"plural")});var TG=q((pWt,fue)=>{u();var LQe=vG();fue.exports=function(t,e){var r=e||Math.floor(Date.now()/1e3);if(typeof t=="string"){var n=LQe(t);return typeof n>"u"?void 0:Math.floor(r+n/1e3)}else return typeof t=="number"?r+t:void 0}});var F_=q((gWt,due)=>{"use strict";u();var OQe="2.0.0",UQe=Number.MAX_SAFE_INTEGER||9007199254740991,HQe=16,qQe=250,GQe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];due.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:HQe,MAX_SAFE_BUILD_LENGTH:qQe,MAX_SAFE_INTEGER:UQe,RELEASE_TYPES:GQe,SEMVER_SPEC_VERSION:OQe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var M_=q((CWt,hue)=>{"use strict";u();var VQe=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};hue.exports=VQe});var Lx=q((Pd,Aue)=>{"use strict";u();var{MAX_SAFE_COMPONENT_LENGTH:_G,MAX_SAFE_BUILD_LENGTH:WQe,MAX_LENGTH:YQe}=F_(),$Qe=M_();Pd=Aue.exports={};var zQe=Pd.re=[],jQe=Pd.safeRe=[],Nt=Pd.src=[],KQe=Pd.safeSrc=[],Qt=Pd.t={},JQe=0,SG="[a-zA-Z0-9-]",XQe=[["\\s",1],["\\d",YQe],[SG,WQe]],ZQe=o(t=>{for(let[e,r]of XQe)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},"makeSafeRegex"),Vr=o((t,e,r)=>{let n=ZQe(e),i=JQe++;$Qe(t,i,e),Qt[t]=i,Nt[i]=e,KQe[i]=n,zQe[i]=new RegExp(e,r?"g":void 0),jQe[i]=new RegExp(n,r?"g":void 0)},"createToken");Vr("NUMERICIDENTIFIER","0|[1-9]\\d*");Vr("NUMERICIDENTIFIERLOOSE","\\d+");Vr("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${SG}*`);Vr("MAINVERSION",`(${Nt[Qt.NUMERICIDENTIFIER]})\\.(${Nt[Qt.NUMERICIDENTIFIER]})\\.(${Nt[Qt.NUMERICIDENTIFIER]})`);Vr("MAINVERSIONLOOSE",`(${Nt[Qt.NUMERICIDENTIFIERLOOSE]})\\.(${Nt[Qt.NUMERICIDENTIFIERLOOSE]})\\.(${Nt[Qt.NUMERICIDENTIFIERLOOSE]})`);Vr("PRERELEASEIDENTIFIER",`(?:${Nt[Qt.NONNUMERICIDENTIFIER]}|${Nt[Qt.NUMERICIDENTIFIER]})`);Vr("PRERELEASEIDENTIFIERLOOSE",`(?:${Nt[Qt.NONNUMERICIDENTIFIER]}|${Nt[Qt.NUMERICIDENTIFIERLOOSE]})`);Vr("PRERELEASE",`(?:-(${Nt[Qt.PRERELEASEIDENTIFIER]}(?:\\.${Nt[Qt.PRERELEASEIDENTIFIER]})*))`);Vr("PRERELEASELOOSE",`(?:-?(${Nt[Qt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Nt[Qt.PRERELEASEIDENTIFIERLOOSE]})*))`);Vr("BUILDIDENTIFIER",`${SG}+`);Vr("BUILD",`(?:\\+(${Nt[Qt.BUILDIDENTIFIER]}(?:\\.${Nt[Qt.BUILDIDENTIFIER]})*))`);Vr("FULLPLAIN",`v?${Nt[Qt.MAINVERSION]}${Nt[Qt.PRERELEASE]}?${Nt[Qt.BUILD]}?`);Vr("FULL",`^${Nt[Qt.FULLPLAIN]}$`);Vr("LOOSEPLAIN",`[v=\\s]*${Nt[Qt.MAINVERSIONLOOSE]}${Nt[Qt.PRERELEASELOOSE]}?${Nt[Qt.BUILD]}?`);Vr("LOOSE",`^${Nt[Qt.LOOSEPLAIN]}$`);Vr("GTLT","((?:<|>)?=?)");Vr("XRANGEIDENTIFIERLOOSE",`${Nt[Qt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Vr("XRANGEIDENTIFIER",`${Nt[Qt.NUMERICIDENTIFIER]}|x|X|\\*`);Vr("XRANGEPLAIN",`[v=\\s]*(${Nt[Qt.XRANGEIDENTIFIER]})(?:\\.(${Nt[Qt.XRANGEIDENTIFIER]})(?:\\.(${Nt[Qt.XRANGEIDENTIFIER]})(?:${Nt[Qt.PRERELEASE]})?${Nt[Qt.BUILD]}?)?)?`);Vr("XRANGEPLAINLOOSE",`[v=\\s]*(${Nt[Qt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Nt[Qt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Nt[Qt.XRANGEIDENTIFIERLOOSE]})(?:${Nt[Qt.PRERELEASELOOSE]})?${Nt[Qt.BUILD]}?)?)?`);Vr("XRANGE",`^${Nt[Qt.GTLT]}\\s*${Nt[Qt.XRANGEPLAIN]}$`);Vr("XRANGELOOSE",`^${Nt[Qt.GTLT]}\\s*${Nt[Qt.XRANGEPLAINLOOSE]}$`);Vr("COERCEPLAIN",`(^|[^\\d])(\\d{1,${_G}})(?:\\.(\\d{1,${_G}}))?(?:\\.(\\d{1,${_G}}))?`);Vr("COERCE",`${Nt[Qt.COERCEPLAIN]}(?:$|[^\\d])`);Vr("COERCEFULL",Nt[Qt.COERCEPLAIN]+`(?:${Nt[Qt.PRERELEASE]})?(?:${Nt[Qt.BUILD]})?(?:$|[^\\d])`);Vr("COERCERTL",Nt[Qt.COERCE],!0);Vr("COERCERTLFULL",Nt[Qt.COERCEFULL],!0);Vr("LONETILDE","(?:~>?)");Vr("TILDETRIM",`(\\s*)${Nt[Qt.LONETILDE]}\\s+`,!0);Pd.tildeTrimReplace="$1~";Vr("TILDE",`^${Nt[Qt.LONETILDE]}${Nt[Qt.XRANGEPLAIN]}$`);Vr("TILDELOOSE",`^${Nt[Qt.LONETILDE]}${Nt[Qt.XRANGEPLAINLOOSE]}$`);Vr("LONECARET","(?:\\^)");Vr("CARETTRIM",`(\\s*)${Nt[Qt.LONECARET]}\\s+`,!0);Pd.caretTrimReplace="$1^";Vr("CARET",`^${Nt[Qt.LONECARET]}${Nt[Qt.XRANGEPLAIN]}$`);Vr("CARETLOOSE",`^${Nt[Qt.LONECARET]}${Nt[Qt.XRANGEPLAINLOOSE]}$`);Vr("COMPARATORLOOSE",`^${Nt[Qt.GTLT]}\\s*(${Nt[Qt.LOOSEPLAIN]})$|^$`);Vr("COMPARATOR",`^${Nt[Qt.GTLT]}\\s*(${Nt[Qt.FULLPLAIN]})$|^$`);Vr("COMPARATORTRIM",`(\\s*)${Nt[Qt.GTLT]}\\s*(${Nt[Qt.LOOSEPLAIN]}|${Nt[Qt.XRANGEPLAIN]})`,!0);Pd.comparatorTrimReplace="$1$2$3";Vr("HYPHENRANGE",`^\\s*(${Nt[Qt.XRANGEPLAIN]})\\s+-\\s+(${Nt[Qt.XRANGEPLAIN]})\\s*$`);Vr("HYPHENRANGELOOSE",`^\\s*(${Nt[Qt.XRANGEPLAINLOOSE]})\\s+-\\s+(${Nt[Qt.XRANGEPLAINLOOSE]})\\s*$`);Vr("STAR","(<|>)?=?\\s*\\*");Vr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Vr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var p7=q((bWt,pue)=>{"use strict";u();var ePe=Object.freeze({loose:!0}),tPe=Object.freeze({}),rPe=o(t=>t?typeof t!="object"?ePe:t:tPe,"parseOptions");pue.exports=rPe});var wG=q((_Wt,yue)=>{"use strict";u();var mue=/^[0-9]+$/,gue=o((t,e)=>{let r=mue.test(t),n=mue.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},"compareIdentifiers"),nPe=o((t,e)=>gue(e,t),"rcompareIdentifiers");yue.exports={compareIdentifiers:gue,rcompareIdentifiers:nPe}});var Ka=q((BWt,Eue)=>{"use strict";u();var m7=M_(),{MAX_LENGTH:Cue,MAX_SAFE_INTEGER:g7}=F_(),{safeRe:y7,t:C7}=Lx(),iPe=p7(),{compareIdentifiers:Ox}=wG(),BG=class t{static{o(this,"SemVer")}constructor(e,r){if(r=iPe(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Cue)throw new TypeError(`version is longer than ${Cue} characters`);m7("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?y7[C7.LOOSE]:y7[C7.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>g7||this.major<0)throw new TypeError("Invalid major version");if(this.minor>g7||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>g7||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<g7)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(m7("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Ox(this.major,e.major)||Ox(this.minor,e.minor)||Ox(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(m7("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Ox(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(m7("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Ox(n,i)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=`-${r}`.match(this.options.loose?y7[C7.PRERELEASELOOSE]:y7[C7.PRERELEASE]);if(!i||i[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Ox(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Eue.exports=BG});var YC=q((DWt,xue)=>{"use strict";u();var Iue=Ka(),oPe=o((t,e,r=!1)=>{if(t instanceof Iue)return t;try{return new Iue(t,e)}catch(n){if(!r)return null;throw n}},"parse");xue.exports=oPe});var vue=q((PWt,bue)=>{"use strict";u();var sPe=YC(),aPe=o((t,e)=>{let r=sPe(t,e);return r?r.version:null},"valid");bue.exports=aPe});var _ue=q((LWt,Tue)=>{"use strict";u();var cPe=YC(),lPe=o((t,e)=>{let r=cPe(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null},"clean");Tue.exports=lPe});var Bue=q((HWt,wue)=>{"use strict";u();var Sue=Ka(),uPe=o((t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Sue(t instanceof Sue?t.version:t,r).inc(e,n,i).version}catch{return null}},"inc");wue.exports=uPe});var Due=q((VWt,kue)=>{"use strict";u();var Rue=YC(),fPe=o((t,e)=>{let r=Rue(t,null,!0),n=Rue(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,c=s?n:r,l=!!a.prerelease.length;if(!!c.prerelease.length&&!l){if(!c.patch&&!c.minor)return"major";if(c.compareMain(a)===0)return c.minor&&!c.patch?"minor":"patch"}let d=l?"pre":"";return r.major!==n.major?d+"major":r.minor!==n.minor?d+"minor":r.patch!==n.patch?d+"patch":"prerelease"},"diff");kue.exports=fPe});var Que=q(($Wt,Nue)=>{"use strict";u();var dPe=Ka(),hPe=o((t,e)=>new dPe(t,e).major,"major");Nue.exports=hPe});var Fue=q((KWt,Pue)=>{"use strict";u();var APe=Ka(),pPe=o((t,e)=>new APe(t,e).minor,"minor");Pue.exports=pPe});var Lue=q((ZWt,Mue)=>{"use strict";u();var mPe=Ka(),gPe=o((t,e)=>new mPe(t,e).patch,"patch");Mue.exports=gPe});var Uue=q((rYt,Oue)=>{"use strict";u();var yPe=YC(),CPe=o((t,e)=>{let r=yPe(t,e);return r&&r.prerelease.length?r.prerelease:null},"prerelease");Oue.exports=CPe});var Wl=q((oYt,que)=>{"use strict";u();var Hue=Ka(),EPe=o((t,e,r)=>new Hue(t,r).compare(new Hue(e,r)),"compare");que.exports=EPe});var Vue=q((cYt,Gue)=>{"use strict";u();var IPe=Wl(),xPe=o((t,e,r)=>IPe(e,t,r),"rcompare");Gue.exports=xPe});var Yue=q((fYt,Wue)=>{"use strict";u();var bPe=Wl(),vPe=o((t,e)=>bPe(t,e,!0),"compareLoose");Wue.exports=vPe});var E7=q((AYt,zue)=>{"use strict";u();var $ue=Ka(),TPe=o((t,e,r)=>{let n=new $ue(t,r),i=new $ue(e,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");zue.exports=TPe});var Kue=q((gYt,jue)=>{"use strict";u();var _Pe=E7(),SPe=o((t,e)=>t.sort((r,n)=>_Pe(r,n,e)),"sort");jue.exports=SPe});var Xue=q((EYt,Jue)=>{"use strict";u();var wPe=E7(),BPe=o((t,e)=>t.sort((r,n)=>wPe(n,r,e)),"rsort");Jue.exports=BPe});var L_=q((bYt,Zue)=>{"use strict";u();var RPe=Wl(),kPe=o((t,e,r)=>RPe(t,e,r)>0,"gt");Zue.exports=kPe});var I7=q((_Yt,efe)=>{"use strict";u();var DPe=Wl(),NPe=o((t,e,r)=>DPe(t,e,r)<0,"lt");efe.exports=NPe});var RG=q((BYt,tfe)=>{"use strict";u();var QPe=Wl(),PPe=o((t,e,r)=>QPe(t,e,r)===0,"eq");tfe.exports=PPe});var kG=q((DYt,rfe)=>{"use strict";u();var FPe=Wl(),MPe=o((t,e,r)=>FPe(t,e,r)!==0,"neq");rfe.exports=MPe});var x7=q((PYt,nfe)=>{"use strict";u();var LPe=Wl(),OPe=o((t,e,r)=>LPe(t,e,r)>=0,"gte");nfe.exports=OPe});var b7=q((LYt,ife)=>{"use strict";u();var UPe=Wl(),HPe=o((t,e,r)=>UPe(t,e,r)<=0,"lte");ife.exports=HPe});var DG=q((HYt,ofe)=>{"use strict";u();var qPe=RG(),GPe=kG(),VPe=L_(),WPe=x7(),YPe=I7(),$Pe=b7(),zPe=o((t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return qPe(t,r,n);case"!=":return GPe(t,r,n);case">":return VPe(t,r,n);case">=":return WPe(t,r,n);case"<":return YPe(t,r,n);case"<=":return $Pe(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");ofe.exports=zPe});var afe=q((VYt,sfe)=>{"use strict";u();var jPe=Ka(),KPe=YC(),{safeRe:v7,t:T7}=Lx(),JPe=o((t,e)=>{if(t instanceof jPe)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?v7[T7.COERCEFULL]:v7[T7.COERCE]);else{let l=e.includePrerelease?v7[T7.COERCERTLFULL]:v7[T7.COERCERTL],f;for(;(f=l.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||f.index+f[0].length!==r.index+r[0].length)&&(r=f),l.lastIndex=f.index+f[1].length+f[2].length;l.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",a=e.includePrerelease&&r[5]?`-${r[5]}`:"",c=e.includePrerelease&&r[6]?`+${r[6]}`:"";return KPe(`${n}.${i}.${s}${a}${c}`,e)},"coerce");sfe.exports=JPe});var lfe=q(($Yt,cfe)=>{"use strict";u();var NG=class{static{o(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};cfe.exports=NG});var Yl=q((KYt,hfe)=>{"use strict";u();var XPe=/\s+/g,QG=class t{static{o(this,"Range")}constructor(e,r){if(r=eFe(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof PG)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(XPe," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!ffe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&aFe(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&oFe)|(this.options.loose&&sFe))+":"+e,i=ufe.get(n);if(i)return i;let s=this.options.loose,a=s?oc[E0.HYPHENRANGELOOSE]:oc[E0.HYPHENRANGE];e=e.replace(a,gFe(this.options.includePrerelease)),Xi("hyphen replace",e),e=e.replace(oc[E0.COMPARATORTRIM],rFe),Xi("comparator trim",e),e=e.replace(oc[E0.TILDETRIM],nFe),Xi("tilde trim",e),e=e.replace(oc[E0.CARETTRIM],iFe),Xi("caret trim",e);let c=e.split(" ").map(h=>cFe(h,this.options)).join(" ").split(/\s+/).map(h=>mFe(h,this.options));s&&(c=c.filter(h=>(Xi("loose invalid filter",h,this.options),!!h.match(oc[E0.COMPARATORLOOSE])))),Xi("range list",c);let l=new Map,f=c.map(h=>new PG(h,this.options));for(let h of f){if(ffe(h))return[h];l.set(h.value,h)}l.size>1&&l.has("")&&l.delete("");let d=[...l.values()];return ufe.set(n,d),d}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>dfe(n,r)&&e.set.some(i=>dfe(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new tFe(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(yFe(this.set[r],e,this.options))return!0;return!1}};hfe.exports=QG;var ZPe=lfe(),ufe=new ZPe,eFe=p7(),PG=O_(),Xi=M_(),tFe=Ka(),{safeRe:oc,t:E0,comparatorTrimReplace:rFe,tildeTrimReplace:nFe,caretTrimReplace:iFe}=Lx(),{FLAG_INCLUDE_PRERELEASE:oFe,FLAG_LOOSE:sFe}=F_(),ffe=o(t=>t.value==="<0.0.0-0","isNullSet"),aFe=o(t=>t.value==="","isAny"),dfe=o((t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},"isSatisfiable"),cFe=o((t,e)=>(Xi("comp",t,e),t=fFe(t,e),Xi("caret",t),t=lFe(t,e),Xi("tildes",t),t=hFe(t,e),Xi("xrange",t),t=pFe(t,e),Xi("stars",t),t),"parseComparator"),I0=o(t=>!t||t.toLowerCase()==="x"||t==="*","isX"),lFe=o((t,e)=>t.trim().split(/\s+/).map(r=>uFe(r,e)).join(" "),"replaceTildes"),uFe=o((t,e)=>{let r=e.loose?oc[E0.TILDELOOSE]:oc[E0.TILDE];return t.replace(r,(n,i,s,a,c)=>{Xi("tilde",t,n,i,s,a,c);let l;return I0(i)?l="":I0(s)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:I0(a)?l=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:c?(Xi("replaceTilde pr",c),l=`>=${i}.${s}.${a}-${c} <${i}.${+s+1}.0-0`):l=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,Xi("tilde return",l),l})},"replaceTilde"),fFe=o((t,e)=>t.trim().split(/\s+/).map(r=>dFe(r,e)).join(" "),"replaceCarets"),dFe=o((t,e)=>{Xi("caret",t,e);let r=e.loose?oc[E0.CARETLOOSE]:oc[E0.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,a,c,l)=>{Xi("caret",t,i,s,a,c,l);let f;return I0(s)?f="":I0(a)?f=`>=${s}.0.0${n} <${+s+1}.0.0-0`:I0(c)?s==="0"?f=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:f=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:l?(Xi("replaceCaret pr",l),s==="0"?a==="0"?f=`>=${s}.${a}.${c}-${l} <${s}.${a}.${+c+1}-0`:f=`>=${s}.${a}.${c}-${l} <${s}.${+a+1}.0-0`:f=`>=${s}.${a}.${c}-${l} <${+s+1}.0.0-0`):(Xi("no pr"),s==="0"?a==="0"?f=`>=${s}.${a}.${c}${n} <${s}.${a}.${+c+1}-0`:f=`>=${s}.${a}.${c}${n} <${s}.${+a+1}.0-0`:f=`>=${s}.${a}.${c} <${+s+1}.0.0-0`),Xi("caret return",f),f})},"replaceCaret"),hFe=o((t,e)=>(Xi("replaceXRanges",t,e),t.split(/\s+/).map(r=>AFe(r,e)).join(" ")),"replaceXRanges"),AFe=o((t,e)=>{t=t.trim();let r=e.loose?oc[E0.XRANGELOOSE]:oc[E0.XRANGE];return t.replace(r,(n,i,s,a,c,l)=>{Xi("xRange",t,n,i,s,a,c,l);let f=I0(s),d=f||I0(a),h=d||I0(c),A=h;return i==="="&&A&&(i=""),l=e.includePrerelease?"-0":"",f?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&A?(d&&(a=0),c=0,i===">"?(i=">=",d?(s=+s+1,a=0,c=0):(a=+a+1,c=0)):i==="<="&&(i="<",d?s=+s+1:a=+a+1),i==="<"&&(l="-0"),n=`${i+s}.${a}.${c}${l}`):d?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:h&&(n=`>=${s}.${a}.0${l} <${s}.${+a+1}.0-0`),Xi("xRange return",n),n})},"replaceXRange"),pFe=o((t,e)=>(Xi("replaceStars",t,e),t.trim().replace(oc[E0.STAR],"")),"replaceStars"),mFe=o((t,e)=>(Xi("replaceGTE0",t,e),t.trim().replace(oc[e.includePrerelease?E0.GTE0PRE:E0.GTE0],"")),"replaceGTE0"),gFe=o(t=>(e,r,n,i,s,a,c,l,f,d,h,A)=>(I0(n)?r="":I0(i)?r=`>=${n}.0.0${t?"-0":""}`:I0(s)?r=`>=${n}.${i}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,I0(f)?l="":I0(d)?l=`<${+f+1}.0.0-0`:I0(h)?l=`<${f}.${+d+1}.0-0`:A?l=`<=${f}.${d}.${h}-${A}`:t?l=`<${f}.${d}.${+h+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),"hyphenReplace"),yFe=o((t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Xi(t[n].semver),t[n].semver!==PG.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0},"testSet")});var O_=q((ZYt,Cfe)=>{"use strict";u();var U_=Symbol("SemVer ANY"),LG=class t{static{o(this,"Comparator")}static get ANY(){return U_}constructor(e,r){if(r=Afe(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),MG("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===U_?this.value="":this.value=this.operator+this.semver.version,MG("comp",this)}parse(e){let r=this.options.loose?pfe[mfe.COMPARATORLOOSE]:pfe[mfe.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new gfe(n[2],this.options.loose):this.semver=U_}toString(){return this.value}test(e){if(MG("Comparator.test",e,this.options.loose),this.semver===U_||e===U_)return!0;if(typeof e=="string")try{e=new gfe(e,this.options)}catch{return!1}return FG(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new yfe(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new yfe(this.value,r).test(e.semver):(r=Afe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||FG(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||FG(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Cfe.exports=LG;var Afe=p7(),{safeRe:pfe,t:mfe}=Lx(),FG=DG(),MG=M_(),gfe=Ka(),yfe=Yl()});var H_=q((r$t,Efe)=>{"use strict";u();var CFe=Yl(),EFe=o((t,e,r)=>{try{e=new CFe(e,r)}catch{return!1}return e.test(t)},"satisfies");Efe.exports=EFe});var xfe=q((o$t,Ife)=>{"use strict";u();var IFe=Yl(),xFe=o((t,e)=>new IFe(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");Ife.exports=xFe});var vfe=q((c$t,bfe)=>{"use strict";u();var bFe=Ka(),vFe=Yl(),TFe=o((t,e,r)=>{let n=null,i=null,s=null;try{s=new vFe(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new bFe(n,r))}),n},"maxSatisfying");bfe.exports=TFe});var _fe=q((f$t,Tfe)=>{"use strict";u();var _Fe=Ka(),SFe=Yl(),wFe=o((t,e,r)=>{let n=null,i=null,s=null;try{s=new SFe(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new _Fe(n,r))}),n},"minSatisfying");Tfe.exports=wFe});var Bfe=q((A$t,wfe)=>{"use strict";u();var OG=Ka(),BFe=Yl(),Sfe=L_(),RFe=o((t,e)=>{t=new BFe(t,e);let r=new OG("0.0.0");if(t.test(r)||(r=new OG("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(a=>{let c=new OG(a.semver.version);switch(a.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!s||Sfe(c,s))&&(s=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||Sfe(r,s))&&(r=s)}return r&&t.test(r)?r:null},"minVersion");wfe.exports=RFe});var kfe=q((g$t,Rfe)=>{"use strict";u();var kFe=Yl(),DFe=o((t,e)=>{try{return new kFe(t,e).range||"*"}catch{return null}},"validRange");Rfe.exports=DFe});var _7=q((E$t,Pfe)=>{"use strict";u();var NFe=Ka(),Qfe=O_(),{ANY:QFe}=Qfe,PFe=Yl(),FFe=H_(),Dfe=L_(),Nfe=I7(),MFe=b7(),LFe=x7(),OFe=o((t,e,r,n)=>{t=new NFe(t,n),e=new PFe(e,n);let i,s,a,c,l;switch(r){case">":i=Dfe,s=MFe,a=Nfe,c=">",l=">=";break;case"<":i=Nfe,s=LFe,a=Dfe,c="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(FFe(t,e,n))return!1;for(let f=0;f<e.set.length;++f){let d=e.set[f],h=null,A=null;if(d.forEach(m=>{m.semver===QFe&&(m=new Qfe(">=0.0.0")),h=h||m,A=A||m,i(m.semver,h.semver,n)?h=m:a(m.semver,A.semver,n)&&(A=m)}),h.operator===c||h.operator===l||(!A.operator||A.operator===c)&&s(t,A.semver))return!1;if(A.operator===l&&a(t,A.semver))return!1}return!0},"outside");Pfe.exports=OFe});var Mfe=q((b$t,Ffe)=>{"use strict";u();var UFe=_7(),HFe=o((t,e,r)=>UFe(t,e,">",r),"gtr");Ffe.exports=HFe});var Ofe=q((_$t,Lfe)=>{"use strict";u();var qFe=_7(),GFe=o((t,e,r)=>qFe(t,e,"<",r),"ltr");Lfe.exports=GFe});var qfe=q((B$t,Hfe)=>{"use strict";u();var Ufe=Yl(),VFe=o((t,e,r)=>(t=new Ufe(t,r),e=new Ufe(e,r),t.intersects(e,r)),"intersects");Hfe.exports=VFe});var Vfe=q((D$t,Gfe)=>{"use strict";u();var WFe=H_(),YFe=Wl();Gfe.exports=(t,e,r)=>{let n=[],i=null,s=null,a=t.sort((d,h)=>YFe(d,h,r));for(let d of a)WFe(d,e,r)?(s=d,i||(i=d)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let c=[];for(let[d,h]of n)d===h?c.push(d):!h&&d===a[0]?c.push("*"):h?d===a[0]?c.push(`<=${h}`):c.push(`${d} - ${h}`):c.push(`>=${d}`);let l=c.join(" || "),f=typeof e.raw=="string"?e.raw:String(e);return l.length<f.length?l:e}});var Kfe=q((Q$t,jfe)=>{"use strict";u();var Wfe=Yl(),HG=O_(),{ANY:UG}=HG,q_=H_(),qG=Wl(),$Fe=o((t,e,r={})=>{if(t===e)return!0;t=new Wfe(t,r),e=new Wfe(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let a=jFe(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),zFe=[new HG(">=0.0.0-0")],Yfe=[new HG(">=0.0.0")],jFe=o((t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===UG){if(e.length===1&&e[0].semver===UG)return!0;r.includePrerelease?t=zFe:t=Yfe}if(e.length===1&&e[0].semver===UG){if(r.includePrerelease)return!0;e=Yfe}let n=new Set,i,s;for(let m of t)m.operator===">"||m.operator===">="?i=$fe(i,m,r):m.operator==="<"||m.operator==="<="?s=zfe(s,m,r):n.add(m.semver);if(n.size>1)return null;let a;if(i&&s){if(a=qG(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let m of n){if(i&&!q_(m,String(i),r)||s&&!q_(m,String(s),r))return null;for(let y of e)if(!q_(m,String(y),r))return!1;return!0}let c,l,f,d,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,A=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;h&&h.prerelease.length===1&&s.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(let m of e){if(d=d||m.operator===">"||m.operator===">=",f=f||m.operator==="<"||m.operator==="<=",i){if(A&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===A.major&&m.semver.minor===A.minor&&m.semver.patch===A.patch&&(A=!1),m.operator===">"||m.operator===">="){if(c=$fe(i,m,r),c===m&&c!==i)return!1}else if(i.operator===">="&&!q_(i.semver,String(m),r))return!1}if(s){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator==="<"||m.operator==="<="){if(l=zfe(s,m,r),l===m&&l!==s)return!1}else if(s.operator==="<="&&!q_(s.semver,String(m),r))return!1}if(!m.operator&&(s||i)&&a!==0)return!1}return!(i&&f&&!s&&a!==0||s&&d&&!i&&a!==0||A||h)},"simpleSubset"),$fe=o((t,e,r)=>{if(!t)return e;let n=qG(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),zfe=o((t,e,r)=>{if(!t)return e;let n=qG(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");jfe.exports=$Fe});var S7=q((M$t,Zfe)=>{"use strict";u();var GG=Lx(),Jfe=F_(),KFe=Ka(),Xfe=wG(),JFe=YC(),XFe=vue(),ZFe=_ue(),eMe=Bue(),tMe=Due(),rMe=Que(),nMe=Fue(),iMe=Lue(),oMe=Uue(),sMe=Wl(),aMe=Vue(),cMe=Yue(),lMe=E7(),uMe=Kue(),fMe=Xue(),dMe=L_(),hMe=I7(),AMe=RG(),pMe=kG(),mMe=x7(),gMe=b7(),yMe=DG(),CMe=afe(),EMe=O_(),IMe=Yl(),xMe=H_(),bMe=xfe(),vMe=vfe(),TMe=_fe(),_Me=Bfe(),SMe=kfe(),wMe=_7(),BMe=Mfe(),RMe=Ofe(),kMe=qfe(),DMe=Vfe(),NMe=Kfe();Zfe.exports={parse:JFe,valid:XFe,clean:ZFe,inc:eMe,diff:tMe,major:rMe,minor:nMe,patch:iMe,prerelease:oMe,compare:sMe,rcompare:aMe,compareLoose:cMe,compareBuild:lMe,sort:uMe,rsort:fMe,gt:dMe,lt:hMe,eq:AMe,neq:pMe,gte:mMe,lte:gMe,cmp:yMe,coerce:CMe,Comparator:EMe,Range:IMe,satisfies:xMe,toComparators:bMe,maxSatisfying:vMe,minSatisfying:TMe,minVersion:_Me,validRange:SMe,outside:wMe,gtr:BMe,ltr:RMe,intersects:kMe,simplifyRange:DMe,subset:NMe,SemVer:KFe,re:GG.re,src:GG.src,tokens:GG.t,SEMVER_SPEC_VERSION:Jfe.SEMVER_SPEC_VERSION,RELEASE_TYPES:Jfe.RELEASE_TYPES,compareIdentifiers:Xfe.compareIdentifiers,rcompareIdentifiers:Xfe.rcompareIdentifiers}});var tde=q((O$t,ede)=>{u();var QMe=S7();ede.exports=QMe.satisfies(process.version,">=15.7.0")});var nde=q((H$t,rde)=>{u();var PMe=S7();rde.exports=PMe.satisfies(process.version,">=16.9.0")});var VG=q((G$t,ide)=>{u();var FMe=tde(),MMe=nde(),LMe={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},OMe={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};ide.exports=function(t,e){if(!t||!e)return;let r=e.asymmetricKeyType;if(!r)return;let n=LMe[r];if(!n)throw new Error(`Unknown key type "${r}".`);if(!n.includes(t))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${n.join(", ")}.`);if(FMe)switch(r){case"ec":let i=e.asymmetricKeyDetails.namedCurve,s=OMe[t];if(i!==s)throw new Error(`"alg" parameter "${t}" requires curve "${s}".`);break;case"rsa-pss":if(MMe){let a=parseInt(t.slice(-3),10),{hashAlgorithm:c,mgf1HashAlgorithm:l,saltLength:f}=e.asymmetricKeyDetails;if(c!==`sha${a}`||l!==c)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${t}.`);if(f!==void 0&&f>a>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${t}.`)}break}}});var WG=q((W$t,ode)=>{u();var UMe=S7();ode.exports=UMe.satisfies(process.version,"^6.12.0 || >=8.0.0")});var cde=q(($$t,ade)=>{u();var Mi=P_(),HMe=xG(),sde=bG(),qMe=IG(),GMe=TG(),VMe=VG(),WMe=WG(),YMe=u7(),{KeyObject:$Me,createSecretKey:zMe,createPublicKey:jMe}=require("crypto"),YG=["RS256","RS384","RS512"],KMe=["ES256","ES384","ES512"],$G=["RS256","RS384","RS512"],JMe=["HS256","HS384","HS512"];WMe&&(YG.splice(YG.length,0,"PS256","PS384","PS512"),$G.splice($G.length,0,"PS256","PS384","PS512"));ade.exports=function(t,e,r,n){typeof r=="function"&&!n&&(n=r,r={}),r||(r={}),r=Object.assign({},r);let i;if(n?i=n:i=o(function(d,h){if(d)throw d;return h},"done"),r.clockTimestamp&&typeof r.clockTimestamp!="number")return i(new Mi("clockTimestamp must be a number"));if(r.nonce!==void 0&&(typeof r.nonce!="string"||r.nonce.trim()===""))return i(new Mi("nonce must be a non-empty string"));if(r.allowInvalidAsymmetricKeyTypes!==void 0&&typeof r.allowInvalidAsymmetricKeyTypes!="boolean")return i(new Mi("allowInvalidAsymmetricKeyTypes must be a boolean"));let s=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!t)return i(new Mi("jwt must be provided"));if(typeof t!="string")return i(new Mi("jwt must be a string"));let a=t.split(".");if(a.length!==3)return i(new Mi("jwt malformed"));let c;try{c=qMe(t,{complete:!0})}catch(d){return i(d)}if(!c)return i(new Mi("invalid token"));let l=c.header,f;if(typeof e=="function"){if(!n)return i(new Mi("verify must be called asynchronous if secret or public key is provided as a callback"));f=e}else f=o(function(d,h){return h(null,e)},"getSecret");return f(l,function(d,h){if(d)return i(new Mi("error in secret or public key callback: "+d.message));let A=a[2].trim()!=="";if(!A&&h)return i(new Mi("jwt signature is required"));if(A&&!h)return i(new Mi("secret or public key must be provided"));if(!A&&!r.algorithms)return i(new Mi('please specify "none" in "algorithms" to verify unsigned tokens'));if(h!=null&&!(h instanceof $Me))try{h=jMe(h)}catch{try{h=zMe(typeof h=="string"?Buffer.from(h):h)}catch{return i(new Mi("secretOrPublicKey is not valid key material"))}}if(r.algorithms||(h.type==="secret"?r.algorithms=JMe:["rsa","rsa-pss"].includes(h.asymmetricKeyType)?r.algorithms=$G:h.asymmetricKeyType==="ec"?r.algorithms=KMe:r.algorithms=YG),r.algorithms.indexOf(c.header.alg)===-1)return i(new Mi("invalid algorithm"));if(l.alg.startsWith("HS")&&h.type!=="secret")return i(new Mi(`secretOrPublicKey must be a symmetric key when using ${l.alg}`));if(/^(?:RS|PS|ES)/.test(l.alg)&&h.type!=="public")return i(new Mi(`secretOrPublicKey must be an asymmetric key when using ${l.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{VMe(l.alg,h)}catch(x){return i(x)}let m;try{m=YMe.verify(t,c.header.alg,h)}catch(x){return i(x)}if(!m)return i(new Mi("invalid signature"));let y=c.payload;if(typeof y.nbf<"u"&&!r.ignoreNotBefore){if(typeof y.nbf!="number")return i(new Mi("invalid nbf value"));if(y.nbf>s+(r.clockTolerance||0))return i(new HMe("jwt not active",new Date(y.nbf*1e3)))}if(typeof y.exp<"u"&&!r.ignoreExpiration){if(typeof y.exp!="number")return i(new Mi("invalid exp value"));if(s>=y.exp+(r.clockTolerance||0))return i(new sde("jwt expired",new Date(y.exp*1e3)))}if(r.audience){let x=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(y.aud)?y.aud:[y.aud]).some(function(S){return x.some(function(k){return k instanceof RegExp?k.test(S):k===S})}))return i(new Mi("jwt audience invalid. expected: "+x.join(" or ")))}if(r.issuer&&(typeof r.issuer=="string"&&y.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(y.iss)===-1))return i(new Mi("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&y.sub!==r.subject)return i(new Mi("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&y.jti!==r.jwtid)return i(new Mi("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&y.nonce!==r.nonce)return i(new Mi("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if(typeof y.iat!="number")return i(new Mi("iat required when maxAge is specified"));let x=GMe(r.maxAge,y.iat);if(typeof x>"u")return i(new Mi('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(s>=x+(r.clockTolerance||0))return i(new sde("maxAge exceeded",new Date(x*1e3)))}if(r.complete===!0){let x=c.signature;return i(null,{header:l,payload:y,signature:x})}return i(null,y)})}});var Ade=q((K$t,hde)=>{u();var lde=1/0,fde=9007199254740991,XMe=17976931348623157e292,ude=NaN,ZMe="[object Arguments]",eLe="[object Function]",tLe="[object GeneratorFunction]",rLe="[object String]",nLe="[object Symbol]",iLe=/^\s+|\s+$/g,oLe=/^[-+]0x[0-9a-f]+$/i,sLe=/^0b[01]+$/i,aLe=/^0o[0-7]+$/i,cLe=/^(?:0|[1-9]\d*)$/,lLe=parseInt;function uLe(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}o(uLe,"arrayMap");function fLe(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}o(fLe,"baseFindIndex");function dLe(t,e,r){if(e!==e)return fLe(t,hLe,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}o(dLe,"baseIndexOf");function hLe(t){return t!==t}o(hLe,"baseIsNaN");function ALe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}o(ALe,"baseTimes");function pLe(t,e){return uLe(e,function(r){return t[r]})}o(pLe,"baseValues");function mLe(t,e){return function(r){return t(e(r))}}o(mLe,"overArg");var w7=Object.prototype,jG=w7.hasOwnProperty,B7=w7.toString,gLe=w7.propertyIsEnumerable,yLe=mLe(Object.keys,Object),CLe=Math.max;function ELe(t,e){var r=dde(t)||TLe(t)?ALe(t.length,String):[],n=r.length,i=!!n;for(var s in t)(e||jG.call(t,s))&&!(i&&(s=="length"||xLe(s,n)))&&r.push(s);return r}o(ELe,"arrayLikeKeys");function ILe(t){if(!bLe(t))return yLe(t);var e=[];for(var r in Object(t))jG.call(t,r)&&r!="constructor"&&e.push(r);return e}o(ILe,"baseKeys");function xLe(t,e){return e=e??fde,!!e&&(typeof t=="number"||cLe.test(t))&&t>-1&&t%1==0&&t<e}o(xLe,"isIndex");function bLe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||w7;return t===r}o(bLe,"isPrototype");function vLe(t,e,r,n){t=KG(t)?t:PLe(t),r=r&&!n?DLe(r):0;var i=t.length;return r<0&&(r=CLe(i+r,0)),BLe(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&dLe(t,e,r)>-1}o(vLe,"includes");function TLe(t){return _Le(t)&&jG.call(t,"callee")&&(!gLe.call(t,"callee")||B7.call(t)==ZMe)}o(TLe,"isArguments");var dde=Array.isArray;function KG(t){return t!=null&&wLe(t.length)&&!SLe(t)}o(KG,"isArrayLike");function _Le(t){return JG(t)&&KG(t)}o(_Le,"isArrayLikeObject");function SLe(t){var e=zG(t)?B7.call(t):"";return e==eLe||e==tLe}o(SLe,"isFunction");function wLe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fde}o(wLe,"isLength");function zG(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}o(zG,"isObject");function JG(t){return!!t&&typeof t=="object"}o(JG,"isObjectLike");function BLe(t){return typeof t=="string"||!dde(t)&&JG(t)&&B7.call(t)==rLe}o(BLe,"isString");function RLe(t){return typeof t=="symbol"||JG(t)&&B7.call(t)==nLe}o(RLe,"isSymbol");function kLe(t){if(!t)return t===0?t:0;if(t=NLe(t),t===lde||t===-lde){var e=t<0?-1:1;return e*XMe}return t===t?t:0}o(kLe,"toFinite");function DLe(t){var e=kLe(t),r=e%1;return e===e?r?e-r:e:0}o(DLe,"toInteger");function NLe(t){if(typeof t=="number")return t;if(RLe(t))return ude;if(zG(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=zG(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(iLe,"");var r=sLe.test(t);return r||aLe.test(t)?lLe(t.slice(2),r?2:8):oLe.test(t)?ude:+t}o(NLe,"toNumber");function QLe(t){return KG(t)?ELe(t):ILe(t)}o(QLe,"keys");function PLe(t){return t?pLe(t,QLe(t)):[]}o(PLe,"values");hde.exports=vLe});var mde=q((Z$t,pde)=>{u();var FLe="[object Boolean]",MLe=Object.prototype,LLe=MLe.toString;function OLe(t){return t===!0||t===!1||ULe(t)&&LLe.call(t)==FLe}o(OLe,"isBoolean");function ULe(t){return!!t&&typeof t=="object"}o(ULe,"isObjectLike");pde.exports=OLe});var Ide=q((rzt,Ede)=>{u();var gde=1/0,HLe=17976931348623157e292,yde=NaN,qLe="[object Symbol]",GLe=/^\s+|\s+$/g,VLe=/^[-+]0x[0-9a-f]+$/i,WLe=/^0b[01]+$/i,YLe=/^0o[0-7]+$/i,$Le=parseInt,zLe=Object.prototype,jLe=zLe.toString;function KLe(t){return typeof t=="number"&&t==eOe(t)}o(KLe,"isInteger");function Cde(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}o(Cde,"isObject");function JLe(t){return!!t&&typeof t=="object"}o(JLe,"isObjectLike");function XLe(t){return typeof t=="symbol"||JLe(t)&&jLe.call(t)==qLe}o(XLe,"isSymbol");function ZLe(t){if(!t)return t===0?t:0;if(t=tOe(t),t===gde||t===-gde){var e=t<0?-1:1;return e*HLe}return t===t?t:0}o(ZLe,"toFinite");function eOe(t){var e=ZLe(t),r=e%1;return e===e?r?e-r:e:0}o(eOe,"toInteger");function tOe(t){if(typeof t=="number")return t;if(XLe(t))return yde;if(Cde(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Cde(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(GLe,"");var r=WLe.test(t);return r||YLe.test(t)?$Le(t.slice(2),r?2:8):VLe.test(t)?yde:+t}o(tOe,"toNumber");Ede.exports=KLe});var bde=q((ozt,xde)=>{u();var rOe="[object Number]",nOe=Object.prototype,iOe=nOe.toString;function oOe(t){return!!t&&typeof t=="object"}o(oOe,"isObjectLike");function sOe(t){return typeof t=="number"||oOe(t)&&iOe.call(t)==rOe}o(sOe,"isNumber");xde.exports=sOe});var Sde=q((czt,_de)=>{u();var aOe="[object Object]";function cOe(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}o(cOe,"isHostObject");function lOe(t,e){return function(r){return t(e(r))}}o(lOe,"overArg");var uOe=Function.prototype,vde=Object.prototype,Tde=uOe.toString,fOe=vde.hasOwnProperty,dOe=Tde.call(Object),hOe=vde.toString,AOe=lOe(Object.getPrototypeOf,Object);function pOe(t){return!!t&&typeof t=="object"}o(pOe,"isObjectLike");function mOe(t){if(!pOe(t)||hOe.call(t)!=aOe||cOe(t))return!1;var e=AOe(t);if(e===null)return!0;var r=fOe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Tde.call(r)==dOe}o(mOe,"isPlainObject");_de.exports=mOe});var Bde=q((fzt,wde)=>{u();var gOe="[object String]",yOe=Object.prototype,COe=yOe.toString,EOe=Array.isArray;function IOe(t){return!!t&&typeof t=="object"}o(IOe,"isObjectLike");function xOe(t){return typeof t=="string"||!EOe(t)&&IOe(t)&&COe.call(t)==gOe}o(xOe,"isString");wde.exports=xOe});var Qde=q((Azt,Nde)=>{u();var bOe="Expected a function",Rde=1/0,vOe=17976931348623157e292,kde=NaN,TOe="[object Symbol]",_Oe=/^\s+|\s+$/g,SOe=/^[-+]0x[0-9a-f]+$/i,wOe=/^0b[01]+$/i,BOe=/^0o[0-7]+$/i,ROe=parseInt,kOe=Object.prototype,DOe=kOe.toString;function NOe(t,e){var r;if(typeof e!="function")throw new TypeError(bOe);return t=LOe(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}o(NOe,"before");function QOe(t){return NOe(2,t)}o(QOe,"once");function Dde(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}o(Dde,"isObject");function POe(t){return!!t&&typeof t=="object"}o(POe,"isObjectLike");function FOe(t){return typeof t=="symbol"||POe(t)&&DOe.call(t)==TOe}o(FOe,"isSymbol");function MOe(t){if(!t)return t===0?t:0;if(t=OOe(t),t===Rde||t===-Rde){var e=t<0?-1:1;return e*vOe}return t===t?t:0}o(MOe,"toFinite");function LOe(t){var e=MOe(t),r=e%1;return e===e?r?e-r:e:0}o(LOe,"toInteger");function OOe(t){if(typeof t=="number")return t;if(FOe(t))return kde;if(Dde(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Dde(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(_Oe,"");var r=wOe.test(t);return r||BOe.test(t)?ROe(t.slice(2),r?2:8):SOe.test(t)?kde:+t}o(OOe,"toNumber");Nde.exports=QOe});var Gde=q((gzt,qde)=>{u();var Pde=TG(),UOe=WG(),HOe=VG(),Fde=u7(),qOe=Ade(),R7=mde(),Mde=Ide(),XG=bde(),Ode=Sde(),bg=Bde(),GOe=Qde(),{KeyObject:VOe,createSecretKey:WOe,createPrivateKey:YOe}=require("crypto"),Ude=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];UOe&&Ude.splice(3,0,"PS256","PS384","PS512");var $Oe={expiresIn:{isValid:o(function(t){return Mde(t)||bg(t)&&t},"isValid"),message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:o(function(t){return Mde(t)||bg(t)&&t},"isValid"),message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:o(function(t){return bg(t)||Array.isArray(t)},"isValid"),message:'"audience" must be a string or array'},algorithm:{isValid:qOe.bind(null,Ude),message:'"algorithm" must be a valid string enum value'},header:{isValid:Ode,message:'"header" must be an object'},encoding:{isValid:bg,message:'"encoding" must be a string'},issuer:{isValid:bg,message:'"issuer" must be a string'},subject:{isValid:bg,message:'"subject" must be a string'},jwtid:{isValid:bg,message:'"jwtid" must be a string'},noTimestamp:{isValid:R7,message:'"noTimestamp" must be a boolean'},keyid:{isValid:bg,message:'"keyid" must be a string'},mutatePayload:{isValid:R7,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:R7,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:R7,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},zOe={iat:{isValid:XG,message:'"iat" should be a number of seconds'},exp:{isValid:XG,message:'"exp" should be a number of seconds'},nbf:{isValid:XG,message:'"nbf" should be a number of seconds'}};function Hde(t,e,r,n){if(!Ode(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(i){let s=t[i];if(!s){if(!e)throw new Error('"'+i+'" is not allowed in "'+n+'"');return}if(!s.isValid(r[i]))throw new Error(s.message)})}o(Hde,"validate");function jOe(t){return Hde($Oe,!1,t,"options")}o(jOe,"validateOptions");function KOe(t){return Hde(zOe,!0,t,"payload")}o(KOe,"validatePayload");var Lde={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},JOe=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];qde.exports=function(t,e,r,n){typeof r=="function"?(n=r,r={}):r=r||{};let i=typeof t=="object"&&!Buffer.isBuffer(t),s=Object.assign({alg:r.algorithm||"HS256",typ:i?"JWT":void 0,kid:r.keyid},r.header);function a(f){if(n)return n(f);throw f}if(o(a,"failure"),!e&&r.algorithm!=="none")return a(new Error("secretOrPrivateKey must have a value"));if(e!=null&&!(e instanceof VOe))try{e=YOe(e)}catch{try{e=WOe(typeof e=="string"?Buffer.from(e):e)}catch{return a(new Error("secretOrPrivateKey is not valid key material"))}}if(s.alg.startsWith("HS")&&e.type!=="secret")return a(new Error(`secretOrPrivateKey must be a symmetric key when using ${s.alg}`));if(/^(?:RS|PS|ES)/.test(s.alg)){if(e.type!=="private")return a(new Error(`secretOrPrivateKey must be an asymmetric key when using ${s.alg}`));if(!r.allowInsecureKeySizes&&!s.alg.startsWith("ES")&&e.asymmetricKeyDetails!==void 0&&e.asymmetricKeyDetails.modulusLength<2048)return a(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${s.alg}`))}if(typeof t>"u")return a(new Error("payload is required"));if(i){try{KOe(t)}catch(f){return a(f)}r.mutatePayload||(t=Object.assign({},t))}else{let f=JOe.filter(function(d){return typeof r[d]<"u"});if(f.length>0)return a(new Error("invalid "+f.join(",")+" option for "+typeof t+" payload"))}if(typeof t.exp<"u"&&typeof r.expiresIn<"u")return a(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof t.nbf<"u"&&typeof r.notBefore<"u")return a(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{jOe(r)}catch(f){return a(f)}if(!r.allowInvalidAsymmetricKeyTypes)try{HOe(s.alg,e)}catch(f){return a(f)}let c=t.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete t.iat:i&&(t.iat=c),typeof r.notBefore<"u"){try{t.nbf=Pde(r.notBefore,c)}catch(f){return a(f)}if(typeof t.nbf>"u")return a(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof r.expiresIn<"u"&&typeof t=="object"){try{t.exp=Pde(r.expiresIn,c)}catch(f){return a(f)}if(typeof t.exp>"u")return a(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(Lde).forEach(function(f){let d=Lde[f];if(typeof r[f]<"u"){if(typeof t[d]<"u")return a(new Error('Bad "options.'+f+'" option. The payload already has an "'+d+'" property.'));t[d]=r[f]}});let l=r.encoding||"utf8";if(typeof n=="function")n=n&&GOe(n),Fde.createSign({header:s,privateKey:e,payload:t,encoding:l}).once("error",n).once("done",function(f){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(s.alg)&&f.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${s.alg}`));n(null,f)});else{let f=Fde.sign({header:s,payload:t,secret:e,encoding:l});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(s.alg)&&f.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${s.alg}`);return f}}});var Wde=q((Ezt,Vde)=>{u();Vde.exports={decode:IG(),verify:cde(),sign:Gde(),JsonWebTokenError:P_(),NotBeforeError:xG(),TokenExpiredError:bG()}});var wV=q((trr,Ohe)=>{u();function JUe(t){r.debug=r,r.default=r,r.coerce=l,r.disable=s,r.enable=i,r.enabled=a,r.humanize=vG(),r.destroy=f,Object.keys(t).forEach(d=>{r[d]=t[d]}),r.names=[],r.skips=[],r.formatters={};function e(d){let h=0;for(let A=0;A<d.length;A++)h=(h<<5)-h+d.charCodeAt(A),h|=0;return r.colors[Math.abs(h)%r.colors.length]}o(e,"selectColor"),r.selectColor=e;function r(d){let h,A=null,m,y;function x(..._){if(!x.enabled)return;let T=x,S=Number(new Date),k=S-(h||S);T.diff=k,T.prev=h,T.curr=S,h=S,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let N=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(L,Y)=>{if(L==="%%")return"%";N++;let te=r.formatters[Y];if(typeof te=="function"){let ne=_[N];L=te.call(T,ne),_.splice(N,1),N--}return L}),r.formatArgs.call(T,_),(T.log||r.log).apply(T,_)}return o(x,"debug"),x.namespace=d,x.useColors=r.useColors(),x.color=r.selectColor(d),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:o(()=>A!==null?A:(m!==r.namespaces&&(m=r.namespaces,y=r.enabled(d)),y),"get"),set:o(_=>{A=_},"set")}),typeof r.init=="function"&&r.init(x),x}o(r,"createDebug");function n(d,h){let A=r(this.namespace+(typeof h>"u"?":":h)+d);return A.log=this.log,A}o(n,"extend");function i(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let h,A=(typeof d=="string"?d:"").split(/[\s,]+/),m=A.length;for(h=0;h<m;h++)A[h]&&(d=A[h].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}o(i,"enable");function s(){let d=[...r.names.map(c),...r.skips.map(c).map(h=>"-"+h)].join(",");return r.enable(""),d}o(s,"disable");function a(d){if(d[d.length-1]==="*")return!0;let h,A;for(h=0,A=r.skips.length;h<A;h++)if(r.skips[h].test(d))return!1;for(h=0,A=r.names.length;h<A;h++)if(r.names[h].test(d))return!0;return!1}o(a,"enabled");function c(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}o(c,"toNamespace");function l(d){return d instanceof Error?d.stack||d.message:d}o(l,"coerce");function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(f,"destroy"),r.enable(r.load()),r}o(JUe,"setup");Ohe.exports=JUe});var Uhe=q((Jc,ok)=>{u();Jc.formatArgs=ZUe;Jc.save=eHe;Jc.load=tHe;Jc.useColors=XUe;Jc.storage=rHe();Jc.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Jc.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function XUe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(XUe,"useColors");function ZUe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ok.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}o(ZUe,"formatArgs");Jc.log=console.debug||console.log||(()=>{});function eHe(t){try{t?Jc.storage.setItem("debug",t):Jc.storage.removeItem("debug")}catch{}}o(eHe,"save");function tHe(){let t;try{t=Jc.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}o(tHe,"load");function rHe(){try{return localStorage}catch{}}o(rHe,"localstorage");ok.exports=wV()(Jc);var{formatters:nHe}=ok.exports;nHe.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var qhe=q((srr,Hhe)=>{"use strict";u();Hhe.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var Whe=q((crr,Vhe)=>{"use strict";u();var iHe=require("os"),Ghe=require("tty"),zl=qhe(),{env:Xs}=process,wg;zl("no-color")||zl("no-colors")||zl("color=false")||zl("color=never")?wg=0:(zl("color")||zl("colors")||zl("color=true")||zl("color=always"))&&(wg=1);"FORCE_COLOR"in Xs&&(Xs.FORCE_COLOR==="true"?wg=1:Xs.FORCE_COLOR==="false"?wg=0:wg=Xs.FORCE_COLOR.length===0?1:Math.min(parseInt(Xs.FORCE_COLOR,10),3));function BV(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}o(BV,"translateLevel");function RV(t,e){if(wg===0)return 0;if(zl("color=16m")||zl("color=full")||zl("color=truecolor"))return 3;if(zl("color=256"))return 2;if(t&&!e&&wg===void 0)return 0;let r=wg||0;if(Xs.TERM==="dumb")return r;if(process.platform==="win32"){let n=iHe.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Xs)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Xs)||Xs.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Xs)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Xs.TEAMCITY_VERSION)?1:0;if(Xs.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Xs){let n=parseInt((Xs.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Xs.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Xs.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Xs.TERM)||"COLORTERM"in Xs?1:r}o(RV,"supportsColor");function oHe(t){let e=RV(t,t&&t.isTTY);return BV(e)}o(oHe,"getSupportLevel");Vhe.exports={supportsColor:oHe,stdout:BV(RV(!0,Ghe.isatty(1))),stderr:BV(RV(!0,Ghe.isatty(2)))}});var $he=q((wa,ak)=>{u();var sHe=require("tty"),sk=require("util");wa.init=hHe;wa.log=uHe;wa.formatArgs=cHe;wa.save=fHe;wa.load=dHe;wa.useColors=aHe;wa.destroy=sk.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");wa.colors=[6,2,3,4,5,1];try{let t=Whe();t&&(t.stderr||t).level>=2&&(wa.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}wa.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function aHe(){return"colors"in wa.inspectOpts?!!wa.inspectOpts.colors:sHe.isatty(process.stderr.fd)}o(aHe,"useColors");function cHe(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+ak.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=lHe()+e+" "+t[0]}o(cHe,"formatArgs");function lHe(){return wa.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(lHe,"getDate");function uHe(...t){return process.stderr.write(sk.format(...t)+`
`)}o(uHe,"log");function fHe(t){t?process.env.DEBUG=t:delete process.env.DEBUG}o(fHe,"save");function dHe(){return process.env.DEBUG}o(dHe,"load");function hHe(t){t.inspectOpts={};let e=Object.keys(wa.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=wa.inspectOpts[e[r]]}o(hHe,"init");ak.exports=wV()(wa);var{formatters:Yhe}=ak.exports;Yhe.o=function(t){return this.inspectOpts.colors=this.useColors,sk.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Yhe.O=function(t){return this.inspectOpts.colors=this.useColors,sk.inspect(t,this.inspectOpts)}});var Ld=q((hrr,kV)=>{u();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?kV.exports=Uhe():kV.exports=$he()});var Khe=q(cc=>{"use strict";u();var AHe=cc&&cc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pHe=cc&&cc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zhe=cc&&cc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&AHe(e,t,r);return pHe(e,t),e};Object.defineProperty(cc,"__esModule",{value:!0});cc.req=cc.json=cc.toBuffer=void 0;var mHe=zhe(require("http")),gHe=zhe(require("https"));async function jhe(t){let e=0,r=[];for await(let n of t)e+=n.length,r.push(n);return Buffer.concat(r,e)}o(jhe,"toBuffer");cc.toBuffer=jhe;async function yHe(t){let r=(await jhe(t)).toString("utf8");try{return JSON.parse(r)}catch(n){let i=n;throw i.message+=` (input: ${r})`,i}}o(yHe,"json");cc.json=yHe;function CHe(t,e={}){let n=((typeof t=="string"?t:t.href).startsWith("https:")?gHe:mHe).request(t,e),i=new Promise((s,a)=>{n.once("response",s).once("error",a).end()});return n.then=i.then.bind(i),n}o(CHe,"req");cc.req=CHe});var NV=q(Xc=>{"use strict";u();var Xhe=Xc&&Xc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),EHe=Xc&&Xc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Zhe=Xc&&Xc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Xhe(e,t,r);return EHe(e,t),e},IHe=Xc&&Xc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Xhe(e,t,r)};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.Agent=void 0;var xHe=Zhe(require("net")),Jhe=Zhe(require("http")),bHe=require("https");IHe(Khe(),Xc);var Od=Symbol("AgentBaseInternalState"),DV=class extends Jhe.Agent{static{o(this,"Agent")}constructor(e){super(e),this[Od]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:r}=new Error;return typeof r!="string"?!1:r.split(`
`).some(n=>n.indexOf("(https.js:")!==-1||n.indexOf("node:https:")!==-1)}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);let r=new xHe.Socket({writable:!1});return this.sockets[e].push(r),this.totalSocketCount++,r}decrementSockets(e,r){if(!this.sockets[e]||r===null)return;let n=this.sockets[e],i=n.indexOf(r);i!==-1&&(n.splice(i,1),this.totalSocketCount--,n.length===0&&delete this.sockets[e])}getName(e){return(typeof e.secureEndpoint=="boolean"?e.secureEndpoint:this.isSecureEndpoint(e))?bHe.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,r,n){let i={...r,secureEndpoint:this.isSecureEndpoint(r)},s=this.getName(i),a=this.incrementSockets(s);Promise.resolve().then(()=>this.connect(e,i)).then(c=>{if(this.decrementSockets(s,a),c instanceof Jhe.Agent)return c.addRequest(e,i);this[Od].currentSocket=c,super.createSocket(e,r,n)},c=>{this.decrementSockets(s,a),n(c)})}createConnection(){let e=this[Od].currentSocket;if(this[Od].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[Od].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[Od]&&(this[Od].defaultPort=e)}get protocol(){return this[Od].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[Od]&&(this[Od].protocol=e)}};Xc.Agent=DV});var eAe=q(Zx=>{"use strict";u();var vHe=Zx&&Zx.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zx,"__esModule",{value:!0});Zx.parseProxyResponse=void 0;var THe=vHe(Ld()),ck=(0,THe.default)("https-proxy-agent:parse-proxy-response");function _He(t){return new Promise((e,r)=>{let n=0,i=[];function s(){let d=t.read();d?f(d):t.once("readable",s)}o(s,"read");function a(){t.removeListener("end",c),t.removeListener("error",l),t.removeListener("readable",s)}o(a,"cleanup");function c(){a(),ck("onend"),r(new Error("Proxy connection ended before receiving CONNECT response"))}o(c,"onend");function l(d){a(),ck("onerror %o",d),r(d)}o(l,"onerror");function f(d){i.push(d),n+=d.length;let h=Buffer.concat(i,n),A=h.indexOf(`\r
\r
`);if(A===-1){ck("have not received end of HTTP headers yet..."),s();return}let m=h.slice(0,A).toString("ascii").split(`\r
`),y=m.shift();if(!y)return t.destroy(),r(new Error("No header received from proxy CONNECT response"));let x=y.split(" "),_=+x[1],T=x.slice(2).join(" "),S={};for(let k of m){if(!k)continue;let N=k.indexOf(":");if(N===-1)return t.destroy(),r(new Error(`Invalid header from proxy CONNECT response: "${k}"`));let P=k.slice(0,N).toLowerCase(),L=k.slice(N+1).trimStart(),Y=S[P];typeof Y=="string"?S[P]=[Y,L]:Array.isArray(Y)?Y.push(L):S[P]=L}ck("got proxy server response: %o %o",y,S),a(),e({connect:{statusCode:_,statusText:T,headers:S},buffered:h})}o(f,"ondata"),t.on("error",l),t.on("end",c),s()})}o(_He,"parseProxyResponse");Zx.parseProxyResponse=_He});var oAe=q(jl=>{"use strict";u();var SHe=jl&&jl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wHe=jl&&jl.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nAe=jl&&jl.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SHe(e,t,r);return wHe(e,t),e},iAe=jl&&jl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jl,"__esModule",{value:!0});jl.HttpsProxyAgent=void 0;var QV=nAe(require("net")),tAe=nAe(require("tls")),BHe=iAe(require("assert")),RHe=iAe(Ld()),kHe=NV(),DHe=require("url"),NHe=eAe(),t3=(0,RHe.default)("https-proxy-agent"),lk=class extends kHe.Agent{static{o(this,"HttpsProxyAgent")}constructor(e,r){super(r),this.options={path:void 0},this.proxy=typeof e=="string"?new DHe.URL(e):e,this.proxyHeaders=r?.headers??{},t3("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...r?rAe(r,"headers"):null,host:n,port:i}}async connect(e,r){let{proxy:n}=this;if(!r.host)throw new TypeError('No "host" provided');let i;if(n.protocol==="https:"){t3("Creating `tls.Socket`: %o",this.connectOpts);let A=this.connectOpts.servername||this.connectOpts.host;i=tAe.connect({...this.connectOpts,servername:A})}else t3("Creating `net.Socket`: %o",this.connectOpts),i=QV.connect(this.connectOpts);let s=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},a=QV.isIPv6(r.host)?`[${r.host}]`:r.host,c=`CONNECT ${a}:${r.port} HTTP/1.1\r
`;if(n.username||n.password){let A=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;s["Proxy-Authorization"]=`Basic ${Buffer.from(A).toString("base64")}`}s.Host=`${a}:${r.port}`,s["Proxy-Connection"]||(s["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let A of Object.keys(s))c+=`${A}: ${s[A]}\r
`;let l=(0,NHe.parseProxyResponse)(i);i.write(`${c}\r
`);let{connect:f,buffered:d}=await l;if(e.emit("proxyConnect",f),this.emit("proxyConnect",f,e),f.statusCode===200){if(e.once("socket",QHe),r.secureEndpoint){t3("Upgrading socket connection to TLS");let A=r.servername||r.host;return tAe.connect({...rAe(r,"host","path","port"),socket:i,servername:A})}return i}i.destroy();let h=new QV.Socket({writable:!1});return h.readable=!0,e.once("socket",A=>{t3("Replaying proxy buffer for failed request"),(0,BHe.default)(A.listenerCount("data")>0),A.push(d),A.push(null)}),h}};lk.protocols=["http","https"];jl.HttpsProxyAgent=lk;function QHe(t){t.resume()}o(QHe,"resume");function rAe(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}o(rAe,"omit")});var cAe=q(Kl=>{"use strict";u();var PHe=Kl&&Kl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),FHe=Kl&&Kl.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),aAe=Kl&&Kl.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PHe(e,t,r);return FHe(e,t),e},MHe=Kl&&Kl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kl,"__esModule",{value:!0});Kl.HttpProxyAgent=void 0;var LHe=aAe(require("net")),OHe=aAe(require("tls")),UHe=MHe(Ld()),HHe=require("events"),qHe=NV(),sAe=require("url"),eb=(0,UHe.default)("http-proxy-agent"),uk=class extends qHe.Agent{static{o(this,"HttpProxyAgent")}constructor(e,r){super(r),this.proxy=typeof e=="string"?new sAe.URL(e):e,this.proxyHeaders=r?.headers??{},eb("Creating new HttpProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={...r?GHe(r,"headers"):null,host:n,port:i}}addRequest(e,r){e._header=null,this.setRequestProps(e,r),super.addRequest(e,r)}setRequestProps(e,r){let{proxy:n}=this,i=r.secureEndpoint?"https:":"http:",s=e.getHeader("host")||"localhost",a=`${i}//${s}`,c=new sAe.URL(e.path,a);r.port!==80&&(c.port=String(r.port)),e.path=String(c);let l=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(n.username||n.password){let f=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;l["Proxy-Authorization"]=`Basic ${Buffer.from(f).toString("base64")}`}l["Proxy-Connection"]||(l["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let f of Object.keys(l)){let d=l[f];d&&e.setHeader(f,d)}}async connect(e,r){e._header=null,e.path.includes("://")||this.setRequestProps(e,r);let n,i;eb("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(eb("Patching connection write() output buffer with updated header"),n=e.outputData[0].data,i=n.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+n.substring(i),eb("Output buffer: %o",e.outputData[0].data));let s;return this.proxy.protocol==="https:"?(eb("Creating `tls.Socket`: %o",this.connectOpts),s=OHe.connect(this.connectOpts)):(eb("Creating `net.Socket`: %o",this.connectOpts),s=LHe.connect(this.connectOpts)),await(0,HHe.once)(s,"connect"),s}};uk.protocols=["http","https"];Kl.HttpProxyAgent=uk;function GHe(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}o(GHe,"omit")});var QAe=q(_k=>{"use strict";u();Object.defineProperty(_k,"__esModule",{value:!0});_k.state=void 0;_k.state={operationRequestMap:new WeakMap}});function Zqe(){try{return fW.default.statSync("/.dockerenv"),!0}catch{return!1}}function eGe(){try{return fW.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}function dW(){return uW===void 0&&(uW=Zqe()||eGe()),uW}var fW,uW,jAe=Rl(()=>{u();fW=yt(require("node:fs"),1);o(Zqe,"hasDockerEnv");o(eGe,"hasDockerCGroup");o(dW,"isDocker")});function ib(){return hW===void 0&&(hW=tGe()||dW()),hW}var KAe,hW,tGe,AW=Rl(()=>{u();KAe=yt(require("node:fs"),1);jAe();tGe=o(()=>{try{return KAe.default.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv");o(ib,"isInsideContainer")});var pW,XAe,ZAe,JAe,Dg,mW=Rl(()=>{u();pW=yt(require("node:process"),1),XAe=yt(require("node:os"),1),ZAe=yt(require("node:fs"),1);AW();JAe=o(()=>{if(pW.default.platform!=="linux")return!1;if(XAe.default.release().toLowerCase().includes("microsoft"))return!ib();try{return ZAe.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!ib():!1}catch{return!1}},"isWsl"),Dg=pW.default.env.__IS_WSL_TEST__?JAe:JAe()});var gW,a3,rGe,nGe,yW,epe=Rl(()=>{u();gW=yt(require("node:process"),1),a3=yt(require("node:fs/promises"),1);mW();mW();rGe=(()=>{let t="/mnt/",e;return async function(){if(e)return e;let r="/etc/wsl.conf",n=!1;try{await a3.default.access(r,a3.constants.F_OK),n=!0}catch{}if(!n)return t;let i=await a3.default.readFile(r,{encoding:"utf8"}),s=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return s?(e=s.groups.mountPoint.trim(),e=e.endsWith("/")?e:`${e}/`,e):t}})(),nGe=o(async()=>`${await rGe()}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`,"powerShellPathFromWsl"),yW=o(async()=>Dg?nGe():`${gW.default.env.SYSTEMROOT||gW.default.env.windir||String.raw`C:\Windows`}\\System32\\WindowsPowerShell\\v1.0\\powershell.exe`,"powerShellPath")});function Ng(t,e,r){let n=o(i=>Object.defineProperty(t,e,{value:i,enumerable:!0,writable:!0}),"define");return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),t}var tpe=Rl(()=>{u();o(Ng,"defineLazyProperty")});async function CW(){if(npe.default.platform!=="darwin")throw new Error("macOS only");let{stdout:t}=await iGe("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(t)?.groups.id??"com.apple.Safari"}var rpe,npe,ipe,iGe,ope=Rl(()=>{u();rpe=require("node:util"),npe=yt(require("node:process"),1),ipe=require("node:child_process"),iGe=(0,rpe.promisify)(ipe.execFile);o(CW,"defaultBrowserId")});async function cpe(t,{humanReadableOutput:e=!0}={}){if(spe.default.platform!=="darwin")throw new Error("macOS only");let r=e?[]:["-ss"],{stdout:n}=await oGe("osascript",["-e",t,r]);return n.trim()}var spe,ape,EW,oGe,lpe=Rl(()=>{u();spe=yt(require("node:process"),1),ape=require("node:util"),EW=require("node:child_process"),oGe=(0,ape.promisify)(EW.execFile);o(cpe,"runAppleScript")});async function IW(t){return cpe(`tell application "Finder" to set app_path to application file id "${t}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}var upe=Rl(()=>{u();lpe();o(IW,"bundleName")});async function xW(t=sGe){let{stdout:e}=await t("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),r=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(e);if(!r)throw new wk(`Cannot find Windows browser in stdout: ${JSON.stringify(e)}`);let{id:n}=r.groups,i=aGe[n];if(!i)throw new wk(`Unknown browser ID: ${n}`);return i}var fpe,dpe,sGe,aGe,wk,hpe=Rl(()=>{u();fpe=require("node:util"),dpe=require("node:child_process"),sGe=(0,fpe.promisify)(dpe.execFile),aGe={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}},wk=class extends Error{static{o(this,"UnknownBrowserError")}};o(xW,"defaultBrowser")});async function bW(){if(Bk.default.platform==="darwin"){let t=await CW();return{name:await IW(t),id:t}}if(Bk.default.platform==="linux"){let{stdout:t}=await cGe("xdg-mime",["query","default","x-scheme-handler/http"]),e=t.trim();return{name:lGe(e.replace(/.desktop$/,"").replace("-"," ")),id:e}}if(Bk.default.platform==="win32")return xW();throw new Error("Only macOS, Linux, and Windows are supported")}var Ape,Bk,ppe,cGe,lGe,mpe=Rl(()=>{u();Ape=require("node:util"),Bk=yt(require("node:process"),1),ppe=require("node:child_process");ope();upe();hpe();cGe=(0,Ape.promisify)(ppe.execFile),lGe=o(t=>t.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,e=>e.toUpperCase()),"titleize");o(bW,"defaultBrowser")});var bpe={};Eo(bpe,{apps:()=>Qg,default:()=>AGe,openApp:()=>hGe});async function fGe(){let t=await yW(),e=String.raw`(Get-ItemProperty -Path "HKCU:\Software\Microsoft\Windows\Shell\Associations\UrlAssociations\http\UserChoice").ProgId`,r=_W.Buffer.from(e,"utf16le").toString("base64"),{stdout:n}=await uGe(t,["-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand",r],{encoding:"utf8"}),i=n.trim(),s={ChromeHTML:"com.google.chrome",BraveHTML:"com.brave.Browser",MSEdgeHTM:"com.microsoft.edge",FirefoxURL:"org.mozilla.firefox"};return s[i]?{id:s[i]}:{}}function Epe(t){if(typeof t=="string"||Array.isArray(t))return t;let{[ype]:e}=t;if(!e)throw new Error(`${ype} is not supported`);return e}function kk({[ob]:t},{wsl:e}){if(e&&Dg)return Epe(e);if(!t)throw new Error(`${ob} is not supported`);return Epe(t)}var TW,_W,SW,Ipe,xpe,wW,Rk,uGe,vW,gpe,ob,ype,Cpe,c3,dGe,hGe,Qg,AGe,vpe=Rl(()=>{u();TW=yt(require("node:process"),1),_W=require("node:buffer"),SW=yt(require("node:path"),1),Ipe=require("node:url"),xpe=require("node:util"),wW=yt(require("node:child_process"),1),Rk=yt(require("node:fs/promises"),1);epe();tpe();mpe();AW();uGe=(0,xpe.promisify)(wW.default.execFile),vW=SW.default.dirname((0,Ipe.fileURLToPath)(importMetaUrlShim)),gpe=SW.default.join(vW,"xdg-open"),{platform:ob,arch:ype}=TW.default;o(fGe,"getWindowsDefaultBrowserFromWsl");Cpe=o(async(t,e)=>{let r;for(let n of t)try{return await e(n)}catch(i){r=i}throw r},"pTryEach"),c3=o(async t=>{if(t={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...t},Array.isArray(t.app))return Cpe(t.app,c=>c3({...t,app:c}));let{name:e,arguments:r=[]}=t.app??{};if(r=[...r],Array.isArray(e))return Cpe(e,c=>c3({...t,app:{name:c,arguments:r}}));if(e==="browser"||e==="browserPrivate"){let c={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","com.brave.Browser":"brave","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","com.microsoft.edgemac":"edge","microsoft-edge.desktop":"edge"},l={chrome:"--incognito",brave:"--incognito",firefox:"--private-window",edge:"--inPrivate"},f=Dg?await fGe():await bW();if(f.id in c){let d=c[f.id];return e==="browserPrivate"&&r.push(l[d]),c3({...t,app:{name:Qg[d],arguments:r}})}throw new Error(`${f.name} is not supported as a default browser`)}let n,i=[],s={};if(ob==="darwin")n="open",t.wait&&i.push("--wait-apps"),t.background&&i.push("--background"),t.newInstance&&i.push("--new"),e&&i.push("-a",e);else if(ob==="win32"||Dg&&!ib()&&!e){n=await yW(),i.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),Dg||(s.windowsVerbatimArguments=!0);let c=["Start"];t.wait&&c.push("-Wait"),e?(c.push(`"\`"${e}\`""`),t.target&&r.push(t.target)):t.target&&c.push(`"${t.target}"`),r.length>0&&(r=r.map(l=>`"\`"${l}\`""`),c.push("-ArgumentList",r.join(","))),t.target=_W.Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(e)n=e;else{let c=!vW||vW==="/",l=!1;try{await Rk.default.access(gpe,Rk.constants.X_OK),l=!0}catch{}n=TW.default.versions.electron??(ob==="android"||c||!l)?"xdg-open":gpe}r.length>0&&i.push(...r),t.wait||(s.stdio="ignore",s.detached=!0)}ob==="darwin"&&r.length>0&&i.push("--args",...r),t.target&&i.push(t.target);let a=wW.default.spawn(n,i,s);return t.wait?new Promise((c,l)=>{a.once("error",l),a.once("close",f=>{if(!t.allowNonzeroExitCode&&f>0){l(new Error(`Exited with code ${f}`));return}c(a)})}):(a.unref(),a)},"baseOpen"),dGe=o((t,e)=>{if(typeof t!="string")throw new TypeError("Expected a `target`");return c3({...e,target:t})},"open"),hGe=o((t,e)=>{if(typeof t!="string"&&!Array.isArray(t))throw new TypeError("Expected a valid `name`");let{arguments:r=[]}=e??{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return c3({...e,app:{name:t,arguments:r}})},"openApp");o(Epe,"detectArchBinary");o(kk,"detectPlatformBinary");Qg={};Ng(Qg,"chrome",()=>kk({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));Ng(Qg,"brave",()=>kk({darwin:"brave browser",win32:"brave",linux:["brave-browser","brave"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/BraveSoftware/Brave-Browser/Application/brave.exe",x64:["/mnt/c/Program Files/BraveSoftware/Brave-Browser/Application/brave.exe","/mnt/c/Program Files (x86)/BraveSoftware/Brave-Browser/Application/brave.exe"]}}));Ng(Qg,"firefox",()=>kk({darwin:"firefox",win32:String.raw`C:\Program Files\Mozilla Firefox\firefox.exe`,linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));Ng(Qg,"edge",()=>kk({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));Ng(Qg,"browser",()=>"browser");Ng(Qg,"browserPrivate",()=>"browserPrivate");AGe=dGe});var zpe=q(Vd=>{"use strict";u();Object.defineProperty(Vd,"__esModule",{value:!0});Vd.bytePairEncode=Vd.BinaryMap=Vd.binaryMapKey=void 0;var GGe=o((t,e,r)=>{let n=r-e,i=16777215>>>Math.max(0,(3-n)*8),s=(t[e+0]|t[e+1]<<8|t[e+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),c=(t[e+3]|t[e+4]<<8|t[e+5]<<16)&a;return s+16777216*c},"binaryMapKey");Vd.binaryMapKey=GGe;var YW=class t{static{o(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(e,r=0,n=e.length){let i=n<6+r,s=(0,Vd.binaryMapKey)(e,r,n);return i?this.final.get(s):this.nested.get(s)?.get(e,6+r,n)}set(e,r){let n=(0,Vd.binaryMapKey)(e,0,e.length);if(e.length<6){this.final.set(n,r);return}let s=this.nested.get(n);if(s instanceof t)s.set(e.subarray(6),r);else{let a=new t;a.set(e.subarray(6),r),this.nested.set(n,a)}}};Vd.BinaryMap=YW;var Gd=new Int32Array(128),v0=new Int32Array(128);function VGe(t,e,r){if(r===1)return[e.get(t)];let n=2147483647,i=-1;for(;Gd.length<r*2;)v0=new Int32Array(v0.length*2),Gd=new Int32Array(Gd.length*2);for(let l=0;l<r-1;l++){let f=e.get(t,l,l+2)??2147483647;f<n&&(n=f,i=l),v0[l]=l,Gd[l]=f}v0[r-1]=r-1,Gd[r-1]=2147483647,v0[r]=r,Gd[r]=2147483647;let s=r+1;function a(l,f=0){if(l+f+2<s){let d=e.get(t,v0[l],v0[l+f+2]);if(d!==void 0)return d}return 2147483647}for(o(a,"getRank");n!==2147483647;){Gd[v0[i]]=a(i,1),i>0&&(Gd[v0[i-1]]=a(i-1,1));for(let l=i+1;l<s-1;l++)v0[l]=v0[l+1];s--,i=-1,n=2147483647;for(let l=0;l<s-1;l++){let f=Gd[v0[l]];Gd[v0[l]]<n&&(n=f,i=l)}}let c=[];for(let l=0;l<s-1;l++)c.push(e.get(t,v0[l],v0[l+1]));return c}o(VGe,"bytePairEncode");Vd.bytePairEncode=VGe});var jpe=q(Lk=>{"use strict";u();Object.defineProperty(Lk,"__esModule",{value:!0});Lk.makeTextEncoder=void 0;var $W=class{static{o(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(e){let r=this.encoder.encode(e);return this.length=r.length,r}},zW=class{static{o(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(e){for(;;){if(this.length=this.buffer.write(e,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(e)}}},WGe=o(()=>typeof Buffer<"u"?new zW:new $W,"makeTextEncoder");Lk.makeTextEncoder=WGe});var Kpe=q(Ok=>{"use strict";u();Object.defineProperty(Ok,"__esModule",{value:!0});Ok.LRUCache=void 0;var jW=class{static{o(this,"LRUCache")}constructor(e){this.size=e,this.nodes=new Map}get(e){let r=this.nodes.get(e);if(r)return this.moveToHead(r),r.value}set(e,r){let n=this.nodes.get(e);if(n)n.value=r,this.moveToHead(n);else{let i=new KW(e,r);this.nodes.set(e,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(e){this.removeNode(e),e.next=void 0,e.prev=void 0,this.addNode(e)}addNode(e){this.head&&(this.head.prev=e,e.next=this.head),this.tail||(this.tail=e),this.head=e}removeNode(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev}};Ok.LRUCache=jW;var KW=class{static{o(this,"Node")}constructor(e,r){this.key=e,this.value=r}}});var XW=q(Hk=>{"use strict";u();Object.defineProperty(Hk,"__esModule",{value:!0});Hk.TikTokenizer=void 0;var Uk=zpe(),YGe=jpe(),$Ge=Kpe();function zGe(t){let e=new Map;try{let i=require("fs").readFileSync(t,"utf-8");return r(i),e}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let s=i.split(" ");if(s.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(s[0],"base64")),c=parseInt(s[1]);if(!isNaN(c))e.set(a,c);else throw new Error(`Can't parse ${s[1]} to integer`)}}o(r,"processBpeRanks")}o(zGe,"loadTikTokenBpe");function jGe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(jGe,"escapeRegExp");var JW=class{static{o(this,"TikTokenizer")}constructor(e,r,n,i=8192){this.textEncoder=(0,YGe.makeTextEncoder)(),this.textDecoder=new TextDecoder("utf-8"),this.cache=new $Ge.LRUCache(i);let s=typeof e=="string"?zGe(e):e;this.init(s,r,n)}init(e,r,n){this.encoder=new Uk.BinaryMap;for(let[i,s]of e)this.encoder.set(i,s);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>jGe(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,s]of e)this.decoder.set(s,i);if(e.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,s]of r)this.specialTokensDecoder.set(s,i)}findNextSpecialToken(e,r,n){let i=r,s=null;if(n&&this.specialTokensRegex)for(;s=e.slice(i).match(this.specialTokensRegex),!(!s||n&&n.includes(s[0]));)i+=s.index+1;let a=s?i+s.index:e.length;return[s,a]}encode(e,r){let n=[],i=0;for(;;){let s,a;if([s,a]=this.findNextSpecialToken(e,i,r),a>i&&this.encodeByIndex(e,n,i,a),s){if(i=i+this.encodeSpecialToken(n,s),i>=e.length)break}else break}return n}encodeSpecialToken(e,r){let n=this.specialTokensEncoder?.get(r[0]);return e.push(n),r.index+r[0].length}encodeByIndex(e,r,n,i){let s,a=e.substring(n,i);for(this.regex.lastIndex=0;s=this.regex.exec(a);){let c=this.cache.get(s[0]);if(c)for(let l of c)r.push(l);else{let l=this.textEncoder.encode(s[0]),f=this.encoder.get(l,0,this.textEncoder.length);if(f!==void 0)r.push(f),this.cache.set(s[0],[f]);else{let d=(0,Uk.bytePairEncode)(l,this.encoder,this.textEncoder.length);for(let h of d)r.push(h);this.cache.set(s[0],d)}}}}encodeTrimSuffixByIndex(e,r,n,i,s,a,c){let l,f=e.substring(n,i);for(this.regex.lastIndex=0;l=this.regex.exec(f);){let d=l[0],h=this.cache.get(d);if(h)if(a+h.length<=s)a+=h.length,c+=d.length,r.push(...h);else{let A=s-a;a+=A,c+=d.length,r.push(...h.slice(0,A));break}else{let A=this.textEncoder.encode(d),m=this.encoder.get(A,0,A.length);if(m!==void 0)if(this.cache.set(d,[m]),a+1<=s)a++,c+=d.length,r.push(m);else break;else{let y=(0,Uk.bytePairEncode)(A,this.encoder,this.textEncoder.length);if(this.cache.set(d,y),a+y.length<=s){a+=y.length,c+=d.length;for(let x of y)r.push(x)}else{let x=s-a;a+=x,c+=d.length;for(let _=0;_<x;_++)r.push(y[_]);break}}}if(a>=s)break}return{tokenCount:a,encodeLength:c}}encodeTrimSuffix(e,r,n){let i=[],s=0,a=0,c=0;for(;;){let f,d;if([f,d]=this.findNextSpecialToken(e,s,n),d>s){let{tokenCount:h,encodeLength:A}=this.encodeTrimSuffixByIndex(e,i,s,d,r,a,c);if(a=h,c=A,a>=r)break}if(f!==null){if(a++,a<=r&&(s=s+this.encodeSpecialToken(i,f),c+=f[0].length,s>=e.length)||a>=r)break}else break}let l=c===e.length?e:e.slice(0,c);return{tokenIds:i,text:l}}encodeTrimPrefix(e,r,n){let i=[],s=0,a=0,c=0,l=new Map;for(l.set(a,c);;){let A,m;if([A,m]=this.findNextSpecialToken(e,s,n),m>s){let y,x=e.substring(s,m);for(this.regex.lastIndex=0;y=this.regex.exec(x);){let _=y[0],T=this.cache.get(_);if(T)a+=T.length,c+=_.length,i.push(...T),l.set(a,c);else{let S=this.textEncoder.encode(_),k=this.encoder.get(S);if(k!==void 0)this.cache.set(_,[k]),a++,c+=_.length,i.push(k),l.set(a,c);else{let N=(0,Uk.bytePairEncode)(S,this.encoder,this.textEncoder.length);this.cache.set(_,N),a+=N.length,c+=_.length;for(let P of N)i.push(P);l.set(a,c)}}}}if(A!==null){if(s=s+this.encodeSpecialToken(i,A),a++,c+=A[0].length,l.set(a,c),s>=e.length)break}else break}if(a<=r)return{tokenIds:i,text:e};let f=a-r,d=0,h=0;for(let[A,m]of l)if(A>=f){d=A,h=m;break}if(d>r){let A=this.encode(e,n),m=A.slice(A.length-r);return{tokenIds:m,text:this.decode(m)}}return{tokenIds:i.slice(d),text:e.slice(h)}}decode(e){let r=[];for(let n of e){let i=[],s=this.decoder?.get(n);if(s!==void 0)i=Array.from(s);else{let a=this.specialTokensDecoder?.get(n);if(a!==void 0){let c=this.textEncoder.encode(a);i=Array.from(c.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};Hk.TikTokenizer=JW});var sme=q(xs=>{"use strict";u();Object.defineProperty(xs,"__esModule",{value:!0});xs.createTokenizer=xs.createByEncoderName=xs.createByModelName=xs.getRegexByModel=xs.getRegexByEncoder=xs.getSpecialTokensByModel=xs.getSpecialTokensByEncoder=xs.MODEL_TO_ENCODING=void 0;var KGe=XW(),JGe=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);xs.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var qk="<|endoftext|>",Jpe="<|fim_prefix|>",Xpe="<|fim_middle|>",Zpe="<|fim_suffix|>",eme="<|endofprompt|>",I3="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",tme="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",XGe=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],rme=XGe.join("|");function ZW(t){let e="";if(xs.MODEL_TO_ENCODING.has(t))e=xs.MODEL_TO_ENCODING.get(t);else for(let[r,n]of JGe)if(t.startsWith(r)){e=n;break}return e}o(ZW,"getEncoderFromModelName");async function ZGe(t,e){let r=require("fs"),n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch file from ${t}. Status code: ${n.status}`);let i=await n.text();r.writeFileSync(e,i)}o(ZGe,"fetchAndSaveFile");function eY(t){let e=new Map([[qk,50256]]);switch(t){case"o200k_base":e=new Map([[qk,199999],[eme,200018]]);break;case"cl100k_base":e=new Map([[qk,100257],[Jpe,100258],[Xpe,100259],[Zpe,100260],[eme,100276]]);break;case"p50k_edit":e=new Map([[qk,50256],[Jpe,50281],[Xpe,50282],[Zpe,50283]]);break;default:break}return e}o(eY,"getSpecialTokensByEncoder");xs.getSpecialTokensByEncoder=eY;function eVe(t){let e=ZW(t);return eY(e)}o(eVe,"getSpecialTokensByModel");xs.getSpecialTokensByModel=eVe;function nme(t){switch(t){case"o200k_base":return rme;case"cl100k_base":return tme;default:break}return I3}o(nme,"getRegexByEncoder");xs.getRegexByEncoder=nme;function tVe(t){let e=ZW(t);return nme(e)}o(tVe,"getRegexByModel");xs.getRegexByModel=tVe;async function rVe(t,e=null){return ime(ZW(t),e)}o(rVe,"createByModelName");xs.createByModelName=rVe;async function ime(t,e=null){let r,n,i=eY(t);switch(t){case"o200k_base":r=rme,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=tme,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=I3,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=I3,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=I3,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=I3,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${t}]`)}e!==null&&(i=new Map([...i,...e]));let s=require("fs"),a=require("path"),c=a.basename(n),l=a.resolve(__dirname,"..","model");s.existsSync(l)||s.mkdirSync(l,{recursive:!0});let f=a.resolve(l,c);return s.existsSync(f)||(console.log(`Downloading file from ${n}`),await ZGe(n,f),console.log(`Saved file to ${f}`)),ome(f,i,r)}o(ime,"createByEncoderName");xs.createByEncoderName=ime;function ome(t,e,r,n=8192){return new KGe.TikTokenizer(t,e,r,n)}o(ome,"createTokenizer");xs.createTokenizer=ome});var ame=q(bs=>{"use strict";u();Object.defineProperty(bs,"__esModule",{value:!0});bs.createTokenizer=bs.createByEncoderName=bs.createByModelName=bs.getSpecialTokensByModel=bs.getSpecialTokensByEncoder=bs.getRegexByModel=bs.getRegexByEncoder=bs.MODEL_TO_ENCODING=bs.TikTokenizer=void 0;var nVe=XW();Object.defineProperty(bs,"TikTokenizer",{enumerable:!0,get:o(function(){return nVe.TikTokenizer},"get")});var Fg=sme();Object.defineProperty(bs,"MODEL_TO_ENCODING",{enumerable:!0,get:o(function(){return Fg.MODEL_TO_ENCODING},"get")});Object.defineProperty(bs,"getRegexByEncoder",{enumerable:!0,get:o(function(){return Fg.getRegexByEncoder},"get")});Object.defineProperty(bs,"getRegexByModel",{enumerable:!0,get:o(function(){return Fg.getRegexByModel},"get")});Object.defineProperty(bs,"getSpecialTokensByEncoder",{enumerable:!0,get:o(function(){return Fg.getSpecialTokensByEncoder},"get")});Object.defineProperty(bs,"getSpecialTokensByModel",{enumerable:!0,get:o(function(){return Fg.getSpecialTokensByModel},"get")});Object.defineProperty(bs,"createByModelName",{enumerable:!0,get:o(function(){return Fg.createByModelName},"get")});Object.defineProperty(bs,"createByEncoderName",{enumerable:!0,get:o(function(){return Fg.createByEncoderName},"get")});Object.defineProperty(bs,"createTokenizer",{enumerable:!0,get:o(function(){return Fg.createTokenizer},"get")})});var mY=q((lIr,Nme)=>{"use strict";u();Nme.exports=o(function(e,r){r===!0&&(r=0);var n="";if(typeof e=="string")try{n=new URL(e).protocol}catch{}else e&&e.constructor===URL&&(n=e.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var Pme=q((dIr,Qme)=>{"use strict";u();var Kze=mY();function Jze(t){var e={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:t,query:{},parse_failed:!1};try{var r=new URL(t);e.protocols=Kze(r),e.protocol=e.protocols[0],e.port=r.port,e.resource=r.hostname,e.host=r.host,e.user=r.username||"",e.password=r.password||"",e.pathname=r.pathname,e.hash=r.hash.slice(1),e.search=r.search.slice(1),e.href=r.href,e.query=Object.fromEntries(r.searchParams)}catch{e.protocols=["file"],e.protocol=e.protocols[0],e.port="",e.resource="",e.user="",e.pathname="",e.hash="",e.search="",e.href=t,e.query={},e.parse_failed=!0}return e}o(Jze,"parsePath");Qme.exports=Jze});var Hme=q((pIr,Ume)=>{"use strict";u();var Xze=Pme();function Zze(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}o(Zze,"_interopDefaultLegacy");var eje=Zze(Xze);function tje(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=o(function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)},"a");r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:o(function(){return t[n]},"get")})}),r}o(tje,"getAugmentedNamespace");var Mme={},rje="text/plain",nje="us-ascii",Fme=o((t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),"testParameter"),ije=o((t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:n,data:i,hash:s}=r.groups,a=n.split(";");s=e?"":s;let c=!1;a[a.length-1]==="base64"&&(a.pop(),c=!0);let l=(a.shift()||"").toLowerCase(),d=[...a.map(h=>{let[A,m=""]=h.split("=").map(y=>y.trim());return A==="charset"&&(m=m.toLowerCase(),m===nje)?"":`${A}${m?`=${m}`:""}`}).filter(Boolean)];return c&&d.push("base64"),(d.length>0||l&&l!==rje)&&d.unshift(l),`data:${d.join(";")},${c?i.trim():i}${s?`#${s}`:""}`},"normalizeDataURL");function oje(t,e){if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},t=t.trim(),/^data:/i.test(t))return ije(t,e);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let i=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),e.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),e.stripAuthentication&&(i.username="",i.password=""),e.stripHash?i.hash="":e.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,c=0,l="";for(;;){let d=a.exec(i.pathname);if(!d)break;let h=d[0],A=d.index,m=i.pathname.slice(c,A);l+=m.replace(/\/{2,}/g,"/"),l+=h,c=A+h.length}let f=i.pathname.slice(c,i.pathname.length);l+=f.replace(/\/{2,}/g,"/"),i.pathname=l}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),c=a[a.length-1];Fme(c,e.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let a of[...i.searchParams.keys()])Fme(a,e.removeQueryParameters)&&i.searchParams.delete(a);if(e.removeQueryParameters===!0&&(i.search=""),e.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}e.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let s=t;return t=i.toString(),!e.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t}o(oje,"normalizeUrl");var sje=Object.freeze({__proto__:null,default:oje}),aje=tje(sje);Object.defineProperty(Mme,"__esModule",{value:!0});var cje=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lje=aje,uje=Lme(lje),fje=eje.default,dje=Lme(fje);function Lme(t){return t&&t.__esModule?t:{default:t}}o(Lme,"_interopRequireDefault");var Ome=o(function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,i=o(function(l){var f=new Error(l);throw f.subject_url=e,f},"throwErr");(typeof e!="string"||!e.trim())&&i("Invalid url."),e.length>t.MAX_INPUT_LENGTH&&i("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":cje(r))!=="object"&&(r={stripHash:!1}),e=(0,uje.default)(e,r));var s=(0,dje.default)(e);if(s.parse_failed){var a=s.href.match(n);a?(s.protocols=["ssh"],s.protocol="ssh",s.resource=a[2],s.host=a[2],s.user=a[1],s.pathname="/"+a[3],s.parse_failed=!1):i("URL parsing failed.")}return s},"parseUrl");Ome.MAX_INPUT_LENGTH=2048;var hje=Mme.default=Ome;Ume.exports=hje});var Vme=q((yIr,Gme)=>{"use strict";u();var Aje=mY();function qme(t){if(Array.isArray(t))return t.indexOf("ssh")!==-1||t.indexOf("rsync")!==-1;if(typeof t!="string")return!1;var e=Aje(t);if(t=t.substring(t.indexOf("://")+3),qme(e))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!t.match(r)&&t.indexOf("@")<t.indexOf(":")}o(qme,"isSsh");Gme.exports=qme});var $me=q((IIr,Yme)=>{"use strict";u();var pje=Hme(),Wme=Vme();function mje(t){let e=pje(t);return e.token="",e.password==="x-oauth-basic"?e.token=e.user:e.user==="x-token-auth"&&(e.token=e.password),Wme(e.protocols)||e.protocols.length===0&&Wme(t)?e.protocol="ssh":e.protocols.length?e.protocol=e.protocols[0]:(e.protocol="file",e.protocols=["file"]),e.href=e.href.replace(/\/$/,""),e}o(mje,"gitUp");Yme.exports=mje});var jme=q((vIr,zme)=>{"use strict";u();var gje=$me();function gY(t,e){if(e=e||[],typeof t!="string")throw new Error("The url must be a string.");if(!e.every(function(S){return typeof S=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(t)&&(t="https://github.com/"+t);var n=gje(t),i=n.resource.split("."),s=null;switch(n.toString=function(S){return gY.stringify(this,S)},n.source=i.length>2?i.slice(1-i.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=i[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3],n.full_name=s[2]+"/"+s[3]);break}else{s=n.name.split("/"),s.length===2?(n.owner=s[1],n.name=s[1],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3]);break}else{s=n.name.split("/"),s.length===5?(n.organization=s[0],n.owner=s[1],n.name=s[4],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:s=n.name.split("/");var a=s.length-1;if(s.length>=2){var c=s.indexOf("-",2),l=s.indexOf("blob",2),f=s.indexOf("tree",2),d=s.indexOf("commit",2),h=s.indexOf("issues",2),A=s.indexOf("src",2),m=s.indexOf("raw",2),y=s.indexOf("edit",2);a=c>0?c-1:l>0&&f>0?Math.min(l-1,f-1):l>0?l-1:h>0?h-1:f>0?f-1:d>0?d-1:A>0?A-1:m>0?m-1:y>0?y-1:a,n.owner=s.slice(0,a).join("/"),n.name=s[a],d&&h<0&&(n.commit=s[a+2])}n.ref="",n.filepathtype="",n.filepath="";var x=s.length>a&&s[a+1]==="-"?a+1:a;s.length>x+2&&["raw","src","blob","tree","edit"].indexOf(s[x+1])>=0&&(n.filepathtype=s[x+1],n.ref=s[x+2],s.length>x+3&&(n.filepath=s.slice(x+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var _=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,T=_.exec(n.pathname);return T!=null&&(n.source="bitbucket-server",T[1]==="users"?n.owner="~"+T[2]:n.owner=T[2],n.organization=n.owner,n.name=T[3],s=T[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(n.filepathtype=s[1],s.length>2&&(n.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(n.commit=s[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),e.length!==0&&n.ref&&(n.ref=Eje(n.href,e)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}o(gY,"gitUrlParse");gY.stringify=function(t,e){e=e||(t.protocols&&t.protocols.length?t.protocols.join("+"):t.protocol);var r=t.port?":"+t.port:"",n=t.user||"git",i=t.git_suffix?".git":"";switch(e){case"ssh":return r?"ssh://"+n+"@"+t.resource+r+"/"+t.full_name+i:n+"@"+t.resource+":"+t.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return e+"://"+n+"@"+t.resource+r+"/"+t.full_name+i;case"http":case"https":var s=t.token?yje(t):t.user&&(t.protocols.includes("http")||t.protocols.includes("https"))?t.user+"@":"";return e+"://"+s+t.resource+r+"/"+Cje(t)+i;default:return t.href}};function yje(t){switch(t.source){case"bitbucket.org":return"x-token-auth:"+t.token+"@";default:return t.token+"@"}}o(yje,"buildToken");function Cje(t){switch(t.source){case"bitbucket-server":return"scm/"+t.full_name;default:var e=t.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return e}}o(Cje,"buildPath");function Eje(t,e){var r="";return e.forEach(function(n){t.includes(n)&&n.length>r.length&&(r=n)}),r}o(Eje,"findLongestMatchingSubstring");zme.exports=gY});var tge=q((exports,module)=>{u();var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{o(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=o((t,e)=>{throw e},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(t){return Module.locateFile?Module.locateFile(t,scriptDirectory):scriptDirectory+t}o(locateFile,"locateFile");function logExceptionOnExit(t){t instanceof ExitStatus||err("exiting due to exception: "+t)}if(o(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=o((t,e)=>(t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFileSync(t,e?void 0:"utf8")),"read_"),readBinary=o(t=>{var e=read_(t,!0);return e.buffer||(e=new Uint8Array(e)),e},"readBinary"),readAsync=o((t,e,r)=>{t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFile(t,function(n,i){n?r(n):e(i.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=o((t,e)=>{if(keepRuntimeAlive())throw process.exitCode=t,e;logExceptionOnExit(e),process.exit(t)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=o(t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=o(t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)},"readBinary")),readAsync=o((t,e,r)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?e(n.response):r()},n.onerror=r,n.send(null)},"readAsync"),setWindowTitle=o(t=>document.title=t,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(t,e,r){for(var n=e+r,i=e;t[i]&&!(i>=n);)++i;if(i-e>16&&t.buffer&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(e,i));for(var s="";e<i;){var a=t[e++];if(128&a){var c=63&t[e++];if((224&a)!=192){var l=63&t[e++];if((a=(240&a)==224?(15&a)<<12|c<<6|l:(7&a)<<18|c<<12|l<<6|63&t[e++])<65536)s+=String.fromCharCode(a);else{var f=a-65536;s+=String.fromCharCode(55296|f>>10,56320|1023&f)}}else s+=String.fromCharCode((31&a)<<6|c)}else s+=String.fromCharCode(a)}return s}o(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(t,e){return t?UTF8ArrayToString(HEAPU8,t,e):""}o(UTF8ToString,"UTF8ToString");function stringToUTF8Array(t,e,r,n){if(!(n>0))return 0;for(var i=r,s=r+n-1,a=0;a<t.length;++a){var c=t.charCodeAt(a);if(c>=55296&&c<=57343&&(c=65536+((1023&c)<<10)|1023&t.charCodeAt(++a)),c<=127){if(r>=s)break;e[r++]=c}else if(c<=2047){if(r+1>=s)break;e[r++]=192|c>>6,e[r++]=128|63&c}else if(c<=65535){if(r+2>=s)break;e[r++]=224|c>>12,e[r++]=128|c>>6&63,e[r++]=128|63&c}else{if(r+3>=s)break;e[r++]=240|c>>18,e[r++]=128|c>>12&63,e[r++]=128|c>>6&63,e[r++]=128|63&c}}return e[r]=0,r-i}o(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(t,e,r){return stringToUTF8Array(t,HEAPU8,e,r)}o(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(t){for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e}o(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(t){buffer=t,Module.HEAP8=HEAP8=new Int8Array(t),Module.HEAP16=HEAP16=new Int16Array(t),Module.HEAP32=HEAP32=new Int32Array(t),Module.HEAPU8=HEAPU8=new Uint8Array(t),Module.HEAPU16=HEAPU16=new Uint16Array(t),Module.HEAPU32=HEAPU32=new Uint32Array(t),Module.HEAPF32=HEAPF32=new Float32Array(t),Module.HEAPF64=HEAPF64=new Float64Array(t)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun");function addOnPreRun(t){__ATPRERUN__.unshift(t)}o(addOnPreRun,"addOnPreRun");function addOnInit(t){__ATINIT__.unshift(t)}o(addOnInit,"addOnInit");function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}o(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(t){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency");function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}o(removeRunDependency,"removeRunDependency");function abort(t){throw Module.onAbort&&Module.onAbort(t),err(t="Aborted("+t+")"),ABORT=!0,EXITSTATUS=1,t+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(t)}o(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(t){return t.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI");function isFileURI(t){return t.startsWith("file://")}o(isFileURI,"isFileURI");function getBinary(t){try{if(t==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(t);throw"both async and sync fetching of the wasm failed"}catch(e){abort(e)}}o(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return t.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(t,e){readAsync(wasmBinaryFile,function(r){t(new Uint8Array(r))},e)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise");function createWasm(){var t={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function e(i,s){var a=i.exports;a=relocateExports(a,1024);var c=getDylinkMetadata(s);c.neededDynlibs&&(dynamicLibraries=c.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(e,"t");function r(i){e(i.instance,i.module)}o(r,"r");function n(i){return getBinaryPromise().then(function(s){return WebAssembly.instantiate(s,t)}).then(function(s){return s}).then(i,function(s){err("failed to asynchronously prepare wasm: "+s),abort(s)})}if(o(n,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(t,e)}catch(i){return err("Module.instantiateWasm callback failed with error: "+i),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,t).then(r,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}o(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}o(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:o(function(t,e){var r=GOT[e];return r||(r=GOT[e]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(e)||(r.required=!0),r},"get")};function callRuntimeCallbacks(t){for(;t.length>0;)t.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(t){var e=0,r=0;function n(){for(var T=0,S=1;;){var k=t[e++];if(T+=(127&k)*S,S*=128,!(128&k))break}return T}o(n,"_");function i(){var T=n();return UTF8ArrayToString(t,(e+=T)-T,T)}o(i,"n");function s(T,S){if(T)throw new Error(S)}o(s,"s");var a="dylink.0";if(t instanceof WebAssembly.Module){var c=WebAssembly.Module.customSections(t,a);c.length===0&&(a="dylink",c=WebAssembly.Module.customSections(t,a)),s(c.length===0,"need dylink section"),r=(t=new Uint8Array(c[0])).length}else{s(new Uint32Array(new Uint8Array(t.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),s(t[8]!==0,"need the dylink section to be first"),e=9;var l=n();r=e+l,a=i()}var f={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){f.memorySize=n(),f.memoryAlign=n(),f.tableSize=n(),f.tableAlign=n();for(var d=n(),h=0;h<d;++h){var A=i();f.neededDynlibs.push(A)}}else for(s(a!=="dylink.0");e<r;){var m=t[e++],y=n();if(m===1)f.memorySize=n(),f.memoryAlign=n(),f.tableSize=n(),f.tableAlign=n();else if(m===2)for(d=n(),h=0;h<d;++h)A=i(),f.neededDynlibs.push(A);else if(m===3)for(var x=n();x--;){var _=i();256&n()&&f.tlsExports.add(_)}else if(m===4)for(x=n();x--;)i(),_=i(),(3&n())==1&&f.weakImports.add(_);else e+=y}return f}o(getDylinkMetadata,"getDylinkMetadata");function getValue(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":case"i8":return HEAP8[t>>0];case"i16":return HEAP16[t>>1];case"i32":case"i64":return HEAP32[t>>2];case"float":return HEAPF32[t>>2];case"double":return HEAPF64[t>>3];case"*":return HEAPU32[t>>2];default:abort("invalid type for getValue: "+e)}return null}o(getValue,"getValue");function asmjsMangle(t){return t.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(t)?t:"_"+t}o(asmjsMangle,"asmjsMangle");function mergeLibSymbols(t,e){for(var r in t)if(t.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=t[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=t[r]),r=="__main_argc_argv"&&(Module._main=t[r])}}o(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(t,e,r){var n=Module["dynCall_"+t];return r&&r.length?n.apply(null,[e].concat(r)):n.call(null,e)}o(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(t){var e=wasmTableMirror[t];return e||(t>=wasmTableMirror.length&&(wasmTableMirror.length=t+1),wasmTableMirror[t]=e=wasmTable.get(t)),e}o(getWasmTableEntry,"getWasmTableEntry");function dynCall(t,e,r){return t.includes("j")?dynCallLegacy(t,e,r):getWasmTableEntry(e).apply(null,r)}o(dynCall,"dynCall");function createInvokeFunction(t){return function(){var e=stackSave();try{return dynCall(t,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(e),r!==r+0)throw r;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(t,e){return HEAPU8.fill(0,t,t+e),t}o(zeroMemory,"zeroMemory");function getMemory(t){if(runtimeInitialized)return zeroMemory(_malloc(t),t);var e=___heap_base,r=e+t+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,e}o(getMemory,"getMemory");function isInternalSym(t){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(t)}o(isInternalSym,"isInternalSym");function uleb128Encode(t,e){t<128?e.push(t):e.push(t%128|128,t>>7)}o(uleb128Encode,"uleb128Encode");function sigToWasmTypes(t){for(var e={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:t[0]=="v"?[]:[e[t[0]]]},n=1;n<t.length;++n)r.parameters.push(e[t[n]]),t[n]==="j"&&r.parameters.push("i32");return r}o(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(t,e){var r=t.slice(0,1),n=t.slice(1),i={i:127,p:127,j:126,f:125,d:124};e.push(96),uleb128Encode(n.length,e);for(var s=0;s<n.length;++s)e.push(i[n[s]]);r=="v"?e.push(0):e.push(1,i[r])}o(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(t,e){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(e),t);var r=[1];generateFuncType(e,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:t}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(t,e){if(functionsInTableMap)for(var r=t;r<t+e;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}o(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(t){throw t instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":t}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(t,e){wasmTable.set(t,e),wasmTableMirror[t]=wasmTable.get(t)}o(setWasmTableEntry,"setWasmTableEntry");function addFunction(t,e){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(t))return functionsInTableMap.get(t);var r=getEmptyTableSlot();try{setWasmTableEntry(r,t)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(t,e))}return functionsInTableMap.set(t,r),r}o(addFunction,"addFunction");function updateGOT(t,e){for(var r in t)if(!isInternalSym(r)){var n=t[r];r.startsWith("orig$")&&(r=r.split("$")[1],e=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(e||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}o(updateGOT,"updateGOT");function relocateExports(t,e,r){var n={};for(var i in t){var s=t[i];typeof s=="object"&&(s=s.value),typeof s=="number"&&(s+=e),n[i]=s}return updateGOT(n,r),n}o(relocateExports,"relocateExports");function resolveGlobalSymbol(t,e){var r;return e&&(r=asmLibraryArg["orig$"+t]),r||(r=asmLibraryArg[t])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(t)]),!r&&t.startsWith("invoke_")&&(r=createInvokeFunction(t.split("_")[1])),r}o(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(t,e){return Math.ceil(t/e)*e}o(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(t){var e=resolveGlobalSymbol(t,!1);return e||(e=moduleExports[t]),e}o(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:o(function(t,e){switch(e){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(e in asmLibraryArg)return asmLibraryArg[e];var r;return e in t||(t[e]=function(){return r||(r=resolveSymbol(e)),r.apply(null,arguments)}),t[e]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(t){return postInstantiation(t.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(t,e){return t.then(function(){return loadDynamicLibrary(e,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(t){loadDynamicLibrary(t,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(t,e,r){e=e||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[t];if(n)return e.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,t)),e.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!e.loadAsync||Promise.resolve(!0);function i(c){if(e.fs&&e.fs.findObject(c)){var l=e.fs.readFile(c,{encoding:"binary"});return l instanceof Uint8Array||(l=new Uint8Array(l)),e.loadAsync?Promise.resolve(l):l}if(c=locateFile(c),e.loadAsync)return new Promise(function(f,d){readAsync(c,h=>f(new Uint8Array(h)),d)});if(!readBinary)throw new Error(c+": file not found, and synchronous loading of external files is not available");return readBinary(c)}o(i,"n");function s(){if(typeof preloadedWasm<"u"&&preloadedWasm[t]){var c=preloadedWasm[t];return e.loadAsync?Promise.resolve(c):c}return e.loadAsync?i(t).then(function(l){return loadWebAssemblyModule(l,e,r)}):loadWebAssemblyModule(i(t),e,r)}o(s,"s");function a(c){n.global&&mergeLibSymbols(c,t),n.module=c}return o(a,"a"),n={refcount:e.nodelete?1/0:1,name:t,module:"loading",global:e.global},LDSO.loadedLibsByName[t]=n,r&&(LDSO.loadedLibsByHandle[r]=n),e.loadAsync?s().then(function(c){return a(c),!0}):(a(s()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var t in GOT)if(GOT[t].value==0){var e=resolveGlobalSymbol(t,!0);if(!e&&!GOT[t].required)continue;if(typeof e=="function")GOT[t].value=addFunction(e,e.sig);else{if(typeof e!="number")throw new Error("bad export type for `"+t+"`: "+typeof e);GOT[t].value=e}}}o(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(t,e){return t.then(function(){return loadDynamicLibrary(e,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs");function setValue(t,e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[t>>0]=e;break;case"i16":HEAP16[t>>1]=e;break;case"i32":HEAP32[t>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[t>>2]=tempI64[0],HEAP32[t+4>>2]=tempI64[1];break;case"float":HEAPF32[t>>2]=e;break;case"double":HEAPF64[t>>3]=e;break;case"*":HEAPU32[t>>2]=e;break;default:abort("invalid type for setValue: "+r)}}o(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(t,e,r){HEAPU8.copyWithin(t,e,e+r)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(t){try{return wasmMemory.grow(t-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(t){var e=HEAPU8.length;t>>>=0;var r=getHeapMax();if(t>r)return!1;for(var n=1;n<=4;n*=2){var i=e*(1+.2/n);if(i=Math.min(i,t+100663296),emscripten_realloc_buffer(Math.min(r,(s=Math.max(t,i))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:o(function(t,e,r){if(PATH.isAbs(e))return e;var n;if(t===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(t).path,e.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,e)},"calculateAt"),doStat:o(function(t,e,r){try{var n=t(e)}catch(c){if(c&&c.node&&PATH.normalize(e)!==PATH.normalize(FS.getPath(c.node)))return-54;throw c}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var i=n.atime.getTime(),s=n.mtime.getTime(),a=n.ctime.getTime();return tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=i%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},"doStat"),doMsync:o(function(t,e,r,n,i){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var s=HEAPU8.slice(t,t+r);FS.msync(e,s,i,r,n)},"doMsync"),varargs:void 0,get:o(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:o(function(t){return UTF8ToString(t)},"getStr"),getStreamFromFD:o(function(t){var e=FS.getStream(t);if(!e)throw new FS.ErrnoError(8);return e},"getStreamFromFD")};function _proc_exit(t){EXITSTATUS=t,keepRuntimeAlive()||(Module.onExit&&Module.onExit(t),ABORT=!0),quit_(t,new ExitStatus(t))}o(_proc_exit,"_proc_exit");function exitJS(t,e){EXITSTATUS=t,_proc_exit(t)}o(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(t){try{var e=SYSCALLS.getStreamFromFD(t);return FS.close(e),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}o(_fd_close,"_fd_close");function convertI32PairToI53Checked(t,e){return e+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*e:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(t,e,r,n,i){try{var s=convertI32PairToI53Checked(e,r);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(t);return FS.llseek(a,s,n),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1],a.getdents&&s===0&&n===0&&(a.getdents=null),0}catch(c){if(typeof FS>"u"||!(c instanceof FS.ErrnoError))throw c;return c.errno}}o(_fd_seek,"_fd_seek");function doWritev(t,e,r,n){for(var i=0,s=0;s<r;s++){var a=HEAPU32[e>>2],c=HEAPU32[e+4>>2];e+=8;var l=FS.write(t,HEAP8,a,c,n);if(l<0)return-1;i+=l,n!==void 0&&(n+=l)}return i}o(doWritev,"doWritev");function _fd_write(t,e,r,n){try{var i=doWritev(SYSCALLS.getStreamFromFD(t),e,r);return HEAPU32[n>>2]=i,0}catch(s){if(typeof FS>"u"||!(s instanceof FS.ErrnoError))throw s;return s.errno}}o(_fd_write,"_fd_write");function _tree_sitter_log_callback(t,e){if(currentLogCallback){let r=UTF8ToString(e);currentLogCallback(r,t!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(t,e,r,n,i){var s=currentParseCallback(e,{row:r,column:n});typeof s=="string"?(setValue(i,s.length,"i32"),stringToUTF16(s,t,10240)):setValue(i,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(t){if(t instanceof ExitStatus||t=="unwind")return EXITSTATUS;quit_(1,t)}o(handleException,"handleException");function allocateUTF8OnStack(t){var e=lengthBytesUTF8(t)+1,r=stackAlloc(e);return stringToUTF8Array(t,HEAP8,r,e),r}o(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(t,e,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=e,i=(r-=2)<2*t.length?r/2:t.length,s=0;s<i;++s){var a=t.charCodeAt(s);HEAP16[e>>1]=a,e+=2}return HEAP16[e>>1]=0,e-n}o(stringToUTF16,"stringToUTF16");function AsciiToString(t){for(var e="";;){var r=HEAPU8[t++>>0];if(!r)return e;e+=String.fromCharCode(r)}}o(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(t){var e=Module._main;if(e){(t=t||[]).unshift(thisProgram);var r=t.length,n=stackAlloc(4*(r+1)),i=n>>2;t.forEach(a=>{HEAP32[i++]=allocateUTF8OnStack(a)}),HEAP32[i]=0;try{var s=e(r,n);return exitJS(s,!0),s}catch(a){return handleException(a)}}}o(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=o(function t(){calledRun||run(),calledRun||(dependenciesFulfilled=t)},"e");var dylibsLoaded=!1;function run(t){function e(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(t),postRun()))}o(e,"t"),t=t||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()))}if(o(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{o(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let r;if(e){if(e.constructor!==Language)throw new Error("Argument must be a Language");{r=e[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,e=null;return this.language=e,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(e,r,n){if(typeof e=="string")currentParseCallback=o((l,f,d)=>e.slice(l,d),"currentParseCallback");else{if(typeof e!="function")throw new Error("Argument must be a string or a function");currentParseCallback=e}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let i=0,s=0;if(n&&n.includedRanges){i=n.includedRanges.length,s=C._calloc(i,SIZE_OF_RANGE);let l=s;for(let f=0;f<i;f++)marshalRange(l,n.includedRanges[f]),l+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,s,i);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let c=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,c}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(e){C._ts_parser_set_timeout_micros(this[0],e)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if(typeof e!="function")throw new Error("Logger callback must be a function")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{static{o(this,"Tree")}constructor(e,r,n,i){assertInternal(e),this[0]=r,this.language=n,this.textCallback=i}copy(){let e=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,e,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(e){marshalEdit(e),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],e[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),i=new Array(r);if(r>0){let s=n;for(let a=0;a<r;a++)i[a]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(n)}return i}}class Node{static{o(this,"Node")}constructor(e,r){assertInternal(e),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(e){return this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){let r=this.tree.language.fields.indexOf(e);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(e),e>0){let n=r;for(let i=0;i<e;i++)this._children[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(e),e>0){let n=r;for(let i=0;i<e;i++)this._namedChildren[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(e,r,n){Array.isArray(e)||(e=[e]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let i=[],s=this.tree.language.types;for(let d=0,h=s.length;d<h;d++)e.includes(s[d])&&i.push(d);let a=C._malloc(SIZE_OF_INT*i.length);for(let d=0,h=i.length;d<h;d++)setValue(a+d*SIZE_OF_INT,i[d],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,i.length,r.row,r.column,n.row,n.column);let c=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),f=new Array(c);if(c>0){let d=l;for(let h=0;h<c;h++)f[h]=unmarshalNode(this.tree,d),d+=SIZE_OF_NODE}return C._free(l),C._free(a),f}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let e=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(e);return C._free(e),r}}class TreeCursor{static{o(this,"TreeCursor")}constructor(e,r){assertInternal(e),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){marshalNode(e),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let e=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,e,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoNextSibling(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoParent(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}}class Language{static{o(this,"Language")}constructor(e,r){assertInternal(e),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,i=this.types.length;n<i;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,i=this.fields.length;n<i;n++){let s=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=s!==0?UTF8ToString(s):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){let r=this.fields.indexOf(e);return r!==-1?r:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,r){let n=lengthBytesUTF8(e),i=C._malloc(n+1);stringToUTF8(e,i,n+1);let s=C._ts_language_symbol_for_name(this[0],i,n,r);return C._free(i),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(e){let r=C._ts_language_symbol_name(this[0],e);return r?UTF8ToString(r):null}nodeTypeIsNamed(e){return!!C._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!C._ts_language_type_is_visible_wasm(this[0],e)}query(e){let r=lengthBytesUTF8(e),n=C._malloc(r+1);stringToUTF8(e,n,r+1);let i=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!i){let x=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),_=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,T=e.substr(_,100).split(`
`)[0],S,k=T.match(QUERY_WORD_REGEX)[0];switch(x){case 2:S=new RangeError(`Bad node name '${k}'`);break;case 3:S=new RangeError(`Bad field name '${k}'`);break;case 4:S=new RangeError(`Bad capture name @${k}`);break;case 5:S=new TypeError(`Bad pattern structure at offset ${_}: '${T}'...`),k="";break;default:S=new SyntaxError(`Bad syntax at offset ${_}: '${T}'...`),k=""}throw S.index=_,S.length=k.length,C._free(n),S}let s=C._ts_query_string_count(i),a=C._ts_query_capture_count(i),c=C._ts_query_pattern_count(i),l=new Array(a),f=new Array(s);for(let x=0;x<a;x++){let _=C._ts_query_capture_name_for_id(i,x,TRANSFER_BUFFER),T=getValue(TRANSFER_BUFFER,"i32");l[x]=UTF8ToString(_,T)}for(let x=0;x<s;x++){let _=C._ts_query_string_value_for_id(i,x,TRANSFER_BUFFER),T=getValue(TRANSFER_BUFFER,"i32");f[x]=UTF8ToString(_,T)}let d=new Array(c),h=new Array(c),A=new Array(c),m=new Array(c),y=new Array(c);for(let x=0;x<c;x++){let _=C._ts_query_predicates_for_pattern(i,x,TRANSFER_BUFFER),T=getValue(TRANSFER_BUFFER,"i32");m[x]=[],y[x]=[];let S=[],k=_;for(let N=0;N<T;N++){let P=getValue(k,"i32");k+=SIZE_OF_INT;let L=getValue(k,"i32");if(k+=SIZE_OF_INT,P===PREDICATE_STEP_TYPE_CAPTURE)S.push({type:"capture",name:l[L]});else if(P===PREDICATE_STEP_TYPE_STRING)S.push({type:"string",value:f[L]});else if(S.length>0){if(S[0].type!=="string")throw new Error("Predicates must begin with a literal value");let Y=S[0].value,te=!0;switch(Y){case"not-eq?":te=!1;case"eq?":if(S.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(S.length-1));if(S[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${S[1].value}"`);if(S[2].type==="capture"){let $=S[1].name,Ie=S[2].name;y[x].push(function(fe){let X,H;for(let Z of fe)Z.name===$&&(X=Z.node),Z.name===Ie&&(H=Z.node);return X===void 0||H===void 0||X.text===H.text===te})}else{let $=S[1].name,Ie=S[2].value;y[x].push(function(fe){for(let X of fe)if(X.name===$)return X.node.text===Ie===te;return!0})}break;case"not-match?":te=!1;case"match?":if(S.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${S.length-1}.`);if(S[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${S[1].value}".`);if(S[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${S[2].value}.`);let ne=S[1].name,pe=new RegExp(S[2].value);y[x].push(function($){for(let Ie of $)if(Ie.name===ne)return pe.test(Ie.node.text)===te;return!0});break;case"set!":if(S.length<2||S.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${S.length-1}.`);if(S.some($=>$.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');d[x]||(d[x]={}),d[x][S[1].value]=S[2]?S[2].value:null;break;case"is?":case"is-not?":if(S.length<2||S.length>3)throw new Error(`Wrong number of arguments to \`#${Y}\` predicate. Expected 1 or 2. Got ${S.length-1}.`);if(S.some($=>$.type!=="string"))throw new Error(`Arguments to \`#${Y}\` predicate must be a strings.".`);let W=Y==="is?"?h:A;W[x]||(W[x]={}),W[x][S[1].value]=S[2]?S[2].value:null;break;default:m[x].push({operator:Y,operands:S.slice(1)})}S.length=0}}Object.freeze(d[x]),Object.freeze(h[x]),Object.freeze(A[x])}return C._free(n),new Query(INTERNAL,i,l,y,m,Object.freeze(d),Object.freeze(h),Object.freeze(A))}static load(e){let r;if(e instanceof Uint8Array)r=Promise.resolve(e);else{let i=e;if(typeof process<"u"&&process.versions&&process.versions.node){let s=require("fs");r=Promise.resolve(s.readFileSync(i))}else r=fetch(i).then(s=>s.arrayBuffer().then(a=>{if(s.ok)return new Uint8Array(a);{let c=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${s.status}.

${c}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(i=>n(i,{loadAsync:!0})).then(i=>{let s=Object.keys(i),a=s.find(l=>LANGUAGE_FUNCTION_REGEX.test(l)&&!l.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);let c=i[a]();return new Language(INTERNAL,c)})}}class Query{static{o(this,"Query")}constructor(e,r,n,i,s,a,c,l){assertInternal(e),this[0]=r,this.captureNames=n,this.textPredicates=i,this.predicates=s,this.setProperties=a,this.assertedProperties=c,this.refutedProperties=l,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(e,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),l=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),f=new Array(a);this.exceededMatchLimit=!!l;let d=0,h=c;for(let A=0;A<a;A++){let m=getValue(h,"i32");h+=SIZE_OF_INT;let y=getValue(h,"i32");h+=SIZE_OF_INT;let x=new Array(y);if(h=unmarshalCaptures(this,e.tree,h,x),this.textPredicates[m].every(_=>_(x))){f[d++]={pattern:m,captures:x};let _=this.setProperties[m];_&&(f[A].setProperties=_);let T=this.assertedProperties[m];T&&(f[A].assertedProperties=T);let S=this.refutedProperties[m];S&&(f[A].refutedProperties=S)}}return f.length=d,C._free(c),f}captures(e,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),l=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),f=[];this.exceededMatchLimit=!!l;let d=[],h=c;for(let A=0;A<a;A++){let m=getValue(h,"i32");h+=SIZE_OF_INT;let y=getValue(h,"i32");h+=SIZE_OF_INT;let x=getValue(h,"i32");if(h+=SIZE_OF_INT,d.length=y,h=unmarshalCaptures(this,e.tree,h,d),this.textPredicates[m].every(_=>_(d))){let _=d[x],T=this.setProperties[m];T&&(_.setProperties=T);let S=this.assertedProperties[m];S&&(_.assertedProperties=S);let k=this.refutedProperties[m];k&&(_.refutedProperties=k),f.push(_)}}return C._free(c),f}predicatesForPattern(e){return this.predicates[e]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(t,e,r){let n=r-e,i=t.textCallback(e,null,r);for(e+=i.length;e<r;){let s=t.textCallback(e,null,r);if(!(s&&s.length>0))break;e+=s.length,i+=s}return e>r&&(i=i.slice(0,n)),i}o(getText,"getText");function unmarshalCaptures(t,e,r,n){for(let i=0,s=n.length;i<s;i++){let a=getValue(r,"i32"),c=unmarshalNode(e,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[i]={name:t.captureNames[a],node:c}}return r}o(unmarshalCaptures,"unmarshalCaptures");function assertInternal(t){if(t!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal");function isPoint(t){return t&&typeof t.row=="number"&&typeof t.column=="number"}o(isPoint,"isPoint");function marshalNode(t){let e=TRANSFER_BUFFER;setValue(e,t.id,"i32"),e+=SIZE_OF_INT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.row,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.column,"i32"),e+=SIZE_OF_INT,setValue(e,t[0],"i32")}o(marshalNode,"marshalNode");function unmarshalNode(t,e=TRANSFER_BUFFER){let r=getValue(e,"i32");if(r===0)return null;let n=getValue(e+=SIZE_OF_INT,"i32"),i=getValue(e+=SIZE_OF_INT,"i32"),s=getValue(e+=SIZE_OF_INT,"i32"),a=getValue(e+=SIZE_OF_INT,"i32"),c=new Node(INTERNAL,t);return c.id=r,c.startIndex=n,c.startPosition={row:i,column:s},c[0]=a,c}o(unmarshalNode,"unmarshalNode");function marshalTreeCursor(t,e=TRANSFER_BUFFER){setValue(e+0*SIZE_OF_INT,t[0],"i32"),setValue(e+1*SIZE_OF_INT,t[1],"i32"),setValue(e+2*SIZE_OF_INT,t[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(t){t[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),t[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),t[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(t,e){setValue(t,e.row,"i32"),setValue(t+SIZE_OF_INT,e.column,"i32")}o(marshalPoint,"marshalPoint");function unmarshalPoint(t){return{row:getValue(t,"i32"),column:getValue(t+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint");function marshalRange(t,e){marshalPoint(t,e.startPosition),marshalPoint(t+=SIZE_OF_POINT,e.endPosition),setValue(t+=SIZE_OF_POINT,e.startIndex,"i32"),setValue(t+=SIZE_OF_INT,e.endIndex,"i32"),t+=SIZE_OF_INT}o(marshalRange,"marshalRange");function unmarshalRange(t){let e={};return e.startPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.endPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.startIndex=getValue(t,"i32"),t+=SIZE_OF_INT,e.endIndex=getValue(t,"i32"),e}o(unmarshalRange,"unmarshalRange");function marshalEdit(t){let e=TRANSFER_BUFFER;marshalPoint(e,t.startPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.oldEndPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.newEndPosition),e+=SIZE_OF_POINT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.oldEndIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.newEndIndex,"i32"),e+=SIZE_OF_INT}o(marshalEdit,"marshalEdit");for(let t of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,t,{value:ParserImpl.prototype[t],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var nye=q((x5r,rye)=>{"use strict";u();rye.exports=eye;function eye(t,e,r){t instanceof RegExp&&(t=Z1e(t,r)),e instanceof RegExp&&(e=Z1e(e,r));var n=tye(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}o(eye,"balanced");function Z1e(t,e){var r=e.match(t);return r?r[0]:null}o(Z1e,"maybeMatch");eye.range=tye;function tye(t,e,r){var n,i,s,a,c,l=r.indexOf(t),f=r.indexOf(e,l+1),d=l;if(l>=0&&f>0){if(t===e)return[l,f];for(n=[],s=r.length;d>=0&&!c;)d==l?(n.push(d),l=r.indexOf(t,d+1)):n.length==1?c=[n.pop(),f]:(i=n.pop(),i<s&&(s=i,a=f),f=r.indexOf(e,d+1)),d=l<f&&l>=0?l:f;n.length&&(c=[s,a])}return c}o(tye,"range")});var fye=q((T5r,uye)=>{u();var iye=nye();uye.exports=zKe;var oye="\0SLASH"+Math.random()+"\0",sye="\0OPEN"+Math.random()+"\0",T$="\0CLOSE"+Math.random()+"\0",aye="\0COMMA"+Math.random()+"\0",cye="\0PERIOD"+Math.random()+"\0";function v$(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}o(v$,"numeric");function YKe(t){return t.split("\\\\").join(oye).split("\\{").join(sye).split("\\}").join(T$).split("\\,").join(aye).split("\\.").join(cye)}o(YKe,"escapeBraces");function $Ke(t){return t.split(oye).join("\\").split(sye).join("{").split(T$).join("}").split(aye).join(",").split(cye).join(".")}o($Ke,"unescapeBraces");function lye(t){if(!t)return[""];var e=[],r=iye("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var c=lye(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),e.push.apply(e,a),e}o(lye,"parseCommaParts");function zKe(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),j3(YKe(t),!0).map($Ke)):[]}o(zKe,"expandTop");function jKe(t){return"{"+t+"}"}o(jKe,"embrace");function KKe(t){return/^-?0\d/.test(t)}o(KKe,"isPadded");function JKe(t,e){return t<=e}o(JKe,"lte");function XKe(t,e){return t>=e}o(XKe,"gte");function j3(t,e){var r=[],n=iye("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?j3(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<s.length;a++){var c=i+"{"+n.body+"}"+s[a];r.push(c)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),d=l||f,h=n.body.indexOf(",")>=0;if(!d&&!h)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+T$+n.post,j3(t)):[t];var A;if(d)A=n.body.split(/\.\./);else if(A=lye(n.body),A.length===1&&(A=j3(A[0],!1).map(jKe),A.length===1))return s.map(function(pe){return n.pre+A[0]+pe});var m;if(d){var y=v$(A[0]),x=v$(A[1]),_=Math.max(A[0].length,A[1].length),T=A.length==3?Math.abs(v$(A[2])):1,S=JKe,k=x<y;k&&(T*=-1,S=XKe);var N=A.some(KKe);m=[];for(var P=y;S(P,x);P+=T){var L;if(f)L=String.fromCharCode(P),L==="\\"&&(L="");else if(L=String(P),N){var Y=_-L.length;if(Y>0){var te=new Array(Y+1).join("0");P<0?L="-"+te+L.slice(1):L=te+L}}m.push(L)}}else{m=[];for(var ne=0;ne<A.length;ne++)m.push.apply(m,j3(A[ne],!1))}for(var ne=0;ne<m.length;ne++)for(var a=0;a<s.length;a++){var c=i+m[ne]+s[a];(!e||d||c)&&r.push(c)}}return r}o(j3,"expand")});var ho=q((HVr,IEe)=>{u();IEe.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var li=q((GVr,xEe)=>{"use strict";u();var Bo=class extends Error{static{o(this,"UndiciError")}constructor(e){super(e),this.name="UndiciError",this.code="UND_ERR"}},zz=class extends Bo{static{o(this,"ConnectTimeoutError")}constructor(e){super(e),this.name="ConnectTimeoutError",this.message=e||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},jz=class extends Bo{static{o(this,"HeadersTimeoutError")}constructor(e){super(e),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},Kz=class extends Bo{static{o(this,"HeadersOverflowError")}constructor(e){super(e),this.name="HeadersOverflowError",this.message=e||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},Jz=class extends Bo{static{o(this,"BodyTimeoutError")}constructor(e){super(e),this.name="BodyTimeoutError",this.message=e||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},Xz=class extends Bo{static{o(this,"ResponseStatusCodeError")}constructor(e,r,n,i){super(e),this.name="ResponseStatusCodeError",this.message=e||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=r,this.statusCode=r,this.headers=n}},Zz=class extends Bo{static{o(this,"InvalidArgumentError")}constructor(e){super(e),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},ej=class extends Bo{static{o(this,"InvalidReturnValueError")}constructor(e){super(e),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},vQ=class extends Bo{static{o(this,"AbortError")}constructor(e){super(e),this.name="AbortError",this.message=e||"The operation was aborted"}},tj=class extends vQ{static{o(this,"RequestAbortedError")}constructor(e){super(e),this.name="AbortError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}},rj=class extends Bo{static{o(this,"InformationalError")}constructor(e){super(e),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}},nj=class extends Bo{static{o(this,"RequestContentLengthMismatchError")}constructor(e){super(e),this.name="RequestContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},ij=class extends Bo{static{o(this,"ResponseContentLengthMismatchError")}constructor(e){super(e),this.name="ResponseContentLengthMismatchError",this.message=e||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},oj=class extends Bo{static{o(this,"ClientDestroyedError")}constructor(e){super(e),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},sj=class extends Bo{static{o(this,"ClientClosedError")}constructor(e){super(e),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}},aj=class extends Bo{static{o(this,"SocketError")}constructor(e,r){super(e),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET",this.socket=r}},cj=class extends Bo{static{o(this,"NotSupportedError")}constructor(e){super(e),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},lj=class extends Bo{static{o(this,"BalancedPoolMissingUpstreamError")}constructor(e){super(e),this.name="MissingUpstreamError",this.message=e||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},uj=class extends Error{static{o(this,"HTTPParserError")}constructor(e,r,n){super(e),this.name="HTTPParserError",this.code=r?`HPE_${r}`:void 0,this.data=n?n.toString():void 0}},fj=class extends Bo{static{o(this,"ResponseExceededMaxSizeError")}constructor(e){super(e),this.name="ResponseExceededMaxSizeError",this.message=e||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},dj=class extends Bo{static{o(this,"RequestRetryError")}constructor(e,r,{headers:n,data:i}){super(e),this.name="RequestRetryError",this.message=e||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=r,this.data=i,this.headers=n}},hj=class extends Bo{static{o(this,"ResponseError")}constructor(e,r,{headers:n,data:i}){super(e),this.name="ResponseError",this.message=e||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=r,this.data=i,this.headers=n}},Aj=class extends Bo{static{o(this,"SecureProxyConnectionError")}constructor(e,r,n){super(r,{cause:e,...n??{}}),this.name="SecureProxyConnectionError",this.message=r||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=e}};xEe.exports={AbortError:vQ,HTTPParserError:uj,UndiciError:Bo,HeadersTimeoutError:jz,HeadersOverflowError:Kz,BodyTimeoutError:Jz,RequestContentLengthMismatchError:nj,ConnectTimeoutError:zz,ResponseStatusCodeError:Xz,InvalidArgumentError:Zz,InvalidReturnValueError:ej,RequestAbortedError:tj,ClientDestroyedError:oj,ClientClosedError:sj,InformationalError:rj,SocketError:aj,NotSupportedError:cj,ResponseContentLengthMismatchError:ij,BalancedPoolMissingUpstreamError:lj,ResponseExceededMaxSizeError:fj,RequestRetryError:dj,ResponseError:hj,SecureProxyConnectionError:Aj}});var _Q=q((YVr,bEe)=>{"use strict";u();var TQ={},pj=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let t=0;t<pj.length;++t){let e=pj[t],r=e.toLowerCase();TQ[e]=TQ[r]=r}Object.setPrototypeOf(TQ,null);bEe.exports={wellknownHeaderNames:pj,headerNameLowerCasedRecord:TQ}});var SEe=q((zVr,_Ee)=>{"use strict";u();var{wellknownHeaderNames:vEe,headerNameLowerCasedRecord:get}=_Q(),mj=class t{static{o(this,"TstNode")}value=null;left=null;middle=null;right=null;code;constructor(e,r,n){if(n===void 0||n>=e.length)throw new TypeError("Unreachable");if((this.code=e.charCodeAt(n))>127)throw new TypeError("key must be ascii string");e.length!==++n?this.middle=new t(e,r,n):this.value=r}add(e,r){let n=e.length;if(n===0)throw new TypeError("Unreachable");let i=0,s=this;for(;;){let a=e.charCodeAt(i);if(a>127)throw new TypeError("key must be ascii string");if(s.code===a)if(n===++i){s.value=r;break}else if(s.middle!==null)s=s.middle;else{s.middle=new t(e,r,i);break}else if(s.code<a)if(s.left!==null)s=s.left;else{s.left=new t(e,r,i);break}else if(s.right!==null)s=s.right;else{s.right=new t(e,r,i);break}}}search(e){let r=e.length,n=0,i=this;for(;i!==null&&n<r;){let s=e[n];for(s<=90&&s>=65&&(s|=32);i!==null;){if(s===i.code){if(r===++n)return i;i=i.middle;break}i=i.code<s?i.left:i.right}}return null}},SQ=class{static{o(this,"TernarySearchTree")}node=null;insert(e,r){this.node===null?this.node=new mj(e,r,0):this.node.add(e,r)}lookup(e){return this.node?.search(e)?.value??null}},TEe=new SQ;for(let t=0;t<vEe.length;++t){let e=get[vEe[t]];TEe.insert(e,e)}_Ee.exports={TernarySearchTree:SQ,tree:TEe}});var dn=q((JVr,GEe)=>{"use strict";u();var SS=require("node:assert"),{kDestroyed:BEe,kBodyUsed:rv,kListeners:gj,kBody:wEe}=ho(),{IncomingMessage:yet}=require("node:http"),RQ=require("node:stream"),Cet=require("node:net"),{Blob:Eet}=require("node:buffer"),Iet=require("node:util"),{stringify:xet}=require("node:querystring"),{EventEmitter:bet}=require("node:events"),{InvalidArgumentError:ia}=li(),{headerNameLowerCasedRecord:vet}=_Q(),{tree:REe}=SEe(),[Tet,_et]=process.versions.node.split(".").map(t=>Number(t)),BQ=class{static{o(this,"BodyAsyncIterable")}constructor(e){this[wEe]=e,this[rv]=!1}async*[Symbol.asyncIterator](){SS(!this[rv],"disturbed"),this[rv]=!0,yield*this[wEe]}};function wet(t){return kQ(t)?(PEe(t)===0&&t.on("data",function(){SS(!1)}),typeof t.readableDidRead!="boolean"&&(t[rv]=!1,bet.prototype.on.call(t,"data",function(){this[rv]=!0})),t):t&&typeof t.pipeTo=="function"?new BQ(t):t&&typeof t!="string"&&!ArrayBuffer.isView(t)&&QEe(t)?new BQ(t):t}o(wet,"wrapRequestBody");function Bet(){}o(Bet,"nop");function kQ(t){return t&&typeof t=="object"&&typeof t.pipe=="function"&&typeof t.on=="function"}o(kQ,"isStream");function kEe(t){if(t===null)return!1;if(t instanceof Eet)return!0;if(typeof t!="object")return!1;{let e=t[Symbol.toStringTag];return(e==="Blob"||e==="File")&&("stream"in t&&typeof t.stream=="function"||"arrayBuffer"in t&&typeof t.arrayBuffer=="function")}}o(kEe,"isBlobLike");function Ret(t,e){if(t.includes("?")||t.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let r=xet(e);return r&&(t+="?"+r),t}o(Ret,"buildURL");function DEe(t){let e=parseInt(t,10);return e===Number(t)&&e>=0&&e<=65535}o(DEe,"isValidPort");function wQ(t){return t!=null&&t[0]==="h"&&t[1]==="t"&&t[2]==="t"&&t[3]==="p"&&(t[4]===":"||t[4]==="s"&&t[5]===":")}o(wQ,"isHttpOrHttpsPrefixed");function NEe(t){if(typeof t=="string"){if(t=new URL(t),!wQ(t.origin||t.protocol))throw new ia("Invalid URL protocol: the URL must start with `http:` or `https:`.");return t}if(!t||typeof t!="object")throw new ia("Invalid URL: The URL argument must be a non-null object.");if(!(t instanceof URL)){if(t.port!=null&&t.port!==""&&DEe(t.port)===!1)throw new ia("Invalid URL: port must be a valid integer or a string representation of an integer.");if(t.path!=null&&typeof t.path!="string")throw new ia("Invalid URL path: the path must be a string or null/undefined.");if(t.pathname!=null&&typeof t.pathname!="string")throw new ia("Invalid URL pathname: the pathname must be a string or null/undefined.");if(t.hostname!=null&&typeof t.hostname!="string")throw new ia("Invalid URL hostname: the hostname must be a string or null/undefined.");if(t.origin!=null&&typeof t.origin!="string")throw new ia("Invalid URL origin: the origin must be a string or null/undefined.");if(!wQ(t.origin||t.protocol))throw new ia("Invalid URL protocol: the URL must start with `http:` or `https:`.");let e=t.port!=null?t.port:t.protocol==="https:"?443:80,r=t.origin!=null?t.origin:`${t.protocol||""}//${t.hostname||""}:${e}`,n=t.path!=null?t.path:`${t.pathname||""}${t.search||""}`;return r[r.length-1]==="/"&&(r=r.slice(0,r.length-1)),n&&n[0]!=="/"&&(n=`/${n}`),new URL(`${r}${n}`)}if(!wQ(t.origin||t.protocol))throw new ia("Invalid URL protocol: the URL must start with `http:` or `https:`.");return t}o(NEe,"parseURL");function ket(t){if(t=NEe(t),t.pathname!=="/"||t.search||t.hash)throw new ia("invalid url");return t}o(ket,"parseOrigin");function Det(t){if(t[0]==="["){let r=t.indexOf("]");return SS(r!==-1),t.substring(1,r)}let e=t.indexOf(":");return e===-1?t:t.substring(0,e)}o(Det,"getHostname");function Net(t){if(!t)return null;SS(typeof t=="string");let e=Det(t);return Cet.isIP(e)?"":e}o(Net,"getServerName");function Qet(t){return JSON.parse(JSON.stringify(t))}o(Qet,"deepClone");function Pet(t){return t!=null&&typeof t[Symbol.asyncIterator]=="function"}o(Pet,"isAsyncIterable");function QEe(t){return t!=null&&(typeof t[Symbol.iterator]=="function"||typeof t[Symbol.asyncIterator]=="function")}o(QEe,"isIterable");function PEe(t){if(t==null)return 0;if(kQ(t)){let e=t._readableState;return e&&e.objectMode===!1&&e.ended===!0&&Number.isFinite(e.length)?e.length:null}else{if(kEe(t))return t.size!=null?t.size:null;if(LEe(t))return t.byteLength}return null}o(PEe,"bodyLength");function FEe(t){return t&&!!(t.destroyed||t[BEe]||RQ.isDestroyed?.(t))}o(FEe,"isDestroyed");function Fet(t,e){t==null||!kQ(t)||FEe(t)||(typeof t.destroy=="function"?(Object.getPrototypeOf(t).constructor===yet&&(t.socket=null),t.destroy(e)):e&&queueMicrotask(()=>{t.emit("error",e)}),t.destroyed!==!0&&(t[BEe]=!0))}o(Fet,"destroy");var Met=/timeout=(\d+)/;function Let(t){let e=t.toString().match(Met);return e?parseInt(e[1],10)*1e3:null}o(Let,"parseKeepAliveTimeout");function MEe(t){return typeof t=="string"?vet[t]??t.toLowerCase():REe.lookup(t)??t.toString("latin1").toLowerCase()}o(MEe,"headerNameToString");function Oet(t){return REe.lookup(t)??t.toString("latin1").toLowerCase()}o(Oet,"bufferToLowerCasedHeaderName");function Uet(t,e){e===void 0&&(e={});for(let r=0;r<t.length;r+=2){let n=MEe(t[r]),i=e[n];if(i)typeof i=="string"&&(i=[i],e[n]=i),i.push(t[r+1].toString("utf8"));else{let s=t[r+1];typeof s=="string"?e[n]=s:e[n]=Array.isArray(s)?s.map(a=>a.toString("utf8")):s.toString("utf8")}}return"content-length"in e&&"content-disposition"in e&&(e["content-disposition"]=Buffer.from(e["content-disposition"]).toString("latin1")),e}o(Uet,"parseHeaders");function Het(t){let e=t.length,r=new Array(e),n=!1,i=-1,s,a,c=0;for(let l=0;l<t.length;l+=2)s=t[l],a=t[l+1],typeof s!="string"&&(s=s.toString()),typeof a!="string"&&(a=a.toString("utf8")),c=s.length,c===14&&s[7]==="-"&&(s==="content-length"||s.toLowerCase()==="content-length")?n=!0:c===19&&s[7]==="-"&&(s==="content-disposition"||s.toLowerCase()==="content-disposition")&&(i=l+1),r[l]=s,r[l+1]=a;return n&&i!==-1&&(r[i]=Buffer.from(r[i]).toString("latin1")),r}o(Het,"parseRawHeaders");function LEe(t){return t instanceof Uint8Array||Buffer.isBuffer(t)}o(LEe,"isBuffer");function qet(t,e,r){if(!t||typeof t!="object")throw new ia("handler must be an object");if(typeof t.onConnect!="function")throw new ia("invalid onConnect method");if(typeof t.onError!="function")throw new ia("invalid onError method");if(typeof t.onBodySent!="function"&&t.onBodySent!==void 0)throw new ia("invalid onBodySent method");if(r||e==="CONNECT"){if(typeof t.onUpgrade!="function")throw new ia("invalid onUpgrade method")}else{if(typeof t.onHeaders!="function")throw new ia("invalid onHeaders method");if(typeof t.onData!="function")throw new ia("invalid onData method");if(typeof t.onComplete!="function")throw new ia("invalid onComplete method")}}o(qet,"validateHandler");function Get(t){return!!(t&&(RQ.isDisturbed(t)||t[rv]))}o(Get,"isDisturbed");function Vet(t){return!!(t&&RQ.isErrored(t))}o(Vet,"isErrored");function Wet(t){return!!(t&&RQ.isReadable(t))}o(Wet,"isReadable");function Yet(t){return{localAddress:t.localAddress,localPort:t.localPort,remoteAddress:t.remoteAddress,remotePort:t.remotePort,remoteFamily:t.remoteFamily,timeout:t.timeout,bytesWritten:t.bytesWritten,bytesRead:t.bytesRead}}o(Yet,"getSocketInfo");function $et(t){let e;return new ReadableStream({async start(){e=t[Symbol.asyncIterator]()},async pull(r){let{done:n,value:i}=await e.next();if(n)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let s=Buffer.isBuffer(i)?i:Buffer.from(i);s.byteLength&&r.enqueue(new Uint8Array(s))}return r.desiredSize>0},async cancel(r){await e.return()},type:"bytes"})}o($et,"ReadableStreamFrom");function zet(t){return t&&typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&t[Symbol.toStringTag]==="FormData"}o(zet,"isFormDataLike");function jet(t,e){return"addEventListener"in t?(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)):(t.addListener("abort",e),()=>t.removeListener("abort",e))}o(jet,"addAbortListener");var Ket=typeof String.prototype.toWellFormed=="function",Jet=typeof String.prototype.isWellFormed=="function";function OEe(t){return Ket?`${t}`.toWellFormed():Iet.toUSVString(t)}o(OEe,"toUSVString");function Xet(t){return Jet?`${t}`.isWellFormed():OEe(t)===`${t}`}o(Xet,"isUSVString");function UEe(t){switch(t){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return t>=33&&t<=126}}o(UEe,"isTokenCharCode");function Zet(t){if(t.length===0)return!1;for(let e=0;e<t.length;++e)if(!UEe(t.charCodeAt(e)))return!1;return!0}o(Zet,"isValidHTTPToken");var ett=/[^\t\x20-\x7e\x80-\xff]/;function ttt(t){return!ett.test(t)}o(ttt,"isValidHeaderValue");function rtt(t){if(t==null||t==="")return{start:0,end:null,size:null};let e=t?t.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return e?{start:parseInt(e[1]),end:e[2]?parseInt(e[2]):null,size:e[3]?parseInt(e[3]):null}:null}o(rtt,"parseRangeHeader");function ntt(t,e,r){return(t[gj]??=[]).push([e,r]),t.on(e,r),t}o(ntt,"addListener");function itt(t){for(let[e,r]of t[gj]??[])t.removeListener(e,r);t[gj]=null}o(itt,"removeAllListeners");function ott(t,e,r){try{e.onError(r),SS(e.aborted)}catch(n){t.emit("error",n)}}o(ott,"errorRequest");var HEe=Object.create(null);HEe.enumerable=!0;var yj={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},qEe={...yj,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(yj,null);Object.setPrototypeOf(qEe,null);GEe.exports={kEnumerableProperty:HEe,nop:Bet,isDisturbed:Get,isErrored:Vet,isReadable:Wet,toUSVString:OEe,isUSVString:Xet,isBlobLike:kEe,parseOrigin:ket,parseURL:NEe,getServerName:Net,isStream:kQ,isIterable:QEe,isAsyncIterable:Pet,isDestroyed:FEe,headerNameToString:MEe,bufferToLowerCasedHeaderName:Oet,addListener:ntt,removeAllListeners:itt,errorRequest:ott,parseRawHeaders:Het,parseHeaders:Uet,parseKeepAliveTimeout:Let,destroy:Fet,bodyLength:PEe,deepClone:Qet,ReadableStreamFrom:$et,isBuffer:LEe,validateHandler:qet,getSocketInfo:Yet,isFormDataLike:zet,buildURL:Ret,addAbortListener:jet,isValidHTTPToken:Zet,isValidHeaderValue:ttt,isTokenCharCode:UEe,parseRangeHeader:rtt,normalizedMethodRecordsBase:yj,normalizedMethodRecords:qEe,isValidPort:DEe,isHttpOrHttpsPrefixed:wQ,nodeMajor:Tet,nodeMinor:_et,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:wet}});var nv=q((eWr,WEe)=>{"use strict";u();var Ai=require("node:diagnostics_channel"),Ej=require("node:util"),DQ=Ej.debuglog("undici"),Cj=Ej.debuglog("fetch"),CE=Ej.debuglog("websocket"),VEe=!1,stt={beforeConnect:Ai.channel("undici:client:beforeConnect"),connected:Ai.channel("undici:client:connected"),connectError:Ai.channel("undici:client:connectError"),sendHeaders:Ai.channel("undici:client:sendHeaders"),create:Ai.channel("undici:request:create"),bodySent:Ai.channel("undici:request:bodySent"),headers:Ai.channel("undici:request:headers"),trailers:Ai.channel("undici:request:trailers"),error:Ai.channel("undici:request:error"),open:Ai.channel("undici:websocket:open"),close:Ai.channel("undici:websocket:close"),socketError:Ai.channel("undici:websocket:socket_error"),ping:Ai.channel("undici:websocket:ping"),pong:Ai.channel("undici:websocket:pong")};if(DQ.enabled||Cj.enabled){let t=Cj.enabled?Cj:DQ;Ai.channel("undici:client:beforeConnect").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=e;t("connecting to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),Ai.channel("undici:client:connected").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=e;t("connected to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),Ai.channel("undici:client:connectError").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=e;t("connection to %s using %s%s errored - %s",`${s}${i?`:${i}`:""}`,n,r,a.message)}),Ai.channel("undici:client:sendHeaders").subscribe(e=>{let{request:{method:r,path:n,origin:i}}=e;t("sending request to %s %s/%s",r,i,n)}),Ai.channel("undici:request:headers").subscribe(e=>{let{request:{method:r,path:n,origin:i},response:{statusCode:s}}=e;t("received response to %s %s/%s - HTTP %d",r,i,n,s)}),Ai.channel("undici:request:trailers").subscribe(e=>{let{request:{method:r,path:n,origin:i}}=e;t("trailers received from %s %s/%s",r,i,n)}),Ai.channel("undici:request:error").subscribe(e=>{let{request:{method:r,path:n,origin:i},error:s}=e;t("request to %s %s/%s errored - %s",r,i,n,s.message)}),VEe=!0}if(CE.enabled){if(!VEe){let t=DQ.enabled?DQ:CE;Ai.channel("undici:client:beforeConnect").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=e;t("connecting to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),Ai.channel("undici:client:connected").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=e;t("connected to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),Ai.channel("undici:client:connectError").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=e;t("connection to %s%s using %s%s errored - %s",s,i?`:${i}`:"",n,r,a.message)}),Ai.channel("undici:client:sendHeaders").subscribe(e=>{let{request:{method:r,path:n,origin:i}}=e;t("sending request to %s %s/%s",r,i,n)})}Ai.channel("undici:websocket:open").subscribe(t=>{let{address:{address:e,port:r}}=t;CE("connection opened %s%s",e,r?`:${r}`:"")}),Ai.channel("undici:websocket:close").subscribe(t=>{let{websocket:e,code:r,reason:n}=t;CE("closed connection to %s - %s %s",e.url,r,n)}),Ai.channel("undici:websocket:socket_error").subscribe(t=>{CE("connection errored - %s",t.message)}),Ai.channel("undici:websocket:ping").subscribe(t=>{CE("ping received")}),Ai.channel("undici:websocket:pong").subscribe(t=>{CE("pong received")})}WEe.exports={channels:stt}});var KEe=q((rWr,jEe)=>{"use strict";u();var{InvalidArgumentError:Ro,NotSupportedError:att}=li(),VA=require("node:assert"),{isValidHTTPToken:zEe,isValidHeaderValue:YEe,isStream:ctt,destroy:ltt,isBuffer:utt,isFormDataLike:ftt,isIterable:dtt,isBlobLike:htt,buildURL:Att,validateHandler:ptt,getServerName:mtt,normalizedMethodRecords:gtt}=dn(),{channels:eh}=nv(),{headerNameLowerCasedRecord:$Ee}=_Q(),ytt=/[^\u0021-\u00ff]/,su=Symbol("handler"),Ij=class{static{o(this,"Request")}constructor(e,{path:r,method:n,body:i,headers:s,query:a,idempotent:c,blocking:l,upgrade:f,headersTimeout:d,bodyTimeout:h,reset:A,throwOnError:m,expectContinue:y,servername:x},_){if(typeof r!="string")throw new Ro("path must be a string");if(r[0]!=="/"&&!(r.startsWith("http://")||r.startsWith("https://"))&&n!=="CONNECT")throw new Ro("path must be an absolute URL or start with a slash");if(ytt.test(r))throw new Ro("invalid request path");if(typeof n!="string")throw new Ro("method must be a string");if(gtt[n]===void 0&&!zEe(n))throw new Ro("invalid request method");if(f&&typeof f!="string")throw new Ro("upgrade must be a string");if(d!=null&&(!Number.isFinite(d)||d<0))throw new Ro("invalid headersTimeout");if(h!=null&&(!Number.isFinite(h)||h<0))throw new Ro("invalid bodyTimeout");if(A!=null&&typeof A!="boolean")throw new Ro("invalid reset");if(y!=null&&typeof y!="boolean")throw new Ro("invalid expectContinue");if(this.headersTimeout=d,this.bodyTimeout=h,this.throwOnError=m===!0,this.method=n,this.abort=null,i==null)this.body=null;else if(ctt(i)){this.body=i;let T=this.body._readableState;(!T||!T.autoDestroy)&&(this.endHandler=o(function(){ltt(this)},"autoDestroy"),this.body.on("end",this.endHandler)),this.errorHandler=S=>{this.abort?this.abort(S):this.error=S},this.body.on("error",this.errorHandler)}else if(utt(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(ftt(i)||dtt(i)||htt(i))this.body=i;else throw new Ro("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=f||null,this.path=a?Att(r,a):r,this.origin=e,this.idempotent=c??(n==="HEAD"||n==="GET"),this.blocking=l??!1,this.reset=A??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=y??!1,Array.isArray(s)){if(s.length%2!==0)throw new Ro("headers array must be even");for(let T=0;T<s.length;T+=2)NQ(this,s[T],s[T+1])}else if(s&&typeof s=="object")if(s[Symbol.iterator])for(let T of s){if(!Array.isArray(T)||T.length!==2)throw new Ro("headers must be in key-value pair format");NQ(this,T[0],T[1])}else{let T=Object.keys(s);for(let S=0;S<T.length;++S)NQ(this,T[S],s[T[S]])}else if(s!=null)throw new Ro("headers must be an object or an array");ptt(_,n,f),this.servername=x||mtt(this.host),this[su]=_,eh.create.hasSubscribers&&eh.create.publish({request:this})}onBodySent(e){if(this[su].onBodySent)try{return this[su].onBodySent(e)}catch(r){this.abort(r)}}onRequestSent(){if(eh.bodySent.hasSubscribers&&eh.bodySent.publish({request:this}),this[su].onRequestSent)try{return this[su].onRequestSent()}catch(e){this.abort(e)}}onConnect(e){if(VA(!this.aborted),VA(!this.completed),this.error)e(this.error);else return this.abort=e,this[su].onConnect(e)}onResponseStarted(){return this[su].onResponseStarted?.()}onHeaders(e,r,n,i){VA(!this.aborted),VA(!this.completed),eh.headers.hasSubscribers&&eh.headers.publish({request:this,response:{statusCode:e,headers:r,statusText:i}});try{return this[su].onHeaders(e,r,n,i)}catch(s){this.abort(s)}}onData(e){VA(!this.aborted),VA(!this.completed);try{return this[su].onData(e)}catch(r){return this.abort(r),!1}}onUpgrade(e,r,n){return VA(!this.aborted),VA(!this.completed),this[su].onUpgrade(e,r,n)}onComplete(e){this.onFinally(),VA(!this.aborted),this.completed=!0,eh.trailers.hasSubscribers&&eh.trailers.publish({request:this,trailers:e});try{return this[su].onComplete(e)}catch(r){this.onError(r)}}onError(e){if(this.onFinally(),eh.error.hasSubscribers&&eh.error.publish({request:this,error:e}),!this.aborted)return this.aborted=!0,this[su].onError(e)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(e,r){return NQ(this,e,r),this}};function NQ(t,e,r){if(r&&typeof r=="object"&&!Array.isArray(r))throw new Ro(`invalid ${e} header`);if(r===void 0)return;let n=$Ee[e];if(n===void 0&&(n=e.toLowerCase(),$Ee[n]===void 0&&!zEe(n)))throw new Ro("invalid header key");if(Array.isArray(r)){let i=[];for(let s=0;s<r.length;s++)if(typeof r[s]=="string"){if(!YEe(r[s]))throw new Ro(`invalid ${e} header`);i.push(r[s])}else if(r[s]===null)i.push("");else{if(typeof r[s]=="object")throw new Ro(`invalid ${e} header`);i.push(`${r[s]}`)}r=i}else if(typeof r=="string"){if(!YEe(r))throw new Ro(`invalid ${e} header`)}else r===null?r="":r=`${r}`;if(t.host===null&&n==="host"){if(typeof r!="string")throw new Ro("invalid host header");t.host=r}else if(t.contentLength===null&&n==="content-length"){if(t.contentLength=parseInt(r,10),!Number.isFinite(t.contentLength))throw new Ro("invalid content-length header")}else if(t.contentType===null&&n==="content-type")t.contentType=r,t.headers.push(e,r);else{if(n==="transfer-encoding"||n==="keep-alive"||n==="upgrade")throw new Ro(`invalid ${n} header`);if(n==="connection"){let i=typeof r=="string"?r.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new Ro("invalid connection header");i==="close"&&(t.reset=!0)}else{if(n==="expect")throw new att("expect header not supported");t.headers.push(e,r)}}}o(NQ,"processHeader");jEe.exports=Ij});var wS=q((oWr,JEe)=>{"use strict";u();var Ctt=require("node:events"),QQ=class extends Ctt{static{o(this,"Dispatcher")}dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...e){let r=Array.isArray(e[0])?e[0]:e,n=this.dispatch.bind(this);for(let i of r)if(i!=null){if(typeof i!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof i}`);if(n=i(n),n==null||typeof n!="function"||n.length!==2)throw new TypeError("invalid interceptor")}return new xj(this,n)}},xj=class extends QQ{static{o(this,"ComposedDispatcher")}#e=null;#t=null;constructor(e,r){super(),this.#e=e,this.#t=r}dispatch(...e){this.#t(...e)}close(...e){return this.#e.close(...e)}destroy(...e){return this.#e.destroy(...e)}};JEe.exports=QQ});var av=q((cWr,XEe)=>{"use strict";u();var Ett=wS(),{ClientDestroyedError:bj,ClientClosedError:Itt,InvalidArgumentError:iv}=li(),{kDestroy:xtt,kClose:btt,kClosed:BS,kDestroyed:ov,kDispatch:vj,kInterceptors:EE}=ho(),WA=Symbol("onDestroyed"),sv=Symbol("onClosed"),PQ=Symbol("Intercepted Dispatch"),Tj=class extends Ett{static{o(this,"DispatcherBase")}constructor(){super(),this[ov]=!1,this[WA]=null,this[BS]=!1,this[sv]=[]}get destroyed(){return this[ov]}get closed(){return this[BS]}get interceptors(){return this[EE]}set interceptors(e){if(e){for(let r=e.length-1;r>=0;r--)if(typeof this[EE][r]!="function")throw new iv("interceptor must be an function")}this[EE]=e}close(e){if(e===void 0)return new Promise((n,i)=>{this.close((s,a)=>s?i(s):n(a))});if(typeof e!="function")throw new iv("invalid callback");if(this[ov]){queueMicrotask(()=>e(new bj,null));return}if(this[BS]){this[sv]?this[sv].push(e):queueMicrotask(()=>e(null,null));return}this[BS]=!0,this[sv].push(e);let r=o(()=>{let n=this[sv];this[sv]=null;for(let i=0;i<n.length;i++)n[i](null,null)},"onClosed");this[btt]().then(()=>this.destroy()).then(()=>{queueMicrotask(r)})}destroy(e,r){if(typeof e=="function"&&(r=e,e=null),r===void 0)return new Promise((i,s)=>{this.destroy(e,(a,c)=>a?s(a):i(c))});if(typeof r!="function")throw new iv("invalid callback");if(this[ov]){this[WA]?this[WA].push(r):queueMicrotask(()=>r(null,null));return}e||(e=new bj),this[ov]=!0,this[WA]=this[WA]||[],this[WA].push(r);let n=o(()=>{let i=this[WA];this[WA]=null;for(let s=0;s<i.length;s++)i[s](null,null)},"onDestroyed");this[xtt](e).then(()=>{queueMicrotask(n)})}[PQ](e,r){if(!this[EE]||this[EE].length===0)return this[PQ]=this[vj],this[vj](e,r);let n=this[vj].bind(this);for(let i=this[EE].length-1;i>=0;i--)n=this[EE][i](n);return this[PQ]=n,n(e,r)}dispatch(e,r){if(!r||typeof r!="object")throw new iv("handler must be an object");try{if(!e||typeof e!="object")throw new iv("opts must be an object.");if(this[ov]||this[WA])throw new bj;if(this[BS])throw new Itt;return this[PQ](e,r)}catch(n){if(typeof r.onError!="function")throw new iv("invalid onError method");return r.onError(n),!1}}};XEe.exports=Tj});var Dj=q((fWr,rIe)=>{"use strict";u();var cv=0,_j=1e3,Sj=(_j>>1)-1,YA,wj=Symbol("kFastTimer"),$A=[],Bj=-2,Rj=-1,eIe=0,ZEe=1;function kj(){cv+=Sj;let t=0,e=$A.length;for(;t<e;){let r=$A[t];r._state===eIe?(r._idleStart=cv-Sj,r._state=ZEe):r._state===ZEe&&cv>=r._idleStart+r._idleTimeout&&(r._state=Rj,r._idleStart=-1,r._onTimeout(r._timerArg)),r._state===Rj?(r._state=Bj,--e!==0&&($A[t]=$A[e])):++t}$A.length=e,$A.length!==0&&tIe()}o(kj,"onTick");function tIe(){YA?YA.refresh():(clearTimeout(YA),YA=setTimeout(kj,Sj),YA.unref&&YA.unref())}o(tIe,"refreshTimeout");var FQ=class{static{o(this,"FastTimer")}[wj]=!0;_state=Bj;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(e,r,n){this._onTimeout=e,this._idleTimeout=r,this._timerArg=n,this.refresh()}refresh(){this._state===Bj&&$A.push(this),(!YA||$A.length===1)&&tIe(),this._state=eIe}clear(){this._state=Rj,this._idleStart=-1}};rIe.exports={setTimeout(t,e,r){return e<=_j?setTimeout(t,e,r):new FQ(t,e,r)},clearTimeout(t){t[wj]?t.clear():clearTimeout(t)},setFastTimeout(t,e,r){return new FQ(t,e,r)},clearFastTimeout(t){t.clear()},now(){return cv},tick(t=0){cv+=t-_j+1,kj(),kj()},reset(){cv=0,$A.length=0,clearTimeout(YA),YA=null},kFastTimer:wj}});var RS=q((mWr,aIe)=>{"use strict";u();var vtt=require("node:net"),nIe=require("node:assert"),sIe=dn(),{InvalidArgumentError:Ttt,ConnectTimeoutError:_tt}=li(),MQ=Dj();function iIe(){}o(iIe,"noop");var Nj,Qj;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?Qj=class{static{o(this,"WeakSessionCache")}constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(r=>{if(this._sessionCache.size<this._maxCachedSessions)return;let n=this._sessionCache.get(r);n!==void 0&&n.deref()===void 0&&this._sessionCache.delete(r)})}get(e){let r=this._sessionCache.get(e);return r?r.deref():null}set(e,r){this._maxCachedSessions!==0&&(this._sessionCache.set(e,new WeakRef(r)),this._sessionRegistry.register(r,e))}}:Qj=class{static{o(this,"SimpleSessionCache")}constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map}get(e){return this._sessionCache.get(e)}set(e,r){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:n}=this._sessionCache.keys().next();this._sessionCache.delete(n)}this._sessionCache.set(e,r)}}};function Stt({allowH2:t,maxCachedSessions:e,socketPath:r,timeout:n,session:i,...s}){if(e!=null&&(!Number.isInteger(e)||e<0))throw new Ttt("maxCachedSessions must be a positive integer or zero");let a={path:r,...s},c=new Qj(e??100);return n=n??1e4,t=t??!1,o(function({hostname:f,host:d,protocol:h,port:A,servername:m,localAddress:y,httpSocket:x},_){let T;if(h==="https:"){Nj||(Nj=require("node:tls")),m=m||a.servername||sIe.getServerName(d)||null;let k=m||f;nIe(k);let N=i||c.get(k)||null;A=A||443,T=Nj.connect({highWaterMark:16384,...a,servername:m,session:N,localAddress:y,ALPNProtocols:t?["http/1.1","h2"]:["http/1.1"],socket:x,port:A,host:f}),T.on("session",function(P){c.set(k,P)})}else nIe(!x,"httpSocket can only be sent on TLS update"),A=A||80,T=vtt.connect({highWaterMark:64*1024,...a,localAddress:y,port:A,host:f});if(a.keepAlive==null||a.keepAlive){let k=a.keepAliveInitialDelay===void 0?6e4:a.keepAliveInitialDelay;T.setKeepAlive(!0,k)}let S=wtt(new WeakRef(T),{timeout:n,hostname:f,port:A});return T.setNoDelay(!0).once(h==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(S),_){let k=_;_=null,k(null,this)}}).on("error",function(k){if(queueMicrotask(S),_){let N=_;_=null,N(k)}}),T},"connect")}o(Stt,"buildConnector");var wtt=process.platform==="win32"?(t,e)=>{if(!e.timeout)return iIe;let r=null,n=null,i=MQ.setFastTimeout(()=>{r=setImmediate(()=>{n=setImmediate(()=>oIe(t.deref(),e))})},e.timeout);return()=>{MQ.clearFastTimeout(i),clearImmediate(r),clearImmediate(n)}}:(t,e)=>{if(!e.timeout)return iIe;let r=null,n=MQ.setFastTimeout(()=>{r=setImmediate(()=>{oIe(t.deref(),e)})},e.timeout);return()=>{MQ.clearFastTimeout(n),clearImmediate(r)}};function oIe(t,e){if(t==null)return;let r="Connect Timeout Error";Array.isArray(t.autoSelectFamilyAttemptedAddresses)?r+=` (attempted addresses: ${t.autoSelectFamilyAttemptedAddresses.join(", ")},`:r+=` (attempted address: ${e.hostname}:${e.port},`,r+=` timeout: ${e.timeout}ms)`,sIe.destroy(t,new _tt(r))}o(oIe,"onConnectTimeout");aIe.exports=Stt});var cIe=q(LQ=>{"use strict";u();Object.defineProperty(LQ,"__esModule",{value:!0});LQ.enumToMap=void 0;function Btt(t){let e={};return Object.keys(t).forEach(r=>{let n=t[r];typeof n=="number"&&(e[r]=n)}),e}o(Btt,"enumToMap");LQ.enumToMap=Btt});var lIe=q(mt=>{"use strict";u();Object.defineProperty(mt,"__esModule",{value:!0});mt.SPECIAL_HEADERS=mt.HEADER_STATE=mt.MINOR=mt.MAJOR=mt.CONNECTION_TOKEN_CHARS=mt.HEADER_CHARS=mt.TOKEN=mt.STRICT_TOKEN=mt.HEX=mt.URL_CHAR=mt.STRICT_URL_CHAR=mt.USERINFO_CHARS=mt.MARK=mt.ALPHANUM=mt.NUM=mt.HEX_MAP=mt.NUM_MAP=mt.ALPHA=mt.FINISH=mt.H_METHOD_MAP=mt.METHOD_MAP=mt.METHODS_RTSP=mt.METHODS_ICE=mt.METHODS_HTTP=mt.METHODS=mt.LENIENT_FLAGS=mt.FLAGS=mt.TYPE=mt.ERROR=void 0;var Rtt=cIe(),ktt;(function(t){t[t.OK=0]="OK",t[t.INTERNAL=1]="INTERNAL",t[t.STRICT=2]="STRICT",t[t.LF_EXPECTED=3]="LF_EXPECTED",t[t.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",t[t.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",t[t.INVALID_METHOD=6]="INVALID_METHOD",t[t.INVALID_URL=7]="INVALID_URL",t[t.INVALID_CONSTANT=8]="INVALID_CONSTANT",t[t.INVALID_VERSION=9]="INVALID_VERSION",t[t.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",t[t.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",t[t.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",t[t.INVALID_STATUS=13]="INVALID_STATUS",t[t.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",t[t.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",t[t.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",t[t.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",t[t.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",t[t.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",t[t.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",t[t.PAUSED=21]="PAUSED",t[t.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",t[t.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",t[t.USER=24]="USER"})(ktt=mt.ERROR||(mt.ERROR={}));var Dtt;(function(t){t[t.BOTH=0]="BOTH",t[t.REQUEST=1]="REQUEST",t[t.RESPONSE=2]="RESPONSE"})(Dtt=mt.TYPE||(mt.TYPE={}));var Ntt;(function(t){t[t.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",t[t.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",t[t.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",t[t.CHUNKED=8]="CHUNKED",t[t.UPGRADE=16]="UPGRADE",t[t.CONTENT_LENGTH=32]="CONTENT_LENGTH",t[t.SKIPBODY=64]="SKIPBODY",t[t.TRAILING=128]="TRAILING",t[t.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(Ntt=mt.FLAGS||(mt.FLAGS={}));var Qtt;(function(t){t[t.HEADERS=1]="HEADERS",t[t.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",t[t.KEEP_ALIVE=4]="KEEP_ALIVE"})(Qtt=mt.LENIENT_FLAGS||(mt.LENIENT_FLAGS={}));var ir;(function(t){t[t.DELETE=0]="DELETE",t[t.GET=1]="GET",t[t.HEAD=2]="HEAD",t[t.POST=3]="POST",t[t.PUT=4]="PUT",t[t.CONNECT=5]="CONNECT",t[t.OPTIONS=6]="OPTIONS",t[t.TRACE=7]="TRACE",t[t.COPY=8]="COPY",t[t.LOCK=9]="LOCK",t[t.MKCOL=10]="MKCOL",t[t.MOVE=11]="MOVE",t[t.PROPFIND=12]="PROPFIND",t[t.PROPPATCH=13]="PROPPATCH",t[t.SEARCH=14]="SEARCH",t[t.UNLOCK=15]="UNLOCK",t[t.BIND=16]="BIND",t[t.REBIND=17]="REBIND",t[t.UNBIND=18]="UNBIND",t[t.ACL=19]="ACL",t[t.REPORT=20]="REPORT",t[t.MKACTIVITY=21]="MKACTIVITY",t[t.CHECKOUT=22]="CHECKOUT",t[t.MERGE=23]="MERGE",t[t["M-SEARCH"]=24]="M-SEARCH",t[t.NOTIFY=25]="NOTIFY",t[t.SUBSCRIBE=26]="SUBSCRIBE",t[t.UNSUBSCRIBE=27]="UNSUBSCRIBE",t[t.PATCH=28]="PATCH",t[t.PURGE=29]="PURGE",t[t.MKCALENDAR=30]="MKCALENDAR",t[t.LINK=31]="LINK",t[t.UNLINK=32]="UNLINK",t[t.SOURCE=33]="SOURCE",t[t.PRI=34]="PRI",t[t.DESCRIBE=35]="DESCRIBE",t[t.ANNOUNCE=36]="ANNOUNCE",t[t.SETUP=37]="SETUP",t[t.PLAY=38]="PLAY",t[t.PAUSE=39]="PAUSE",t[t.TEARDOWN=40]="TEARDOWN",t[t.GET_PARAMETER=41]="GET_PARAMETER",t[t.SET_PARAMETER=42]="SET_PARAMETER",t[t.REDIRECT=43]="REDIRECT",t[t.RECORD=44]="RECORD",t[t.FLUSH=45]="FLUSH"})(ir=mt.METHODS||(mt.METHODS={}));mt.METHODS_HTTP=[ir.DELETE,ir.GET,ir.HEAD,ir.POST,ir.PUT,ir.CONNECT,ir.OPTIONS,ir.TRACE,ir.COPY,ir.LOCK,ir.MKCOL,ir.MOVE,ir.PROPFIND,ir.PROPPATCH,ir.SEARCH,ir.UNLOCK,ir.BIND,ir.REBIND,ir.UNBIND,ir.ACL,ir.REPORT,ir.MKACTIVITY,ir.CHECKOUT,ir.MERGE,ir["M-SEARCH"],ir.NOTIFY,ir.SUBSCRIBE,ir.UNSUBSCRIBE,ir.PATCH,ir.PURGE,ir.MKCALENDAR,ir.LINK,ir.UNLINK,ir.PRI,ir.SOURCE];mt.METHODS_ICE=[ir.SOURCE];mt.METHODS_RTSP=[ir.OPTIONS,ir.DESCRIBE,ir.ANNOUNCE,ir.SETUP,ir.PLAY,ir.PAUSE,ir.TEARDOWN,ir.GET_PARAMETER,ir.SET_PARAMETER,ir.REDIRECT,ir.RECORD,ir.FLUSH,ir.GET,ir.POST];mt.METHOD_MAP=Rtt.enumToMap(ir);mt.H_METHOD_MAP={};Object.keys(mt.METHOD_MAP).forEach(t=>{/^H/.test(t)&&(mt.H_METHOD_MAP[t]=mt.METHOD_MAP[t])});var Ptt;(function(t){t[t.SAFE=0]="SAFE",t[t.SAFE_WITH_CB=1]="SAFE_WITH_CB",t[t.UNSAFE=2]="UNSAFE"})(Ptt=mt.FINISH||(mt.FINISH={}));mt.ALPHA=[];for(let t=65;t<=90;t++)mt.ALPHA.push(String.fromCharCode(t)),mt.ALPHA.push(String.fromCharCode(t+32));mt.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};mt.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};mt.NUM=["0","1","2","3","4","5","6","7","8","9"];mt.ALPHANUM=mt.ALPHA.concat(mt.NUM);mt.MARK=["-","_",".","!","~","*","'","(",")"];mt.USERINFO_CHARS=mt.ALPHANUM.concat(mt.MARK).concat(["%",";",":","&","=","+","$",","]);mt.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(mt.ALPHANUM);mt.URL_CHAR=mt.STRICT_URL_CHAR.concat(["	","\f"]);for(let t=128;t<=255;t++)mt.URL_CHAR.push(t);mt.HEX=mt.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);mt.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(mt.ALPHANUM);mt.TOKEN=mt.STRICT_TOKEN.concat([" "]);mt.HEADER_CHARS=["	"];for(let t=32;t<=255;t++)t!==127&&mt.HEADER_CHARS.push(t);mt.CONNECTION_TOKEN_CHARS=mt.HEADER_CHARS.filter(t=>t!==44);mt.MAJOR=mt.NUM_MAP;mt.MINOR=mt.MAJOR;var lv;(function(t){t[t.GENERAL=0]="GENERAL",t[t.CONNECTION=1]="CONNECTION",t[t.CONTENT_LENGTH=2]="CONTENT_LENGTH",t[t.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",t[t.UPGRADE=4]="UPGRADE",t[t.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",t[t.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",t[t.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",t[t.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(lv=mt.HEADER_STATE||(mt.HEADER_STATE={}));mt.SPECIAL_HEADERS={connection:lv.CONNECTION,"content-length":lv.CONTENT_LENGTH,"proxy-connection":lv.CONNECTION,"transfer-encoding":lv.TRANSFER_ENCODING,upgrade:lv.UPGRADE}});var Pj=q((vWr,uIe)=>{"use strict";u();var{Buffer:Ftt}=require("node:buffer");uIe.exports=Ftt.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVu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PgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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iQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEV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JSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB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CABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var dIe=q((_Wr,fIe)=>{"use strict";u();var{Buffer:Mtt}=require("node:buffer");fIe.exports=Mtt.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVu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PgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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iQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEV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JSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxB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AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB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AAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var kS=q((wWr,EIe)=>{"use strict";u();var hIe=["GET","HEAD","POST"],Ltt=new Set(hIe),Ott=[101,204,205,304],AIe=[301,302,303,307,308],Utt=new Set(AIe),pIe=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],Htt=new Set(pIe),mIe=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],qtt=new Set(mIe),Gtt=["follow","manual","error"],gIe=["GET","HEAD","OPTIONS","TRACE"],Vtt=new Set(gIe),Wtt=["navigate","same-origin","no-cors","cors"],Ytt=["omit","same-origin","include"],$tt=["default","no-store","reload","no-cache","force-cache","only-if-cached"],ztt=["content-encoding","content-language","content-location","content-type","content-length"],jtt=["half"],yIe=["CONNECT","TRACE","TRACK"],Ktt=new Set(yIe),CIe=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],Jtt=new Set(CIe);EIe.exports={subresource:CIe,forbiddenMethods:yIe,requestBodyHeader:ztt,referrerPolicy:mIe,requestRedirect:Gtt,requestMode:Wtt,requestCredentials:Ytt,requestCache:$tt,redirectStatus:AIe,corsSafeListedMethods:hIe,nullBodyStatus:Ott,safeMethods:gIe,badPorts:pIe,requestDuplex:jtt,subresourceSet:Jtt,badPortsSet:Htt,redirectStatusSet:Utt,corsSafeListedMethodsSet:Ltt,safeMethodsSet:Vtt,forbiddenMethodsSet:Ktt,referrerPolicySet:qtt}});var Mj=q((RWr,IIe)=>{"use strict";u();var Fj=Symbol.for("undici.globalOrigin.1");function Xtt(){return globalThis[Fj]}o(Xtt,"getGlobalOrigin");function Ztt(t){if(t===void 0){Object.defineProperty(globalThis,Fj,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let e=new URL(t);if(e.protocol!=="http:"&&e.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${e.protocol}`);Object.defineProperty(globalThis,Fj,{value:e,writable:!0,enumerable:!1,configurable:!1})}o(Ztt,"setGlobalOrigin");IIe.exports={getGlobalOrigin:Xtt,setGlobalOrigin:Ztt}});var Ac=q((NWr,wIe)=>{"use strict";u();var UQ=require("node:assert"),ert=new TextEncoder,DS=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,trt=/[\u000A\u000D\u0009\u0020]/,rrt=/[\u0009\u000A\u000C\u000D\u0020]/g,nrt=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function irt(t){UQ(t.protocol==="data:");let e=vIe(t,!0);e=e.slice(5);let r={position:0},n=uv(",",e,r),i=n.length;if(n=urt(n,!0,!0),r.position>=e.length)return"failure";r.position++;let s=e.slice(i+1),a=TIe(s);if(/;(\u0020){0,}base64$/i.test(n)){let l=SIe(a);if(a=srt(l),a==="failure")return"failure";n=n.slice(0,-6),n=n.replace(/(\u0020)+$/,""),n=n.slice(0,-1)}n.startsWith(";")&&(n="text/plain"+n);let c=Lj(n);return c==="failure"&&(c=Lj("text/plain;charset=US-ASCII")),{mimeType:c,body:a}}o(irt,"dataURLProcessor");function vIe(t,e=!1){if(!e)return t.href;let r=t.href,n=t.hash.length,i=n===0?r:r.substring(0,r.length-n);return!n&&r.endsWith("#")?i.slice(0,-1):i}o(vIe,"URLSerializer");function HQ(t,e,r){let n="";for(;r.position<e.length&&t(e[r.position]);)n+=e[r.position],r.position++;return n}o(HQ,"collectASequenceOfCodePoints");function uv(t,e,r){let n=e.indexOf(t,r.position),i=r.position;return n===-1?(r.position=e.length,e.slice(i)):(r.position=n,e.slice(i,r.position))}o(uv,"collectASequenceOfCodePointsFast");function TIe(t){let e=ert.encode(t);return ort(e)}o(TIe,"stringPercentDecode");function xIe(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}o(xIe,"isHexCharByte");function bIe(t){return t>=48&&t<=57?t-48:(t&223)-55}o(bIe,"hexByteToNumber");function ort(t){let e=t.length,r=new Uint8Array(e),n=0;for(let i=0;i<e;++i){let s=t[i];s!==37?r[n++]=s:s===37&&!(xIe(t[i+1])&&xIe(t[i+2]))?r[n++]=37:(r[n++]=bIe(t[i+1])<<4|bIe(t[i+2]),i+=2)}return e===n?r:r.subarray(0,n)}o(ort,"percentDecode");function Lj(t){t=OQ(t,!0,!0);let e={position:0},r=uv("/",t,e);if(r.length===0||!DS.test(r)||e.position>t.length)return"failure";e.position++;let n=uv(";",t,e);if(n=OQ(n,!1,!0),n.length===0||!DS.test(n))return"failure";let i=r.toLowerCase(),s=n.toLowerCase(),a={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;e.position<t.length;){e.position++,HQ(f=>trt.test(f),t,e);let c=HQ(f=>f!==";"&&f!=="=",t,e);if(c=c.toLowerCase(),e.position<t.length){if(t[e.position]===";")continue;e.position++}if(e.position>t.length)break;let l=null;if(t[e.position]==='"')l=_Ie(t,e,!0),uv(";",t,e);else if(l=uv(";",t,e),l=OQ(l,!1,!0),l.length===0)continue;c.length!==0&&DS.test(c)&&(l.length===0||nrt.test(l))&&!a.parameters.has(c)&&a.parameters.set(c,l)}return a}o(Lj,"parseMIMEType");function srt(t){t=t.replace(rrt,"");let e=t.length;if(e%4===0&&t.charCodeAt(e-1)===61&&(--e,t.charCodeAt(e-1)===61&&--e),e%4===1||/[^+/0-9A-Za-z]/.test(t.length===e?t:t.substring(0,e)))return"failure";let r=Buffer.from(t,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}o(srt,"forgivingBase64");function _Ie(t,e,r){let n=e.position,i="";for(UQ(t[e.position]==='"'),e.position++;i+=HQ(a=>a!=='"'&&a!=="\\",t,e),!(e.position>=t.length);){let s=t[e.position];if(e.position++,s==="\\"){if(e.position>=t.length){i+="\\";break}i+=t[e.position],e.position++}else{UQ(s==='"');break}}return r?i:t.slice(n,e.position)}o(_Ie,"collectAnHTTPQuotedString");function art(t){UQ(t!=="failure");let{parameters:e,essence:r}=t,n=r;for(let[i,s]of e.entries())n+=";",n+=i,n+="=",DS.test(s)||(s=s.replace(/(\\|")/g,"\\$1"),s='"'+s,s+='"'),n+=s;return n}o(art,"serializeAMimeType");function crt(t){return t===13||t===10||t===9||t===32}o(crt,"isHTTPWhiteSpace");function OQ(t,e=!0,r=!0){return Oj(t,e,r,crt)}o(OQ,"removeHTTPWhitespace");function lrt(t){return t===13||t===10||t===9||t===12||t===32}o(lrt,"isASCIIWhitespace");function urt(t,e=!0,r=!0){return Oj(t,e,r,lrt)}o(urt,"removeASCIIWhitespace");function Oj(t,e,r,n){let i=0,s=t.length-1;if(e)for(;i<t.length&&n(t.charCodeAt(i));)i++;if(r)for(;s>0&&n(t.charCodeAt(s));)s--;return i===0&&s===t.length-1?t:t.slice(i,s+1)}o(Oj,"removeChars");function SIe(t){let e=t.length;if(65535>e)return String.fromCharCode.apply(null,t);let r="",n=0,i=65535;for(;n<e;)n+i>e&&(i=e-n),r+=String.fromCharCode.apply(null,t.subarray(n,n+=i));return r}o(SIe,"isomorphicDecode");function frt(t){switch(t.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return t.subtype.endsWith("+json")?"application/json":t.subtype.endsWith("+xml")?"application/xml":""}o(frt,"minimizeSupportedMimeType");wIe.exports={dataURLProcessor:irt,URLSerializer:vIe,collectASequenceOfCodePoints:HQ,collectASequenceOfCodePointsFast:uv,stringPercentDecode:TIe,parseMIMEType:Lj,collectAnHTTPQuotedString:_Ie,serializeAMimeType:art,removeChars:Oj,removeHTTPWhitespace:OQ,minimizeSupportedMimeType:frt,HTTP_TOKEN_CODEPOINTS:DS,isomorphicDecode:SIe}});var Da=q((FWr,BIe)=>{"use strict";u();var{types:th,inspect:drt}=require("node:util"),{markAsUncloneable:hrt}=require("node:worker_threads"),{toUSVString:Art}=dn(),ft={};ft.converters={};ft.util={};ft.errors={};ft.errors.exception=function(t){return new TypeError(`${t.header}: ${t.message}`)};ft.errors.conversionFailed=function(t){let e=t.types.length===1?"":" one of",r=`${t.argument} could not be converted to${e}: ${t.types.join(", ")}.`;return ft.errors.exception({header:t.prefix,message:r})};ft.errors.invalidArgument=function(t){return ft.errors.exception({header:t.prefix,message:`"${t.value}" is an invalid ${t.type}.`})};ft.brandCheck=function(t,e,r){if(r?.strict!==!1){if(!(t instanceof e)){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}}else if(t?.[Symbol.toStringTag]!==e.prototype[Symbol.toStringTag]){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}};ft.argumentLengthCheck=function({length:t},e,r){if(t<e)throw ft.errors.exception({message:`${e} argument${e!==1?"s":""} required, but${t?" only":""} ${t} found.`,header:r})};ft.illegalConstructor=function(){throw ft.errors.exception({header:"TypeError",message:"Illegal constructor"})};ft.util.Type=function(t){switch(typeof t){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return t===null?"Null":"Object"}};ft.util.markAsUncloneable=hrt||(()=>{});ft.util.ConvertToInt=function(t,e,r,n){let i,s;e===64?(i=Math.pow(2,53)-1,r==="unsigned"?s=0:s=Math.pow(-2,53)+1):r==="unsigned"?(s=0,i=Math.pow(2,e)-1):(s=Math.pow(-2,e)-1,i=Math.pow(2,e-1)-1);let a=Number(t);if(a===0&&(a=0),n?.enforceRange===!0){if(Number.isNaN(a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)throw ft.errors.exception({header:"Integer conversion",message:`Could not convert ${ft.util.Stringify(t)} to an integer.`});if(a=ft.util.IntegerPart(a),a<s||a>i)throw ft.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${a}.`});return a}return!Number.isNaN(a)&&n?.clamp===!0?(a=Math.min(Math.max(a,s),i),Math.floor(a)%2===0?a=Math.floor(a):a=Math.ceil(a),a):Number.isNaN(a)||a===0&&Object.is(0,a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY?0:(a=ft.util.IntegerPart(a),a=a%Math.pow(2,e),r==="signed"&&a>=Math.pow(2,e)-1?a-Math.pow(2,e):a)};ft.util.IntegerPart=function(t){let e=Math.floor(Math.abs(t));return t<0?-1*e:e};ft.util.Stringify=function(t){switch(ft.util.Type(t)){case"Symbol":return`Symbol(${t.description})`;case"Object":return drt(t);case"String":return`"${t}"`;default:return`${t}`}};ft.sequenceConverter=function(t){return(e,r,n,i)=>{if(ft.util.Type(e)!=="Object")throw ft.errors.exception({header:r,message:`${n} (${ft.util.Stringify(e)}) is not iterable.`});let s=typeof i=="function"?i():e?.[Symbol.iterator]?.(),a=[],c=0;if(s===void 0||typeof s.next!="function")throw ft.errors.exception({header:r,message:`${n} is not iterable.`});for(;;){let{done:l,value:f}=s.next();if(l)break;a.push(t(f,r,`${n}[${c++}]`))}return a}};ft.recordConverter=function(t,e){return(r,n,i)=>{if(ft.util.Type(r)!=="Object")throw ft.errors.exception({header:n,message:`${i} ("${ft.util.Type(r)}") is not an Object.`});let s={};if(!th.isProxy(r)){let c=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(let l of c){let f=t(l,n,i),d=e(r[l],n,i);s[f]=d}return s}let a=Reflect.ownKeys(r);for(let c of a)if(Reflect.getOwnPropertyDescriptor(r,c)?.enumerable){let f=t(c,n,i),d=e(r[c],n,i);s[f]=d}return s}};ft.interfaceConverter=function(t){return(e,r,n,i)=>{if(i?.strict!==!1&&!(e instanceof t))throw ft.errors.exception({header:r,message:`Expected ${n} ("${ft.util.Stringify(e)}") to be an instance of ${t.name}.`});return e}};ft.dictionaryConverter=function(t){return(e,r,n)=>{let i=ft.util.Type(e),s={};if(i==="Null"||i==="Undefined")return s;if(i!=="Object")throw ft.errors.exception({header:r,message:`Expected ${e} to be one of: Null, Undefined, Object.`});for(let a of t){let{key:c,defaultValue:l,required:f,converter:d}=a;if(f===!0&&!Object.hasOwn(e,c))throw ft.errors.exception({header:r,message:`Missing required key "${c}".`});let h=e[c],A=Object.hasOwn(a,"defaultValue");if(A&&h!==null&&(h??=l()),f||A||h!==void 0){if(h=d(h,r,`${n}.${c}`),a.allowedValues&&!a.allowedValues.includes(h))throw ft.errors.exception({header:r,message:`${h} is not an accepted type. Expected one of ${a.allowedValues.join(", ")}.`});s[c]=h}}return s}};ft.nullableConverter=function(t){return(e,r,n)=>e===null?e:t(e,r,n)};ft.converters.DOMString=function(t,e,r,n){if(t===null&&n?.legacyNullToEmptyString)return"";if(typeof t=="symbol")throw ft.errors.exception({header:e,message:`${r} is a symbol, which cannot be converted to a DOMString.`});return String(t)};ft.converters.ByteString=function(t,e,r){let n=ft.converters.DOMString(t,e,r);for(let i=0;i<n.length;i++)if(n.charCodeAt(i)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${i} has a value of ${n.charCodeAt(i)} which is greater than 255.`);return n};ft.converters.USVString=Art;ft.converters.boolean=function(t){return!!t};ft.converters.any=function(t){return t};ft.converters["long long"]=function(t,e,r){return ft.util.ConvertToInt(t,64,"signed",void 0,e,r)};ft.converters["unsigned long long"]=function(t,e,r){return ft.util.ConvertToInt(t,64,"unsigned",void 0,e,r)};ft.converters["unsigned long"]=function(t,e,r){return ft.util.ConvertToInt(t,32,"unsigned",void 0,e,r)};ft.converters["unsigned short"]=function(t,e,r,n){return ft.util.ConvertToInt(t,16,"unsigned",n,e,r)};ft.converters.ArrayBuffer=function(t,e,r,n){if(ft.util.Type(t)!=="Object"||!th.isAnyArrayBuffer(t))throw ft.errors.conversionFailed({prefix:e,argument:`${r} ("${ft.util.Stringify(t)}")`,types:["ArrayBuffer"]});if(n?.allowShared===!1&&th.isSharedArrayBuffer(t))throw ft.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(t.resizable||t.growable)throw ft.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return t};ft.converters.TypedArray=function(t,e,r,n,i){if(ft.util.Type(t)!=="Object"||!th.isTypedArray(t)||t.constructor.name!==e.name)throw ft.errors.conversionFailed({prefix:r,argument:`${n} ("${ft.util.Stringify(t)}")`,types:[e.name]});if(i?.allowShared===!1&&th.isSharedArrayBuffer(t.buffer))throw ft.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(t.buffer.resizable||t.buffer.growable)throw ft.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return t};ft.converters.DataView=function(t,e,r,n){if(ft.util.Type(t)!=="Object"||!th.isDataView(t))throw ft.errors.exception({header:e,message:`${r} is not a DataView.`});if(n?.allowShared===!1&&th.isSharedArrayBuffer(t.buffer))throw ft.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(t.buffer.resizable||t.buffer.growable)throw ft.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return t};ft.converters.BufferSource=function(t,e,r,n){if(th.isAnyArrayBuffer(t))return ft.converters.ArrayBuffer(t,e,r,{...n,allowShared:!1});if(th.isTypedArray(t))return ft.converters.TypedArray(t,t.constructor,e,r,{...n,allowShared:!1});if(th.isDataView(t))return ft.converters.DataView(t,e,r,{...n,allowShared:!1});throw ft.errors.conversionFailed({prefix:e,argument:`${r} ("${ft.util.Stringify(t)}")`,types:["BufferSource"]})};ft.converters["sequence<ByteString>"]=ft.sequenceConverter(ft.converters.ByteString);ft.converters["sequence<sequence<ByteString>>"]=ft.sequenceConverter(ft.converters["sequence<ByteString>"]);ft.converters["record<ByteString, ByteString>"]=ft.recordConverter(ft.converters.ByteString,ft.converters.ByteString);BIe.exports={webidl:ft}});var ol=q((LWr,GIe)=>{"use strict";u();var{Transform:prt}=require("node:stream"),RIe=require("node:zlib"),{redirectStatusSet:mrt,referrerPolicySet:grt,badPortsSet:yrt}=kS(),{getGlobalOrigin:kIe}=Mj(),{collectASequenceOfCodePoints:IE,collectAnHTTPQuotedString:Crt,removeChars:Ert,parseMIMEType:Irt}=Ac(),{performance:xrt}=require("node:perf_hooks"),{isBlobLike:brt,ReadableStreamFrom:vrt,isValidHTTPToken:DIe,normalizedMethodRecordsBase:Trt}=dn(),xE=require("node:assert"),{isUint8Array:_rt}=require("node:util/types"),{webidl:NS}=Da(),NIe=[],GQ;try{GQ=require("node:crypto");let t=["sha256","sha384","sha512"];NIe=GQ.getHashes().filter(e=>t.includes(e))}catch{}function QIe(t){let e=t.urlList,r=e.length;return r===0?null:e[r-1].toString()}o(QIe,"responseURL");function Srt(t,e){if(!mrt.has(t.status))return null;let r=t.headersList.get("location",!0);return r!==null&&FIe(r)&&(PIe(r)||(r=wrt(r)),r=new URL(r,QIe(t))),r&&!r.hash&&(r.hash=e),r}o(Srt,"responseLocationURL");function PIe(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r>126||r<32)return!1}return!0}o(PIe,"isValidEncodedURL");function wrt(t){return Buffer.from(t,"binary").toString("utf8")}o(wrt,"normalizeBinaryStringToUtf8");function PS(t){return t.urlList[t.urlList.length-1]}o(PS,"requestCurrentURL");function Brt(t){let e=PS(t);return HIe(e)&&yrt.has(e.port)?"blocked":"allowed"}o(Brt,"requestBadPort");function Rrt(t){return t instanceof Error||t?.constructor?.name==="Error"||t?.constructor?.name==="DOMException"}o(Rrt,"isErrorLike");function krt(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(!(r===9||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}o(krt,"isValidReasonPhrase");var Drt=DIe;function FIe(t){return(t[0]==="	"||t[0]===" "||t[t.length-1]==="	"||t[t.length-1]===" "||t.includes(`
`)||t.includes("\r")||t.includes("\0"))===!1}o(FIe,"isValidHeaderValue");function Nrt(t,e){let{headersList:r}=e,n=(r.get("referrer-policy",!0)??"").split(","),i="";if(n.length>0)for(let s=n.length;s!==0;s--){let a=n[s-1].trim();if(grt.has(a)){i=a;break}}i!==""&&(t.referrerPolicy=i)}o(Nrt,"setRequestReferrerPolicyOnRedirect");function Qrt(){return"allowed"}o(Qrt,"crossOriginResourcePolicyCheck");function Prt(){return"success"}o(Prt,"corsCheck");function Frt(){return"success"}o(Frt,"TAOCheck");function Mrt(t){let e=null;e=t.mode,t.headersList.set("sec-fetch-mode",e,!0)}o(Mrt,"appendFetchMetadata");function Lrt(t){let e=t.origin;if(!(e==="client"||e===void 0)){if(t.responseTainting==="cors"||t.mode==="websocket")t.headersList.append("origin",e,!0);else if(t.method!=="GET"&&t.method!=="HEAD"){switch(t.referrerPolicy){case"no-referrer":e=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":t.origin&&Hj(t.origin)&&!Hj(PS(t))&&(e=null);break;case"same-origin":VQ(t,PS(t))||(e=null);break;default:}t.headersList.append("origin",e,!0)}}}o(Lrt,"appendRequestOriginHeader");function fv(t,e){return t}o(fv,"coarsenTime");function Ort(t,e,r){return!t?.startTime||t.startTime<e?{domainLookupStartTime:e,domainLookupEndTime:e,connectionStartTime:e,connectionEndTime:e,secureConnectionStartTime:e,ALPNNegotiatedProtocol:t?.ALPNNegotiatedProtocol}:{domainLookupStartTime:fv(t.domainLookupStartTime,r),domainLookupEndTime:fv(t.domainLookupEndTime,r),connectionStartTime:fv(t.connectionStartTime,r),connectionEndTime:fv(t.connectionEndTime,r),secureConnectionStartTime:fv(t.secureConnectionStartTime,r),ALPNNegotiatedProtocol:t.ALPNNegotiatedProtocol}}o(Ort,"clampAndCoarsenConnectionTimingInfo");function Urt(t){return fv(xrt.now(),t)}o(Urt,"coarsenedSharedCurrentTime");function Hrt(t){return{startTime:t.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:t.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}o(Hrt,"createOpaqueTimingInfo");function MIe(){return{referrerPolicy:"strict-origin-when-cross-origin"}}o(MIe,"makePolicyContainer");function qrt(t){return{referrerPolicy:t.referrerPolicy}}o(qrt,"clonePolicyContainer");function Grt(t){let e=t.referrerPolicy;xE(e);let r=null;if(t.referrer==="client"){let c=kIe();if(!c||c.origin==="null")return"no-referrer";r=new URL(c)}else t.referrer instanceof URL&&(r=t.referrer);let n=Uj(r),i=Uj(r,!0);n.toString().length>4096&&(n=i);let s=VQ(t,n),a=QS(n)&&!QS(t.url);switch(e){case"origin":return i??Uj(r,!0);case"unsafe-url":return n;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?n:i;case"strict-origin-when-cross-origin":{let c=PS(t);return VQ(n,c)?n:QS(n)&&!QS(c)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return a?"no-referrer":i}}o(Grt,"determineRequestsReferrer");function Uj(t,e){return xE(t instanceof URL),t=new URL(t),t.protocol==="file:"||t.protocol==="about:"||t.protocol==="blank:"?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t)}o(Uj,"stripURLForReferrer");function QS(t){if(!(t instanceof URL))return!1;if(t.href==="about:blank"||t.href==="about:srcdoc"||t.protocol==="data:"||t.protocol==="file:")return!0;return e(t.origin);function e(r){if(r==null||r==="null")return!1;let n=new URL(r);return!!(n.protocol==="https:"||n.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(n.hostname)||n.hostname==="localhost"||n.hostname.includes("localhost.")||n.hostname.endsWith(".localhost"))}}o(QS,"isURLPotentiallyTrustworthy");function Vrt(t,e){if(GQ===void 0)return!0;let r=LIe(e);if(r==="no metadata"||r.length===0)return!0;let n=Yrt(r),i=$rt(r,n);for(let s of i){let a=s.algo,c=s.hash,l=GQ.createHash(a).update(t).digest("base64");if(l[l.length-1]==="="&&(l[l.length-2]==="="?l=l.slice(0,-2):l=l.slice(0,-1)),zrt(l,c))return!0}return!1}o(Vrt,"bytesMatch");var Wrt=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function LIe(t){let e=[],r=!0;for(let n of t.split(" ")){r=!1;let i=Wrt.exec(n);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let s=i.groups.algo.toLowerCase();NIe.includes(s)&&e.push(i.groups)}return r===!0?"no metadata":e}o(LIe,"parseMetadata");function Yrt(t){let e=t[0].algo;if(e[3]==="5")return e;for(let r=1;r<t.length;++r){let n=t[r];if(n.algo[3]==="5"){e="sha512";break}else{if(e[3]==="3")continue;n.algo[3]==="3"&&(e="sha384")}}return e}o(Yrt,"getStrongestMetadata");function $rt(t,e){if(t.length===1)return t;let r=0;for(let n=0;n<t.length;++n)t[n].algo===e&&(t[r++]=t[n]);return t.length=r,t}o($rt,"filterMetadataListByAlgorithm");function zrt(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r]){if(t[r]==="+"&&e[r]==="-"||t[r]==="/"&&e[r]==="_")continue;return!1}return!0}o(zrt,"compareBase64Mixed");function jrt(t){}o(jrt,"tryUpgradeRequestToAPotentiallyTrustworthyURL");function VQ(t,e){return t.origin===e.origin&&t.origin==="null"||t.protocol===e.protocol&&t.hostname===e.hostname&&t.port===e.port}o(VQ,"sameOrigin");function Krt(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}o(Krt,"createDeferredPromise");function Jrt(t){return t.controller.state==="aborted"}o(Jrt,"isAborted");function Xrt(t){return t.controller.state==="aborted"||t.controller.state==="terminated"}o(Xrt,"isCancelled");function Zrt(t){return Trt[t.toLowerCase()]??t}o(Zrt,"normalizeMethod");function ent(t){let e=JSON.stringify(t);if(e===void 0)throw new TypeError("Value is not JSON serializable");return xE(typeof e=="string"),e}o(ent,"serializeJavascriptValueToJSONString");var tnt=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function OIe(t,e,r=0,n=1){class i{static{o(this,"FastIterableIterator")}#e;#t;#i;constructor(a,c){this.#e=a,this.#t=c,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${t} Iterator.`);let a=this.#i,c=this.#e[e],l=c.length;if(a>=l)return{value:void 0,done:!0};let{[r]:f,[n]:d}=c[a];this.#i=a+1;let h;switch(this.#t){case"key":h=f;break;case"value":h=d;break;case"key+value":h=[f,d];break}return{value:h,done:!1}}}return delete i.prototype.constructor,Object.setPrototypeOf(i.prototype,tnt),Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${t} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(s,a){return new i(s,a)}}o(OIe,"createIterator");function rnt(t,e,r,n=0,i=1){let s=OIe(t,r,n,i),a={keys:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return NS.brandCheck(this,e),s(this,"key")},"keys")},values:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return NS.brandCheck(this,e),s(this,"value")},"values")},entries:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return NS.brandCheck(this,e),s(this,"key+value")},"entries")},forEach:{writable:!0,enumerable:!0,configurable:!0,value:o(function(l,f=globalThis){if(NS.brandCheck(this,e),NS.argumentLengthCheck(arguments,1,`${t}.forEach`),typeof l!="function")throw new TypeError(`Failed to execute 'forEach' on '${t}': parameter 1 is not of type 'Function'.`);for(let{0:d,1:h}of s(this,"key+value"))l.call(f,h,d,this)},"forEach")}};return Object.defineProperties(e.prototype,{...a,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:a.entries.value}})}o(rnt,"iteratorMixin");async function nnt(t,e,r){let n=e,i=r,s;try{s=t.stream.getReader()}catch(a){i(a);return}try{n(await UIe(s))}catch(a){i(a)}}o(nnt,"fullyReadBody");function int(t){return t instanceof ReadableStream||t[Symbol.toStringTag]==="ReadableStream"&&typeof t.tee=="function"}o(int,"isReadableStreamLike");function ont(t){try{t.close(),t.byobRequest?.respond(0)}catch(e){if(!e.message.includes("Controller is already closed")&&!e.message.includes("ReadableStream is already closed"))throw e}}o(ont,"readableStreamClose");var snt=/[^\x00-\xFF]/;function qQ(t){return xE(!snt.test(t)),t}o(qQ,"isomorphicEncode");async function UIe(t){let e=[],r=0;for(;;){let{done:n,value:i}=await t.read();if(n)return Buffer.concat(e,r);if(!_rt(i))throw new TypeError("Received non-Uint8Array chunk");e.push(i),r+=i.length}}o(UIe,"readAllBytes");function ant(t){xE("protocol"in t);let e=t.protocol;return e==="about:"||e==="blob:"||e==="data:"}o(ant,"urlIsLocal");function Hj(t){return typeof t=="string"&&t[5]===":"&&t[0]==="h"&&t[1]==="t"&&t[2]==="t"&&t[3]==="p"&&t[4]==="s"||t.protocol==="https:"}o(Hj,"urlHasHttpsScheme");function HIe(t){xE("protocol"in t);let e=t.protocol;return e==="http:"||e==="https:"}o(HIe,"urlIsHttpHttpsScheme");function cnt(t,e){let r=t;if(!r.startsWith("bytes"))return"failure";let n={position:5};if(e&&IE(l=>l==="	"||l===" ",r,n),r.charCodeAt(n.position)!==61)return"failure";n.position++,e&&IE(l=>l==="	"||l===" ",r,n);let i=IE(l=>{let f=l.charCodeAt(0);return f>=48&&f<=57},r,n),s=i.length?Number(i):null;if(e&&IE(l=>l==="	"||l===" ",r,n),r.charCodeAt(n.position)!==45)return"failure";n.position++,e&&IE(l=>l==="	"||l===" ",r,n);let a=IE(l=>{let f=l.charCodeAt(0);return f>=48&&f<=57},r,n),c=a.length?Number(a):null;return n.position<r.length||c===null&&s===null||s>c?"failure":{rangeStartValue:s,rangeEndValue:c}}o(cnt,"simpleRangeHeaderValue");function lnt(t,e,r){let n="bytes ";return n+=qQ(`${t}`),n+="-",n+=qQ(`${e}`),n+="/",n+=qQ(`${r}`),n}o(lnt,"buildContentRange");var qj=class extends prt{static{o(this,"InflateStream")}#e;constructor(e){super(),this.#e=e}_transform(e,r,n){if(!this._inflateStream){if(e.length===0){n();return}this._inflateStream=(e[0]&15)===8?RIe.createInflate(this.#e):RIe.createInflateRaw(this.#e),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",i=>this.destroy(i))}this._inflateStream.write(e,r,n)}_final(e){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),e()}};function unt(t){return new qj(t)}o(unt,"createInflate");function fnt(t){let e=null,r=null,n=null,i=qIe("content-type",t);if(i===null)return"failure";for(let s of i){let a=Irt(s);a==="failure"||a.essence==="*/*"||(n=a,n.essence!==r?(e=null,n.parameters.has("charset")&&(e=n.parameters.get("charset")),r=n.essence):!n.parameters.has("charset")&&e!==null&&n.parameters.set("charset",e))}return n??"failure"}o(fnt,"extractMimeType");function dnt(t){let e=t,r={position:0},n=[],i="";for(;r.position<e.length;){if(i+=IE(s=>s!=='"'&&s!==",",e,r),r.position<e.length)if(e.charCodeAt(r.position)===34){if(i+=Crt(e,r),r.position<e.length)continue}else xE(e.charCodeAt(r.position)===44),r.position++;i=Ert(i,!0,!0,s=>s===9||s===32),n.push(i),i=""}return n}o(dnt,"gettingDecodingSplitting");function qIe(t,e){let r=e.get(t,!0);return r===null?null:dnt(r)}o(qIe,"getDecodeSplit");var hnt=new TextDecoder;function Ant(t){return t.length===0?"":(t[0]===239&&t[1]===187&&t[2]===191&&(t=t.subarray(3)),hnt.decode(t))}o(Ant,"utf8DecodeBytes");var Gj=class{static{o(this,"EnvironmentSettingsObjectBase")}get baseUrl(){return kIe()}get origin(){return this.baseUrl?.origin}policyContainer=MIe()},Vj=class{static{o(this,"EnvironmentSettingsObject")}settingsObject=new Gj},pnt=new Vj;GIe.exports={isAborted:Jrt,isCancelled:Xrt,isValidEncodedURL:PIe,createDeferredPromise:Krt,ReadableStreamFrom:vrt,tryUpgradeRequestToAPotentiallyTrustworthyURL:jrt,clampAndCoarsenConnectionTimingInfo:Ort,coarsenedSharedCurrentTime:Urt,determineRequestsReferrer:Grt,makePolicyContainer:MIe,clonePolicyContainer:qrt,appendFetchMetadata:Mrt,appendRequestOriginHeader:Lrt,TAOCheck:Frt,corsCheck:Prt,crossOriginResourcePolicyCheck:Qrt,createOpaqueTimingInfo:Hrt,setRequestReferrerPolicyOnRedirect:Nrt,isValidHTTPToken:DIe,requestBadPort:Brt,requestCurrentURL:PS,responseURL:QIe,responseLocationURL:Srt,isBlobLike:brt,isURLPotentiallyTrustworthy:QS,isValidReasonPhrase:krt,sameOrigin:VQ,normalizeMethod:Zrt,serializeJavascriptValueToJSONString:ent,iteratorMixin:rnt,createIterator:OIe,isValidHeaderName:Drt,isValidHeaderValue:FIe,isErrorLike:Rrt,fullyReadBody:nnt,bytesMatch:Vrt,isReadableStreamLike:int,readableStreamClose:ont,isomorphicEncode:qQ,urlIsLocal:ant,urlHasHttpsScheme:Hj,urlIsHttpHttpsScheme:HIe,readAllBytes:UIe,simpleRangeHeaderValue:cnt,buildContentRange:lnt,parseMetadata:LIe,createInflate:unt,extractMimeType:fnt,getDecodeSplit:qIe,utf8DecodeBytes:Ant,environmentSettingsObject:pnt}});var Zg=q((HWr,VIe)=>{"use strict";u();VIe.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var Yj=q((GWr,WIe)=>{"use strict";u();var{Blob:mnt,File:gnt}=require("node:buffer"),{kState:zA}=Zg(),{webidl:rh}=Da(),Wj=class t{static{o(this,"FileLike")}constructor(e,r,n={}){let i=r,s=n.type,a=n.lastModified??Date.now();this[zA]={blobLike:e,name:i,type:s,lastModified:a}}stream(...e){return rh.brandCheck(this,t),this[zA].blobLike.stream(...e)}arrayBuffer(...e){return rh.brandCheck(this,t),this[zA].blobLike.arrayBuffer(...e)}slice(...e){return rh.brandCheck(this,t),this[zA].blobLike.slice(...e)}text(...e){return rh.brandCheck(this,t),this[zA].blobLike.text(...e)}get size(){return rh.brandCheck(this,t),this[zA].blobLike.size}get type(){return rh.brandCheck(this,t),this[zA].blobLike.type}get name(){return rh.brandCheck(this,t),this[zA].name}get lastModified(){return rh.brandCheck(this,t),this[zA].lastModified}get[Symbol.toStringTag](){return"File"}};rh.converters.Blob=rh.interfaceConverter(mnt);function ynt(t){return t instanceof gnt||t&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&t[Symbol.toStringTag]==="File"}o(ynt,"isFileLike");WIe.exports={FileLike:Wj,isFileLike:ynt}});var LS=q((YWr,KIe)=>{"use strict";u();var{isBlobLike:WQ,iteratorMixin:Cnt}=ol(),{kState:_0}=Zg(),{kEnumerableProperty:dv}=dn(),{FileLike:YIe,isFileLike:Ent}=Yj(),{webidl:Oi}=Da(),{File:jIe}=require("node:buffer"),$Ie=require("node:util"),zIe=globalThis.File??jIe,MS=class t{static{o(this,"FormData")}constructor(e){if(Oi.util.markAsUncloneable(this),e!==void 0)throw Oi.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[_0]=[]}append(e,r,n=void 0){Oi.brandCheck(this,t);let i="FormData.append";if(Oi.argumentLengthCheck(arguments,2,i),arguments.length===3&&!WQ(r))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");e=Oi.converters.USVString(e,i,"name"),r=WQ(r)?Oi.converters.Blob(r,i,"value",{strict:!1}):Oi.converters.USVString(r,i,"value"),n=arguments.length===3?Oi.converters.USVString(n,i,"filename"):void 0;let s=$j(e,r,n);this[_0].push(s)}delete(e){Oi.brandCheck(this,t);let r="FormData.delete";Oi.argumentLengthCheck(arguments,1,r),e=Oi.converters.USVString(e,r,"name"),this[_0]=this[_0].filter(n=>n.name!==e)}get(e){Oi.brandCheck(this,t);let r="FormData.get";Oi.argumentLengthCheck(arguments,1,r),e=Oi.converters.USVString(e,r,"name");let n=this[_0].findIndex(i=>i.name===e);return n===-1?null:this[_0][n].value}getAll(e){Oi.brandCheck(this,t);let r="FormData.getAll";return Oi.argumentLengthCheck(arguments,1,r),e=Oi.converters.USVString(e,r,"name"),this[_0].filter(n=>n.name===e).map(n=>n.value)}has(e){Oi.brandCheck(this,t);let r="FormData.has";return Oi.argumentLengthCheck(arguments,1,r),e=Oi.converters.USVString(e,r,"name"),this[_0].findIndex(n=>n.name===e)!==-1}set(e,r,n=void 0){Oi.brandCheck(this,t);let i="FormData.set";if(Oi.argumentLengthCheck(arguments,2,i),arguments.length===3&&!WQ(r))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");e=Oi.converters.USVString(e,i,"name"),r=WQ(r)?Oi.converters.Blob(r,i,"name",{strict:!1}):Oi.converters.USVString(r,i,"name"),n=arguments.length===3?Oi.converters.USVString(n,i,"name"):void 0;let s=$j(e,r,n),a=this[_0].findIndex(c=>c.name===e);a!==-1?this[_0]=[...this[_0].slice(0,a),s,...this[_0].slice(a+1).filter(c=>c.name!==e)]:this[_0].push(s)}[$Ie.inspect.custom](e,r){let n=this[_0].reduce((s,a)=>(s[a.name]?Array.isArray(s[a.name])?s[a.name].push(a.value):s[a.name]=[s[a.name],a.value]:s[a.name]=a.value,s),{__proto__:null});r.depth??=e,r.colors??=!0;let i=$Ie.formatWithOptions(r,n);return`FormData ${i.slice(i.indexOf("]")+2)}`}};Cnt("FormData",MS,_0,"name","value");Object.defineProperties(MS.prototype,{append:dv,delete:dv,get:dv,getAll:dv,has:dv,set:dv,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function $j(t,e,r){if(typeof e!="string"){if(Ent(e)||(e=e instanceof Blob?new zIe([e],"blob",{type:e.type}):new YIe(e,"blob",{type:e.type})),r!==void 0){let n={type:e.type,lastModified:e.lastModified};e=e instanceof jIe?new zIe([e],r,n):new YIe(e,r,n)}}return{name:t,value:e}}o($j,"makeEntry");KIe.exports={FormData:MS,makeEntry:$j}});var r2e=q((jWr,t2e)=>{"use strict";u();var{isUSVString:JIe,bufferToLowerCasedHeaderName:Int}=dn(),{utf8DecodeBytes:xnt}=ol(),{HTTP_TOKEN_CODEPOINTS:bnt,isomorphicDecode:XIe}=Ac(),{isFileLike:vnt}=Yj(),{makeEntry:Tnt}=LS(),YQ=require("node:assert"),{File:_nt}=require("node:buffer"),Snt=globalThis.File??_nt,wnt=Buffer.from('form-data; name="'),ZIe=Buffer.from("; filename"),Bnt=Buffer.from("--"),Rnt=Buffer.from(`--\r
`);function knt(t){for(let e=0;e<t.length;++e)if((t.charCodeAt(e)&-128)!==0)return!1;return!0}o(knt,"isAsciiString");function Dnt(t){let e=t.length;if(e<27||e>70)return!1;for(let r=0;r<e;++r){let n=t.charCodeAt(r);if(!(n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||n===39||n===45||n===95))return!1}return!0}o(Dnt,"validateBoundary");function Nnt(t,e){YQ(e!=="failure"&&e.essence==="multipart/form-data");let r=e.parameters.get("boundary");if(r===void 0)return"failure";let n=Buffer.from(`--${r}`,"utf8"),i=[],s={position:0};for(;t[s.position]===13&&t[s.position+1]===10;)s.position+=2;let a=t.length;for(;t[a-1]===10&&t[a-2]===13;)a-=2;for(a!==t.length&&(t=t.subarray(0,a));;){if(t.subarray(s.position,s.position+n.length).equals(n))s.position+=n.length;else return"failure";if(s.position===t.length-2&&$Q(t,Bnt,s)||s.position===t.length-4&&$Q(t,Rnt,s))return i;if(t[s.position]!==13||t[s.position+1]!==10)return"failure";s.position+=2;let c=Qnt(t,s);if(c==="failure")return"failure";let{name:l,filename:f,contentType:d,encoding:h}=c;s.position+=2;let A;{let y=t.indexOf(n.subarray(2),s.position);if(y===-1)return"failure";A=t.subarray(s.position,y-4),s.position+=A.length,h==="base64"&&(A=Buffer.from(A.toString(),"base64"))}if(t[s.position]!==13||t[s.position+1]!==10)return"failure";s.position+=2;let m;f!==null?(d??="text/plain",knt(d)||(d=""),m=new Snt([A],f,{type:d})):m=xnt(Buffer.from(A)),YQ(JIe(l)),YQ(typeof m=="string"&&JIe(m)||vnt(m)),i.push(Tnt(l,m,f))}}o(Nnt,"multipartFormDataParser");function Qnt(t,e){let r=null,n=null,i=null,s=null;for(;;){if(t[e.position]===13&&t[e.position+1]===10)return r===null?"failure":{name:r,filename:n,contentType:i,encoding:s};let a=hv(c=>c!==10&&c!==13&&c!==58,t,e);if(a=zj(a,!0,!0,c=>c===9||c===32),!bnt.test(a.toString())||t[e.position]!==58)return"failure";switch(e.position++,hv(c=>c===32||c===9,t,e),Int(a)){case"content-disposition":{if(r=n=null,!$Q(t,wnt,e)||(e.position+=17,r=e2e(t,e),r===null))return"failure";if($Q(t,ZIe,e)){let c=e.position+ZIe.length;if(t[c]===42&&(e.position+=1,c+=1),t[c]!==61||t[c+1]!==34||(e.position+=12,n=e2e(t,e),n===null))return"failure"}break}case"content-type":{let c=hv(l=>l!==10&&l!==13,t,e);c=zj(c,!1,!0,l=>l===9||l===32),i=XIe(c);break}case"content-transfer-encoding":{let c=hv(l=>l!==10&&l!==13,t,e);c=zj(c,!1,!0,l=>l===9||l===32),s=XIe(c);break}default:hv(c=>c!==10&&c!==13,t,e)}if(t[e.position]!==13&&t[e.position+1]!==10)return"failure";e.position+=2}}o(Qnt,"parseMultipartFormDataHeaders");function e2e(t,e){YQ(t[e.position-1]===34);let r=hv(n=>n!==10&&n!==13&&n!==34,t,e);return t[e.position]!==34?null:(e.position++,r=new TextDecoder().decode(r).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),r)}o(e2e,"parseMultipartFormDataName");function hv(t,e,r){let n=r.position;for(;n<e.length&&t(e[n]);)++n;return e.subarray(r.position,r.position=n)}o(hv,"collectASequenceOfBytes");function zj(t,e,r,n){let i=0,s=t.length-1;if(e)for(;i<t.length&&n(t[i]);)i++;if(r)for(;s>0&&n(t[s]);)s--;return i===0&&s===t.length-1?t:t.subarray(i,s+1)}o(zj,"removeChars");function $Q(t,e,r){if(t.length<e.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[r.position+n])return!1;return!0}o($Q,"bufferStartsWith");t2e.exports={multipartFormDataParser:Nnt,validateBoundary:Dnt}});var mv=q((XWr,u2e)=>{"use strict";u();var OS=dn(),{ReadableStreamFrom:Pnt,isBlobLike:n2e,isReadableStreamLike:Fnt,readableStreamClose:Mnt,createDeferredPromise:Lnt,fullyReadBody:Ont,extractMimeType:Unt,utf8DecodeBytes:s2e}=ol(),{FormData:i2e}=LS(),{kState:pv}=Zg(),{webidl:Hnt}=Da(),{Blob:qnt}=require("node:buffer"),jj=require("node:assert"),{isErrored:a2e,isDisturbed:Gnt}=require("node:stream"),{isArrayBuffer:Vnt}=require("node:util/types"),{serializeAMimeType:Wnt}=Ac(),{multipartFormDataParser:Ynt}=r2e(),Kj;try{let t=require("node:crypto");Kj=o(e=>t.randomInt(0,e),"random")}catch{Kj=o(t=>Math.floor(Math.random(t)),"random")}var zQ=new TextEncoder;function $nt(){}o($nt,"noop");var Jj=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,Xj;Jj&&(Xj=new FinalizationRegistry(t=>{let e=t.deref();e&&!e.locked&&!Gnt(e)&&!a2e(e)&&e.cancel("Response object has been garbage collected").catch($nt)}));function c2e(t,e=!1){let r=null;t instanceof ReadableStream?r=t:n2e(t)?r=t.stream():r=new ReadableStream({async pull(l){let f=typeof i=="string"?zQ.encode(i):i;f.byteLength&&l.enqueue(f),queueMicrotask(()=>Mnt(l))},start(){},type:"bytes"}),jj(Fnt(r));let n=null,i=null,s=null,a=null;if(typeof t=="string")i=t,a="text/plain;charset=UTF-8";else if(t instanceof URLSearchParams)i=t.toString(),a="application/x-www-form-urlencoded;charset=UTF-8";else if(Vnt(t))i=new Uint8Array(t.slice());else if(ArrayBuffer.isView(t))i=new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength));else if(OS.isFormDataLike(t)){let l=`----formdata-undici-0${`${Kj(1e11)}`.padStart(11,"0")}`,f=`--${l}\r
Content-Disposition: form-data`;let d=o(_=>_.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"escape"),h=o(_=>_.replace(/\r?\n|\r/g,`\r
`),"normalizeLinefeeds"),A=[],m=new Uint8Array([13,10]);s=0;let y=!1;for(let[_,T]of t)if(typeof T=="string"){let S=zQ.encode(f+`; name="${d(h(_))}"\r
\r
${h(T)}\r
`);A.push(S),s+=S.byteLength}else{let S=zQ.encode(`${f}; name="${d(h(_))}"`+(T.name?`; filename="${d(T.name)}"`:"")+`\r
Content-Type: ${T.type||"application/octet-stream"}\r
\r
`);A.push(S,T,m),typeof T.size=="number"?s+=S.byteLength+T.size+m.byteLength:y=!0}let x=zQ.encode(`--${l}--\r
`);A.push(x),s+=x.byteLength,y&&(s=null),i=t,n=o(async function*(){for(let _ of A)_.stream?yield*_.stream():yield _},"action"),a=`multipart/form-data; boundary=${l}`}else if(n2e(t))i=t,s=t.size,t.type&&(a=t.type);else if(typeof t[Symbol.asyncIterator]=="function"){if(e)throw new TypeError("keepalive");if(OS.isDisturbed(t)||t.locked)throw new TypeError("Response body object should not be disturbed or locked");r=t instanceof ReadableStream?t:Pnt(t)}if((typeof i=="string"||OS.isBuffer(i))&&(s=Buffer.byteLength(i)),n!=null){let l;r=new ReadableStream({async start(){l=n(t)[Symbol.asyncIterator]()},async pull(f){let{value:d,done:h}=await l.next();if(h)queueMicrotask(()=>{f.close(),f.byobRequest?.respond(0)});else if(!a2e(r)){let A=new Uint8Array(d);A.byteLength&&f.enqueue(A)}return f.desiredSize>0},async cancel(f){await l.return()},type:"bytes"})}return[{stream:r,source:i,length:s},a]}o(c2e,"extractBody");function znt(t,e=!1){return t instanceof ReadableStream&&(jj(!OS.isDisturbed(t),"The body has already been consumed."),jj(!t.locked,"The stream is locked.")),c2e(t,e)}o(znt,"safelyExtractBody");function jnt(t,e){let[r,n]=e.stream.tee();return Jj&&Xj.register(t,new WeakRef(r)),e.stream=r,{stream:n,length:e.length,source:e.source}}o(jnt,"cloneBody");function Knt(t){if(t.aborted)throw new DOMException("The operation was aborted.","AbortError")}o(Knt,"throwIfAborted");function Jnt(t){return{blob(){return Av(this,r=>{let n=o2e(this);return n===null?n="":n&&(n=Wnt(n)),new qnt([r],{type:n})},t)},arrayBuffer(){return Av(this,r=>new Uint8Array(r).buffer,t)},text(){return Av(this,s2e,t)},json(){return Av(this,Znt,t)},formData(){return Av(this,r=>{let n=o2e(this);if(n!==null)switch(n.essence){case"multipart/form-data":{let i=Ynt(r,n);if(i==="failure")throw new TypeError("Failed to parse body as FormData.");let s=new i2e;return s[pv]=i,s}case"application/x-www-form-urlencoded":{let i=new URLSearchParams(r.toString()),s=new i2e;for(let[a,c]of i)s.append(a,c);return s}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},t)},bytes(){return Av(this,r=>new Uint8Array(r),t)}}}o(Jnt,"bodyMixinMethods");function Xnt(t){Object.assign(t.prototype,Jnt(t))}o(Xnt,"mixinBody");async function Av(t,e,r){if(Hnt.brandCheck(t,r),l2e(t))throw new TypeError("Body is unusable: Body has already been read");Knt(t[pv]);let n=Lnt(),i=o(a=>n.reject(a),"errorSteps"),s=o(a=>{try{n.resolve(e(a))}catch(c){i(c)}},"successSteps");return t[pv].body==null?(s(Buffer.allocUnsafe(0)),n.promise):(await Ont(t[pv].body,s,i),n.promise)}o(Av,"consumeBody");function l2e(t){let e=t[pv].body;return e!=null&&(e.stream.locked||OS.isDisturbed(e.stream))}o(l2e,"bodyUnusable");function Znt(t){return JSON.parse(s2e(t))}o(Znt,"parseJSONFromBytes");function o2e(t){let e=t[pv].headersList,r=Unt(e);return r==="failure"?null:r}o(o2e,"bodyMimeType");u2e.exports={extractBody:c2e,safelyExtractBody:znt,cloneBody:jnt,mixinBody:Xnt,streamRegistry:Xj,hasFinalizationRegistry:Jj,bodyUnusable:l2e}});var I2e=q((tYr,E2e)=>{"use strict";u();var ur=require("node:assert"),Fr=dn(),{channels:f2e}=nv(),Zj=Dj(),{RequestContentLengthMismatchError:bE,ResponseContentLengthMismatchError:eit,RequestAbortedError:g2e,HeadersTimeoutError:tit,HeadersOverflowError:rit,SocketError:eP,InformationalError:gv,BodyTimeoutError:nit,HTTPParserError:iit,ResponseExceededMaxSizeError:oit}=li(),{kUrl:y2e,kReset:pc,kClient:nK,kParser:Go,kBlocking:qS,kRunning:n0,kPending:sit,kSize:d2e,kWriting:t1,kQueue:xf,kNoRef:US,kKeepAliveDefaultTimeout:ait,kHostHeader:cit,kPendingIdx:lit,kRunningIdx:au,kError:cu,kPipelining:XQ,kSocket:yv,kKeepAliveTimeoutValue:tP,kMaxHeadersSize:eK,kKeepAliveMaxTimeout:uit,kKeepAliveTimeoutThreshold:fit,kHeadersTimeout:dit,kBodyTimeout:hit,kStrictContentLength:iK,kMaxRequests:h2e,kCounter:Ait,kMaxResponseSize:pit,kOnError:mit,kResume:e1,kHTTPContext:C2e}=ho(),nh=lIe(),git=Buffer.alloc(0),jQ=Buffer[Symbol.species],KQ=Fr.addListener,yit=Fr.removeAllListeners,tK;async function Cit(){let t=process.env.JEST_WORKER_ID?Pj():void 0,e;try{e=await WebAssembly.compile(dIe())}catch{e=await WebAssembly.compile(t||Pj())}return await WebAssembly.instantiate(e,{env:{wasm_on_url:o((r,n,i)=>0,"wasm_on_url"),wasm_on_status:o((r,n,i)=>{ur(Ms.ptr===r);let s=n-oh+ih.byteOffset;return Ms.onStatus(new jQ(ih.buffer,s,i))||0},"wasm_on_status"),wasm_on_message_begin:o(r=>(ur(Ms.ptr===r),Ms.onMessageBegin()||0),"wasm_on_message_begin"),wasm_on_header_field:o((r,n,i)=>{ur(Ms.ptr===r);let s=n-oh+ih.byteOffset;return Ms.onHeaderField(new jQ(ih.buffer,s,i))||0},"wasm_on_header_field"),wasm_on_header_value:o((r,n,i)=>{ur(Ms.ptr===r);let s=n-oh+ih.byteOffset;return Ms.onHeaderValue(new jQ(ih.buffer,s,i))||0},"wasm_on_header_value"),wasm_on_headers_complete:o((r,n,i,s)=>(ur(Ms.ptr===r),Ms.onHeadersComplete(n,!!i,!!s)||0),"wasm_on_headers_complete"),wasm_on_body:o((r,n,i)=>{ur(Ms.ptr===r);let s=n-oh+ih.byteOffset;return Ms.onBody(new jQ(ih.buffer,s,i))||0},"wasm_on_body"),wasm_on_message_complete:o(r=>(ur(Ms.ptr===r),Ms.onMessageComplete()||0),"wasm_on_message_complete")}})}o(Cit,"lazyllhttp");var rK=null,oK=Cit();oK.catch();var Ms=null,ih=null,JQ=0,oh=null,Eit=0,HS=1,Cv=2|HS,ZQ=4|HS,sK=8|Eit,aK=class{static{o(this,"Parser")}constructor(e,r,{exports:n}){ur(Number.isFinite(e[eK])&&e[eK]>0),this.llhttp=n,this.ptr=this.llhttp.llhttp_alloc(nh.TYPE.RESPONSE),this.client=e,this.socket=r,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=e[eK],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=e[pit]}setTimeout(e,r){e!==this.timeoutValue||r&HS^this.timeoutType&HS?(this.timeout&&(Zj.clearTimeout(this.timeout),this.timeout=null),e&&(r&HS?this.timeout=Zj.setFastTimeout(A2e,e,new WeakRef(this)):(this.timeout=setTimeout(A2e,e,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=e):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=r}resume(){this.socket.destroyed||!this.paused||(ur(this.ptr!=null),ur(Ms==null),this.llhttp.llhttp_resume(this.ptr),ur(this.timeoutType===ZQ),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||git),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let e=this.socket.read();if(e===null)break;this.execute(e)}}execute(e){ur(this.ptr!=null),ur(Ms==null),ur(!this.paused);let{socket:r,llhttp:n}=this;e.length>JQ&&(oh&&n.free(oh),JQ=Math.ceil(e.length/4096)*4096,oh=n.malloc(JQ)),new Uint8Array(n.memory.buffer,oh,JQ).set(e);try{let i;try{ih=e,Ms=this,i=n.llhttp_execute(this.ptr,oh,e.length)}catch(a){throw a}finally{Ms=null,ih=null}let s=n.llhttp_get_error_pos(this.ptr)-oh;if(i===nh.ERROR.PAUSED_UPGRADE)this.onUpgrade(e.slice(s));else if(i===nh.ERROR.PAUSED)this.paused=!0,r.unshift(e.slice(s));else if(i!==nh.ERROR.OK){let a=n.llhttp_get_error_reason(this.ptr),c="";if(a){let l=new Uint8Array(n.memory.buffer,a).indexOf(0);c="Response does not match the HTTP/1.1 protocol ("+Buffer.from(n.memory.buffer,a,l).toString()+")"}throw new iit(c,nh.ERROR[i],e.slice(s))}}catch(i){Fr.destroy(r,i)}}destroy(){ur(this.ptr!=null),ur(Ms==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&Zj.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(e){this.statusText=e.toString()}onMessageBegin(){let{socket:e,client:r}=this;if(e.destroyed)return-1;let n=r[xf][r[au]];if(!n)return-1;n.onResponseStarted()}onHeaderField(e){let r=this.headers.length;(r&1)===0?this.headers.push(e):this.headers[r-1]=Buffer.concat([this.headers[r-1],e]),this.trackHeader(e.length)}onHeaderValue(e){let r=this.headers.length;(r&1)===1?(this.headers.push(e),r+=1):this.headers[r-1]=Buffer.concat([this.headers[r-1],e]);let n=this.headers[r-2];if(n.length===10){let i=Fr.bufferToLowerCasedHeaderName(n);i==="keep-alive"?this.keepAlive+=e.toString():i==="connection"&&(this.connection+=e.toString())}else n.length===14&&Fr.bufferToLowerCasedHeaderName(n)==="content-length"&&(this.contentLength+=e.toString());this.trackHeader(e.length)}trackHeader(e){this.headersSize+=e,this.headersSize>=this.headersMaxSize&&Fr.destroy(this.socket,new rit)}onUpgrade(e){let{upgrade:r,client:n,socket:i,headers:s,statusCode:a}=this;ur(r),ur(n[yv]===i),ur(!i.destroyed),ur(!this.paused),ur((s.length&1)===0);let c=n[xf][n[au]];ur(c),ur(c.upgrade||c.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,this.headers=[],this.headersSize=0,i.unshift(e),i[Go].destroy(),i[Go]=null,i[nK]=null,i[cu]=null,yit(i),n[yv]=null,n[C2e]=null,n[xf][n[au]++]=null,n.emit("disconnect",n[y2e],[n],new gv("upgrade"));try{c.onUpgrade(a,s,i)}catch(l){Fr.destroy(i,l)}n[e1]()}onHeadersComplete(e,r,n){let{client:i,socket:s,headers:a,statusText:c}=this;if(s.destroyed)return-1;let l=i[xf][i[au]];if(!l)return-1;if(ur(!this.upgrade),ur(this.statusCode<200),e===100)return Fr.destroy(s,new eP("bad response",Fr.getSocketInfo(s))),-1;if(r&&!l.upgrade)return Fr.destroy(s,new eP("bad upgrade",Fr.getSocketInfo(s))),-1;if(ur(this.timeoutType===Cv),this.statusCode=e,this.shouldKeepAlive=n||l.method==="HEAD"&&!s[pc]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let d=l.bodyTimeout!=null?l.bodyTimeout:i[hit];this.setTimeout(d,ZQ)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(l.method==="CONNECT")return ur(i[n0]===1),this.upgrade=!0,2;if(r)return ur(i[n0]===1),this.upgrade=!0,2;if(ur((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[XQ]){let d=this.keepAlive?Fr.parseKeepAliveTimeout(this.keepAlive):null;if(d!=null){let h=Math.min(d-i[fit],i[uit]);h<=0?s[pc]=!0:i[tP]=h}else i[tP]=i[ait]}else s[pc]=!0;let f=l.onHeaders(e,a,this.resume,c)===!1;return l.aborted?-1:l.method==="HEAD"||e<200?1:(s[qS]&&(s[qS]=!1,i[e1]()),f?nh.ERROR.PAUSED:0)}onBody(e){let{client:r,socket:n,statusCode:i,maxResponseSize:s}=this;if(n.destroyed)return-1;let a=r[xf][r[au]];if(ur(a),ur(this.timeoutType===ZQ),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),ur(i>=200),s>-1&&this.bytesRead+e.length>s)return Fr.destroy(n,new oit),-1;if(this.bytesRead+=e.length,a.onData(e)===!1)return nh.ERROR.PAUSED}onMessageComplete(){let{client:e,socket:r,statusCode:n,upgrade:i,headers:s,contentLength:a,bytesRead:c,shouldKeepAlive:l}=this;if(r.destroyed&&(!n||l))return-1;if(i)return;ur(n>=100),ur((this.headers.length&1)===0);let f=e[xf][e[au]];if(ur(f),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,!(n<200)){if(f.method!=="HEAD"&&a&&c!==parseInt(a,10))return Fr.destroy(r,new eit),-1;if(f.onComplete(s),e[xf][e[au]++]=null,r[t1])return ur(e[n0]===0),Fr.destroy(r,new gv("reset")),nh.ERROR.PAUSED;if(l){if(r[pc]&&e[n0]===0)return Fr.destroy(r,new gv("reset")),nh.ERROR.PAUSED;e[XQ]==null||e[XQ]===1?setImmediate(()=>e[e1]()):e[e1]()}else return Fr.destroy(r,new gv("reset")),nh.ERROR.PAUSED}}};function A2e(t){let{socket:e,timeoutType:r,client:n,paused:i}=t.deref();r===Cv?(!e[t1]||e.writableNeedDrain||n[n0]>1)&&(ur(!i,"cannot be paused while waiting for headers"),Fr.destroy(e,new tit)):r===ZQ?i||Fr.destroy(e,new nit):r===sK&&(ur(n[n0]===0&&n[tP]),Fr.destroy(e,new gv("socket idle timeout")))}o(A2e,"onParserTimeout");async function Iit(t,e){t[yv]=e,rK||(rK=await oK,oK=null),e[US]=!1,e[t1]=!1,e[pc]=!1,e[qS]=!1,e[Go]=new aK(t,e,rK),KQ(e,"error",function(n){ur(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let i=this[Go];if(n.code==="ECONNRESET"&&i.statusCode&&!i.shouldKeepAlive){i.onMessageComplete();return}this[cu]=n,this[nK][mit](n)}),KQ(e,"readable",function(){let n=this[Go];n&&n.readMore()}),KQ(e,"end",function(){let n=this[Go];if(n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}Fr.destroy(this,new eP("other side closed",Fr.getSocketInfo(this)))}),KQ(e,"close",function(){let n=this[nK],i=this[Go];i&&(!this[cu]&&i.statusCode&&!i.shouldKeepAlive&&i.onMessageComplete(),this[Go].destroy(),this[Go]=null);let s=this[cu]||new eP("closed",Fr.getSocketInfo(this));if(n[yv]=null,n[C2e]=null,n.destroyed){ur(n[sit]===0);let a=n[xf].splice(n[au]);for(let c=0;c<a.length;c++){let l=a[c];Fr.errorRequest(n,l,s)}}else if(n[n0]>0&&s.code!=="UND_ERR_INFO"){let a=n[xf][n[au]];n[xf][n[au]++]=null,Fr.errorRequest(n,a,s)}n[lit]=n[au],ur(n[n0]===0),n.emit("disconnect",n[y2e],[n],s),n[e1]()});let r=!1;return e.on("close",()=>{r=!0}),{version:"h1",defaultPipelining:1,write(...n){return vit(t,...n)},resume(){xit(t)},destroy(n,i){r?queueMicrotask(i):e.destroy(n).on("close",i)},get destroyed(){return e.destroyed},busy(n){return!!(e[t1]||e[pc]||e[qS]||n&&(t[n0]>0&&!n.idempotent||t[n0]>0&&(n.upgrade||n.method==="CONNECT")||t[n0]>0&&Fr.bodyLength(n.body)!==0&&(Fr.isStream(n.body)||Fr.isAsyncIterable(n.body)||Fr.isFormDataLike(n.body))))}}}o(Iit,"connectH1");function xit(t){let e=t[yv];if(e&&!e.destroyed){if(t[d2e]===0?!e[US]&&e.unref&&(e.unref(),e[US]=!0):e[US]&&e.ref&&(e.ref(),e[US]=!1),t[d2e]===0)e[Go].timeoutType!==sK&&e[Go].setTimeout(t[tP],sK);else if(t[n0]>0&&e[Go].statusCode<200&&e[Go].timeoutType!==Cv){let r=t[xf][t[au]],n=r.headersTimeout!=null?r.headersTimeout:t[dit];e[Go].setTimeout(n,Cv)}}}o(xit,"resumeH1");function bit(t){return t!=="GET"&&t!=="HEAD"&&t!=="OPTIONS"&&t!=="TRACE"&&t!=="CONNECT"}o(bit,"shouldSendContentLength");function vit(t,e){let{method:r,path:n,host:i,upgrade:s,blocking:a,reset:c}=e,{body:l,headers:f,contentLength:d}=e,h=r==="PUT"||r==="POST"||r==="PATCH"||r==="QUERY"||r==="PROPFIND"||r==="PROPPATCH";if(Fr.isFormDataLike(l)){tK||(tK=mv().extractBody);let[_,T]=tK(l);e.contentType==null&&f.push("content-type",T),l=_.stream,d=_.length}else Fr.isBlobLike(l)&&e.contentType==null&&l.type&&f.push("content-type",l.type);l&&typeof l.read=="function"&&l.read(0);let A=Fr.bodyLength(l);if(d=A??d,d===null&&(d=e.contentLength),d===0&&!h&&(d=null),bit(r)&&d>0&&e.contentLength!==null&&e.contentLength!==d){if(t[iK])return Fr.errorRequest(t,e,new bE),!1;process.emitWarning(new bE)}let m=t[yv],y=o(_=>{e.aborted||e.completed||(Fr.errorRequest(t,e,_||new g2e),Fr.destroy(l),Fr.destroy(m,new gv("aborted")))},"abort");try{e.onConnect(y)}catch(_){Fr.errorRequest(t,e,_)}if(e.aborted)return!1;r==="HEAD"&&(m[pc]=!0),(s||r==="CONNECT")&&(m[pc]=!0),c!=null&&(m[pc]=c),t[h2e]&&m[Ait]++>=t[h2e]&&(m[pc]=!0),a&&(m[qS]=!0);let x=`${r} ${n} HTTP/1.1\r
`;if(typeof i=="string"?x+=`host: ${i}\r
`:x+=t[cit],s?x+=`connection: upgrade\r
upgrade: ${s}\r
`:t[XQ]&&!m[pc]?x+=`connection: keep-alive\r
`:x+=`connection: close\r
`,Array.isArray(f))for(let _=0;_<f.length;_+=2){let T=f[_+0],S=f[_+1];if(Array.isArray(S))for(let k=0;k<S.length;k++)x+=`${T}: ${S[k]}\r
`;else x+=`${T}: ${S}\r
`}return f2e.sendHeaders.hasSubscribers&&f2e.sendHeaders.publish({request:e,headers:x,socket:m}),!l||A===0?p2e(y,null,t,e,m,d,x,h):Fr.isBuffer(l)?p2e(y,l,t,e,m,d,x,h):Fr.isBlobLike(l)?typeof l.stream=="function"?m2e(y,l.stream(),t,e,m,d,x,h):_it(y,l,t,e,m,d,x,h):Fr.isStream(l)?Tit(y,l,t,e,m,d,x,h):Fr.isIterable(l)?m2e(y,l,t,e,m,d,x,h):ur(!1),!0}o(vit,"writeH1");function Tit(t,e,r,n,i,s,a,c){ur(s!==0||r[n0]===0,"stream body cannot be pipelined");let l=!1,f=new rP({abort:t,socket:i,request:n,contentLength:s,client:r,expectsPayload:c,header:a}),d=o(function(y){if(!l)try{!f.write(y)&&this.pause&&this.pause()}catch(x){Fr.destroy(this,x)}},"onData"),h=o(function(){l||e.resume&&e.resume()},"onDrain"),A=o(function(){if(queueMicrotask(()=>{e.removeListener("error",m)}),!l){let y=new g2e;queueMicrotask(()=>m(y))}},"onClose"),m=o(function(y){if(!l){if(l=!0,ur(i.destroyed||i[t1]&&r[n0]<=1),i.off("drain",h).off("error",m),e.removeListener("data",d).removeListener("end",m).removeListener("close",A),!y)try{f.end()}catch(x){y=x}f.destroy(y),y&&(y.code!=="UND_ERR_INFO"||y.message!=="reset")?Fr.destroy(e,y):Fr.destroy(e)}},"onFinished");e.on("data",d).on("end",m).on("error",m).on("close",A),e.resume&&e.resume(),i.on("drain",h).on("error",m),e.errorEmitted??e.errored?setImmediate(()=>m(e.errored)):(e.endEmitted??e.readableEnded)&&setImmediate(()=>m(null)),(e.closeEmitted??e.closed)&&setImmediate(A)}o(Tit,"writeStream");function p2e(t,e,r,n,i,s,a,c){try{e?Fr.isBuffer(e)&&(ur(s===e.byteLength,"buffer body must have content length"),i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(e),i.uncork(),n.onBodySent(e),!c&&n.reset!==!1&&(i[pc]=!0)):s===0?i.write(`${a}content-length: 0\r
\r
`,"latin1"):(ur(s===null,"no body must not have content length"),i.write(`${a}\r
`,"latin1")),n.onRequestSent(),r[e1]()}catch(l){t(l)}}o(p2e,"writeBuffer");async function _it(t,e,r,n,i,s,a,c){ur(s===e.size,"blob body must have content length");try{if(s!=null&&s!==e.size)throw new bE;let l=Buffer.from(await e.arrayBuffer());i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(l),i.uncork(),n.onBodySent(l),n.onRequestSent(),!c&&n.reset!==!1&&(i[pc]=!0),r[e1]()}catch(l){t(l)}}o(_it,"writeBlob");async function m2e(t,e,r,n,i,s,a,c){ur(s!==0||r[n0]===0,"iterator body cannot be pipelined");let l=null;function f(){if(l){let A=l;l=null,A()}}o(f,"onDrain");let d=o(()=>new Promise((A,m)=>{ur(l===null),i[cu]?m(i[cu]):l=A}),"waitForDrain");i.on("close",f).on("drain",f);let h=new rP({abort:t,socket:i,request:n,contentLength:s,client:r,expectsPayload:c,header:a});try{for await(let A of e){if(i[cu])throw i[cu];h.write(A)||await d()}h.end()}catch(A){h.destroy(A)}finally{i.off("close",f).off("drain",f)}}o(m2e,"writeIterable");var rP=class{static{o(this,"AsyncWriter")}constructor({abort:e,socket:r,request:n,contentLength:i,client:s,expectsPayload:a,header:c}){this.socket=r,this.request=n,this.contentLength=i,this.client=s,this.bytesWritten=0,this.expectsPayload=a,this.header=c,this.abort=e,r[t1]=!0}write(e){let{socket:r,request:n,contentLength:i,client:s,bytesWritten:a,expectsPayload:c,header:l}=this;if(r[cu])throw r[cu];if(r.destroyed)return!1;let f=Buffer.byteLength(e);if(!f)return!0;if(i!==null&&a+f>i){if(s[iK])throw new bE;process.emitWarning(new bE)}r.cork(),a===0&&(!c&&n.reset!==!1&&(r[pc]=!0),i===null?r.write(`${l}transfer-encoding: chunked\r
`,"latin1"):r.write(`${l}content-length: ${i}\r
\r
`,"latin1")),i===null&&r.write(`\r
${f.toString(16)}\r
`,"latin1"),this.bytesWritten+=f;let d=r.write(e);return r.uncork(),n.onBodySent(e),d||r[Go].timeout&&r[Go].timeoutType===Cv&&r[Go].timeout.refresh&&r[Go].timeout.refresh(),d}end(){let{socket:e,contentLength:r,client:n,bytesWritten:i,expectsPayload:s,header:a,request:c}=this;if(c.onRequestSent(),e[t1]=!1,e[cu])throw e[cu];if(!e.destroyed){if(i===0?s?e.write(`${a}content-length: 0\r
\r
`,"latin1"):e.write(`${a}\r
`,"latin1"):r===null&&e.write(`\r
0\r
\r
`,"latin1"),r!==null&&i!==r){if(n[iK])throw new bE;process.emitWarning(new bE)}e[Go].timeout&&e[Go].timeoutType===Cv&&e[Go].timeout.refresh&&e[Go].timeout.refresh(),n[e1]()}}destroy(e){let{socket:r,client:n,abort:i}=this;r[t1]=!1,e&&(ur(n[n0]<=1,"pipeline should only contain this request"),i(e))}};E2e.exports=Iit});var B2e=q((iYr,w2e)=>{"use strict";u();var lu=require("node:assert"),{pipeline:Sit}=require("node:stream"),wn=dn(),{RequestContentLengthMismatchError:cK,RequestAbortedError:x2e,SocketError:GS,InformationalError:lK}=li(),{kUrl:nP,kReset:oP,kClient:Ev,kRunning:sP,kPending:wit,kQueue:r1,kPendingIdx:uK,kRunningIdx:bf,kError:Tf,kSocket:oa,kStrictContentLength:Bit,kOnError:fK,kMaxConcurrentStreams:S2e,kHTTP2Session:vf,kResume:n1,kSize:Rit,kHTTPContext:kit}=ho(),jA=Symbol("open streams"),b2e,v2e=!1,iP;try{iP=require("node:http2")}catch{iP={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:Dit,HTTP2_HEADER_METHOD:Nit,HTTP2_HEADER_PATH:Qit,HTTP2_HEADER_SCHEME:Pit,HTTP2_HEADER_CONTENT_LENGTH:Fit,HTTP2_HEADER_EXPECT:Mit,HTTP2_HEADER_STATUS:Lit}}=iP;function Oit(t){let e=[];for(let[r,n]of Object.entries(t))if(Array.isArray(n))for(let i of n)e.push(Buffer.from(r),Buffer.from(i));else e.push(Buffer.from(r),Buffer.from(n));return e}o(Oit,"parseH2Headers");async function Uit(t,e){t[oa]=e,v2e||(v2e=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let r=iP.connect(t[nP],{createConnection:o(()=>e,"createConnection"),peerMaxConcurrentStreams:t[S2e]});r[jA]=0,r[Ev]=t,r[oa]=e,wn.addListener(r,"error",qit),wn.addListener(r,"frameError",Git),wn.addListener(r,"end",Vit),wn.addListener(r,"goaway",Wit),wn.addListener(r,"close",function(){let{[Ev]:i}=this,{[oa]:s}=i,a=this[oa][Tf]||this[Tf]||new GS("closed",wn.getSocketInfo(s));if(i[vf]=null,i.destroyed){lu(i[wit]===0);let c=i[r1].splice(i[bf]);for(let l=0;l<c.length;l++){let f=c[l];wn.errorRequest(i,f,a)}}}),r.unref(),t[vf]=r,e[vf]=r,wn.addListener(e,"error",function(i){lu(i.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Tf]=i,this[Ev][fK](i)}),wn.addListener(e,"end",function(){wn.destroy(this,new GS("other side closed",wn.getSocketInfo(this)))}),wn.addListener(e,"close",function(){let i=this[Tf]||new GS("closed",wn.getSocketInfo(this));t[oa]=null,this[vf]!=null&&this[vf].destroy(i),t[uK]=t[bf],lu(t[sP]===0),t.emit("disconnect",t[nP],[t],i),t[n1]()});let n=!1;return e.on("close",()=>{n=!0}),{version:"h2",defaultPipelining:1/0,write(...i){return $it(t,...i)},resume(){Hit(t)},destroy(i,s){n?queueMicrotask(s):e.destroy(i).on("close",s)},get destroyed(){return e.destroyed},busy(){return!1}}}o(Uit,"connectH2");function Hit(t){let e=t[oa];e?.destroyed===!1&&(t[Rit]===0&&t[S2e]===0?(e.unref(),t[vf].unref()):(e.ref(),t[vf].ref()))}o(Hit,"resumeH2");function qit(t){lu(t.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[oa][Tf]=t,this[Ev][fK](t)}o(qit,"onHttp2SessionError");function Git(t,e,r){if(r===0){let n=new lK(`HTTP/2: "frameError" received - type ${t}, code ${e}`);this[oa][Tf]=n,this[Ev][fK](n)}}o(Git,"onHttp2FrameError");function Vit(){let t=new GS("other side closed",wn.getSocketInfo(this[oa]));this.destroy(t),wn.destroy(this[oa],t)}o(Vit,"onHttp2SessionEnd");function Wit(t){let e=this[Tf]||new GS(`HTTP/2: "GOAWAY" frame received with code ${t}`,wn.getSocketInfo(this)),r=this[Ev];if(r[oa]=null,r[kit]=null,this[vf]!=null&&(this[vf].destroy(e),this[vf]=null),wn.destroy(this[oa],e),r[bf]<r[r1].length){let n=r[r1][r[bf]];r[r1][r[bf]++]=null,wn.errorRequest(r,n,e),r[uK]=r[bf]}lu(r[sP]===0),r.emit("disconnect",r[nP],[r],e),r[n1]()}o(Wit,"onHTTP2GoAway");function Yit(t){return t!=="GET"&&t!=="HEAD"&&t!=="OPTIONS"&&t!=="TRACE"&&t!=="CONNECT"}o(Yit,"shouldSendContentLength");function $it(t,e){let r=t[vf],{method:n,path:i,host:s,upgrade:a,expectContinue:c,signal:l,headers:f}=e,{body:d}=e;if(a)return wn.errorRequest(t,e,new Error("Upgrade not supported for H2")),!1;let h={};for(let N=0;N<f.length;N+=2){let P=f[N+0],L=f[N+1];if(Array.isArray(L))for(let Y=0;Y<L.length;Y++)h[P]?h[P]+=`,${L[Y]}`:h[P]=L[Y];else h[P]=L}let A,{hostname:m,port:y}=t[nP];h[Dit]=s||`${m}${y?`:${y}`:""}`,h[Nit]=n;let x=o(N=>{e.aborted||e.completed||(N=N||new x2e,wn.errorRequest(t,e,N),A!=null&&wn.destroy(A,N),wn.destroy(d,N),t[r1][t[bf]++]=null,t[n1]())},"abort");try{e.onConnect(x)}catch(N){wn.errorRequest(t,e,N)}if(e.aborted)return!1;if(n==="CONNECT")return r.ref(),A=r.request(h,{endStream:!1,signal:l}),A.id&&!A.pending?(e.onUpgrade(null,null,A),++r[jA],t[r1][t[bf]++]=null):A.once("ready",()=>{e.onUpgrade(null,null,A),++r[jA],t[r1][t[bf]++]=null}),A.once("close",()=>{r[jA]-=1,r[jA]===0&&r.unref()}),!0;h[Qit]=i,h[Pit]="https";let _=n==="PUT"||n==="POST"||n==="PATCH";d&&typeof d.read=="function"&&d.read(0);let T=wn.bodyLength(d);if(wn.isFormDataLike(d)){b2e??=mv().extractBody;let[N,P]=b2e(d);h["content-type"]=P,d=N.stream,T=N.length}if(T==null&&(T=e.contentLength),(T===0||!_)&&(T=null),Yit(n)&&T>0&&e.contentLength!=null&&e.contentLength!==T){if(t[Bit])return wn.errorRequest(t,e,new cK),!1;process.emitWarning(new cK)}T!=null&&(lu(d,"no body must not have content length"),h[Fit]=`${T}`),r.ref();let S=n==="GET"||n==="HEAD"||d===null;return c?(h[Mit]="100-continue",A=r.request(h,{endStream:S,signal:l}),A.once("continue",k)):(A=r.request(h,{endStream:S,signal:l}),k()),++r[jA],A.once("response",N=>{let{[Lit]:P,...L}=N;if(e.onResponseStarted(),e.aborted){let Y=new x2e;wn.errorRequest(t,e,Y),wn.destroy(A,Y);return}e.onHeaders(Number(P),Oit(L),A.resume.bind(A),"")===!1&&A.pause(),A.on("data",Y=>{e.onData(Y)===!1&&A.pause()})}),A.once("end",()=>{(A.state?.state==null||A.state.state<6)&&e.onComplete([]),r[jA]===0&&r.unref(),x(new lK("HTTP/2: stream half-closed (remote)")),t[r1][t[bf]++]=null,t[uK]=t[bf],t[n1]()}),A.once("close",()=>{r[jA]-=1,r[jA]===0&&r.unref()}),A.once("error",function(N){x(N)}),A.once("frameError",(N,P)=>{x(new lK(`HTTP/2: "frameError" received - type ${N}, code ${P}`))}),!0;function k(){!d||T===0?T2e(x,A,null,t,e,t[oa],T,_):wn.isBuffer(d)?T2e(x,A,d,t,e,t[oa],T,_):wn.isBlobLike(d)?typeof d.stream=="function"?_2e(x,A,d.stream(),t,e,t[oa],T,_):jit(x,A,d,t,e,t[oa],T,_):wn.isStream(d)?zit(x,t[oa],_,A,d,t,e,T):wn.isIterable(d)?_2e(x,A,d,t,e,t[oa],T,_):lu(!1)}o(k,"writeBodyH2")}o($it,"writeH2");function T2e(t,e,r,n,i,s,a,c){try{r!=null&&wn.isBuffer(r)&&(lu(a===r.byteLength,"buffer body must have content length"),e.cork(),e.write(r),e.uncork(),e.end(),i.onBodySent(r)),c||(s[oP]=!0),i.onRequestSent(),n[n1]()}catch(l){t(l)}}o(T2e,"writeBuffer");function zit(t,e,r,n,i,s,a,c){lu(c!==0||s[sP]===0,"stream body cannot be pipelined");let l=Sit(i,n,d=>{d?(wn.destroy(l,d),t(d)):(wn.removeAllListeners(l),a.onRequestSent(),r||(e[oP]=!0),s[n1]())});wn.addListener(l,"data",f);function f(d){a.onBodySent(d)}o(f,"onPipeData")}o(zit,"writeStream");async function jit(t,e,r,n,i,s,a,c){lu(a===r.size,"blob body must have content length");try{if(a!=null&&a!==r.size)throw new cK;let l=Buffer.from(await r.arrayBuffer());e.cork(),e.write(l),e.uncork(),e.end(),i.onBodySent(l),i.onRequestSent(),c||(s[oP]=!0),n[n1]()}catch(l){t(l)}}o(jit,"writeBlob");async function _2e(t,e,r,n,i,s,a,c){lu(a!==0||n[sP]===0,"iterator body cannot be pipelined");let l=null;function f(){if(l){let h=l;l=null,h()}}o(f,"onDrain");let d=o(()=>new Promise((h,A)=>{lu(l===null),s[Tf]?A(s[Tf]):l=h}),"waitForDrain");e.on("close",f).on("drain",f);try{for await(let h of r){if(s[Tf])throw s[Tf];let A=e.write(h);i.onBodySent(h),A||await d()}e.end(),i.onRequestSent(),c||(s[oP]=!0),n[n1]()}catch(h){t(h)}finally{e.off("close",f).off("drain",f)}}o(_2e,"writeIterable");w2e.exports=Uit});var cP=q((aYr,D2e)=>{"use strict";u();var sh=dn(),{kBodyUsed:VS}=ho(),hK=require("node:assert"),{InvalidArgumentError:Kit}=li(),Jit=require("node:events"),Xit=[300,301,302,303,307,308],R2e=Symbol("body"),aP=class{static{o(this,"BodyAsyncIterable")}constructor(e){this[R2e]=e,this[VS]=!1}async*[Symbol.asyncIterator](){hK(!this[VS],"disturbed"),this[VS]=!0,yield*this[R2e]}},dK=class{static{o(this,"RedirectHandler")}constructor(e,r,n,i){if(r!=null&&(!Number.isInteger(r)||r<0))throw new Kit("maxRedirections must be a positive number");sh.validateHandler(i,n.method,n.upgrade),this.dispatch=e,this.location=null,this.abort=null,this.opts={...n,maxRedirections:0},this.maxRedirections=r,this.handler=i,this.history=[],this.redirectionLimitReached=!1,sh.isStream(this.opts.body)?(sh.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){hK(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[VS]=!1,Jit.prototype.on.call(this.opts.body,"data",function(){this[VS]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new aP(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&sh.isIterable(this.opts.body)&&(this.opts.body=new aP(this.opts.body))}onConnect(e){this.abort=e,this.handler.onConnect(e,{history:this.history})}onUpgrade(e,r,n){this.handler.onUpgrade(e,r,n)}onError(e){this.handler.onError(e)}onHeaders(e,r,n,i){if(this.location=this.history.length>=this.maxRedirections||sh.isDisturbed(this.opts.body)?null:Zit(e,r),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(e,r,n,i);let{origin:s,pathname:a,search:c}=sh.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),l=c?`${a}${c}`:a;this.opts.headers=eot(this.opts.headers,e===303,this.opts.origin!==s),this.opts.path=l,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,e===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(e){if(!this.location)return this.handler.onData(e)}onComplete(e){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(e)}onBodySent(e){this.handler.onBodySent&&this.handler.onBodySent(e)}};function Zit(t,e){if(Xit.indexOf(t)===-1)return null;for(let r=0;r<e.length;r+=2)if(e[r].length===8&&sh.headerNameToString(e[r])==="location")return e[r+1]}o(Zit,"parseLocation");function k2e(t,e,r){if(t.length===4)return sh.headerNameToString(t)==="host";if(e&&sh.headerNameToString(t).startsWith("content-"))return!0;if(r&&(t.length===13||t.length===6||t.length===19)){let n=sh.headerNameToString(t);return n==="authorization"||n==="cookie"||n==="proxy-authorization"}return!1}o(k2e,"shouldRemoveHeader");function eot(t,e,r){let n=[];if(Array.isArray(t))for(let i=0;i<t.length;i+=2)k2e(t[i],e,r)||n.push(t[i],t[i+1]);else if(t&&typeof t=="object")for(let i of Object.keys(t))k2e(i,e,r)||n.push(i,t[i]);else hK(t==null,"headers must be an object or an array");return n}o(eot,"cleanRequestHeaders");D2e.exports=dK});var lP=q((uYr,N2e)=>{"use strict";u();var tot=cP();function rot({maxRedirections:t}){return e=>o(function(n,i){let{maxRedirections:s=t}=n;if(!s)return e(n,i);let a=new tot(e,s,n,i);return n={...n,maxRedirections:0},e(n,a)},"Intercept")}o(rot,"createRedirectInterceptor");N2e.exports=rot});var JS=q((hYr,G2e)=>{"use strict";u();var KA=require("node:assert"),O2e=require("node:net"),not=require("node:http"),vE=dn(),{channels:Iv}=nv(),iot=KEe(),oot=av(),{InvalidArgumentError:os,InformationalError:sot,ClientDestroyedError:aot}=li(),cot=RS(),{kUrl:ah,kServerName:i1,kClient:lot,kBusy:AK,kConnect:uot,kResuming:TE,kRunning:jS,kPending:KS,kSize:zS,kQueue:_f,kConnected:fot,kConnecting:xv,kNeedDrain:s1,kKeepAliveDefaultTimeout:Q2e,kHostHeader:dot,kPendingIdx:Sf,kRunningIdx:JA,kError:hot,kPipelining:uP,kKeepAliveTimeoutValue:Aot,kMaxHeadersSize:pot,kKeepAliveMaxTimeout:mot,kKeepAliveTimeoutThreshold:got,kHeadersTimeout:yot,kBodyTimeout:Cot,kStrictContentLength:Eot,kConnector:WS,kMaxRedirections:Iot,kMaxRequests:pK,kCounter:xot,kClose:bot,kDestroy:vot,kDispatch:Tot,kInterceptors:P2e,kLocalAddress:YS,kMaxResponseSize:_ot,kOnError:Sot,kHTTPContext:ss,kMaxConcurrentStreams:wot,kResume:$S}=ho(),Bot=I2e(),Rot=B2e(),F2e=!1,o1=Symbol("kClosedResolve"),M2e=o(()=>{},"noop");function U2e(t){return t[uP]??t[ss]?.defaultPipelining??1}o(U2e,"getPipelining");var mK=class extends oot{static{o(this,"Client")}constructor(e,{interceptors:r,maxHeaderSize:n,headersTimeout:i,socketTimeout:s,requestTimeout:a,connectTimeout:c,bodyTimeout:l,idleTimeout:f,keepAlive:d,keepAliveTimeout:h,maxKeepAliveTimeout:A,keepAliveMaxTimeout:m,keepAliveTimeoutThreshold:y,socketPath:x,pipelining:_,tls:T,strictContentLength:S,maxCachedSessions:k,maxRedirections:N,connect:P,maxRequestsPerClient:L,localAddress:Y,maxResponseSize:te,autoSelectFamily:ne,autoSelectFamilyAttemptTimeout:pe,maxConcurrentStreams:W,allowH2:$}={}){if(super(),d!==void 0)throw new os("unsupported keepAlive, use pipelining=0 instead");if(s!==void 0)throw new os("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(a!==void 0)throw new os("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(f!==void 0)throw new os("unsupported idleTimeout, use keepAliveTimeout instead");if(A!==void 0)throw new os("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(n!=null&&!Number.isFinite(n))throw new os("invalid maxHeaderSize");if(x!=null&&typeof x!="string")throw new os("invalid socketPath");if(c!=null&&(!Number.isFinite(c)||c<0))throw new os("invalid connectTimeout");if(h!=null&&(!Number.isFinite(h)||h<=0))throw new os("invalid keepAliveTimeout");if(m!=null&&(!Number.isFinite(m)||m<=0))throw new os("invalid keepAliveMaxTimeout");if(y!=null&&!Number.isFinite(y))throw new os("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new os("headersTimeout must be a positive integer or zero");if(l!=null&&(!Number.isInteger(l)||l<0))throw new os("bodyTimeout must be a positive integer or zero");if(P!=null&&typeof P!="function"&&typeof P!="object")throw new os("connect must be a function or an object");if(N!=null&&(!Number.isInteger(N)||N<0))throw new os("maxRedirections must be a positive number");if(L!=null&&(!Number.isInteger(L)||L<0))throw new os("maxRequestsPerClient must be a positive number");if(Y!=null&&(typeof Y!="string"||O2e.isIP(Y)===0))throw new os("localAddress must be valid string IP address");if(te!=null&&(!Number.isInteger(te)||te<-1))throw new os("maxResponseSize must be a positive number");if(pe!=null&&(!Number.isInteger(pe)||pe<-1))throw new os("autoSelectFamilyAttemptTimeout must be a positive number");if($!=null&&typeof $!="boolean")throw new os("allowH2 must be a valid boolean value");if(W!=null&&(typeof W!="number"||W<1))throw new os("maxConcurrentStreams must be a positive integer, greater than 0");typeof P!="function"&&(P=cot({...T,maxCachedSessions:k,allowH2:$,socketPath:x,timeout:c,...ne?{autoSelectFamily:ne,autoSelectFamilyAttemptTimeout:pe}:void 0,...P})),r?.Client&&Array.isArray(r.Client)?(this[P2e]=r.Client,F2e||(F2e=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[P2e]=[kot({maxRedirections:N})],this[ah]=vE.parseOrigin(e),this[WS]=P,this[uP]=_??1,this[pot]=n||not.maxHeaderSize,this[Q2e]=h??4e3,this[mot]=m??6e5,this[got]=y??2e3,this[Aot]=this[Q2e],this[i1]=null,this[YS]=Y??null,this[TE]=0,this[s1]=0,this[dot]=`host: ${this[ah].hostname}${this[ah].port?`:${this[ah].port}`:""}\r
`,this[Cot]=l??3e5,this[yot]=i??3e5,this[Eot]=S??!0,this[Iot]=N,this[pK]=L,this[o1]=null,this[_ot]=te>-1?te:-1,this[wot]=W??100,this[ss]=null,this[_f]=[],this[JA]=0,this[Sf]=0,this[$S]=Ie=>gK(this,Ie),this[Sot]=Ie=>H2e(this,Ie)}get pipelining(){return this[uP]}set pipelining(e){this[uP]=e,this[$S](!0)}get[KS](){return this[_f].length-this[Sf]}get[jS](){return this[Sf]-this[JA]}get[zS](){return this[_f].length-this[JA]}get[fot](){return!!this[ss]&&!this[xv]&&!this[ss].destroyed}get[AK](){return!!(this[ss]?.busy(null)||this[zS]>=(U2e(this)||1)||this[KS]>0)}[uot](e){q2e(this),this.once("connect",e)}[Tot](e,r){let n=e.origin||this[ah].origin,i=new iot(n,e,r);return this[_f].push(i),this[TE]||(vE.bodyLength(i.body)==null&&vE.isIterable(i.body)?(this[TE]=1,queueMicrotask(()=>gK(this))):this[$S](!0)),this[TE]&&this[s1]!==2&&this[AK]&&(this[s1]=2),this[s1]<2}async[bot](){return new Promise(e=>{this[zS]?this[o1]=e:e(null)})}async[vot](e){return new Promise(r=>{let n=this[_f].splice(this[Sf]);for(let s=0;s<n.length;s++){let a=n[s];vE.errorRequest(this,a,e)}let i=o(()=>{this[o1]&&(this[o1](),this[o1]=null),r(null)},"callback");this[ss]?(this[ss].destroy(e,i),this[ss]=null):queueMicrotask(i),this[$S]()})}},kot=lP();function H2e(t,e){if(t[jS]===0&&e.code!=="UND_ERR_INFO"&&e.code!=="UND_ERR_SOCKET"){KA(t[Sf]===t[JA]);let r=t[_f].splice(t[JA]);for(let n=0;n<r.length;n++){let i=r[n];vE.errorRequest(t,i,e)}KA(t[zS]===0)}}o(H2e,"onError");async function q2e(t){KA(!t[xv]),KA(!t[ss]);let{host:e,hostname:r,protocol:n,port:i}=t[ah];if(r[0]==="["){let s=r.indexOf("]");KA(s!==-1);let a=r.substring(1,s);KA(O2e.isIP(a)),r=a}t[xv]=!0,Iv.beforeConnect.hasSubscribers&&Iv.beforeConnect.publish({connectParams:{host:e,hostname:r,protocol:n,port:i,version:t[ss]?.version,servername:t[i1],localAddress:t[YS]},connector:t[WS]});try{let s=await new Promise((a,c)=>{t[WS]({host:e,hostname:r,protocol:n,port:i,servername:t[i1],localAddress:t[YS]},(l,f)=>{l?c(l):a(f)})});if(t.destroyed){vE.destroy(s.on("error",M2e),new aot);return}KA(s);try{t[ss]=s.alpnProtocol==="h2"?await Rot(t,s):await Bot(t,s)}catch(a){throw s.destroy().on("error",M2e),a}t[xv]=!1,s[xot]=0,s[pK]=t[pK],s[lot]=t,s[hot]=null,Iv.connected.hasSubscribers&&Iv.connected.publish({connectParams:{host:e,hostname:r,protocol:n,port:i,version:t[ss]?.version,servername:t[i1],localAddress:t[YS]},connector:t[WS],socket:s}),t.emit("connect",t[ah],[t])}catch(s){if(t.destroyed)return;if(t[xv]=!1,Iv.connectError.hasSubscribers&&Iv.connectError.publish({connectParams:{host:e,hostname:r,protocol:n,port:i,version:t[ss]?.version,servername:t[i1],localAddress:t[YS]},connector:t[WS],error:s}),s.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(KA(t[jS]===0);t[KS]>0&&t[_f][t[Sf]].servername===t[i1];){let a=t[_f][t[Sf]++];vE.errorRequest(t,a,s)}else H2e(t,s);t.emit("connectionError",t[ah],[t],s)}t[$S]()}o(q2e,"connect");function L2e(t){t[s1]=0,t.emit("drain",t[ah],[t])}o(L2e,"emitDrain");function gK(t,e){t[TE]!==2&&(t[TE]=2,Dot(t,e),t[TE]=0,t[JA]>256&&(t[_f].splice(0,t[JA]),t[Sf]-=t[JA],t[JA]=0))}o(gK,"resume");function Dot(t,e){for(;;){if(t.destroyed){KA(t[KS]===0);return}if(t[o1]&&!t[zS]){t[o1](),t[o1]=null;return}if(t[ss]&&t[ss].resume(),t[AK])t[s1]=2;else if(t[s1]===2){e?(t[s1]=1,queueMicrotask(()=>L2e(t))):L2e(t);continue}if(t[KS]===0||t[jS]>=(U2e(t)||1))return;let r=t[_f][t[Sf]];if(t[ah].protocol==="https:"&&t[i1]!==r.servername){if(t[jS]>0)return;t[i1]=r.servername,t[ss]?.destroy(new sot("servername changed"),()=>{t[ss]=null,gK(t)})}if(t[xv])return;if(!t[ss]){q2e(t);return}if(t[ss].destroyed||t[ss].busy(r))return;!r.aborted&&t[ss].write(r)?t[Sf]++:t[_f].splice(t[Sf],1)}}o(Dot,"_resume");G2e.exports=mK});var yK=q((gYr,V2e)=>{"use strict";u();var fP=class{static{o(this,"FixedCircularBuffer")}constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&2047}shift(){let e=this.list[this.bottom];return e===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,e)}};V2e.exports=class{static{o(this,"FixedQueue")}constructor(){this.head=this.tail=new fP}isEmpty(){return this.head.isEmpty()}push(e){this.head.isFull()&&(this.head=this.head.next=new fP),this.head.push(e)}shift(){let e=this.tail,r=e.shift();return e.isEmpty()&&e.next!==null&&(this.tail=e.next),r}}});var Y2e=q((EYr,W2e)=>{u();var{kFree:Not,kConnected:Qot,kPending:Pot,kQueued:Fot,kRunning:Mot,kSize:Lot}=ho(),_E=Symbol("pool"),CK=class{static{o(this,"PoolStats")}constructor(e){this[_E]=e}get connected(){return this[_E][Qot]}get free(){return this[_E][Not]}get pending(){return this[_E][Pot]}get queued(){return this[_E][Fot]}get running(){return this[_E][Mot]}get size(){return this[_E][Lot]}};W2e.exports=CK});var TK=q((bYr,rxe)=>{"use strict";u();var Oot=av(),Uot=yK(),{kConnected:EK,kSize:$2e,kRunning:z2e,kPending:j2e,kQueued:XS,kBusy:Hot,kFree:qot,kUrl:Got,kClose:Vot,kDestroy:Wot,kDispatch:Yot}=ho(),$ot=Y2e(),mc=Symbol("clients"),S0=Symbol("needDrain"),ZS=Symbol("queue"),IK=Symbol("closed resolve"),xK=Symbol("onDrain"),K2e=Symbol("onConnect"),J2e=Symbol("onDisconnect"),X2e=Symbol("onConnectionError"),bK=Symbol("get dispatcher"),exe=Symbol("add client"),txe=Symbol("remove client"),Z2e=Symbol("stats"),vK=class extends Oot{static{o(this,"PoolBase")}constructor(){super(),this[ZS]=new Uot,this[mc]=[],this[XS]=0;let e=this;this[xK]=o(function(n,i){let s=e[ZS],a=!1;for(;!a;){let c=s.shift();if(!c)break;e[XS]--,a=!this.dispatch(c.opts,c.handler)}this[S0]=a,!this[S0]&&e[S0]&&(e[S0]=!1,e.emit("drain",n,[e,...i])),e[IK]&&s.isEmpty()&&Promise.all(e[mc].map(c=>c.close())).then(e[IK])},"onDrain"),this[K2e]=(r,n)=>{e.emit("connect",r,[e,...n])},this[J2e]=(r,n,i)=>{e.emit("disconnect",r,[e,...n],i)},this[X2e]=(r,n,i)=>{e.emit("connectionError",r,[e,...n],i)},this[Z2e]=new $ot(this)}get[Hot](){return this[S0]}get[EK](){return this[mc].filter(e=>e[EK]).length}get[qot](){return this[mc].filter(e=>e[EK]&&!e[S0]).length}get[j2e](){let e=this[XS];for(let{[j2e]:r}of this[mc])e+=r;return e}get[z2e](){let e=0;for(let{[z2e]:r}of this[mc])e+=r;return e}get[$2e](){let e=this[XS];for(let{[$2e]:r}of this[mc])e+=r;return e}get stats(){return this[Z2e]}async[Vot](){this[ZS].isEmpty()?await Promise.all(this[mc].map(e=>e.close())):await new Promise(e=>{this[IK]=e})}async[Wot](e){for(;;){let r=this[ZS].shift();if(!r)break;r.handler.onError(e)}await Promise.all(this[mc].map(r=>r.destroy(e)))}[Yot](e,r){let n=this[bK]();return n?n.dispatch(e,r)||(n[S0]=!0,this[S0]=!this[bK]()):(this[S0]=!0,this[ZS].push({opts:e,handler:r}),this[XS]++),!this[S0]}[exe](e){return e.on("drain",this[xK]).on("connect",this[K2e]).on("disconnect",this[J2e]).on("connectionError",this[X2e]),this[mc].push(e),this[S0]&&queueMicrotask(()=>{this[S0]&&this[xK](e[Got],[this,e])}),this}[txe](e){e.close(()=>{let r=this[mc].indexOf(e);r!==-1&&this[mc].splice(r,1)}),this[S0]=this[mc].some(r=>!r[S0]&&r.closed!==!0&&r.destroyed!==!0)}};rxe.exports={PoolBase:vK,kClients:mc,kNeedDrain:S0,kAddClient:exe,kRemoveClient:txe,kGetDispatcher:bK}});var bv=q((_Yr,sxe)=>{"use strict";u();var{PoolBase:zot,kClients:dP,kNeedDrain:jot,kAddClient:Kot,kGetDispatcher:Jot}=TK(),Xot=JS(),{InvalidArgumentError:_K}=li(),nxe=dn(),{kUrl:ixe,kInterceptors:Zot}=ho(),est=RS(),SK=Symbol("options"),wK=Symbol("connections"),oxe=Symbol("factory");function tst(t,e){return new Xot(t,e)}o(tst,"defaultFactory");var BK=class extends zot{static{o(this,"Pool")}constructor(e,{connections:r,factory:n=tst,connect:i,connectTimeout:s,tls:a,maxCachedSessions:c,socketPath:l,autoSelectFamily:f,autoSelectFamilyAttemptTimeout:d,allowH2:h,...A}={}){if(super(),r!=null&&(!Number.isFinite(r)||r<0))throw new _K("invalid connections");if(typeof n!="function")throw new _K("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new _K("connect must be a function or an object");typeof i!="function"&&(i=est({...a,maxCachedSessions:c,allowH2:h,socketPath:l,timeout:s,...f?{autoSelectFamily:f,autoSelectFamilyAttemptTimeout:d}:void 0,...i})),this[Zot]=A.interceptors?.Pool&&Array.isArray(A.interceptors.Pool)?A.interceptors.Pool:[],this[wK]=r||null,this[ixe]=nxe.parseOrigin(e),this[SK]={...nxe.deepClone(A),connect:i,allowH2:h},this[SK].interceptors=A.interceptors?{...A.interceptors}:void 0,this[oxe]=n,this.on("connectionError",(m,y,x)=>{for(let _ of y){let T=this[dP].indexOf(_);T!==-1&&this[dP].splice(T,1)}})}[Jot](){for(let e of this[dP])if(!e[jot])return e;if(!this[wK]||this[dP].length<this[wK]){let e=this[oxe](this[ixe],this[SK]);return this[Kot](e),e}}};sxe.exports=BK});var fxe=q((BYr,uxe)=>{"use strict";u();var{BalancedPoolMissingUpstreamError:rst,InvalidArgumentError:nst}=li(),{PoolBase:ist,kClients:i0,kNeedDrain:ew,kAddClient:ost,kRemoveClient:sst,kGetDispatcher:ast}=TK(),cst=bv(),{kUrl:RK,kInterceptors:lst}=ho(),{parseOrigin:axe}=dn(),cxe=Symbol("factory"),hP=Symbol("options"),lxe=Symbol("kGreatestCommonDivisor"),SE=Symbol("kCurrentWeight"),wE=Symbol("kIndex"),uu=Symbol("kWeight"),AP=Symbol("kMaxWeightPerServer"),pP=Symbol("kErrorPenalty");function ust(t,e){if(t===0)return e;for(;e!==0;){let r=e;e=t%e,t=r}return t}o(ust,"getGreatestCommonDivisor");function fst(t,e){return new cst(t,e)}o(fst,"defaultFactory");var kK=class extends ist{static{o(this,"BalancedPool")}constructor(e=[],{factory:r=fst,...n}={}){if(super(),this[hP]=n,this[wE]=-1,this[SE]=0,this[AP]=this[hP].maxWeightPerServer||100,this[pP]=this[hP].errorPenalty||15,Array.isArray(e)||(e=[e]),typeof r!="function")throw new nst("factory must be a function.");this[lst]=n.interceptors?.BalancedPool&&Array.isArray(n.interceptors.BalancedPool)?n.interceptors.BalancedPool:[],this[cxe]=r;for(let i of e)this.addUpstream(i);this._updateBalancedPoolStats()}addUpstream(e){let r=axe(e).origin;if(this[i0].find(i=>i[RK].origin===r&&i.closed!==!0&&i.destroyed!==!0))return this;let n=this[cxe](r,Object.assign({},this[hP]));this[ost](n),n.on("connect",()=>{n[uu]=Math.min(this[AP],n[uu]+this[pP])}),n.on("connectionError",()=>{n[uu]=Math.max(1,n[uu]-this[pP]),this._updateBalancedPoolStats()}),n.on("disconnect",(...i)=>{let s=i[2];s&&s.code==="UND_ERR_SOCKET"&&(n[uu]=Math.max(1,n[uu]-this[pP]),this._updateBalancedPoolStats())});for(let i of this[i0])i[uu]=this[AP];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let e=0;for(let r=0;r<this[i0].length;r++)e=ust(this[i0][r][uu],e);this[lxe]=e}removeUpstream(e){let r=axe(e).origin,n=this[i0].find(i=>i[RK].origin===r&&i.closed!==!0&&i.destroyed!==!0);return n&&this[sst](n),this}get upstreams(){return this[i0].filter(e=>e.closed!==!0&&e.destroyed!==!0).map(e=>e[RK].origin)}[ast](){if(this[i0].length===0)throw new rst;if(!this[i0].find(s=>!s[ew]&&s.closed!==!0&&s.destroyed!==!0)||this[i0].map(s=>s[ew]).reduce((s,a)=>s&&a,!0))return;let n=0,i=this[i0].findIndex(s=>!s[ew]);for(;n++<this[i0].length;){this[wE]=(this[wE]+1)%this[i0].length;let s=this[i0][this[wE]];if(s[uu]>this[i0][i][uu]&&!s[ew]&&(i=this[wE]),this[wE]===0&&(this[SE]=this[SE]-this[lxe],this[SE]<=0&&(this[SE]=this[AP])),s[uu]>=this[SE]&&!s[ew])return s}return this[SE]=this[i0][i][uu],this[wE]=i,this[i0][i]}};uxe.exports=kK});var vv=q((DYr,yxe)=>{"use strict";u();var{InvalidArgumentError:mP}=li(),{kClients:a1,kRunning:dxe,kClose:dst,kDestroy:hst,kDispatch:Ast,kInterceptors:pst}=ho(),mst=av(),gst=bv(),yst=JS(),Cst=dn(),Est=lP(),hxe=Symbol("onConnect"),Axe=Symbol("onDisconnect"),pxe=Symbol("onConnectionError"),Ist=Symbol("maxRedirections"),mxe=Symbol("onDrain"),gxe=Symbol("factory"),DK=Symbol("options");function xst(t,e){return e&&e.connections===1?new yst(t,e):new gst(t,e)}o(xst,"defaultFactory");var NK=class extends mst{static{o(this,"Agent")}constructor({factory:e=xst,maxRedirections:r=0,connect:n,...i}={}){if(super(),typeof e!="function")throw new mP("factory must be a function.");if(n!=null&&typeof n!="function"&&typeof n!="object")throw new mP("connect must be a function or an object");if(!Number.isInteger(r)||r<0)throw new mP("maxRedirections must be a positive number");n&&typeof n!="function"&&(n={...n}),this[pst]=i.interceptors?.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[Est({maxRedirections:r})],this[DK]={...Cst.deepClone(i),connect:n},this[DK].interceptors=i.interceptors?{...i.interceptors}:void 0,this[Ist]=r,this[gxe]=e,this[a1]=new Map,this[mxe]=(s,a)=>{this.emit("drain",s,[this,...a])},this[hxe]=(s,a)=>{this.emit("connect",s,[this,...a])},this[Axe]=(s,a,c)=>{this.emit("disconnect",s,[this,...a],c)},this[pxe]=(s,a,c)=>{this.emit("connectionError",s,[this,...a],c)}}get[dxe](){let e=0;for(let r of this[a1].values())e+=r[dxe];return e}[Ast](e,r){let n;if(e.origin&&(typeof e.origin=="string"||e.origin instanceof URL))n=String(e.origin);else throw new mP("opts.origin must be a non-empty string or URL.");let i=this[a1].get(n);return i||(i=this[gxe](e.origin,this[DK]).on("drain",this[mxe]).on("connect",this[hxe]).on("disconnect",this[Axe]).on("connectionError",this[pxe]),this[a1].set(n,i)),i.dispatch(e,r)}async[dst](){let e=[];for(let r of this[a1].values())e.push(r.close());this[a1].clear(),await Promise.all(e)}async[hst](e){let r=[];for(let n of this[a1].values())r.push(n.destroy(e));this[a1].clear(),await Promise.all(r)}};yxe.exports=NK});var FK=q((PYr,xxe)=>{"use strict";u();var{kProxy:bst,kClose:vst,kDestroy:Tst,kInterceptors:_st}=ho(),{URL:tw}=require("node:url"),Sst=vv(),wst=bv(),Bst=av(),{InvalidArgumentError:CP,RequestAbortedError:Rst,SecureProxyConnectionError:kst}=li(),Cxe=RS(),gP=Symbol("proxy agent"),yP=Symbol("proxy client"),rw=Symbol("proxy headers"),QK=Symbol("request tls settings"),Exe=Symbol("proxy tls settings"),Ixe=Symbol("connect endpoint function");function Dst(t){return t==="https:"?443:80}o(Dst,"defaultProtocolPort");function Nst(t,e){return new wst(t,e)}o(Nst,"defaultFactory");var Qst=o(()=>{},"noop"),PK=class extends Bst{static{o(this,"ProxyAgent")}constructor(e){if(super(),!e||typeof e=="object"&&!(e instanceof tw)&&!e.uri)throw new CP("Proxy uri is mandatory");let{clientFactory:r=Nst}=e;if(typeof r!="function")throw new CP("Proxy opts.clientFactory must be a function.");let n=this.#e(e),{href:i,origin:s,port:a,protocol:c,username:l,password:f,hostname:d}=n;if(this[bst]={uri:i,protocol:c},this[_st]=e.interceptors?.ProxyAgent&&Array.isArray(e.interceptors.ProxyAgent)?e.interceptors.ProxyAgent:[],this[QK]=e.requestTls,this[Exe]=e.proxyTls,this[rw]=e.headers||{},e.auth&&e.token)throw new CP("opts.auth cannot be used in combination with opts.token");e.auth?this[rw]["proxy-authorization"]=`Basic ${e.auth}`:e.token?this[rw]["proxy-authorization"]=e.token:l&&f&&(this[rw]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(l)}:${decodeURIComponent(f)}`).toString("base64")}`);let h=Cxe({...e.proxyTls});this[Ixe]=Cxe({...e.requestTls}),this[yP]=r(n,{connect:h}),this[gP]=new Sst({...e,connect:o(async(A,m)=>{let y=A.host;A.port||(y+=`:${Dst(A.protocol)}`);try{let{socket:x,statusCode:_}=await this[yP].connect({origin:s,port:a,path:y,signal:A.signal,headers:{...this[rw],host:A.host},servername:this[Exe]?.servername||d});if(_!==200&&(x.on("error",Qst).destroy(),m(new Rst(`Proxy response (${_}) !== 200 when HTTP Tunneling`))),A.protocol!=="https:"){m(null,x);return}let T;this[QK]?T=this[QK].servername:T=A.servername,this[Ixe]({...A,servername:T,httpSocket:x},m)}catch(x){x.code==="ERR_TLS_CERT_ALTNAME_INVALID"?m(new kst(x)):m(x)}},"connect")})}dispatch(e,r){let n=Pst(e.headers);if(Fst(n),n&&!("host"in n)&&!("Host"in n)){let{host:i}=new tw(e.origin);n.host=i}return this[gP].dispatch({...e,headers:n},r)}#e(e){return typeof e=="string"?new tw(e):e instanceof tw?e:new tw(e.uri)}async[vst](){await this[gP].close(),await this[yP].close()}async[Tst](){await this[gP].destroy(),await this[yP].destroy()}};function Pst(t){if(Array.isArray(t)){let e={};for(let r=0;r<t.length;r+=2)e[t[r]]=t[r+1];return e}return t}o(Pst,"buildHeaders");function Fst(t){if(t&&Object.keys(t).find(r=>r.toLowerCase()==="proxy-authorization"))throw new CP("Proxy-Authorization should be sent in ProxyAgent constructor")}o(Fst,"throwIfProxyAuthIsSent");xxe.exports=PK});var wxe=q((LYr,Sxe)=>{"use strict";u();var Mst=av(),{kClose:Lst,kDestroy:Ost,kClosed:bxe,kDestroyed:vxe,kDispatch:Ust,kNoProxyAgent:nw,kHttpProxyAgent:c1,kHttpsProxyAgent:BE}=ho(),Txe=FK(),Hst=vv(),qst={"http:":80,"https:":443},_xe=!1,MK=class extends Mst{static{o(this,"EnvHttpProxyAgent")}#e=null;#t=null;#i=null;constructor(e={}){super(),this.#i=e,_xe||(_xe=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let{httpProxy:r,httpsProxy:n,noProxy:i,...s}=e;this[nw]=new Hst(s);let a=r??process.env.http_proxy??process.env.HTTP_PROXY;a?this[c1]=new Txe({...s,uri:a}):this[c1]=this[nw];let c=n??process.env.https_proxy??process.env.HTTPS_PROXY;c?this[BE]=new Txe({...s,uri:c}):this[BE]=this[c1],this.#o()}[Ust](e,r){let n=new URL(e.origin);return this.#n(n).dispatch(e,r)}async[Lst](){await this[nw].close(),this[c1][bxe]||await this[c1].close(),this[BE][bxe]||await this[BE].close()}async[Ost](e){await this[nw].destroy(e),this[c1][vxe]||await this[c1].destroy(e),this[BE][vxe]||await this[BE].destroy(e)}#n(e){let{protocol:r,host:n,port:i}=e;return n=n.replace(/:\d*$/,"").toLowerCase(),i=Number.parseInt(i,10)||qst[r]||0,this.#r(n,i)?r==="https:"?this[BE]:this[c1]:this[nw]}#r(e,r){if(this.#s&&this.#o(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let n=0;n<this.#t.length;n++){let i=this.#t[n];if(!(i.port&&i.port!==r)){if(/^[.*]/.test(i.hostname)){if(e.endsWith(i.hostname.replace(/^\*/,"")))return!1}else if(e===i.hostname)return!1}}return!0}#o(){let e=this.#i.noProxy??this.#a,r=e.split(/[,\s]/),n=[];for(let i=0;i<r.length;i++){let s=r[i];if(!s)continue;let a=s.match(/^(.+):(\d+)$/);n.push({hostname:(a?a[1]:s).toLowerCase(),port:a?Number.parseInt(a[2],10):0})}this.#e=e,this.#t=n}get#s(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};Sxe.exports=MK});var EP=q((HYr,Dxe)=>{"use strict";u();var Tv=require("node:assert"),{kRetryHandlerDefaultRetry:Bxe}=ho(),{RequestRetryError:iw}=li(),{isDisturbed:Rxe,parseHeaders:Gst,parseRangeHeader:kxe,wrapRequestBody:Vst}=dn();function Wst(t){let e=Date.now();return new Date(t).getTime()-e}o(Wst,"calculateRetryAfterHeader");var LK=class t{static{o(this,"RetryHandler")}constructor(e,r){let{retryOptions:n,...i}=e,{retry:s,maxRetries:a,maxTimeout:c,minTimeout:l,timeoutFactor:f,methods:d,errorCodes:h,retryAfter:A,statusCodes:m}=n??{};this.dispatch=r.dispatch,this.handler=r.handler,this.opts={...i,body:Vst(e.body)},this.abort=null,this.aborted=!1,this.retryOpts={retry:s??t[Bxe],retryAfter:A??!0,maxTimeout:c??30*1e3,minTimeout:l??500,timeoutFactor:f??2,maxRetries:a??5,methods:d??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:m??[500,502,503,504,429],errorCodes:h??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(y=>{this.aborted=!0,this.abort?this.abort(y):this.reason=y})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(e,r,n){this.handler.onUpgrade&&this.handler.onUpgrade(e,r,n)}onConnect(e){this.aborted?e(this.reason):this.abort=e}onBodySent(e){if(this.handler.onBodySent)return this.handler.onBodySent(e)}static[Bxe](e,{state:r,opts:n},i){let{statusCode:s,code:a,headers:c}=e,{method:l,retryOptions:f}=n,{maxRetries:d,minTimeout:h,maxTimeout:A,timeoutFactor:m,statusCodes:y,errorCodes:x,methods:_}=f,{counter:T}=r;if(a&&a!=="UND_ERR_REQ_RETRY"&&!x.includes(a)){i(e);return}if(Array.isArray(_)&&!_.includes(l)){i(e);return}if(s!=null&&Array.isArray(y)&&!y.includes(s)){i(e);return}if(T>d){i(e);return}let S=c?.["retry-after"];S&&(S=Number(S),S=Number.isNaN(S)?Wst(S):S*1e3);let k=S>0?Math.min(S,A):Math.min(h*m**(T-1),A);setTimeout(()=>i(null),k)}onHeaders(e,r,n,i){let s=Gst(r);if(this.retryCount+=1,e>=300)return this.retryOpts.statusCodes.includes(e)===!1?this.handler.onHeaders(e,r,n,i):(this.abort(new iw("Request failed",e,{headers:s,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,e!==206&&(this.start>0||e!==200))return this.abort(new iw("server does not support the range header and the payload was partially consumed",e,{headers:s,data:{count:this.retryCount}})),!1;let c=kxe(s["content-range"]);if(!c)return this.abort(new iw("Content-Range mismatch",e,{headers:s,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==s.etag)return this.abort(new iw("ETag mismatch",e,{headers:s,data:{count:this.retryCount}})),!1;let{start:l,size:f,end:d=f-1}=c;return Tv(this.start===l,"content-range mismatch"),Tv(this.end==null||this.end===d,"content-range mismatch"),this.resume=n,!0}if(this.end==null){if(e===206){let c=kxe(s["content-range"]);if(c==null)return this.handler.onHeaders(e,r,n,i);let{start:l,size:f,end:d=f-1}=c;Tv(l!=null&&Number.isFinite(l),"content-range mismatch"),Tv(d!=null&&Number.isFinite(d),"invalid content-length"),this.start=l,this.end=d}if(this.end==null){let c=s["content-length"];this.end=c!=null?Number(c)-1:null}return Tv(Number.isFinite(this.start)),Tv(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=n,this.etag=s.etag!=null?s.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(e,r,n,i)}let a=new iw("Request failed",e,{headers:s,data:{count:this.retryCount}});return this.abort(a),!1}onData(e){return this.start+=e.length,this.handler.onData(e)}onComplete(e){return this.retryCount=0,this.handler.onComplete(e)}onError(e){if(this.aborted||Rxe(this.opts.body))return this.handler.onError(e);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(e,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},r.bind(this));function r(n){if(n!=null||this.aborted||Rxe(this.opts.body))return this.handler.onError(n);if(this.start!==0){let i={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(i["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...i}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}o(r,"onRetry")}};Dxe.exports=LK});var Qxe=q((VYr,Nxe)=>{"use strict";u();var Yst=wS(),$st=EP(),OK=class extends Yst{static{o(this,"RetryAgent")}#e=null;#t=null;constructor(e,r={}){super(r),this.#e=e,this.#t=r}dispatch(e,r){let n=new $st({...e,retryOptions:this.#t},{dispatch:this.#e.dispatch.bind(this.#e),handler:r});return this.#e.dispatch(e,n)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};Nxe.exports=OK});var WK=q(($Yr,Gxe)=>{"use strict";u();var Oxe=require("node:assert"),{Readable:zst}=require("node:stream"),{RequestAbortedError:Uxe,NotSupportedError:jst,InvalidArgumentError:Kst,AbortError:UK}=li(),Hxe=dn(),{ReadableStreamFrom:Jst}=dn(),sl=Symbol("kConsume"),ow=Symbol("kReading"),l1=Symbol("kBody"),Pxe=Symbol("kAbort"),qxe=Symbol("kContentType"),Fxe=Symbol("kContentLength"),Xst=o(()=>{},"noop"),HK=class extends zst{static{o(this,"BodyReadable")}constructor({resume:e,abort:r,contentType:n="",contentLength:i,highWaterMark:s=64*1024}){super({autoDestroy:!0,read:e,highWaterMark:s}),this._readableState.dataEmitted=!1,this[Pxe]=r,this[sl]=null,this[l1]=null,this[qxe]=n,this[Fxe]=i,this[ow]=!1}destroy(e){return!e&&!this._readableState.endEmitted&&(e=new Uxe),e&&this[Pxe](),super.destroy(e)}_destroy(e,r){this[ow]?r(e):setImmediate(()=>{r(e)})}on(e,...r){return(e==="data"||e==="readable")&&(this[ow]=!0),super.on(e,...r)}addListener(e,...r){return this.on(e,...r)}off(e,...r){let n=super.off(e,...r);return(e==="data"||e==="readable")&&(this[ow]=this.listenerCount("data")>0||this.listenerCount("readable")>0),n}removeListener(e,...r){return this.off(e,...r)}push(e){return this[sl]&&e!==null?(GK(this[sl],e),this[ow]?super.push(e):!0):super.push(e)}async text(){return sw(this,"text")}async json(){return sw(this,"json")}async blob(){return sw(this,"blob")}async bytes(){return sw(this,"bytes")}async arrayBuffer(){return sw(this,"arrayBuffer")}async formData(){throw new jst}get bodyUsed(){return Hxe.isDisturbed(this)}get body(){return this[l1]||(this[l1]=Jst(this),this[sl]&&(this[l1].getReader(),Oxe(this[l1].locked))),this[l1]}async dump(e){let r=Number.isFinite(e?.limit)?e.limit:131072,n=e?.signal;if(n!=null&&(typeof n!="object"||!("aborted"in n)))throw new Kst("signal must be an AbortSignal");return n?.throwIfAborted(),this._readableState.closeEmitted?null:await new Promise((i,s)=>{this[Fxe]>r&&this.destroy(new UK);let a=o(()=>{this.destroy(n.reason??new UK)},"onAbort");n?.addEventListener("abort",a),this.on("close",function(){n?.removeEventListener("abort",a),n?.aborted?s(n.reason??new UK):i(null)}).on("error",Xst).on("data",function(c){r-=c.length,r<=0&&this.destroy()}).resume()})}};function Zst(t){return t[l1]&&t[l1].locked===!0||t[sl]}o(Zst,"isLocked");function eat(t){return Hxe.isDisturbed(t)||Zst(t)}o(eat,"isUnusable");async function sw(t,e){return Oxe(!t[sl]),new Promise((r,n)=>{if(eat(t)){let i=t._readableState;i.destroyed&&i.closeEmitted===!1?t.on("error",s=>{n(s)}).on("close",()=>{n(new TypeError("unusable"))}):n(i.errored??new TypeError("unusable"))}else queueMicrotask(()=>{t[sl]={type:e,stream:t,resolve:r,reject:n,length:0,body:[]},t.on("error",function(i){VK(this[sl],i)}).on("close",function(){this[sl].body!==null&&VK(this[sl],new Uxe)}),tat(t[sl])})})}o(sw,"consume");function tat(t){if(t.body===null)return;let{_readableState:e}=t.stream;if(e.bufferIndex){let r=e.bufferIndex,n=e.buffer.length;for(let i=r;i<n;i++)GK(t,e.buffer[i])}else for(let r of e.buffer)GK(t,r);for(e.endEmitted?Lxe(this[sl]):t.stream.on("end",function(){Lxe(this[sl])}),t.stream.resume();t.stream.read()!=null;);}o(tat,"consumeStart");function qK(t,e){if(t.length===0||e===0)return"";let r=t.length===1?t[0]:Buffer.concat(t,e),n=r.length,i=n>2&&r[0]===239&&r[1]===187&&r[2]===191?3:0;return r.utf8Slice(i,n)}o(qK,"chunksDecode");function Mxe(t,e){if(t.length===0||e===0)return new Uint8Array(0);if(t.length===1)return new Uint8Array(t[0]);let r=new Uint8Array(Buffer.allocUnsafeSlow(e).buffer),n=0;for(let i=0;i<t.length;++i){let s=t[i];r.set(s,n),n+=s.length}return r}o(Mxe,"chunksConcat");function Lxe(t){let{type:e,body:r,resolve:n,stream:i,length:s}=t;try{e==="text"?n(qK(r,s)):e==="json"?n(JSON.parse(qK(r,s))):e==="arrayBuffer"?n(Mxe(r,s).buffer):e==="blob"?n(new Blob(r,{type:i[qxe]})):e==="bytes"&&n(Mxe(r,s)),VK(t)}catch(a){i.destroy(a)}}o(Lxe,"consumeEnd");function GK(t,e){t.length+=e.length,t.body.push(e)}o(GK,"consumePush");function VK(t,e){t.body!==null&&(e?t.reject(e):t.resolve(),t.type=null,t.stream=null,t.resolve=null,t.reject=null,t.length=0,t.body=null)}o(VK,"consumeFinish");Gxe.exports={Readable:HK,chunksDecode:qK}});var YK=q((KYr,zxe)=>{u();var rat=require("node:assert"),{ResponseStatusCodeError:Vxe}=li(),{chunksDecode:Wxe}=WK(),nat=128*1024;async function iat({callback:t,body:e,contentType:r,statusCode:n,statusMessage:i,headers:s}){rat(e);let a=[],c=0;try{for await(let h of e)if(a.push(h),c+=h.length,c>nat){a=[],c=0;break}}catch{a=[],c=0}let l=`Response status code ${n}${i?`: ${i}`:""}`;if(n===204||!r||!c){queueMicrotask(()=>t(new Vxe(l,n,s)));return}let f=Error.stackTraceLimit;Error.stackTraceLimit=0;let d;try{Yxe(r)?d=JSON.parse(Wxe(a,c)):$xe(r)&&(d=Wxe(a,c))}catch{}finally{Error.stackTraceLimit=f}queueMicrotask(()=>t(new Vxe(l,n,s,d)))}o(iat,"getResolveErrorBodyCallback");var Yxe=o(t=>t.length>15&&t[11]==="/"&&t[0]==="a"&&t[1]==="p"&&t[2]==="p"&&t[3]==="l"&&t[4]==="i"&&t[5]==="c"&&t[6]==="a"&&t[7]==="t"&&t[8]==="i"&&t[9]==="o"&&t[10]==="n"&&t[12]==="j"&&t[13]==="s"&&t[14]==="o"&&t[15]==="n","isContentTypeApplicationJson"),$xe=o(t=>t.length>4&&t[4]==="/"&&t[0]==="t"&&t[1]==="e"&&t[2]==="x"&&t[3]==="t","isContentTypeText");zxe.exports={getResolveErrorBodyCallback:iat,isContentTypeApplicationJson:Yxe,isContentTypeText:$xe}});var Jxe=q((ZYr,$K)=>{"use strict";u();var oat=require("node:assert"),{Readable:sat}=WK(),{InvalidArgumentError:_v,RequestAbortedError:jxe}=li(),al=dn(),{getResolveErrorBodyCallback:aat}=YK(),{AsyncResource:cat}=require("node:async_hooks"),IP=class extends cat{static{o(this,"RequestHandler")}constructor(e,r){if(!e||typeof e!="object")throw new _v("invalid opts");let{signal:n,method:i,opaque:s,body:a,onInfo:c,responseHeaders:l,throwOnError:f,highWaterMark:d}=e;try{if(typeof r!="function")throw new _v("invalid callback");if(d&&(typeof d!="number"||d<0))throw new _v("invalid highWaterMark");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new _v("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new _v("invalid method");if(c&&typeof c!="function")throw new _v("invalid onInfo callback");super("UNDICI_REQUEST")}catch(h){throw al.isStream(a)&&al.destroy(a.on("error",al.nop),h),h}this.method=i,this.responseHeaders=l||null,this.opaque=s||null,this.callback=r,this.res=null,this.abort=null,this.body=a,this.trailers={},this.context=null,this.onInfo=c||null,this.throwOnError=f,this.highWaterMark=d,this.signal=n,this.reason=null,this.removeAbortListener=null,al.isStream(a)&&a.on("error",h=>{this.onError(h)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new jxe:this.removeAbortListener=al.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new jxe,this.res?al.destroy(this.res.on("error",al.nop),this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(e,r){if(this.reason){e(this.reason);return}oat(this.callback),this.abort=e,this.context=r}onHeaders(e,r,n,i){let{callback:s,opaque:a,abort:c,context:l,responseHeaders:f,highWaterMark:d}=this,h=f==="raw"?al.parseRawHeaders(r):al.parseHeaders(r);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:h});return}let A=f==="raw"?al.parseHeaders(r):h,m=A["content-type"],y=A["content-length"],x=new sat({resume:n,abort:c,contentType:m,contentLength:this.method!=="HEAD"&&y?Number(y):null,highWaterMark:d});this.removeAbortListener&&x.on("close",this.removeAbortListener),this.callback=null,this.res=x,s!==null&&(this.throwOnError&&e>=400?this.runInAsyncScope(aat,null,{callback:s,body:x,contentType:m,statusCode:e,statusMessage:i,headers:h}):this.runInAsyncScope(s,null,null,{statusCode:e,headers:h,trailers:this.trailers,opaque:a,body:x,context:l}))}onData(e){return this.res.push(e)}onComplete(e){al.parseHeaders(e,this.trailers),this.res.push(null)}onError(e){let{res:r,callback:n,body:i,opaque:s}=this;n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:s})})),r&&(this.res=null,queueMicrotask(()=>{al.destroy(r,e)})),i&&(this.body=null,al.destroy(i,e)),this.removeAbortListener&&(r?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function Kxe(t,e){if(e===void 0)return new Promise((r,n)=>{Kxe.call(this,t,(i,s)=>i?n(i):r(s))});try{this.dispatch(t,new IP(t,e))}catch(r){if(typeof e!="function")throw r;let n=t?.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}o(Kxe,"request");$K.exports=Kxe;$K.exports.RequestHandler=IP});var aw=q((r$r,ebe)=>{u();var{addAbortListener:lat}=dn(),{RequestAbortedError:uat}=li(),Sv=Symbol("kListener"),ch=Symbol("kSignal");function Xxe(t){t.abort?t.abort(t[ch]?.reason):t.reason=t[ch]?.reason??new uat,Zxe(t)}o(Xxe,"abort");function fat(t,e){if(t.reason=null,t[ch]=null,t[Sv]=null,!!e){if(e.aborted){Xxe(t);return}t[ch]=e,t[Sv]=()=>{Xxe(t)},lat(t[ch],t[Sv])}}o(fat,"addSignal");function Zxe(t){t[ch]&&("removeEventListener"in t[ch]?t[ch].removeEventListener("abort",t[Sv]):t[ch].removeListener("abort",t[Sv]),t[ch]=null,t[Sv]=null)}o(Zxe,"removeSignal");ebe.exports={addSignal:fat,removeSignal:Zxe}});var ibe=q((o$r,nbe)=>{"use strict";u();var dat=require("node:assert"),{finished:hat,PassThrough:Aat}=require("node:stream"),{InvalidArgumentError:wv,InvalidReturnValueError:pat}=li(),wf=dn(),{getResolveErrorBodyCallback:mat}=YK(),{AsyncResource:gat}=require("node:async_hooks"),{addSignal:yat,removeSignal:tbe}=aw(),zK=class extends gat{static{o(this,"StreamHandler")}constructor(e,r,n){if(!e||typeof e!="object")throw new wv("invalid opts");let{signal:i,method:s,opaque:a,body:c,onInfo:l,responseHeaders:f,throwOnError:d}=e;try{if(typeof n!="function")throw new wv("invalid callback");if(typeof r!="function")throw new wv("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new wv("signal must be an EventEmitter or EventTarget");if(s==="CONNECT")throw new wv("invalid method");if(l&&typeof l!="function")throw new wv("invalid onInfo callback");super("UNDICI_STREAM")}catch(h){throw wf.isStream(c)&&wf.destroy(c.on("error",wf.nop),h),h}this.responseHeaders=f||null,this.opaque=a||null,this.factory=r,this.callback=n,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=c,this.onInfo=l||null,this.throwOnError=d||!1,wf.isStream(c)&&c.on("error",h=>{this.onError(h)}),yat(this,i)}onConnect(e,r){if(this.reason){e(this.reason);return}dat(this.callback),this.abort=e,this.context=r}onHeaders(e,r,n,i){let{factory:s,opaque:a,context:c,callback:l,responseHeaders:f}=this,d=f==="raw"?wf.parseRawHeaders(r):wf.parseHeaders(r);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:d});return}this.factory=null;let h;if(this.throwOnError&&e>=400){let y=(f==="raw"?wf.parseHeaders(r):d)["content-type"];h=new Aat,this.callback=null,this.runInAsyncScope(mat,null,{callback:l,body:h,contentType:y,statusCode:e,statusMessage:i,headers:d})}else{if(s===null)return;if(h=this.runInAsyncScope(s,null,{statusCode:e,headers:d,opaque:a,context:c}),!h||typeof h.write!="function"||typeof h.end!="function"||typeof h.on!="function")throw new pat("expected Writable");hat(h,{readable:!1},m=>{let{callback:y,res:x,opaque:_,trailers:T,abort:S}=this;this.res=null,(m||!x.readable)&&wf.destroy(x,m),this.callback=null,this.runInAsyncScope(y,null,m||null,{opaque:_,trailers:T}),m&&S()})}return h.on("drain",n),this.res=h,(h.writableNeedDrain!==void 0?h.writableNeedDrain:h._writableState?.needDrain)!==!0}onData(e){let{res:r}=this;return r?r.write(e):!0}onComplete(e){let{res:r}=this;tbe(this),r&&(this.trailers=wf.parseHeaders(e),r.end())}onError(e){let{res:r,callback:n,opaque:i,body:s}=this;tbe(this),this.factory=null,r?(this.res=null,wf.destroy(r,e)):n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:i})})),s&&(this.body=null,wf.destroy(s,e))}};function rbe(t,e,r){if(r===void 0)return new Promise((n,i)=>{rbe.call(this,t,e,(s,a)=>s?i(s):n(a))});try{this.dispatch(t,new zK(t,e,r))}catch(n){if(typeof r!="function")throw n;let i=t?.opaque;queueMicrotask(()=>r(n,{opaque:i}))}}o(rbe,"stream");nbe.exports=rbe});var cbe=q((c$r,abe)=>{"use strict";u();var{Readable:sbe,Duplex:Cat,PassThrough:Eat}=require("node:stream"),{InvalidArgumentError:cw,InvalidReturnValueError:Iat,RequestAbortedError:jK}=li(),fu=dn(),{AsyncResource:xat}=require("node:async_hooks"),{addSignal:bat,removeSignal:vat}=aw(),obe=require("node:assert"),Bv=Symbol("resume"),KK=class extends sbe{static{o(this,"PipelineRequest")}constructor(){super({autoDestroy:!0}),this[Bv]=null}_read(){let{[Bv]:e}=this;e&&(this[Bv]=null,e())}_destroy(e,r){this._read(),r(e)}},JK=class extends sbe{static{o(this,"PipelineResponse")}constructor(e){super({autoDestroy:!0}),this[Bv]=e}_read(){this[Bv]()}_destroy(e,r){!e&&!this._readableState.endEmitted&&(e=new jK),r(e)}},XK=class extends xat{static{o(this,"PipelineHandler")}constructor(e,r){if(!e||typeof e!="object")throw new cw("invalid opts");if(typeof r!="function")throw new cw("invalid handler");let{signal:n,method:i,opaque:s,onInfo:a,responseHeaders:c}=e;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new cw("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new cw("invalid method");if(a&&typeof a!="function")throw new cw("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=c||null,this.handler=r,this.abort=null,this.context=null,this.onInfo=a||null,this.req=new KK().on("error",fu.nop),this.ret=new Cat({readableObjectMode:e.objectMode,autoDestroy:!0,read:o(()=>{let{body:l}=this;l?.resume&&l.resume()},"read"),write:o((l,f,d)=>{let{req:h}=this;h.push(l,f)||h._readableState.destroyed?d():h[Bv]=d},"write"),destroy:o((l,f)=>{let{body:d,req:h,res:A,ret:m,abort:y}=this;!l&&!m._readableState.endEmitted&&(l=new jK),y&&l&&y(),fu.destroy(d,l),fu.destroy(h,l),fu.destroy(A,l),vat(this),f(l)},"destroy")}).on("prefinish",()=>{let{req:l}=this;l.push(null)}),this.res=null,bat(this,n)}onConnect(e,r){let{ret:n,res:i}=this;if(this.reason){e(this.reason);return}obe(!i,"pipeline cannot be retried"),obe(!n.destroyed),this.abort=e,this.context=r}onHeaders(e,r,n){let{opaque:i,handler:s,context:a}=this;if(e<200){if(this.onInfo){let l=this.responseHeaders==="raw"?fu.parseRawHeaders(r):fu.parseHeaders(r);this.onInfo({statusCode:e,headers:l})}return}this.res=new JK(n);let c;try{this.handler=null;let l=this.responseHeaders==="raw"?fu.parseRawHeaders(r):fu.parseHeaders(r);c=this.runInAsyncScope(s,null,{statusCode:e,headers:l,opaque:i,body:this.res,context:a})}catch(l){throw this.res.on("error",fu.nop),l}if(!c||typeof c.on!="function")throw new Iat("expected Readable");c.on("data",l=>{let{ret:f,body:d}=this;!f.push(l)&&d.pause&&d.pause()}).on("error",l=>{let{ret:f}=this;fu.destroy(f,l)}).on("end",()=>{let{ret:l}=this;l.push(null)}).on("close",()=>{let{ret:l}=this;l._readableState.ended||fu.destroy(l,new jK)}),this.body=c}onData(e){let{res:r}=this;return r.push(e)}onComplete(e){let{res:r}=this;r.push(null)}onError(e){let{ret:r}=this;this.handler=null,fu.destroy(r,e)}};function Tat(t,e){try{let r=new XK(t,e);return this.dispatch({...t,body:r.req},r),r.ret}catch(r){return new Eat().destroy(r)}}o(Tat,"pipeline");abe.exports=Tat});var Abe=q((f$r,hbe)=>{"use strict";u();var{InvalidArgumentError:ZK,SocketError:_at}=li(),{AsyncResource:Sat}=require("node:async_hooks"),lbe=dn(),{addSignal:wat,removeSignal:ube}=aw(),fbe=require("node:assert"),eJ=class extends Sat{static{o(this,"UpgradeHandler")}constructor(e,r){if(!e||typeof e!="object")throw new ZK("invalid opts");if(typeof r!="function")throw new ZK("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=e;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new ZK("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=r,this.abort=null,this.context=null,wat(this,n)}onConnect(e,r){if(this.reason){e(this.reason);return}fbe(this.callback),this.abort=e,this.context=null}onHeaders(){throw new _at("bad upgrade",null)}onUpgrade(e,r,n){fbe(e===101);let{callback:i,opaque:s,context:a}=this;ube(this),this.callback=null;let c=this.responseHeaders==="raw"?lbe.parseRawHeaders(r):lbe.parseHeaders(r);this.runInAsyncScope(i,null,null,{headers:c,socket:n,opaque:s,context:a})}onError(e){let{callback:r,opaque:n}=this;ube(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:n})}))}};function dbe(t,e){if(e===void 0)return new Promise((r,n)=>{dbe.call(this,t,(i,s)=>i?n(i):r(s))});try{let r=new eJ(t,e);this.dispatch({...t,method:t.method||"GET",upgrade:t.protocol||"Websocket"},r)}catch(r){if(typeof e!="function")throw r;let n=t?.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}o(dbe,"upgrade");hbe.exports=dbe});var Cbe=q((A$r,ybe)=>{"use strict";u();var Bat=require("node:assert"),{AsyncResource:Rat}=require("node:async_hooks"),{InvalidArgumentError:tJ,SocketError:kat}=li(),pbe=dn(),{addSignal:Dat,removeSignal:mbe}=aw(),rJ=class extends Rat{static{o(this,"ConnectHandler")}constructor(e,r){if(!e||typeof e!="object")throw new tJ("invalid opts");if(typeof r!="function")throw new tJ("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=e;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new tJ("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=s||null,this.callback=r,this.abort=null,Dat(this,n)}onConnect(e,r){if(this.reason){e(this.reason);return}Bat(this.callback),this.abort=e,this.context=r}onHeaders(){throw new kat("bad connect",null)}onUpgrade(e,r,n){let{callback:i,opaque:s,context:a}=this;mbe(this),this.callback=null;let c=r;c!=null&&(c=this.responseHeaders==="raw"?pbe.parseRawHeaders(r):pbe.parseHeaders(r)),this.runInAsyncScope(i,null,null,{statusCode:e,headers:c,socket:n,opaque:s,context:a})}onError(e){let{callback:r,opaque:n}=this;mbe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:n})}))}};function gbe(t,e){if(e===void 0)return new Promise((r,n)=>{gbe.call(this,t,(i,s)=>i?n(i):r(s))});try{let r=new rJ(t,e);this.dispatch({...t,method:"CONNECT"},r)}catch(r){if(typeof e!="function")throw r;let n=t?.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}o(gbe,"connect");ybe.exports=gbe});var Ebe=q((g$r,Rv)=>{"use strict";u();Rv.exports.request=Jxe();Rv.exports.stream=ibe();Rv.exports.pipeline=cbe();Rv.exports.upgrade=Abe();Rv.exports.connect=Cbe()});var iJ=q((C$r,Ibe)=>{"use strict";u();var{UndiciError:Nat}=li(),nJ=class t extends Nat{static{o(this,"MockNotMatchedError")}constructor(e){super(e),Error.captureStackTrace(this,t),this.name="MockNotMatchedError",this.message=e||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};Ibe.exports={MockNotMatchedError:nJ}});var kv=q((x$r,xbe)=>{"use strict";u();xbe.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var lw=q((v$r,Nbe)=>{"use strict";u();var{MockNotMatchedError:RE}=iJ(),{kDispatches:xP,kMockAgent:Qat,kOriginalDispatch:Pat,kOrigin:Fat,kGetNetConnect:Mat}=kv(),{buildURL:Lat}=dn(),{STATUS_CODES:Oat}=require("node:http"),{types:{isPromise:Uat}}=require("node:util");function XA(t,e){return typeof t=="string"?t===e:t instanceof RegExp?t.test(e):typeof t=="function"?t(e)===!0:!1}o(XA,"matchValue");function vbe(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e.toLocaleLowerCase(),r]))}o(vbe,"lowerCaseEntries");function Tbe(t,e){if(Array.isArray(t)){for(let r=0;r<t.length;r+=2)if(t[r].toLocaleLowerCase()===e.toLocaleLowerCase())return t[r+1];return}else return typeof t.get=="function"?t.get(e):vbe(t)[e.toLocaleLowerCase()]}o(Tbe,"getHeaderByName");function aJ(t){let e=t.slice(),r=[];for(let n=0;n<e.length;n+=2)r.push([e[n],e[n+1]]);return Object.fromEntries(r)}o(aJ,"buildHeadersFromArray");function _be(t,e){if(typeof t.headers=="function")return Array.isArray(e)&&(e=aJ(e)),t.headers(e?vbe(e):{});if(typeof t.headers>"u")return!0;if(typeof e!="object"||typeof t.headers!="object")return!1;for(let[r,n]of Object.entries(t.headers)){let i=Tbe(e,r);if(!XA(n,i))return!1}return!0}o(_be,"matchHeaders");function bbe(t){if(typeof t!="string")return t;let e=t.split("?");if(e.length!==2)return t;let r=new URLSearchParams(e.pop());return r.sort(),[...e,r.toString()].join("?")}o(bbe,"safeUrl");function Hat(t,{path:e,method:r,body:n,headers:i}){let s=XA(t.path,e),a=XA(t.method,r),c=typeof t.body<"u"?XA(t.body,n):!0,l=_be(t,i);return s&&a&&c&&l}o(Hat,"matchKey");function Sbe(t){return Buffer.isBuffer(t)||t instanceof Uint8Array||t instanceof ArrayBuffer?t:typeof t=="object"?JSON.stringify(t):t.toString()}o(Sbe,"getResponseData");function wbe(t,e){let r=e.query?Lat(e.path,e.query):e.path,n=typeof r=="string"?bbe(r):r,i=t.filter(({consumed:s})=>!s).filter(({path:s})=>XA(bbe(s),n));if(i.length===0)throw new RE(`Mock dispatch not matched for path '${n}'`);if(i=i.filter(({method:s})=>XA(s,e.method)),i.length===0)throw new RE(`Mock dispatch not matched for method '${e.method}' on path '${n}'`);if(i=i.filter(({body:s})=>typeof s<"u"?XA(s,e.body):!0),i.length===0)throw new RE(`Mock dispatch not matched for body '${e.body}' on path '${n}'`);if(i=i.filter(s=>_be(s,e.headers)),i.length===0){let s=typeof e.headers=="object"?JSON.stringify(e.headers):e.headers;throw new RE(`Mock dispatch not matched for headers '${s}' on path '${n}'`)}return i[0]}o(wbe,"getMockDispatch");function qat(t,e,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof r=="function"?{callback:r}:{...r},s={...n,...e,pending:!0,data:{error:null,...i}};return t.push(s),s}o(qat,"addMockDispatch");function oJ(t,e){let r=t.findIndex(n=>n.consumed?Hat(n,e):!1);r!==-1&&t.splice(r,1)}o(oJ,"deleteMockDispatch");function Bbe(t){let{path:e,method:r,body:n,headers:i,query:s}=t;return{path:e,method:r,body:n,headers:i,query:s}}o(Bbe,"buildKey");function sJ(t){let e=Object.keys(t),r=[];for(let n=0;n<e.length;++n){let i=e[n],s=t[i],a=Buffer.from(`${i}`);if(Array.isArray(s))for(let c=0;c<s.length;++c)r.push(a,Buffer.from(`${s[c]}`));else r.push(a,Buffer.from(`${s}`))}return r}o(sJ,"generateKeyValues");function Rbe(t){return Oat[t]||"unknown"}o(Rbe,"getStatusText");async function Gat(t){let e=[];for await(let r of t)e.push(r);return Buffer.concat(e).toString("utf8")}o(Gat,"getResponse");function kbe(t,e){let r=Bbe(t),n=wbe(this[xP],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(t)});let{data:{statusCode:i,data:s,headers:a,trailers:c,error:l},delay:f,persist:d}=n,{timesInvoked:h,times:A}=n;if(n.consumed=!d&&h>=A,n.pending=h<A,l!==null)return oJ(this[xP],r),e.onError(l),!0;typeof f=="number"&&f>0?setTimeout(()=>{m(this[xP])},f):m(this[xP]);function m(x,_=s){let T=Array.isArray(t.headers)?aJ(t.headers):t.headers,S=typeof _=="function"?_({...t,headers:T}):_;if(Uat(S)){S.then(L=>m(x,L));return}let k=Sbe(S),N=sJ(a),P=sJ(c);e.onConnect?.(L=>e.onError(L),null),e.onHeaders?.(i,N,y,Rbe(i)),e.onData?.(Buffer.from(k)),e.onComplete?.(P),oJ(x,r)}o(m,"handleReply");function y(){}return o(y,"resume"),!0}o(kbe,"mockDispatch");function Vat(){let t=this[Qat],e=this[Fat],r=this[Pat];return o(function(i,s){if(t.isMockActive)try{kbe.call(this,i,s)}catch(a){if(a instanceof RE){let c=t[Mat]();if(c===!1)throw new RE(`${a.message}: subsequent request to origin ${e} was not allowed (net.connect disabled)`);if(Dbe(c,e))r.call(this,i,s);else throw new RE(`${a.message}: subsequent request to origin ${e} was not allowed (net.connect is not enabled for this origin)`)}else throw a}else r.call(this,i,s)},"dispatch")}o(Vat,"buildMockDispatch");function Dbe(t,e){let r=new URL(e);return t===!0?!0:!!(Array.isArray(t)&&t.some(n=>XA(n,r.host)))}o(Dbe,"checkNetConnect");function Wat(t){if(t){let{agent:e,...r}=t;return r}}o(Wat,"buildMockOptions");Nbe.exports={getResponseData:Sbe,getMockDispatch:wbe,addMockDispatch:qat,deleteMockDispatch:oJ,buildKey:Bbe,generateKeyValues:sJ,matchValue:XA,getResponse:Gat,getStatusText:Rbe,mockDispatch:kbe,buildMockDispatch:Vat,checkNetConnect:Dbe,buildMockOptions:Wat,getHeaderByName:Tbe,buildHeadersFromArray:aJ}});var AJ=q((S$r,hJ)=>{"use strict";u();var{getResponseData:Yat,buildKey:$at,addMockDispatch:cJ}=lw(),{kDispatches:bP,kDispatchKey:vP,kDefaultHeaders:lJ,kDefaultTrailers:uJ,kContentLength:fJ,kMockDispatch:TP}=kv(),{InvalidArgumentError:lh}=li(),{buildURL:zat}=dn(),Dv=class{static{o(this,"MockScope")}constructor(e){this[TP]=e}delay(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new lh("waitInMs must be a valid integer > 0");return this[TP].delay=e,this}persist(){return this[TP].persist=!0,this}times(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new lh("repeatTimes must be a valid integer > 0");return this[TP].times=e,this}},dJ=class{static{o(this,"MockInterceptor")}constructor(e,r){if(typeof e!="object")throw new lh("opts must be an object");if(typeof e.path>"u")throw new lh("opts.path must be defined");if(typeof e.method>"u"&&(e.method="GET"),typeof e.path=="string")if(e.query)e.path=zat(e.path,e.query);else{let n=new URL(e.path,"data://");e.path=n.pathname+n.search}typeof e.method=="string"&&(e.method=e.method.toUpperCase()),this[vP]=$at(e),this[bP]=r,this[lJ]={},this[uJ]={},this[fJ]=!1}createMockScopeDispatchData({statusCode:e,data:r,responseOptions:n}){let i=Yat(r),s=this[fJ]?{"content-length":i.length}:{},a={...this[lJ],...s,...n.headers},c={...this[uJ],...n.trailers};return{statusCode:e,data:r,headers:a,trailers:c}}validateReplyParameters(e){if(typeof e.statusCode>"u")throw new lh("statusCode must be defined");if(typeof e.responseOptions!="object"||e.responseOptions===null)throw new lh("responseOptions must be an object")}reply(e){if(typeof e=="function"){let s=o(c=>{let l=e(c);if(typeof l!="object"||l===null)throw new lh("reply options callback must return an object");let f={data:"",responseOptions:{},...l};return this.validateReplyParameters(f),{...this.createMockScopeDispatchData(f)}},"wrappedDefaultsCallback"),a=cJ(this[bP],this[vP],s);return new Dv(a)}let r={statusCode:e,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(r);let n=this.createMockScopeDispatchData(r),i=cJ(this[bP],this[vP],n);return new Dv(i)}replyWithError(e){if(typeof e>"u")throw new lh("error must be defined");let r=cJ(this[bP],this[vP],{error:e});return new Dv(r)}defaultReplyHeaders(e){if(typeof e>"u")throw new lh("headers must be defined");return this[lJ]=e,this}defaultReplyTrailers(e){if(typeof e>"u")throw new lh("trailers must be defined");return this[uJ]=e,this}replyContentLength(){return this[fJ]=!0,this}};hJ.exports.MockInterceptor=dJ;hJ.exports.MockScope=Dv});var gJ=q((R$r,Ube)=>{"use strict";u();var{promisify:jat}=require("node:util"),Kat=JS(),{buildMockDispatch:Jat}=lw(),{kDispatches:Qbe,kMockAgent:Pbe,kClose:Fbe,kOriginalClose:Mbe,kOrigin:Lbe,kOriginalDispatch:Xat,kConnected:pJ}=kv(),{MockInterceptor:Zat}=AJ(),Obe=ho(),{InvalidArgumentError:e0t}=li(),mJ=class extends Kat{static{o(this,"MockClient")}constructor(e,r){if(super(e,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new e0t("Argument opts.agent must implement Agent");this[Pbe]=r.agent,this[Lbe]=e,this[Qbe]=[],this[pJ]=1,this[Xat]=this.dispatch,this[Mbe]=this.close.bind(this),this.dispatch=Jat.call(this),this.close=this[Fbe]}get[Obe.kConnected](){return this[pJ]}intercept(e){return new Zat(e,this[Qbe])}async[Fbe](){await jat(this[Mbe])(),this[pJ]=0,this[Pbe][Obe.kClients].delete(this[Lbe])}};Ube.exports=mJ});var EJ=q((N$r,$be)=>{"use strict";u();var{promisify:t0t}=require("node:util"),r0t=bv(),{buildMockDispatch:n0t}=lw(),{kDispatches:Hbe,kMockAgent:qbe,kClose:Gbe,kOriginalClose:Vbe,kOrigin:Wbe,kOriginalDispatch:i0t,kConnected:yJ}=kv(),{MockInterceptor:o0t}=AJ(),Ybe=ho(),{InvalidArgumentError:s0t}=li(),CJ=class extends r0t{static{o(this,"MockPool")}constructor(e,r){if(super(e,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new s0t("Argument opts.agent must implement Agent");this[qbe]=r.agent,this[Wbe]=e,this[Hbe]=[],this[yJ]=1,this[i0t]=this.dispatch,this[Vbe]=this.close.bind(this),this.dispatch=n0t.call(this),this.close=this[Gbe]}get[Ybe.kConnected](){return this[yJ]}intercept(e){return new o0t(e,this[Hbe])}async[Gbe](){await t0t(this[Vbe])(),this[yJ]=0,this[qbe][Ybe.kClients].delete(this[Wbe])}};$be.exports=CJ});var jbe=q((M$r,zbe)=>{"use strict";u();var a0t={pronoun:"it",is:"is",was:"was",this:"this"},c0t={pronoun:"they",is:"are",was:"were",this:"these"};zbe.exports=class{static{o(this,"Pluralizer")}constructor(e,r){this.singular=e,this.plural=r}pluralize(e){let r=e===1,n=r?a0t:c0t,i=r?this.singular:this.plural;return{...n,count:e,noun:i}}}});var Jbe=q((H$r,Kbe)=>{"use strict";u();var{Transform:l0t}=require("node:stream"),{Console:u0t}=require("node:console"),f0t=process.versions.icu?"\u2705":"Y ",d0t=process.versions.icu?"\u274C":"N ";Kbe.exports=class{static{o(this,"PendingInterceptorsFormatter")}constructor({disableColors:e}={}){this.transform=new l0t({transform(r,n,i){i(null,r)}}),this.logger=new u0t({stdout:this.transform,inspectOptions:{colors:!e&&!process.env.CI}})}format(e){let r=e.map(({method:n,path:i,data:{statusCode:s},persist:a,times:c,timesInvoked:l,origin:f})=>({Method:n,Origin:f,Path:i,"Status code":s,Persistent:a?f0t:d0t,Invocations:l,Remaining:a?1/0:c-l}));return this.logger.table(r),this.transform.read().toString()}}});var tve=q((V$r,eve)=>{"use strict";u();var{kClients:kE}=ho(),h0t=vv(),{kAgent:IJ,kMockAgentSet:_P,kMockAgentGet:Xbe,kDispatches:xJ,kIsMockActive:SP,kNetConnect:DE,kGetNetConnect:A0t,kOptions:wP,kFactory:BP}=kv(),p0t=gJ(),m0t=EJ(),{matchValue:g0t,buildMockOptions:y0t}=lw(),{InvalidArgumentError:Zbe,UndiciError:C0t}=li(),E0t=wS(),I0t=jbe(),x0t=Jbe(),bJ=class extends E0t{static{o(this,"MockAgent")}constructor(e){if(super(e),this[DE]=!0,this[SP]=!0,e?.agent&&typeof e.agent.dispatch!="function")throw new Zbe("Argument opts.agent must implement Agent");let r=e?.agent?e.agent:new h0t(e);this[IJ]=r,this[kE]=r[kE],this[wP]=y0t(e)}get(e){let r=this[Xbe](e);return r||(r=this[BP](e),this[_P](e,r)),r}dispatch(e,r){return this.get(e.origin),this[IJ].dispatch(e,r)}async close(){await this[IJ].close(),this[kE].clear()}deactivate(){this[SP]=!1}activate(){this[SP]=!0}enableNetConnect(e){if(typeof e=="string"||typeof e=="function"||e instanceof RegExp)Array.isArray(this[DE])?this[DE].push(e):this[DE]=[e];else if(typeof e>"u")this[DE]=!0;else throw new Zbe("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[DE]=!1}get isMockActive(){return this[SP]}[_P](e,r){this[kE].set(e,r)}[BP](e){let r=Object.assign({agent:this},this[wP]);return this[wP]&&this[wP].connections===1?new p0t(e,r):new m0t(e,r)}[Xbe](e){let r=this[kE].get(e);if(r)return r;if(typeof e!="string"){let n=this[BP]("http://localhost:9999");return this[_P](e,n),n}for(let[n,i]of Array.from(this[kE]))if(i&&typeof n!="string"&&g0t(n,e)){let s=this[BP](e);return this[_P](e,s),s[xJ]=i[xJ],s}}[A0t](){return this[DE]}pendingInterceptors(){let e=this[kE];return Array.from(e.entries()).flatMap(([r,n])=>n[xJ].map(i=>({...i,origin:r}))).filter(({pending:r})=>r)}assertNoPendingInterceptors({pendingInterceptorsFormatter:e=new x0t}={}){let r=this.pendingInterceptors();if(r.length===0)return;let n=new I0t("interceptor","interceptors").pluralize(r.length);throw new C0t(`
${n.count} ${n.noun} ${n.is} pending:

${e.format(r)}
`.trim())}};eve.exports=bJ});var RP=q(($$r,ove)=>{"use strict";u();var rve=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:b0t}=li(),v0t=vv();ive()===void 0&&nve(new v0t);function nve(t){if(!t||typeof t.dispatch!="function")throw new b0t("Argument agent must implement Agent");Object.defineProperty(globalThis,rve,{value:t,writable:!0,enumerable:!1,configurable:!1})}o(nve,"setGlobalDispatcher");function ive(){return globalThis[rve]}o(ive,"getGlobalDispatcher");ove.exports={setGlobalDispatcher:nve,getGlobalDispatcher:ive}});var kP=q((J$r,sve)=>{"use strict";u();sve.exports=class{static{o(this,"DecoratorHandler")}#e;constructor(e){if(typeof e!="object"||e===null)throw new TypeError("handler must be an object");this.#e=e}onConnect(...e){return this.#e.onConnect?.(...e)}onError(...e){return this.#e.onError?.(...e)}onUpgrade(...e){return this.#e.onUpgrade?.(...e)}onResponseStarted(...e){return this.#e.onResponseStarted?.(...e)}onHeaders(...e){return this.#e.onHeaders?.(...e)}onData(...e){return this.#e.onData?.(...e)}onComplete(...e){return this.#e.onComplete?.(...e)}onBodySent(...e){return this.#e.onBodySent?.(...e)}}});var cve=q((ezr,ave)=>{"use strict";u();var T0t=cP();ave.exports=t=>{let e=t?.maxRedirections;return r=>o(function(i,s){let{maxRedirections:a=e,...c}=i;if(!a)return r(i,s);let l=new T0t(r,a,i,s);return r(c,l)},"redirectInterceptor")}});var uve=q((nzr,lve)=>{"use strict";u();var _0t=EP();lve.exports=t=>e=>o(function(n,i){return e(n,new _0t({...n,retryOptions:{...t,...n.retryOptions}},{handler:i,dispatch:e}))},"retryInterceptor")});var dve=q((szr,fve)=>{"use strict";u();var S0t=dn(),{InvalidArgumentError:w0t,RequestAbortedError:B0t}=li(),R0t=kP(),vJ=class extends R0t{static{o(this,"DumpHandler")}#e=1024*1024;#t=null;#i=!1;#n=!1;#r=0;#o=null;#s=null;constructor({maxSize:e},r){if(super(r),e!=null&&(!Number.isFinite(e)||e<1))throw new w0t("maxSize must be a number greater than 0");this.#e=e??this.#e,this.#s=r}onConnect(e){this.#t=e,this.#s.onConnect(this.#a.bind(this))}#a(e){this.#n=!0,this.#o=e}onHeaders(e,r,n,i){let a=S0t.parseHeaders(r)["content-length"];if(a!=null&&a>this.#e)throw new B0t(`Response size (${a}) larger than maxSize (${this.#e})`);return this.#n?!0:this.#s.onHeaders(e,r,n,i)}onError(e){this.#i||(e=this.#o??e,this.#s.onError(e))}onData(e){return this.#r=this.#r+e.length,this.#r>=this.#e&&(this.#i=!0,this.#n?this.#s.onError(this.#o):this.#s.onComplete([])),!0}onComplete(e){if(!this.#i){if(this.#n){this.#s.onError(this.reason);return}this.#s.onComplete(e)}}};function k0t({maxSize:t}={maxSize:1024*1024}){return e=>o(function(n,i){let{dumpMaxSize:s=t}=n,a=new vJ({maxSize:s},i);return e(n,a)},"Intercept")}o(k0t,"createDumpInterceptor");fve.exports=k0t});var pve=q((lzr,Ave)=>{"use strict";u();var{isIP:D0t}=require("node:net"),{lookup:N0t}=require("node:dns"),Q0t=kP(),{InvalidArgumentError:Nv,InformationalError:P0t}=li(),hve=Math.pow(2,31)-1,TJ=class{static{o(this,"DNSInstance")}#e=0;#t=0;#i=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(e){this.#e=e.maxTTL,this.#t=e.maxItems,this.dualStack=e.dualStack,this.affinity=e.affinity,this.lookup=e.lookup??this.#n,this.pick=e.pick??this.#r}get full(){return this.#i.size===this.#t}runLookup(e,r,n){let i=this.#i.get(e.hostname);if(i==null&&this.full){n(null,e.origin);return}let s={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...r.dns,maxTTL:this.#e,maxItems:this.#t};if(i==null)this.lookup(e,s,(a,c)=>{if(a||c==null||c.length===0){n(a??new P0t("No DNS entries found"));return}this.setRecords(e,c);let l=this.#i.get(e.hostname),f=this.pick(e,l,s.affinity),d;typeof f.port=="number"?d=`:${f.port}`:e.port!==""?d=`:${e.port}`:d="",n(null,`${e.protocol}//${f.family===6?`[${f.address}]`:f.address}${d}`)});else{let a=this.pick(e,i,s.affinity);if(a==null){this.#i.delete(e.hostname),this.runLookup(e,r,n);return}let c;typeof a.port=="number"?c=`:${a.port}`:e.port!==""?c=`:${e.port}`:c="",n(null,`${e.protocol}//${a.family===6?`[${a.address}]`:a.address}${c}`)}}#n(e,r,n){N0t(e.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(i,s)=>{if(i)return n(i);let a=new Map;for(let c of s)a.set(`${c.address}:${c.family}`,c);n(null,a.values())})}#r(e,r,n){let i=null,{records:s,offset:a}=r,c;if(this.dualStack?(n==null&&(a==null||a===hve?(r.offset=0,n=4):(r.offset++,n=(r.offset&1)===1?6:4)),s[n]!=null&&s[n].ips.length>0?c=s[n]:c=s[n===4?6:4]):c=s[n],c==null||c.ips.length===0)return i;c.offset==null||c.offset===hve?c.offset=0:c.offset++;let l=c.offset%c.ips.length;return i=c.ips[l]??null,i==null?i:Date.now()-i.timestamp>i.ttl?(c.ips.splice(l,1),this.pick(e,r,n)):i}setRecords(e,r){let n=Date.now(),i={records:{4:null,6:null}};for(let s of r){s.timestamp=n,typeof s.ttl=="number"?s.ttl=Math.min(s.ttl,this.#e):s.ttl=this.#e;let a=i.records[s.family]??{ips:[]};a.ips.push(s),i.records[s.family]=a}this.#i.set(e.hostname,i)}getHandler(e,r){return new _J(this,e,r)}},_J=class extends Q0t{static{o(this,"DNSDispatchHandler")}#e=null;#t=null;#i=null;#n=null;#r=null;constructor(e,{origin:r,handler:n,dispatch:i},s){super(n),this.#r=r,this.#n=n,this.#t={...s},this.#e=e,this.#i=i}onError(e){switch(e.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#e.dualStack){this.#e.runLookup(this.#r,this.#t,(r,n)=>{if(r)return this.#n.onError(r);let i={...this.#t,origin:n};this.#i(i,this)});return}this.#n.onError(e);return}case"ENOTFOUND":this.#e.deleteRecord(this.#r);default:this.#n.onError(e);break}}};Ave.exports=t=>{if(t?.maxTTL!=null&&(typeof t?.maxTTL!="number"||t?.maxTTL<0))throw new Nv("Invalid maxTTL. Must be a positive number");if(t?.maxItems!=null&&(typeof t?.maxItems!="number"||t?.maxItems<1))throw new Nv("Invalid maxItems. Must be a positive number and greater than zero");if(t?.affinity!=null&&t?.affinity!==4&&t?.affinity!==6)throw new Nv("Invalid affinity. Must be either 4 or 6");if(t?.dualStack!=null&&typeof t?.dualStack!="boolean")throw new Nv("Invalid dualStack. Must be a boolean");if(t?.lookup!=null&&typeof t?.lookup!="function")throw new Nv("Invalid lookup. Must be a function");if(t?.pick!=null&&typeof t?.pick!="function")throw new Nv("Invalid pick. Must be a function");let e=t?.dualStack??!0,r;e?r=t?.affinity??null:r=t?.affinity??4;let n={maxTTL:t?.maxTTL??1e4,lookup:t?.lookup??null,pick:t?.pick??null,dualStack:e,affinity:r,maxItems:t?.maxItems??1/0},i=new TJ(n);return s=>o(function(c,l){let f=c.origin.constructor===URL?c.origin:new URL(c.origin);return D0t(f.hostname)!==0?s(c,l):(i.runLookup(f,c,(d,h)=>{if(d)return l.onError(d);let A=null;A={...c,servername:f.hostname,origin:h,headers:{host:f.hostname,...c.headers}},s(A,i.getHandler({origin:f,dispatch:s,handler:l},c))}),!0)},"dnsInterceptor")}});var NE=q((dzr,xve)=>{"use strict";u();var{kConstruct:F0t}=ho(),{kEnumerableProperty:Qv}=dn(),{iteratorMixin:M0t,isValidHeaderName:uw,isValidHeaderValue:gve}=ol(),{webidl:Yn}=Da(),SJ=require("node:assert"),DP=require("node:util"),vs=Symbol("headers map"),cl=Symbol("headers map sorted");function mve(t){return t===10||t===13||t===9||t===32}o(mve,"isHTTPWhiteSpaceCharCode");function yve(t){let e=0,r=t.length;for(;r>e&&mve(t.charCodeAt(r-1));)--r;for(;r>e&&mve(t.charCodeAt(e));)++e;return e===0&&r===t.length?t:t.substring(e,r)}o(yve,"headerValueNormalize");function Cve(t,e){if(Array.isArray(e))for(let r=0;r<e.length;++r){let n=e[r];if(n.length!==2)throw Yn.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});wJ(t,n[0],n[1])}else if(typeof e=="object"&&e!==null){let r=Object.keys(e);for(let n=0;n<r.length;++n)wJ(t,r[n],e[r[n]])}else throw Yn.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}o(Cve,"fill");function wJ(t,e,r){if(r=yve(r),uw(e)){if(!gve(r))throw Yn.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw Yn.errors.invalidArgument({prefix:"Headers.append",value:e,type:"header name"});if(Ive(t)==="immutable")throw new TypeError("immutable");return BJ(t).append(e,r,!1)}o(wJ,"appendHeader");function Eve(t,e){return t[0]<e[0]?-1:1}o(Eve,"compareHeaderName");var NP=class t{static{o(this,"HeadersList")}cookies=null;constructor(e){e instanceof t?(this[vs]=new Map(e[vs]),this[cl]=e[cl],this.cookies=e.cookies===null?null:[...e.cookies]):(this[vs]=new Map(e),this[cl]=null)}contains(e,r){return this[vs].has(r?e:e.toLowerCase())}clear(){this[vs].clear(),this[cl]=null,this.cookies=null}append(e,r,n){this[cl]=null;let i=n?e:e.toLowerCase(),s=this[vs].get(i);if(s){let a=i==="cookie"?"; ":", ";this[vs].set(i,{name:s.name,value:`${s.value}${a}${r}`})}else this[vs].set(i,{name:e,value:r});i==="set-cookie"&&(this.cookies??=[]).push(r)}set(e,r,n){this[cl]=null;let i=n?e:e.toLowerCase();i==="set-cookie"&&(this.cookies=[r]),this[vs].set(i,{name:e,value:r})}delete(e,r){this[cl]=null,r||(e=e.toLowerCase()),e==="set-cookie"&&(this.cookies=null),this[vs].delete(e)}get(e,r){return this[vs].get(r?e:e.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:e,1:{value:r}}of this[vs])yield[e,r]}get entries(){let e={};if(this[vs].size!==0)for(let{name:r,value:n}of this[vs].values())e[r]=n;return e}rawValues(){return this[vs].values()}get entriesList(){let e=[];if(this[vs].size!==0)for(let{0:r,1:{name:n,value:i}}of this[vs])if(r==="set-cookie")for(let s of this.cookies)e.push([n,s]);else e.push([n,i]);return e}toSortedArray(){let e=this[vs].size,r=new Array(e);if(e<=32){if(e===0)return r;let n=this[vs][Symbol.iterator](),i=n.next().value;r[0]=[i[0],i[1].value],SJ(i[1].value!==null);for(let s=1,a=0,c=0,l=0,f=0,d,h;s<e;++s){for(h=n.next().value,d=r[s]=[h[0],h[1].value],SJ(d[1]!==null),l=0,c=s;l<c;)f=l+(c-l>>1),r[f][0]<=d[0]?l=f+1:c=f;if(s!==f){for(a=s;a>l;)r[a]=r[--a];r[l]=d}}if(!n.next().done)throw new TypeError("Unreachable");return r}else{let n=0;for(let{0:i,1:{value:s}}of this[vs])r[n++]=[i,s],SJ(s!==null);return r.sort(Eve)}}},Bf=class t{static{o(this,"Headers")}#e;#t;constructor(e=void 0){Yn.util.markAsUncloneable(this),e!==F0t&&(this.#t=new NP,this.#e="none",e!==void 0&&(e=Yn.converters.HeadersInit(e,"Headers contructor","init"),Cve(this,e)))}append(e,r){Yn.brandCheck(this,t),Yn.argumentLengthCheck(arguments,2,"Headers.append");let n="Headers.append";return e=Yn.converters.ByteString(e,n,"name"),r=Yn.converters.ByteString(r,n,"value"),wJ(this,e,r)}delete(e){if(Yn.brandCheck(this,t),Yn.argumentLengthCheck(arguments,1,"Headers.delete"),e=Yn.converters.ByteString(e,"Headers.delete","name"),!uw(e))throw Yn.errors.invalidArgument({prefix:"Headers.delete",value:e,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(e,!1)&&this.#t.delete(e,!1)}get(e){Yn.brandCheck(this,t),Yn.argumentLengthCheck(arguments,1,"Headers.get");let r="Headers.get";if(e=Yn.converters.ByteString(e,r,"name"),!uw(e))throw Yn.errors.invalidArgument({prefix:r,value:e,type:"header name"});return this.#t.get(e,!1)}has(e){Yn.brandCheck(this,t),Yn.argumentLengthCheck(arguments,1,"Headers.has");let r="Headers.has";if(e=Yn.converters.ByteString(e,r,"name"),!uw(e))throw Yn.errors.invalidArgument({prefix:r,value:e,type:"header name"});return this.#t.contains(e,!1)}set(e,r){Yn.brandCheck(this,t),Yn.argumentLengthCheck(arguments,2,"Headers.set");let n="Headers.set";if(e=Yn.converters.ByteString(e,n,"name"),r=Yn.converters.ByteString(r,n,"value"),r=yve(r),uw(e)){if(!gve(r))throw Yn.errors.invalidArgument({prefix:n,value:r,type:"header value"})}else throw Yn.errors.invalidArgument({prefix:n,value:e,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(e,r,!1)}getSetCookie(){Yn.brandCheck(this,t);let e=this.#t.cookies;return e?[...e]:[]}get[cl](){if(this.#t[cl])return this.#t[cl];let e=[],r=this.#t.toSortedArray(),n=this.#t.cookies;if(n===null||n.length===1)return this.#t[cl]=r;for(let i=0;i<r.length;++i){let{0:s,1:a}=r[i];if(s==="set-cookie")for(let c=0;c<n.length;++c)e.push([s,n[c]]);else e.push([s,a])}return this.#t[cl]=e}[DP.inspect.custom](e,r){return r.depth??=e,`Headers ${DP.formatWithOptions(r,this.#t.entries)}`}static getHeadersGuard(e){return e.#e}static setHeadersGuard(e,r){e.#e=r}static getHeadersList(e){return e.#t}static setHeadersList(e,r){e.#t=r}},{getHeadersGuard:Ive,setHeadersGuard:L0t,getHeadersList:BJ,setHeadersList:O0t}=Bf;Reflect.deleteProperty(Bf,"getHeadersGuard");Reflect.deleteProperty(Bf,"setHeadersGuard");Reflect.deleteProperty(Bf,"getHeadersList");Reflect.deleteProperty(Bf,"setHeadersList");M0t("Headers",Bf,cl,0,1);Object.defineProperties(Bf.prototype,{append:Qv,delete:Qv,get:Qv,has:Qv,set:Qv,getSetCookie:Qv,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[DP.inspect.custom]:{enumerable:!1}});Yn.converters.HeadersInit=function(t,e,r){if(Yn.util.Type(t)==="Object"){let n=Reflect.get(t,Symbol.iterator);if(!DP.types.isProxy(t)&&n===Bf.prototype.entries)try{return BJ(t).entriesList}catch{}return typeof n=="function"?Yn.converters["sequence<sequence<ByteString>>"](t,e,r,n.bind(t)):Yn.converters["record<ByteString, ByteString>"](t,e,r)}throw Yn.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};xve.exports={fill:Cve,compareHeaderName:Eve,Headers:Bf,HeadersList:NP,getHeadersGuard:Ive,setHeadersGuard:L0t,setHeadersList:O0t,getHeadersList:BJ}});var dw=q((pzr,Dve)=>{"use strict";u();var{Headers:wve,HeadersList:bve,fill:U0t,getHeadersGuard:H0t,setHeadersGuard:Bve,setHeadersList:Rve}=NE(),{extractBody:vve,cloneBody:q0t,mixinBody:G0t,hasFinalizationRegistry:V0t,streamRegistry:W0t,bodyUnusable:Y0t}=mv(),RJ=dn(),Tve=require("node:util"),{kEnumerableProperty:ll}=RJ,{isValidReasonPhrase:$0t,isCancelled:z0t,isAborted:j0t,isBlobLike:K0t,serializeJavascriptValueToJSONString:J0t,isErrorLike:X0t,isomorphicEncode:Z0t,environmentSettingsObject:ect}=ol(),{redirectStatusSet:tct,nullBodyStatus:rct}=kS(),{kState:Vo,kHeaders:ZA}=Zg(),{webidl:Jr}=Da(),{FormData:nct}=LS(),{URLSerializer:_ve}=Ac(),{kConstruct:PP}=ho(),kJ=require("node:assert"),{types:ict}=require("node:util"),oct=new TextEncoder("utf-8"),QE=class t{static{o(this,"Response")}static error(){return fw(FP(),"immutable")}static json(e,r={}){Jr.argumentLengthCheck(arguments,1,"Response.json"),r!==null&&(r=Jr.converters.ResponseInit(r));let n=oct.encode(J0t(e)),i=vve(n),s=fw(Pv({}),"response");return Sve(s,r,{body:i[0],type:"application/json"}),s}static redirect(e,r=302){Jr.argumentLengthCheck(arguments,1,"Response.redirect"),e=Jr.converters.USVString(e),r=Jr.converters["unsigned short"](r);let n;try{n=new URL(e,ect.settingsObject.baseUrl)}catch(a){throw new TypeError(`Failed to parse URL from ${e}`,{cause:a})}if(!tct.has(r))throw new RangeError(`Invalid status code ${r}`);let i=fw(Pv({}),"immutable");i[Vo].status=r;let s=Z0t(_ve(n));return i[Vo].headersList.append("location",s,!0),i}constructor(e=null,r={}){if(Jr.util.markAsUncloneable(this),e===PP)return;e!==null&&(e=Jr.converters.BodyInit(e)),r=Jr.converters.ResponseInit(r),this[Vo]=Pv({}),this[ZA]=new wve(PP),Bve(this[ZA],"response"),Rve(this[ZA],this[Vo].headersList);let n=null;if(e!=null){let[i,s]=vve(e);n={body:i,type:s}}Sve(this,r,n)}get type(){return Jr.brandCheck(this,t),this[Vo].type}get url(){Jr.brandCheck(this,t);let e=this[Vo].urlList,r=e[e.length-1]??null;return r===null?"":_ve(r,!0)}get redirected(){return Jr.brandCheck(this,t),this[Vo].urlList.length>1}get status(){return Jr.brandCheck(this,t),this[Vo].status}get ok(){return Jr.brandCheck(this,t),this[Vo].status>=200&&this[Vo].status<=299}get statusText(){return Jr.brandCheck(this,t),this[Vo].statusText}get headers(){return Jr.brandCheck(this,t),this[ZA]}get body(){return Jr.brandCheck(this,t),this[Vo].body?this[Vo].body.stream:null}get bodyUsed(){return Jr.brandCheck(this,t),!!this[Vo].body&&RJ.isDisturbed(this[Vo].body.stream)}clone(){if(Jr.brandCheck(this,t),Y0t(this))throw Jr.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let e=DJ(this[Vo]);return fw(e,H0t(this[ZA]))}[Tve.inspect.custom](e,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${Tve.formatWithOptions(r,n)}`}};G0t(QE);Object.defineProperties(QE.prototype,{type:ll,url:ll,status:ll,ok:ll,redirected:ll,statusText:ll,headers:ll,clone:ll,body:ll,bodyUsed:ll,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(QE,{json:ll,redirect:ll,error:ll});function DJ(t){if(t.internalResponse)return kve(DJ(t.internalResponse),t.type);let e=Pv({...t,body:null});return t.body!=null&&(e.body=q0t(e,t.body)),e}o(DJ,"cloneResponse");function Pv(t){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...t,headersList:t?.headersList?new bve(t?.headersList):new bve,urlList:t?.urlList?[...t.urlList]:[]}}o(Pv,"makeResponse");function FP(t){let e=X0t(t);return Pv({type:"error",status:0,error:e?t:new Error(t&&String(t)),aborted:t&&t.name==="AbortError"})}o(FP,"makeNetworkError");function sct(t){return t.type==="error"&&t.status===0}o(sct,"isNetworkError");function QP(t,e){return e={internalResponse:t,...e},new Proxy(t,{get(r,n){return n in e?e[n]:r[n]},set(r,n,i){return kJ(!(n in e)),r[n]=i,!0}})}o(QP,"makeFilteredResponse");function kve(t,e){if(e==="basic")return QP(t,{type:"basic",headersList:t.headersList});if(e==="cors")return QP(t,{type:"cors",headersList:t.headersList});if(e==="opaque")return QP(t,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(e==="opaqueredirect")return QP(t,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});kJ(!1)}o(kve,"filterResponse");function act(t,e=null){return kJ(z0t(t)),j0t(t)?FP(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:e})):FP(Object.assign(new DOMException("Request was cancelled."),{cause:e}))}o(act,"makeAppropriateNetworkError");function Sve(t,e,r){if(e.status!==null&&(e.status<200||e.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in e&&e.statusText!=null&&!$0t(String(e.statusText)))throw new TypeError("Invalid statusText");if("status"in e&&e.status!=null&&(t[Vo].status=e.status),"statusText"in e&&e.statusText!=null&&(t[Vo].statusText=e.statusText),"headers"in e&&e.headers!=null&&U0t(t[ZA],e.headers),r){if(rct.includes(t.status))throw Jr.errors.exception({header:"Response constructor",message:`Invalid response status code ${t.status}`});t[Vo].body=r.body,r.type!=null&&!t[Vo].headersList.contains("content-type",!0)&&t[Vo].headersList.append("content-type",r.type,!0)}}o(Sve,"initializeResponse");function fw(t,e){let r=new QE(PP);return r[Vo]=t,r[ZA]=new wve(PP),Rve(r[ZA],t.headersList),Bve(r[ZA],e),V0t&&t.body?.stream&&W0t.register(r,new WeakRef(t.body.stream)),r}o(fw,"fromInnerResponse");Jr.converters.ReadableStream=Jr.interfaceConverter(ReadableStream);Jr.converters.FormData=Jr.interfaceConverter(nct);Jr.converters.URLSearchParams=Jr.interfaceConverter(URLSearchParams);Jr.converters.XMLHttpRequestBodyInit=function(t,e,r){return typeof t=="string"?Jr.converters.USVString(t,e,r):K0t(t)?Jr.converters.Blob(t,e,r,{strict:!1}):ArrayBuffer.isView(t)||ict.isArrayBuffer(t)?Jr.converters.BufferSource(t,e,r):RJ.isFormDataLike(t)?Jr.converters.FormData(t,e,r,{strict:!1}):t instanceof URLSearchParams?Jr.converters.URLSearchParams(t,e,r):Jr.converters.DOMString(t,e,r)};Jr.converters.BodyInit=function(t,e,r){return t instanceof ReadableStream?Jr.converters.ReadableStream(t,e,r):t?.[Symbol.asyncIterator]?t:Jr.converters.XMLHttpRequestBodyInit(t,e,r)};Jr.converters.ResponseInit=Jr.dictionaryConverter([{key:"status",converter:Jr.converters["unsigned short"],defaultValue:o(()=>200,"defaultValue")},{key:"statusText",converter:Jr.converters.ByteString,defaultValue:o(()=>"","defaultValue")},{key:"headers",converter:Jr.converters.HeadersInit}]);Dve.exports={isNetworkError:sct,makeNetworkError:FP,makeResponse:Pv,makeAppropriateNetworkError:act,filterResponse:kve,Response:QE,cloneResponse:DJ,fromInnerResponse:fw}});var Fve=q((yzr,Pve)=>{"use strict";u();var{kConnected:Nve,kSize:Qve}=ho(),NJ=class{static{o(this,"CompatWeakRef")}constructor(e){this.value=e}deref(){return this.value[Nve]===0&&this.value[Qve]===0?void 0:this.value}},QJ=class{static{o(this,"CompatFinalizer")}constructor(e){this.finalizer=e}register(e,r){e.on&&e.on("disconnect",()=>{e[Nve]===0&&e[Qve]===0&&this.finalizer(r)})}unregister(e){}};Pve.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:NJ,FinalizationRegistry:QJ}):{WeakRef,FinalizationRegistry}}});var Fv=q((Izr,Jve)=>{"use strict";u();var{extractBody:cct,mixinBody:lct,cloneBody:uct,bodyUnusable:Mve}=mv(),{Headers:Yve,fill:fct,HeadersList:UP,setHeadersGuard:FJ,getHeadersGuard:dct,setHeadersList:$ve,getHeadersList:Lve}=NE(),{FinalizationRegistry:hct}=Fve()(),LP=dn(),Ove=require("node:util"),{isValidHTTPToken:Act,sameOrigin:Uve,environmentSettingsObject:MP}=ol(),{forbiddenMethodsSet:pct,corsSafeListedMethodsSet:mct,referrerPolicy:gct,requestRedirect:yct,requestMode:Cct,requestCredentials:Ect,requestCache:Ict,requestDuplex:xct}=kS(),{kEnumerableProperty:Ts,normalizedMethodRecordsBase:bct,normalizedMethodRecords:vct}=LP,{kHeaders:ul,kSignal:OP,kState:Zi,kDispatcher:PJ}=Zg(),{webidl:fr}=Da(),{URLSerializer:Tct}=Ac(),{kConstruct:HP}=ho(),_ct=require("node:assert"),{getMaxListeners:Hve,setMaxListeners:qve,getEventListeners:Sct,defaultMaxListeners:Gve}=require("node:events"),wct=Symbol("abortController"),zve=new hct(({signal:t,abort:e})=>{t.removeEventListener("abort",e)}),qP=new WeakMap;function Vve(t){return e;function e(){let r=t.deref();if(r!==void 0){zve.unregister(e),this.removeEventListener("abort",e),r.abort(this.reason);let n=qP.get(r.signal);if(n!==void 0){if(n.size!==0){for(let i of n){let s=i.deref();s!==void 0&&s.abort(this.reason)}n.clear()}qP.delete(r.signal)}}}}o(Vve,"buildAbort");var Wve=!1,u1=class t{static{o(this,"Request")}constructor(e,r={}){if(fr.util.markAsUncloneable(this),e===HP)return;let n="Request constructor";fr.argumentLengthCheck(arguments,1,n),e=fr.converters.RequestInfo(e,n,"input"),r=fr.converters.RequestInit(r,n,"init");let i=null,s=null,a=MP.settingsObject.baseUrl,c=null;if(typeof e=="string"){this[PJ]=r.dispatcher;let T;try{T=new URL(e,a)}catch(S){throw new TypeError("Failed to parse URL from "+e,{cause:S})}if(T.username||T.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+e);i=GP({urlList:[T]}),s="cors"}else this[PJ]=r.dispatcher||e[PJ],_ct(e instanceof t),i=e[Zi],c=e[OP];let l=MP.settingsObject.origin,f="client";if(i.window?.constructor?.name==="EnvironmentSettingsObject"&&Uve(i.window,l)&&(f=i.window),r.window!=null)throw new TypeError(`'window' option '${f}' must be null`);"window"in r&&(f="no-window"),i=GP({method:i.method,headersList:i.headersList,unsafeRequest:i.unsafeRequest,client:MP.settingsObject,window:f,priority:i.priority,origin:i.origin,referrer:i.referrer,referrerPolicy:i.referrerPolicy,mode:i.mode,credentials:i.credentials,cache:i.cache,redirect:i.redirect,integrity:i.integrity,keepalive:i.keepalive,reloadNavigation:i.reloadNavigation,historyNavigation:i.historyNavigation,urlList:[...i.urlList]});let d=Object.keys(r).length!==0;if(d&&(i.mode==="navigate"&&(i.mode="same-origin"),i.reloadNavigation=!1,i.historyNavigation=!1,i.origin="client",i.referrer="client",i.referrerPolicy="",i.url=i.urlList[i.urlList.length-1],i.urlList=[i.url]),r.referrer!==void 0){let T=r.referrer;if(T==="")i.referrer="no-referrer";else{let S;try{S=new URL(T,a)}catch(k){throw new TypeError(`Referrer "${T}" is not a valid URL.`,{cause:k})}S.protocol==="about:"&&S.hostname==="client"||l&&!Uve(S,MP.settingsObject.baseUrl)?i.referrer="client":i.referrer=S}}r.referrerPolicy!==void 0&&(i.referrerPolicy=r.referrerPolicy);let h;if(r.mode!==void 0?h=r.mode:h=s,h==="navigate")throw fr.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(h!=null&&(i.mode=h),r.credentials!==void 0&&(i.credentials=r.credentials),r.cache!==void 0&&(i.cache=r.cache),i.cache==="only-if-cached"&&i.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(r.redirect!==void 0&&(i.redirect=r.redirect),r.integrity!=null&&(i.integrity=String(r.integrity)),r.keepalive!==void 0&&(i.keepalive=!!r.keepalive),r.method!==void 0){let T=r.method,S=vct[T];if(S!==void 0)i.method=S;else{if(!Act(T))throw new TypeError(`'${T}' is not a valid HTTP method.`);let k=T.toUpperCase();if(pct.has(k))throw new TypeError(`'${T}' HTTP method is unsupported.`);T=bct[k]??T,i.method=T}!Wve&&i.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),Wve=!0)}r.signal!==void 0&&(c=r.signal),this[Zi]=i;let A=new AbortController;if(this[OP]=A.signal,c!=null){if(!c||typeof c.aborted!="boolean"||typeof c.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(c.aborted)A.abort(c.reason);else{this[wct]=A;let T=new WeakRef(A),S=Vve(T);try{(typeof Hve=="function"&&Hve(c)===Gve||Sct(c,"abort").length>=Gve)&&qve(1500,c)}catch{}LP.addAbortListener(c,S),zve.register(A,{signal:c,abort:S},S)}}if(this[ul]=new Yve(HP),$ve(this[ul],i.headersList),FJ(this[ul],"request"),h==="no-cors"){if(!mct.has(i.method))throw new TypeError(`'${i.method} is unsupported in no-cors mode.`);FJ(this[ul],"request-no-cors")}if(d){let T=Lve(this[ul]),S=r.headers!==void 0?r.headers:new UP(T);if(T.clear(),S instanceof UP){for(let{name:k,value:N}of S.rawValues())T.append(k,N,!1);T.cookies=S.cookies}else fct(this[ul],S)}let m=e instanceof t?e[Zi].body:null;if((r.body!=null||m!=null)&&(i.method==="GET"||i.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let y=null;if(r.body!=null){let[T,S]=cct(r.body,i.keepalive);y=T,S&&!Lve(this[ul]).contains("content-type",!0)&&this[ul].append("content-type",S)}let x=y??m;if(x!=null&&x.source==null){if(y!=null&&r.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(i.mode!=="same-origin"&&i.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');i.useCORSPreflightFlag=!0}let _=x;if(y==null&&m!=null){if(Mve(e))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let T=new TransformStream;m.stream.pipeThrough(T),_={source:m.source,length:m.length,stream:T.readable}}this[Zi].body=_}get method(){return fr.brandCheck(this,t),this[Zi].method}get url(){return fr.brandCheck(this,t),Tct(this[Zi].url)}get headers(){return fr.brandCheck(this,t),this[ul]}get destination(){return fr.brandCheck(this,t),this[Zi].destination}get referrer(){return fr.brandCheck(this,t),this[Zi].referrer==="no-referrer"?"":this[Zi].referrer==="client"?"about:client":this[Zi].referrer.toString()}get referrerPolicy(){return fr.brandCheck(this,t),this[Zi].referrerPolicy}get mode(){return fr.brandCheck(this,t),this[Zi].mode}get credentials(){return this[Zi].credentials}get cache(){return fr.brandCheck(this,t),this[Zi].cache}get redirect(){return fr.brandCheck(this,t),this[Zi].redirect}get integrity(){return fr.brandCheck(this,t),this[Zi].integrity}get keepalive(){return fr.brandCheck(this,t),this[Zi].keepalive}get isReloadNavigation(){return fr.brandCheck(this,t),this[Zi].reloadNavigation}get isHistoryNavigation(){return fr.brandCheck(this,t),this[Zi].historyNavigation}get signal(){return fr.brandCheck(this,t),this[OP]}get body(){return fr.brandCheck(this,t),this[Zi].body?this[Zi].body.stream:null}get bodyUsed(){return fr.brandCheck(this,t),!!this[Zi].body&&LP.isDisturbed(this[Zi].body.stream)}get duplex(){return fr.brandCheck(this,t),"half"}clone(){if(fr.brandCheck(this,t),Mve(this))throw new TypeError("unusable");let e=jve(this[Zi]),r=new AbortController;if(this.signal.aborted)r.abort(this.signal.reason);else{let n=qP.get(this.signal);n===void 0&&(n=new Set,qP.set(this.signal,n));let i=new WeakRef(r);n.add(i),LP.addAbortListener(r.signal,Vve(i))}return Kve(e,r.signal,dct(this[ul]))}[Ove.inspect.custom](e,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${Ove.formatWithOptions(r,n)}`}};lct(u1);function GP(t){return{method:t.method??"GET",localURLsOnly:t.localURLsOnly??!1,unsafeRequest:t.unsafeRequest??!1,body:t.body??null,client:t.client??null,reservedClient:t.reservedClient??null,replacesClientId:t.replacesClientId??"",window:t.window??"client",keepalive:t.keepalive??!1,serviceWorkers:t.serviceWorkers??"all",initiator:t.initiator??"",destination:t.destination??"",priority:t.priority??null,origin:t.origin??"client",policyContainer:t.policyContainer??"client",referrer:t.referrer??"client",referrerPolicy:t.referrerPolicy??"",mode:t.mode??"no-cors",useCORSPreflightFlag:t.useCORSPreflightFlag??!1,credentials:t.credentials??"same-origin",useCredentials:t.useCredentials??!1,cache:t.cache??"default",redirect:t.redirect??"follow",integrity:t.integrity??"",cryptoGraphicsNonceMetadata:t.cryptoGraphicsNonceMetadata??"",parserMetadata:t.parserMetadata??"",reloadNavigation:t.reloadNavigation??!1,historyNavigation:t.historyNavigation??!1,userActivation:t.userActivation??!1,taintedOrigin:t.taintedOrigin??!1,redirectCount:t.redirectCount??0,responseTainting:t.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:t.preventNoCacheCacheControlHeaderModification??!1,done:t.done??!1,timingAllowFailed:t.timingAllowFailed??!1,urlList:t.urlList,url:t.urlList[0],headersList:t.headersList?new UP(t.headersList):new UP}}o(GP,"makeRequest");function jve(t){let e=GP({...t,body:null});return t.body!=null&&(e.body=uct(e,t.body)),e}o(jve,"cloneRequest");function Kve(t,e,r){let n=new u1(HP);return n[Zi]=t,n[OP]=e,n[ul]=new Yve(HP),$ve(n[ul],t.headersList),FJ(n[ul],r),n}o(Kve,"fromInnerRequest");Object.defineProperties(u1.prototype,{method:Ts,url:Ts,headers:Ts,redirect:Ts,clone:Ts,signal:Ts,duplex:Ts,destination:Ts,body:Ts,bodyUsed:Ts,isHistoryNavigation:Ts,isReloadNavigation:Ts,keepalive:Ts,integrity:Ts,cache:Ts,credentials:Ts,attribute:Ts,referrerPolicy:Ts,referrer:Ts,mode:Ts,[Symbol.toStringTag]:{value:"Request",configurable:!0}});fr.converters.Request=fr.interfaceConverter(u1);fr.converters.RequestInfo=function(t,e,r){return typeof t=="string"?fr.converters.USVString(t,e,r):t instanceof u1?fr.converters.Request(t,e,r):fr.converters.USVString(t,e,r)};fr.converters.AbortSignal=fr.interfaceConverter(AbortSignal);fr.converters.RequestInit=fr.dictionaryConverter([{key:"method",converter:fr.converters.ByteString},{key:"headers",converter:fr.converters.HeadersInit},{key:"body",converter:fr.nullableConverter(fr.converters.BodyInit)},{key:"referrer",converter:fr.converters.USVString},{key:"referrerPolicy",converter:fr.converters.DOMString,allowedValues:gct},{key:"mode",converter:fr.converters.DOMString,allowedValues:Cct},{key:"credentials",converter:fr.converters.DOMString,allowedValues:Ect},{key:"cache",converter:fr.converters.DOMString,allowedValues:Ict},{key:"redirect",converter:fr.converters.DOMString,allowedValues:yct},{key:"integrity",converter:fr.converters.DOMString},{key:"keepalive",converter:fr.converters.boolean},{key:"signal",converter:fr.nullableConverter(t=>fr.converters.AbortSignal(t,"RequestInit","signal",{strict:!1}))},{key:"window",converter:fr.converters.any},{key:"duplex",converter:fr.converters.DOMString,allowedValues:xct},{key:"dispatcher",converter:fr.converters.any}]);Jve.exports={Request:u1,makeRequest:GP,fromInnerRequest:Kve,cloneRequest:jve}});var Aw=q((vzr,d5e)=>{"use strict";u();var{makeNetworkError:bi,makeAppropriateNetworkError:VP,filterResponse:MJ,makeResponse:WP,fromInnerResponse:Bct}=dw(),{HeadersList:Xve}=NE(),{Request:Rct,cloneRequest:kct}=Fv(),f1=require("node:zlib"),{bytesMatch:Dct,makePolicyContainer:Nct,clonePolicyContainer:Qct,requestBadPort:Pct,TAOCheck:Fct,appendRequestOriginHeader:Mct,responseLocationURL:Lct,requestCurrentURL:uh,setRequestReferrerPolicyOnRedirect:Oct,tryUpgradeRequestToAPotentiallyTrustworthyURL:Uct,createOpaqueTimingInfo:qJ,appendFetchMetadata:Hct,corsCheck:qct,crossOriginResourcePolicyCheck:Gct,determineRequestsReferrer:Vct,coarsenedSharedCurrentTime:hw,createDeferredPromise:Wct,isBlobLike:Yct,sameOrigin:HJ,isCancelled:PE,isAborted:Zve,isErrorLike:$ct,fullyReadBody:zct,readableStreamClose:jct,isomorphicEncode:YP,urlIsLocal:Kct,urlIsHttpHttpsScheme:GJ,urlHasHttpsScheme:Jct,clampAndCoarsenConnectionTimingInfo:Xct,simpleRangeHeaderValue:Zct,buildContentRange:elt,createInflate:tlt,extractMimeType:rlt}=ol(),{kState:n5e,kDispatcher:nlt}=Zg(),FE=require("node:assert"),{safelyExtractBody:VJ,extractBody:e5e}=mv(),{redirectStatusSet:i5e,nullBodyStatus:o5e,safeMethodsSet:ilt,requestBodyHeader:olt,subresourceSet:slt}=kS(),alt=require("node:events"),{Readable:clt,pipeline:llt,finished:ult}=require("node:stream"),{addAbortListener:flt,isErrored:dlt,isReadable:$P,bufferToLowerCasedHeaderName:t5e}=dn(),{dataURLProcessor:hlt,serializeAMimeType:Alt,minimizeSupportedMimeType:plt}=Ac(),{getGlobalDispatcher:mlt}=RP(),{webidl:glt}=Da(),{STATUS_CODES:ylt}=require("node:http"),Clt=["GET","HEAD"],Elt=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",LJ,zP=class extends alt{static{o(this,"Fetch")}constructor(e){super(),this.dispatcher=e,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(e){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(e),this.emit("terminated",e))}abort(e){this.state==="ongoing"&&(this.state="aborted",e||(e=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=e,this.connection?.destroy(e),this.emit("terminated",e))}};function Ilt(t){s5e(t,"fetch")}o(Ilt,"handleFetchDone");function xlt(t,e=void 0){glt.argumentLengthCheck(arguments,1,"globalThis.fetch");let r=Wct(),n;try{n=new Rct(t,e)}catch(d){return r.reject(d),r.promise}let i=n[n5e];if(n.signal.aborted)return OJ(r,i,null,n.signal.reason),r.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let a=null,c=!1,l=null;return flt(n.signal,()=>{c=!0,FE(l!=null),l.abort(n.signal.reason);let d=a?.deref();OJ(r,i,d,n.signal.reason)}),l=c5e({request:i,processResponseEndOfBody:Ilt,processResponse:o(d=>{if(!c){if(d.aborted){OJ(r,i,a,l.serializedAbortReason);return}if(d.type==="error"){r.reject(new TypeError("fetch failed",{cause:d.error}));return}a=new WeakRef(Bct(d,"immutable")),r.resolve(a.deref()),r=null}},"processResponse"),dispatcher:n[nlt]}),r.promise}o(xlt,"fetch");function s5e(t,e="other"){if(t.type==="error"&&t.aborted||!t.urlList?.length)return;let r=t.urlList[0],n=t.timingInfo,i=t.cacheState;GJ(r)&&n!==null&&(t.timingAllowPassed||(n=qJ({startTime:n.startTime}),i=""),n.endTime=hw(),t.timingInfo=n,a5e(n,r.href,e,globalThis,i))}o(s5e,"finalizeAndReportTiming");var a5e=performance.markResourceTiming;function OJ(t,e,r,n){if(t&&t.reject(n),e.body!=null&&$P(e.body?.stream)&&e.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s}),r==null)return;let i=r[n5e];i.body!=null&&$P(i.body?.stream)&&i.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s})}o(OJ,"abortFetch");function c5e({request:t,processRequestBodyChunkLength:e,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:a=!1,dispatcher:c=mlt()}){FE(c);let l=null,f=!1;t.client!=null&&(l=t.client.globalObject,f=t.client.crossOriginIsolatedCapability);let d=hw(f),h=qJ({startTime:d}),A={controller:new zP(c),request:t,timingInfo:h,processRequestBodyChunkLength:e,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:l,crossOriginIsolatedCapability:f};return FE(!t.body||t.body.stream),t.window==="client"&&(t.window=t.client?.globalObject?.constructor?.name==="Window"?t.client:"no-window"),t.origin==="client"&&(t.origin=t.client.origin),t.policyContainer==="client"&&(t.client!=null?t.policyContainer=Qct(t.client.policyContainer):t.policyContainer=Nct()),t.headersList.contains("accept",!0)||t.headersList.append("accept","*/*",!0),t.headersList.contains("accept-language",!0)||t.headersList.append("accept-language","*",!0),t.priority,slt.has(t.destination),l5e(A).catch(m=>{A.controller.terminate(m)}),A.controller}o(c5e,"fetching");async function l5e(t,e=!1){let r=t.request,n=null;if(r.localURLsOnly&&!Kct(uh(r))&&(n=bi("local URLs only")),Uct(r),Pct(r)==="blocked"&&(n=bi("bad port")),r.referrerPolicy===""&&(r.referrerPolicy=r.policyContainer.referrerPolicy),r.referrer!=="no-referrer"&&(r.referrer=Vct(r)),n===null&&(n=await(async()=>{let s=uh(r);return HJ(s,r.url)&&r.responseTainting==="basic"||s.protocol==="data:"||r.mode==="navigate"||r.mode==="websocket"?(r.responseTainting="basic",await r5e(t)):r.mode==="same-origin"?bi('request mode cannot be "same-origin"'):r.mode==="no-cors"?r.redirect!=="follow"?bi('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await r5e(t)):GJ(uh(r))?(r.responseTainting="cors",await u5e(t)):bi("URL scheme must be a HTTP(S) scheme")})()),e)return n;n.status!==0&&!n.internalResponse&&(r.responseTainting,r.responseTainting==="basic"?n=MJ(n,"basic"):r.responseTainting==="cors"?n=MJ(n,"cors"):r.responseTainting==="opaque"?n=MJ(n,"opaque"):FE(!1));let i=n.status===0?n:n.internalResponse;if(i.urlList.length===0&&i.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),n.type==="opaque"&&i.status===206&&i.rangeRequested&&!r.headers.contains("range",!0)&&(n=i=bi()),n.status!==0&&(r.method==="HEAD"||r.method==="CONNECT"||o5e.includes(i.status))&&(i.body=null,t.controller.dump=!0),r.integrity){let s=o(c=>UJ(t,bi(c)),"processBodyError");if(r.responseTainting==="opaque"||n.body==null){s(n.error);return}let a=o(c=>{if(!Dct(c,r.integrity)){s("integrity mismatch");return}n.body=VJ(c)[0],UJ(t,n)},"processBody");await zct(n.body,a,s)}else UJ(t,n)}o(l5e,"mainFetch");function r5e(t){if(PE(t)&&t.request.redirectCount===0)return Promise.resolve(VP(t));let{request:e}=t,{protocol:r}=uh(e);switch(r){case"about:":return Promise.resolve(bi("about scheme is not supported"));case"blob:":{LJ||(LJ=require("node:buffer").resolveObjectURL);let n=uh(e);if(n.search.length!==0)return Promise.resolve(bi("NetworkError when attempting to fetch resource."));let i=LJ(n.toString());if(e.method!=="GET"||!Yct(i))return Promise.resolve(bi("invalid method"));let s=WP(),a=i.size,c=YP(`${a}`),l=i.type;if(e.headersList.contains("range",!0)){s.rangeRequested=!0;let f=e.headersList.get("range",!0),d=Zct(f,!0);if(d==="failure")return Promise.resolve(bi("failed to fetch the data URL"));let{rangeStartValue:h,rangeEndValue:A}=d;if(h===null)h=a-A,A=h+A-1;else{if(h>=a)return Promise.resolve(bi("Range start is greater than the blob's size."));(A===null||A>=a)&&(A=a-1)}let m=i.slice(h,A,l),y=e5e(m);s.body=y[0];let x=YP(`${m.size}`),_=elt(h,A,a);s.status=206,s.statusText="Partial Content",s.headersList.set("content-length",x,!0),s.headersList.set("content-type",l,!0),s.headersList.set("content-range",_,!0)}else{let f=e5e(i);s.statusText="OK",s.body=f[0],s.headersList.set("content-length",c,!0),s.headersList.set("content-type",l,!0)}return Promise.resolve(s)}case"data:":{let n=uh(e),i=hlt(n);if(i==="failure")return Promise.resolve(bi("failed to fetch the data URL"));let s=Alt(i.mimeType);return Promise.resolve(WP({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:s}]],body:VJ(i.body)[0]}))}case"file:":return Promise.resolve(bi("not implemented... yet..."));case"http:":case"https:":return u5e(t).catch(n=>bi(n));default:return Promise.resolve(bi("unknown scheme"))}}o(r5e,"schemeFetch");function blt(t,e){t.request.done=!0,t.processResponseDone!=null&&queueMicrotask(()=>t.processResponseDone(e))}o(blt,"finalizeResponse");function UJ(t,e){let r=t.timingInfo,n=o(()=>{let s=Date.now();t.request.destination==="document"&&(t.controller.fullTimingInfo=r),t.controller.reportTimingSteps=()=>{if(t.request.url.protocol!=="https:")return;r.endTime=s;let c=e.cacheState,l=e.bodyInfo;e.timingAllowPassed||(r=qJ(r),c="");let f=0;if(t.request.mode!=="navigator"||!e.hasCrossOriginRedirects){f=e.status;let d=rlt(e.headersList);d!=="failure"&&(l.contentType=plt(d))}t.request.initiatorType!=null&&a5e(r,t.request.url.href,t.request.initiatorType,globalThis,c,l,f)};let a=o(()=>{t.request.done=!0,t.processResponseEndOfBody!=null&&queueMicrotask(()=>t.processResponseEndOfBody(e)),t.request.initiatorType!=null&&t.controller.reportTimingSteps()},"processResponseEndOfBodyTask");queueMicrotask(()=>a())},"processResponseEndOfBody");t.processResponse!=null&&queueMicrotask(()=>{t.processResponse(e),t.processResponse=null});let i=e.type==="error"?e:e.internalResponse??e;i.body==null?n():ult(i.body.stream,()=>{n()})}o(UJ,"fetchFinale");async function u5e(t){let e=t.request,r=null,n=null,i=t.timingInfo;if(e.serviceWorkers,r===null){if(e.redirect==="follow"&&(e.serviceWorkers="none"),n=r=await f5e(t),e.responseTainting==="cors"&&qct(e,r)==="failure")return bi("cors failure");Fct(e,r)==="failure"&&(e.timingAllowFailed=!0)}return(e.responseTainting==="opaque"||r.type==="opaque")&&Gct(e.origin,e.client,e.destination,n)==="blocked"?bi("blocked"):(i5e.has(n.status)&&(e.redirect!=="manual"&&t.controller.connection.destroy(void 0,!1),e.redirect==="error"?r=bi("unexpected redirect"):e.redirect==="manual"?r=n:e.redirect==="follow"?r=await vlt(t,r):FE(!1)),r.timingInfo=i,r)}o(u5e,"httpFetch");function vlt(t,e){let r=t.request,n=e.internalResponse?e.internalResponse:e,i;try{if(i=Lct(n,uh(r).hash),i==null)return e}catch(a){return Promise.resolve(bi(a))}if(!GJ(i))return Promise.resolve(bi("URL scheme must be a HTTP(S) scheme"));if(r.redirectCount===20)return Promise.resolve(bi("redirect count exceeded"));if(r.redirectCount+=1,r.mode==="cors"&&(i.username||i.password)&&!HJ(r,i))return Promise.resolve(bi('cross origin not allowed for request mode "cors"'));if(r.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(bi('URL cannot contain credentials for request mode "cors"'));if(n.status!==303&&r.body!=null&&r.body.source==null)return Promise.resolve(bi());if([301,302].includes(n.status)&&r.method==="POST"||n.status===303&&!Clt.includes(r.method)){r.method="GET",r.body=null;for(let a of olt)r.headersList.delete(a)}HJ(uh(r),i)||(r.headersList.delete("authorization",!0),r.headersList.delete("proxy-authorization",!0),r.headersList.delete("cookie",!0),r.headersList.delete("host",!0)),r.body!=null&&(FE(r.body.source!=null),r.body=VJ(r.body.source)[0]);let s=t.timingInfo;return s.redirectEndTime=s.postRedirectStartTime=hw(t.crossOriginIsolatedCapability),s.redirectStartTime===0&&(s.redirectStartTime=s.startTime),r.urlList.push(i),Oct(r,n),l5e(t,!0)}o(vlt,"httpRedirectFetch");async function f5e(t,e=!1,r=!1){let n=t.request,i=null,s=null,a=null,c=null,l=!1;n.window==="no-window"&&n.redirect==="error"?(i=t,s=n):(s=kct(n),i={...t},i.request=s);let f=n.credentials==="include"||n.credentials==="same-origin"&&n.responseTainting==="basic",d=s.body?s.body.length:null,h=null;if(s.body==null&&["POST","PUT"].includes(s.method)&&(h="0"),d!=null&&(h=YP(`${d}`)),h!=null&&s.headersList.append("content-length",h,!0),d!=null&&s.keepalive,s.referrer instanceof URL&&s.headersList.append("referer",YP(s.referrer.href),!0),Mct(s),Hct(s),s.headersList.contains("user-agent",!0)||s.headersList.append("user-agent",Elt),s.cache==="default"&&(s.headersList.contains("if-modified-since",!0)||s.headersList.contains("if-none-match",!0)||s.headersList.contains("if-unmodified-since",!0)||s.headersList.contains("if-match",!0)||s.headersList.contains("if-range",!0))&&(s.cache="no-store"),s.cache==="no-cache"&&!s.preventNoCacheCacheControlHeaderModification&&!s.headersList.contains("cache-control",!0)&&s.headersList.append("cache-control","max-age=0",!0),(s.cache==="no-store"||s.cache==="reload")&&(s.headersList.contains("pragma",!0)||s.headersList.append("pragma","no-cache",!0),s.headersList.contains("cache-control",!0)||s.headersList.append("cache-control","no-cache",!0)),s.headersList.contains("range",!0)&&s.headersList.append("accept-encoding","identity",!0),s.headersList.contains("accept-encoding",!0)||(Jct(uh(s))?s.headersList.append("accept-encoding","br, gzip, deflate",!0):s.headersList.append("accept-encoding","gzip, deflate",!0)),s.headersList.delete("host",!0),c==null&&(s.cache="no-store"),s.cache!=="no-store"&&s.cache,a==null){if(s.cache==="only-if-cached")return bi("only if cached");let A=await Tlt(i,f,r);!ilt.has(s.method)&&A.status>=200&&A.status<=399,l&&A.status,a==null&&(a=A)}if(a.urlList=[...s.urlList],s.headersList.contains("range",!0)&&(a.rangeRequested=!0),a.requestIncludesCredentials=f,a.status===407)return n.window==="no-window"?bi():PE(t)?VP(t):bi("proxy authentication required");if(a.status===421&&!r&&(n.body==null||n.body.source!=null)){if(PE(t))return VP(t);t.controller.connection.destroy(),a=await f5e(t,e,!0)}return a}o(f5e,"httpNetworkOrCacheFetch");async function Tlt(t,e=!1,r=!1){FE(!t.controller.connection||t.controller.connection.destroyed),t.controller.connection={abort:null,destroyed:!1,destroy(y,x=!0){this.destroyed||(this.destroyed=!0,x&&this.abort?.(y??new DOMException("The operation was aborted.","AbortError")))}};let n=t.request,i=null,s=t.timingInfo;null==null&&(n.cache="no-store");let c=r?"yes":"no";n.mode;let l=null;if(n.body==null&&t.processRequestEndOfBody)queueMicrotask(()=>t.processRequestEndOfBody());else if(n.body!=null){let y=o(async function*(T){PE(t)||(yield T,t.processRequestBodyChunkLength?.(T.byteLength))},"processBodyChunk"),x=o(()=>{PE(t)||t.processRequestEndOfBody&&t.processRequestEndOfBody()},"processEndOfBody"),_=o(T=>{PE(t)||(T.name==="AbortError"?t.controller.abort():t.controller.terminate(T))},"processBodyError");l=async function*(){try{for await(let T of n.body.stream)yield*y(T);x()}catch(T){_(T)}}()}try{let{body:y,status:x,statusText:_,headersList:T,socket:S}=await m({body:l});if(S)i=WP({status:x,statusText:_,headersList:T,socket:S});else{let k=y[Symbol.asyncIterator]();t.controller.next=()=>k.next(),i=WP({status:x,statusText:_,headersList:T})}}catch(y){return y.name==="AbortError"?(t.controller.connection.destroy(),VP(t,y)):bi(y)}let f=o(async()=>{await t.controller.resume()},"pullAlgorithm"),d=o(y=>{PE(t)||t.controller.abort(y)},"cancelAlgorithm"),h=new ReadableStream({async start(y){t.controller.controller=y},async pull(y){await f(y)},async cancel(y){await d(y)},type:"bytes"});i.body={stream:h,source:null,length:null},t.controller.onAborted=A,t.controller.on("terminated",A),t.controller.resume=async()=>{for(;;){let y,x;try{let{done:T,value:S}=await t.controller.next();if(Zve(t))break;y=T?void 0:S}catch(T){t.controller.ended&&!s.encodedBodySize?y=void 0:(y=T,x=!0)}if(y===void 0){jct(t.controller.controller),blt(t,i);return}if(s.decodedBodySize+=y?.byteLength??0,x){t.controller.terminate(y);return}let _=new Uint8Array(y);if(_.byteLength&&t.controller.controller.enqueue(_),dlt(h)){t.controller.terminate();return}if(t.controller.controller.desiredSize<=0)return}};function A(y){Zve(t)?(i.aborted=!0,$P(h)&&t.controller.controller.error(t.controller.serializedAbortReason)):$P(h)&&t.controller.controller.error(new TypeError("terminated",{cause:$ct(y)?y:void 0})),t.controller.connection.destroy()}return o(A,"onAborted"),i;function m({body:y}){let x=uh(n),_=t.controller.dispatcher;return new Promise((T,S)=>_.dispatch({path:x.pathname+x.search,origin:x.origin,method:n.method,body:_.isMockActive?n.body&&(n.body.source||n.body.stream):y,headers:n.headersList.entries,maxRedirections:0,upgrade:n.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(k){let{connection:N}=t.controller;s.finalConnectionTimingInfo=Xct(void 0,s.postRedirectStartTime,t.crossOriginIsolatedCapability),N.destroyed?k(new DOMException("The operation was aborted.","AbortError")):(t.controller.on("terminated",k),this.abort=N.abort=k),s.finalNetworkRequestStartTime=hw(t.crossOriginIsolatedCapability)},onResponseStarted(){s.finalNetworkResponseStartTime=hw(t.crossOriginIsolatedCapability)},onHeaders(k,N,P,L){if(k<200)return;let Y=[],te="",ne=new Xve;for(let fe=0;fe<N.length;fe+=2)ne.append(t5e(N[fe]),N[fe+1].toString("latin1"),!0);let pe=ne.get("content-encoding",!0);pe&&(Y=pe.toLowerCase().split(",").map(fe=>fe.trim())),te=ne.get("location",!0),this.body=new clt({read:P});let W=[],$=te&&n.redirect==="follow"&&i5e.has(k);if(Y.length!==0&&n.method!=="HEAD"&&n.method!=="CONNECT"&&!o5e.includes(k)&&!$)for(let fe=Y.length-1;fe>=0;--fe){let X=Y[fe];if(X==="x-gzip"||X==="gzip")W.push(f1.createGunzip({flush:f1.constants.Z_SYNC_FLUSH,finishFlush:f1.constants.Z_SYNC_FLUSH}));else if(X==="deflate")W.push(tlt({flush:f1.constants.Z_SYNC_FLUSH,finishFlush:f1.constants.Z_SYNC_FLUSH}));else if(X==="br")W.push(f1.createBrotliDecompress({flush:f1.constants.BROTLI_OPERATION_FLUSH,finishFlush:f1.constants.BROTLI_OPERATION_FLUSH}));else{W.length=0;break}}let Ie=this.onError.bind(this);return T({status:k,statusText:L,headersList:ne,body:W.length?llt(this.body,...W,fe=>{fe&&this.onError(fe)}).on("error",Ie):this.body.on("error",Ie)}),!0},onData(k){if(t.controller.dump)return;let N=k;return s.encodedBodySize+=N.byteLength,this.body.push(N)},onComplete(){this.abort&&t.controller.off("terminated",this.abort),t.controller.onAborted&&t.controller.off("terminated",t.controller.onAborted),t.controller.ended=!0,this.body.push(null)},onError(k){this.abort&&t.controller.off("terminated",this.abort),this.body?.destroy(k),t.controller.terminate(k),S(k)},onUpgrade(k,N,P){if(k!==101)return;let L=new Xve;for(let Y=0;Y<N.length;Y+=2)L.append(t5e(N[Y]),N[Y+1].toString("latin1"),!0);return T({status:k,statusText:ylt[k],headersList:L,socket:P}),!0}}))}o(m,"dispatch")}o(Tlt,"httpNetworkFetch");d5e.exports={fetch:xlt,Fetch:zP,fetching:c5e,finalizeAndReportTiming:s5e}});var WJ=q((Szr,h5e)=>{"use strict";u();h5e.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var p5e=q((Bzr,A5e)=>{"use strict";u();var{webidl:fl}=Da(),jP=Symbol("ProgressEvent state"),YJ=class t extends Event{static{o(this,"ProgressEvent")}constructor(e,r={}){e=fl.converters.DOMString(e,"ProgressEvent constructor","type"),r=fl.converters.ProgressEventInit(r??{}),super(e,r),this[jP]={lengthComputable:r.lengthComputable,loaded:r.loaded,total:r.total}}get lengthComputable(){return fl.brandCheck(this,t),this[jP].lengthComputable}get loaded(){return fl.brandCheck(this,t),this[jP].loaded}get total(){return fl.brandCheck(this,t),this[jP].total}};fl.converters.ProgressEventInit=fl.dictionaryConverter([{key:"lengthComputable",converter:fl.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"loaded",converter:fl.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"total",converter:fl.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"bubbles",converter:fl.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:fl.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:fl.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}]);A5e.exports={ProgressEvent:YJ}});var g5e=q((Dzr,m5e)=>{"use strict";u();function _lt(t){if(!t)return"failure";switch(t.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}o(_lt,"getEncoding");m5e.exports={getEncoding:_lt}});var T5e=q((Pzr,v5e)=>{"use strict";u();var{kState:Mv,kError:$J,kResult:y5e,kAborted:pw,kLastProgressEventFired:zJ}=WJ(),{ProgressEvent:Slt}=p5e(),{getEncoding:C5e}=g5e(),{serializeAMimeType:wlt,parseMIMEType:E5e}=Ac(),{types:Blt}=require("node:util"),{StringDecoder:I5e}=require("string_decoder"),{btoa:x5e}=require("node:buffer"),Rlt={enumerable:!0,writable:!1,configurable:!1};function klt(t,e,r,n){if(t[Mv]==="loading")throw new DOMException("Invalid state","InvalidStateError");t[Mv]="loading",t[y5e]=null,t[$J]=null;let s=e.stream().getReader(),a=[],c=s.read(),l=!0;(async()=>{for(;!t[pw];)try{let{done:f,value:d}=await c;if(l&&!t[pw]&&queueMicrotask(()=>{d1("loadstart",t)}),l=!1,!f&&Blt.isUint8Array(d))a.push(d),(t[zJ]===void 0||Date.now()-t[zJ]>=50)&&!t[pw]&&(t[zJ]=Date.now(),queueMicrotask(()=>{d1("progress",t)})),c=s.read();else if(f){queueMicrotask(()=>{t[Mv]="done";try{let h=Dlt(a,r,e.type,n);if(t[pw])return;t[y5e]=h,d1("load",t)}catch(h){t[$J]=h,d1("error",t)}t[Mv]!=="loading"&&d1("loadend",t)});break}}catch(f){if(t[pw])return;queueMicrotask(()=>{t[Mv]="done",t[$J]=f,d1("error",t),t[Mv]!=="loading"&&d1("loadend",t)});break}})()}o(klt,"readOperation");function d1(t,e){let r=new Slt(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(r)}o(d1,"fireAProgressEvent");function Dlt(t,e,r,n){switch(e){case"DataURL":{let i="data:",s=E5e(r||"application/octet-stream");s!=="failure"&&(i+=wlt(s)),i+=";base64,";let a=new I5e("latin1");for(let c of t)i+=x5e(a.write(c));return i+=x5e(a.end()),i}case"Text":{let i="failure";if(n&&(i=C5e(n)),i==="failure"&&r){let s=E5e(r);s!=="failure"&&(i=C5e(s.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),Nlt(t,i)}case"ArrayBuffer":return b5e(t).buffer;case"BinaryString":{let i="",s=new I5e("latin1");for(let a of t)i+=s.write(a);return i+=s.end(),i}}}o(Dlt,"packageData");function Nlt(t,e){let r=b5e(t),n=Qlt(r),i=0;n!==null&&(e=n,i=n==="UTF-8"?3:2);let s=r.slice(i);return new TextDecoder(e).decode(s)}o(Nlt,"decode");function Qlt(t){let[e,r,n]=t;return e===239&&r===187&&n===191?"UTF-8":e===254&&r===255?"UTF-16BE":e===255&&r===254?"UTF-16LE":null}o(Qlt,"BOMSniffing");function b5e(t){let e=t.reduce((n,i)=>n+i.byteLength,0),r=0;return t.reduce((n,i)=>(n.set(i,r),r+=i.byteLength,n),new Uint8Array(e))}o(b5e,"combineByteSequences");v5e.exports={staticPropertyDescriptors:Rlt,readOperation:klt,fireAProgressEvent:d1}});var B5e=q((Lzr,w5e)=>{"use strict";u();var{staticPropertyDescriptors:Lv,readOperation:KP,fireAProgressEvent:_5e}=T5e(),{kState:ME,kError:S5e,kResult:JP,kEvents:ui,kAborted:Plt}=WJ(),{webidl:Si}=Da(),{kEnumerableProperty:gc}=dn(),Rf=class t extends EventTarget{static{o(this,"FileReader")}constructor(){super(),this[ME]="empty",this[JP]=null,this[S5e]=null,this[ui]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(e){Si.brandCheck(this,t),Si.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),e=Si.converters.Blob(e,{strict:!1}),KP(this,e,"ArrayBuffer")}readAsBinaryString(e){Si.brandCheck(this,t),Si.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),e=Si.converters.Blob(e,{strict:!1}),KP(this,e,"BinaryString")}readAsText(e,r=void 0){Si.brandCheck(this,t),Si.argumentLengthCheck(arguments,1,"FileReader.readAsText"),e=Si.converters.Blob(e,{strict:!1}),r!==void 0&&(r=Si.converters.DOMString(r,"FileReader.readAsText","encoding")),KP(this,e,"Text",r)}readAsDataURL(e){Si.brandCheck(this,t),Si.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),e=Si.converters.Blob(e,{strict:!1}),KP(this,e,"DataURL")}abort(){if(this[ME]==="empty"||this[ME]==="done"){this[JP]=null;return}this[ME]==="loading"&&(this[ME]="done",this[JP]=null),this[Plt]=!0,_5e("abort",this),this[ME]!=="loading"&&_5e("loadend",this)}get readyState(){switch(Si.brandCheck(this,t),this[ME]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return Si.brandCheck(this,t),this[JP]}get error(){return Si.brandCheck(this,t),this[S5e]}get onloadend(){return Si.brandCheck(this,t),this[ui].loadend}set onloadend(e){Si.brandCheck(this,t),this[ui].loadend&&this.removeEventListener("loadend",this[ui].loadend),typeof e=="function"?(this[ui].loadend=e,this.addEventListener("loadend",e)):this[ui].loadend=null}get onerror(){return Si.brandCheck(this,t),this[ui].error}set onerror(e){Si.brandCheck(this,t),this[ui].error&&this.removeEventListener("error",this[ui].error),typeof e=="function"?(this[ui].error=e,this.addEventListener("error",e)):this[ui].error=null}get onloadstart(){return Si.brandCheck(this,t),this[ui].loadstart}set onloadstart(e){Si.brandCheck(this,t),this[ui].loadstart&&this.removeEventListener("loadstart",this[ui].loadstart),typeof e=="function"?(this[ui].loadstart=e,this.addEventListener("loadstart",e)):this[ui].loadstart=null}get onprogress(){return Si.brandCheck(this,t),this[ui].progress}set onprogress(e){Si.brandCheck(this,t),this[ui].progress&&this.removeEventListener("progress",this[ui].progress),typeof e=="function"?(this[ui].progress=e,this.addEventListener("progress",e)):this[ui].progress=null}get onload(){return Si.brandCheck(this,t),this[ui].load}set onload(e){Si.brandCheck(this,t),this[ui].load&&this.removeEventListener("load",this[ui].load),typeof e=="function"?(this[ui].load=e,this.addEventListener("load",e)):this[ui].load=null}get onabort(){return Si.brandCheck(this,t),this[ui].abort}set onabort(e){Si.brandCheck(this,t),this[ui].abort&&this.removeEventListener("abort",this[ui].abort),typeof e=="function"?(this[ui].abort=e,this.addEventListener("abort",e)):this[ui].abort=null}};Rf.EMPTY=Rf.prototype.EMPTY=0;Rf.LOADING=Rf.prototype.LOADING=1;Rf.DONE=Rf.prototype.DONE=2;Object.defineProperties(Rf.prototype,{EMPTY:Lv,LOADING:Lv,DONE:Lv,readAsArrayBuffer:gc,readAsBinaryString:gc,readAsText:gc,readAsDataURL:gc,abort:gc,readyState:gc,result:gc,error:gc,onloadstart:gc,onprogress:gc,onload:gc,onabort:gc,onerror:gc,onloadend:gc,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Rf,{EMPTY:Lv,LOADING:Lv,DONE:Lv});w5e.exports={FileReader:Rf}});var XP=q((Hzr,R5e)=>{"use strict";u();R5e.exports={kConstruct:ho().kConstruct}});var N5e=q((Gzr,D5e)=>{"use strict";u();var Flt=require("node:assert"),{URLSerializer:k5e}=Ac(),{isValidHeaderName:Mlt}=ol();function Llt(t,e,r=!1){let n=k5e(t,r),i=k5e(e,r);return n===i}o(Llt,"urlEquals");function Olt(t){Flt(t!==null);let e=[];for(let r of t.split(","))r=r.trim(),Mlt(r)&&e.push(r);return e}o(Olt,"getFieldValues");D5e.exports={urlEquals:Llt,getFieldValues:Olt}});var F5e=q((Yzr,P5e)=>{"use strict";u();var{kConstruct:Ult}=XP(),{urlEquals:Hlt,getFieldValues:jJ}=N5e(),{kEnumerableProperty:LE,isDisturbed:qlt}=dn(),{webidl:Xt}=Da(),{Response:Glt,cloneResponse:Vlt,fromInnerResponse:Wlt}=dw(),{Request:ep,fromInnerRequest:Ylt}=Fv(),{kState:kf}=Zg(),{fetching:$lt}=Aw(),{urlIsHttpHttpsScheme:ZP,createDeferredPromise:Ov,readAllBytes:zlt}=ol(),KJ=require("node:assert"),eF=class t{static{o(this,"Cache")}#e;constructor(){arguments[0]!==Ult&&Xt.illegalConstructor(),Xt.util.markAsUncloneable(this),this.#e=arguments[1]}async match(e,r={}){Xt.brandCheck(this,t);let n="Cache.match";Xt.argumentLengthCheck(arguments,1,n),e=Xt.converters.RequestInfo(e,n,"request"),r=Xt.converters.CacheQueryOptions(r,n,"options");let i=this.#r(e,r,1);if(i.length!==0)return i[0]}async matchAll(e=void 0,r={}){Xt.brandCheck(this,t);let n="Cache.matchAll";return e!==void 0&&(e=Xt.converters.RequestInfo(e,n,"request")),r=Xt.converters.CacheQueryOptions(r,n,"options"),this.#r(e,r)}async add(e){Xt.brandCheck(this,t);let r="Cache.add";Xt.argumentLengthCheck(arguments,1,r),e=Xt.converters.RequestInfo(e,r,"request");let n=[e];return await this.addAll(n)}async addAll(e){Xt.brandCheck(this,t);let r="Cache.addAll";Xt.argumentLengthCheck(arguments,1,r);let n=[],i=[];for(let A of e){if(A===void 0)throw Xt.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(A=Xt.converters.RequestInfo(A),typeof A=="string")continue;let m=A[kf];if(!ZP(m.url)||m.method!=="GET")throw Xt.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let s=[];for(let A of e){let m=new ep(A)[kf];if(!ZP(m.url))throw Xt.errors.exception({header:r,message:"Expected http/s scheme."});m.initiator="fetch",m.destination="subresource",i.push(m);let y=Ov();s.push($lt({request:m,processResponse(x){if(x.type==="error"||x.status===206||x.status<200||x.status>299)y.reject(Xt.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(x.headersList.contains("vary")){let _=jJ(x.headersList.get("vary"));for(let T of _)if(T==="*"){y.reject(Xt.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let S of s)S.abort();return}}},processResponseEndOfBody(x){if(x.aborted){y.reject(new DOMException("aborted","AbortError"));return}y.resolve(x)}})),n.push(y.promise)}let c=await Promise.all(n),l=[],f=0;for(let A of c){let m={type:"put",request:i[f],response:A};l.push(m),f++}let d=Ov(),h=null;try{this.#t(l)}catch(A){h=A}return queueMicrotask(()=>{h===null?d.resolve(void 0):d.reject(h)}),d.promise}async put(e,r){Xt.brandCheck(this,t);let n="Cache.put";Xt.argumentLengthCheck(arguments,2,n),e=Xt.converters.RequestInfo(e,n,"request"),r=Xt.converters.Response(r,n,"response");let i=null;if(e instanceof ep?i=e[kf]:i=new ep(e)[kf],!ZP(i.url)||i.method!=="GET")throw Xt.errors.exception({header:n,message:"Expected an http/s scheme when method is not GET"});let s=r[kf];if(s.status===206)throw Xt.errors.exception({header:n,message:"Got 206 status"});if(s.headersList.contains("vary")){let m=jJ(s.headersList.get("vary"));for(let y of m)if(y==="*")throw Xt.errors.exception({header:n,message:"Got * vary field value"})}if(s.body&&(qlt(s.body.stream)||s.body.stream.locked))throw Xt.errors.exception({header:n,message:"Response body is locked or disturbed"});let a=Vlt(s),c=Ov();if(s.body!=null){let y=s.body.stream.getReader();zlt(y).then(c.resolve,c.reject)}else c.resolve(void 0);let l=[],f={type:"put",request:i,response:a};l.push(f);let d=await c.promise;a.body!=null&&(a.body.source=d);let h=Ov(),A=null;try{this.#t(l)}catch(m){A=m}return queueMicrotask(()=>{A===null?h.resolve():h.reject(A)}),h.promise}async delete(e,r={}){Xt.brandCheck(this,t);let n="Cache.delete";Xt.argumentLengthCheck(arguments,1,n),e=Xt.converters.RequestInfo(e,n,"request"),r=Xt.converters.CacheQueryOptions(r,n,"options");let i=null;if(e instanceof ep){if(i=e[kf],i.method!=="GET"&&!r.ignoreMethod)return!1}else KJ(typeof e=="string"),i=new ep(e)[kf];let s=[],a={type:"delete",request:i,options:r};s.push(a);let c=Ov(),l=null,f;try{f=this.#t(s)}catch(d){l=d}return queueMicrotask(()=>{l===null?c.resolve(!!f?.length):c.reject(l)}),c.promise}async keys(e=void 0,r={}){Xt.brandCheck(this,t);let n="Cache.keys";e!==void 0&&(e=Xt.converters.RequestInfo(e,n,"request")),r=Xt.converters.CacheQueryOptions(r,n,"options");let i=null;if(e!==void 0)if(e instanceof ep){if(i=e[kf],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof e=="string"&&(i=new ep(e)[kf]);let s=Ov(),a=[];if(e===void 0)for(let c of this.#e)a.push(c[0]);else{let c=this.#i(i,r);for(let l of c)a.push(l[0])}return queueMicrotask(()=>{let c=[];for(let l of a){let f=Ylt(l,new AbortController().signal,"immutable");c.push(f)}s.resolve(Object.freeze(c))}),s.promise}#t(e){let r=this.#e,n=[...r],i=[],s=[];try{for(let a of e){if(a.type!=="delete"&&a.type!=="put")throw Xt.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(a.type==="delete"&&a.response!=null)throw Xt.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(a.request,a.options,i).length)throw new DOMException("???","InvalidStateError");let c;if(a.type==="delete"){if(c=this.#i(a.request,a.options),c.length===0)return[];for(let l of c){let f=r.indexOf(l);KJ(f!==-1),r.splice(f,1)}}else if(a.type==="put"){if(a.response==null)throw Xt.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let l=a.request;if(!ZP(l.url))throw Xt.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(l.method!=="GET")throw Xt.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(a.options!=null)throw Xt.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});c=this.#i(a.request);for(let f of c){let d=r.indexOf(f);KJ(d!==-1),r.splice(d,1)}r.push([a.request,a.response]),i.push([a.request,a.response])}s.push([a.request,a.response])}return s}catch(a){throw this.#e.length=0,this.#e=n,a}}#i(e,r,n){let i=[],s=n??this.#e;for(let a of s){let[c,l]=a;this.#n(e,c,l,r)&&i.push(a)}return i}#n(e,r,n=null,i){let s=new URL(e.url),a=new URL(r.url);if(i?.ignoreSearch&&(a.search="",s.search=""),!Hlt(s,a,!0))return!1;if(n==null||i?.ignoreVary||!n.headersList.contains("vary"))return!0;let c=jJ(n.headersList.get("vary"));for(let l of c){if(l==="*")return!1;let f=r.headersList.get(l),d=e.headersList.get(l);if(f!==d)return!1}return!0}#r(e,r,n=1/0){let i=null;if(e!==void 0)if(e instanceof ep){if(i=e[kf],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof e=="string"&&(i=new ep(e)[kf]);let s=[];if(e===void 0)for(let c of this.#e)s.push(c[1]);else{let c=this.#i(i,r);for(let l of c)s.push(l[1])}let a=[];for(let c of s){let l=Wlt(c,"immutable");if(a.push(l.clone()),a.length>=n)break}return Object.freeze(a)}};Object.defineProperties(eF.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:LE,matchAll:LE,add:LE,addAll:LE,put:LE,delete:LE,keys:LE});var Q5e=[{key:"ignoreSearch",converter:Xt.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreMethod",converter:Xt.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreVary",converter:Xt.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];Xt.converters.CacheQueryOptions=Xt.dictionaryConverter(Q5e);Xt.converters.MultiCacheQueryOptions=Xt.dictionaryConverter([...Q5e,{key:"cacheName",converter:Xt.converters.DOMString}]);Xt.converters.Response=Xt.interfaceConverter(Glt);Xt.converters["sequence<RequestInfo>"]=Xt.sequenceConverter(Xt.converters.RequestInfo);P5e.exports={Cache:eF}});var L5e=q((jzr,M5e)=>{"use strict";u();var{kConstruct:mw}=XP(),{Cache:tF}=F5e(),{webidl:o0}=Da(),{kEnumerableProperty:gw}=dn(),rF=class t{static{o(this,"CacheStorage")}#e=new Map;constructor(){arguments[0]!==mw&&o0.illegalConstructor(),o0.util.markAsUncloneable(this)}async match(e,r={}){if(o0.brandCheck(this,t),o0.argumentLengthCheck(arguments,1,"CacheStorage.match"),e=o0.converters.RequestInfo(e),r=o0.converters.MultiCacheQueryOptions(r),r.cacheName!=null){if(this.#e.has(r.cacheName)){let n=this.#e.get(r.cacheName);return await new tF(mw,n).match(e,r)}}else for(let n of this.#e.values()){let s=await new tF(mw,n).match(e,r);if(s!==void 0)return s}}async has(e){o0.brandCheck(this,t);let r="CacheStorage.has";return o0.argumentLengthCheck(arguments,1,r),e=o0.converters.DOMString(e,r,"cacheName"),this.#e.has(e)}async open(e){o0.brandCheck(this,t);let r="CacheStorage.open";if(o0.argumentLengthCheck(arguments,1,r),e=o0.converters.DOMString(e,r,"cacheName"),this.#e.has(e)){let i=this.#e.get(e);return new tF(mw,i)}let n=[];return this.#e.set(e,n),new tF(mw,n)}async delete(e){o0.brandCheck(this,t);let r="CacheStorage.delete";return o0.argumentLengthCheck(arguments,1,r),e=o0.converters.DOMString(e,r,"cacheName"),this.#e.delete(e)}async keys(){return o0.brandCheck(this,t),[...this.#e.keys()]}};Object.defineProperties(rF.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:gw,has:gw,open:gw,delete:gw,keys:gw});M5e.exports={CacheStorage:rF}});var U5e=q((Xzr,O5e)=>{"use strict";u();O5e.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var JJ=q((ejr,W5e)=>{"use strict";u();function jlt(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r>=0&&r<=8||r>=10&&r<=31||r===127)return!0}return!1}o(jlt,"isCTLExcludingHtab");function H5e(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r<33||r>126||r===34||r===40||r===41||r===60||r===62||r===64||r===44||r===59||r===58||r===92||r===47||r===91||r===93||r===63||r===61||r===123||r===125)throw new Error("Invalid cookie name")}}o(H5e,"validateCookieName");function q5e(t){let e=t.length,r=0;if(t[0]==='"'){if(e===1||t[e-1]!=='"')throw new Error("Invalid cookie value");--e,++r}for(;r<e;){let n=t.charCodeAt(r++);if(n<33||n>126||n===34||n===44||n===59||n===92)throw new Error("Invalid cookie value")}}o(q5e,"validateCookieValue");function G5e(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r<32||r===127||r===59)throw new Error("Invalid cookie path")}}o(G5e,"validateCookiePath");function Klt(t){if(t.startsWith("-")||t.endsWith(".")||t.endsWith("-"))throw new Error("Invalid cookie domain")}o(Klt,"validateCookieDomain");var Jlt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Xlt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nF=Array(61).fill(0).map((t,e)=>e.toString().padStart(2,"0"));function V5e(t){return typeof t=="number"&&(t=new Date(t)),`${Jlt[t.getUTCDay()]}, ${nF[t.getUTCDate()]} ${Xlt[t.getUTCMonth()]} ${t.getUTCFullYear()} ${nF[t.getUTCHours()]}:${nF[t.getUTCMinutes()]}:${nF[t.getUTCSeconds()]} GMT`}o(V5e,"toIMFDate");function Zlt(t){if(t<0)throw new Error("Invalid cookie max-age")}o(Zlt,"validateCookieMaxAge");function eut(t){if(t.name.length===0)return null;H5e(t.name),q5e(t.value);let e=[`${t.name}=${t.value}`];t.name.startsWith("__Secure-")&&(t.secure=!0),t.name.startsWith("__Host-")&&(t.secure=!0,t.domain=null,t.path="/"),t.secure&&e.push("Secure"),t.httpOnly&&e.push("HttpOnly"),typeof t.maxAge=="number"&&(Zlt(t.maxAge),e.push(`Max-Age=${t.maxAge}`)),t.domain&&(Klt(t.domain),e.push(`Domain=${t.domain}`)),t.path&&(G5e(t.path),e.push(`Path=${t.path}`)),t.expires&&t.expires.toString()!=="Invalid Date"&&e.push(`Expires=${V5e(t.expires)}`),t.sameSite&&e.push(`SameSite=${t.sameSite}`);for(let r of t.unparsed){if(!r.includes("="))throw new Error("Invalid unparsed");let[n,...i]=r.split("=");e.push(`${n.trim()}=${i.join("=")}`)}return e.join("; ")}o(eut,"stringify");W5e.exports={isCTLExcludingHtab:jlt,validateCookieName:H5e,validateCookiePath:G5e,validateCookieValue:q5e,toIMFDate:V5e,stringify:eut}});var $5e=q((njr,Y5e)=>{"use strict";u();var{maxNameValuePairSize:tut,maxAttributeValueSize:rut}=U5e(),{isCTLExcludingHtab:nut}=JJ(),{collectASequenceOfCodePointsFast:iF}=Ac(),iut=require("node:assert");function sut(t){if(nut(t))return null;let e="",r="",n="",i="";if(t.includes(";")){let s={position:0};e=iF(";",t,s),r=t.slice(s.position)}else e=t;if(!e.includes("="))i=e;else{let s={position:0};n=iF("=",e,s),i=e.slice(s.position+1)}return n=n.trim(),i=i.trim(),n.length+i.length>tut?null:{name:n,value:i,...Uv(r)}}o(sut,"parseSetCookie");function Uv(t,e={}){if(t.length===0)return e;iut(t[0]===";"),t=t.slice(1);let r="";t.includes(";")?(r=iF(";",t,{position:0}),t=t.slice(r.length)):(r=t,t="");let n="",i="";if(r.includes("=")){let a={position:0};n=iF("=",r,a),i=r.slice(a.position+1)}else n=r;if(n=n.trim(),i=i.trim(),i.length>rut)return Uv(t,e);let s=n.toLowerCase();if(s==="expires"){let a=new Date(i);e.expires=a}else if(s==="max-age"){let a=i.charCodeAt(0);if((a<48||a>57)&&i[0]!=="-"||!/^\d+$/.test(i))return Uv(t,e);let c=Number(i);e.maxAge=c}else if(s==="domain"){let a=i;a[0]==="."&&(a=a.slice(1)),a=a.toLowerCase(),e.domain=a}else if(s==="path"){let a="";i.length===0||i[0]!=="/"?a="/":a=i,e.path=a}else if(s==="secure")e.secure=!0;else if(s==="httponly")e.httpOnly=!0;else if(s==="samesite"){let a="Default",c=i.toLowerCase();c.includes("none")&&(a="None"),c.includes("strict")&&(a="Strict"),c.includes("lax")&&(a="Lax"),e.sameSite=a}else e.unparsed??=[],e.unparsed.push(`${n}=${i}`);return Uv(t,e)}o(Uv,"parseUnparsedAttributes");Y5e.exports={parseSetCookie:sut,parseUnparsedAttributes:Uv}});var K5e=q((sjr,j5e)=>{"use strict";u();var{parseSetCookie:aut}=$5e(),{stringify:cut}=JJ(),{webidl:Bn}=Da(),{Headers:oF}=NE();function lut(t){Bn.argumentLengthCheck(arguments,1,"getCookies"),Bn.brandCheck(t,oF,{strict:!1});let e=t.get("cookie"),r={};if(!e)return r;for(let n of e.split(";")){let[i,...s]=n.split("=");r[i.trim()]=s.join("=")}return r}o(lut,"getCookies");function uut(t,e,r){Bn.brandCheck(t,oF,{strict:!1});let n="deleteCookie";Bn.argumentLengthCheck(arguments,2,n),e=Bn.converters.DOMString(e,n,"name"),r=Bn.converters.DeleteCookieAttributes(r),z5e(t,{name:e,value:"",expires:new Date(0),...r})}o(uut,"deleteCookie");function fut(t){Bn.argumentLengthCheck(arguments,1,"getSetCookies"),Bn.brandCheck(t,oF,{strict:!1});let e=t.getSetCookie();return e?e.map(r=>aut(r)):[]}o(fut,"getSetCookies");function z5e(t,e){Bn.argumentLengthCheck(arguments,2,"setCookie"),Bn.brandCheck(t,oF,{strict:!1}),e=Bn.converters.Cookie(e);let r=cut(e);r&&t.append("Set-Cookie",r)}o(z5e,"setCookie");Bn.converters.DeleteCookieAttributes=Bn.dictionaryConverter([{converter:Bn.nullableConverter(Bn.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:Bn.nullableConverter(Bn.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")}]);Bn.converters.Cookie=Bn.dictionaryConverter([{converter:Bn.converters.DOMString,key:"name"},{converter:Bn.converters.DOMString,key:"value"},{converter:Bn.nullableConverter(t=>typeof t=="number"?Bn.converters["unsigned long long"](t):new Date(t)),key:"expires",defaultValue:o(()=>null,"defaultValue")},{converter:Bn.nullableConverter(Bn.converters["long long"]),key:"maxAge",defaultValue:o(()=>null,"defaultValue")},{converter:Bn.nullableConverter(Bn.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")},{converter:Bn.nullableConverter(Bn.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:Bn.nullableConverter(Bn.converters.boolean),key:"secure",defaultValue:o(()=>null,"defaultValue")},{converter:Bn.nullableConverter(Bn.converters.boolean),key:"httpOnly",defaultValue:o(()=>null,"defaultValue")},{converter:Bn.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:Bn.sequenceConverter(Bn.converters.DOMString),key:"unparsed",defaultValue:o(()=>new Array(0),"defaultValue")}]);j5e.exports={getCookies:lut,deleteCookie:uut,getSetCookies:fut,setCookie:z5e}});var qv=q((ljr,X5e)=>{"use strict";u();var{webidl:jt}=Da(),{kEnumerableProperty:yc}=dn(),{kConstruct:J5e}=ho(),{MessagePort:dut}=require("node:worker_threads"),Hv=class t extends Event{static{o(this,"MessageEvent")}#e;constructor(e,r={}){if(e===J5e){super(arguments[1],arguments[2]),jt.util.markAsUncloneable(this);return}let n="MessageEvent constructor";jt.argumentLengthCheck(arguments,1,n),e=jt.converters.DOMString(e,n,"type"),r=jt.converters.MessageEventInit(r,n,"eventInitDict"),super(e,r),this.#e=r,jt.util.markAsUncloneable(this)}get data(){return jt.brandCheck(this,t),this.#e.data}get origin(){return jt.brandCheck(this,t),this.#e.origin}get lastEventId(){return jt.brandCheck(this,t),this.#e.lastEventId}get source(){return jt.brandCheck(this,t),this.#e.source}get ports(){return jt.brandCheck(this,t),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(e,r=!1,n=!1,i=null,s="",a="",c=null,l=[]){return jt.brandCheck(this,t),jt.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new t(e,{bubbles:r,cancelable:n,data:i,origin:s,lastEventId:a,source:c,ports:l})}static createFastMessageEvent(e,r){let n=new t(J5e,e,r);return n.#e=r,n.#e.data??=null,n.#e.origin??="",n.#e.lastEventId??="",n.#e.source??=null,n.#e.ports??=[],n}},{createFastMessageEvent:hut}=Hv;delete Hv.createFastMessageEvent;var sF=class t extends Event{static{o(this,"CloseEvent")}#e;constructor(e,r={}){let n="CloseEvent constructor";jt.argumentLengthCheck(arguments,1,n),e=jt.converters.DOMString(e,n,"type"),r=jt.converters.CloseEventInit(r),super(e,r),this.#e=r,jt.util.markAsUncloneable(this)}get wasClean(){return jt.brandCheck(this,t),this.#e.wasClean}get code(){return jt.brandCheck(this,t),this.#e.code}get reason(){return jt.brandCheck(this,t),this.#e.reason}},aF=class t extends Event{static{o(this,"ErrorEvent")}#e;constructor(e,r){let n="ErrorEvent constructor";jt.argumentLengthCheck(arguments,1,n),super(e,r),jt.util.markAsUncloneable(this),e=jt.converters.DOMString(e,n,"type"),r=jt.converters.ErrorEventInit(r??{}),this.#e=r}get message(){return jt.brandCheck(this,t),this.#e.message}get filename(){return jt.brandCheck(this,t),this.#e.filename}get lineno(){return jt.brandCheck(this,t),this.#e.lineno}get colno(){return jt.brandCheck(this,t),this.#e.colno}get error(){return jt.brandCheck(this,t),this.#e.error}};Object.defineProperties(Hv.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:yc,origin:yc,lastEventId:yc,source:yc,ports:yc,initMessageEvent:yc});Object.defineProperties(sF.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:yc,code:yc,wasClean:yc});Object.defineProperties(aF.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:yc,filename:yc,lineno:yc,colno:yc,error:yc});jt.converters.MessagePort=jt.interfaceConverter(dut);jt.converters["sequence<MessagePort>"]=jt.sequenceConverter(jt.converters.MessagePort);var XJ=[{key:"bubbles",converter:jt.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:jt.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:jt.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];jt.converters.MessageEventInit=jt.dictionaryConverter([...XJ,{key:"data",converter:jt.converters.any,defaultValue:o(()=>null,"defaultValue")},{key:"origin",converter:jt.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lastEventId",converter:jt.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"source",converter:jt.nullableConverter(jt.converters.MessagePort),defaultValue:o(()=>null,"defaultValue")},{key:"ports",converter:jt.converters["sequence<MessagePort>"],defaultValue:o(()=>new Array(0),"defaultValue")}]);jt.converters.CloseEventInit=jt.dictionaryConverter([...XJ,{key:"wasClean",converter:jt.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"code",converter:jt.converters["unsigned short"],defaultValue:o(()=>0,"defaultValue")},{key:"reason",converter:jt.converters.USVString,defaultValue:o(()=>"","defaultValue")}]);jt.converters.ErrorEventInit=jt.dictionaryConverter([...XJ,{key:"message",converter:jt.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"filename",converter:jt.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lineno",converter:jt.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"colno",converter:jt.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"error",converter:jt.converters.any}]);X5e.exports={MessageEvent:Hv,CloseEvent:sF,ErrorEvent:aF,createFastMessageEvent:hut}});var OE=q((djr,Z5e)=>{"use strict";u();var Aut="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",put={enumerable:!0,writable:!1,configurable:!1},mut={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},gut={NOT_SENT:0,PROCESSING:1,SENT:2},yut={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},Cut=2**16-1,Eut={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},Iut=Buffer.allocUnsafe(0),xut={string:1,typedArray:2,arrayBuffer:3,blob:4};Z5e.exports={uid:Aut,sentCloseFrameState:gut,staticPropertyDescriptors:put,states:mut,opcodes:yut,maxUnsigned16Bit:Cut,parserStates:Eut,emptyBuffer:Iut,sendHints:xut}});var yw=q((Ajr,eTe)=>{"use strict";u();eTe.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var Iw=q((mjr,lTe)=>{"use strict";u();var{kReadyState:Cw,kController:but,kResponse:vut,kBinaryType:Tut,kWebSocketURL:_ut}=yw(),{states:Ew,opcodes:h1}=OE(),{ErrorEvent:Sut,createFastMessageEvent:wut}=qv(),{isUtf8:But}=require("node:buffer"),{collectASequenceOfCodePointsFast:Rut,removeHTTPWhitespace:tTe}=Ac();function kut(t){return t[Cw]===Ew.CONNECTING}o(kut,"isConnecting");function Dut(t){return t[Cw]===Ew.OPEN}o(Dut,"isEstablished");function Nut(t){return t[Cw]===Ew.CLOSING}o(Nut,"isClosing");function Qut(t){return t[Cw]===Ew.CLOSED}o(Qut,"isClosed");function ZJ(t,e,r=(i,s)=>new Event(i,s),n={}){let i=r(t,n);e.dispatchEvent(i)}o(ZJ,"fireEvent");function Put(t,e,r){if(t[Cw]!==Ew.OPEN)return;let n;if(e===h1.TEXT)try{n=cTe(r)}catch{nTe(t,"Received invalid UTF-8 in text frame.");return}else e===h1.BINARY&&(t[Tut]==="blob"?n=new Blob([r]):n=Fut(r));ZJ("message",t,wut,{origin:t[_ut].origin,data:n})}o(Put,"websocketMessageReceived");function Fut(t){return t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}o(Fut,"toArrayBuffer");function Mut(t){if(t.length===0)return!1;for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r<33||r>126||r===34||r===40||r===41||r===44||r===47||r===58||r===59||r===60||r===61||r===62||r===63||r===64||r===91||r===92||r===93||r===123||r===125)return!1}return!0}o(Mut,"isValidSubprotocol");function Lut(t){return t>=1e3&&t<1015?t!==1004&&t!==1005&&t!==1006:t>=3e3&&t<=4999}o(Lut,"isValidStatusCode");function nTe(t,e){let{[but]:r,[vut]:n}=t;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),e&&ZJ("error",t,(i,s)=>new Sut(i,s),{error:new Error(e),message:e})}o(nTe,"failWebsocketConnection");function iTe(t){return t===h1.CLOSE||t===h1.PING||t===h1.PONG}o(iTe,"isControlFrame");function oTe(t){return t===h1.CONTINUATION}o(oTe,"isContinuationFrame");function sTe(t){return t===h1.TEXT||t===h1.BINARY}o(sTe,"isTextBinaryFrame");function Out(t){return sTe(t)||oTe(t)||iTe(t)}o(Out,"isValidOpcode");function Uut(t){let e={position:0},r=new Map;for(;e.position<t.length;){let n=Rut(";",t,e),[i,s=""]=n.split("=");r.set(tTe(i,!0,!1),tTe(s,!1,!0)),e.position++}return r}o(Uut,"parseExtensions");function Hut(t){for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);if(r<48||r>57)return!1}return!0}o(Hut,"isValidClientWindowBits");var aTe=typeof process.versions.icu=="string",rTe=aTe?new TextDecoder("utf-8",{fatal:!0}):void 0,cTe=aTe?rTe.decode.bind(rTe):function(t){if(But(t))return t.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};lTe.exports={isConnecting:kut,isEstablished:Dut,isClosing:Nut,isClosed:Qut,fireEvent:ZJ,isValidSubprotocol:Mut,isValidStatusCode:Lut,failWebsocketConnection:nTe,websocketMessageReceived:Put,utf8Decode:cTe,isControlFrame:iTe,isContinuationFrame:oTe,isTextBinaryFrame:sTe,isValidOpcode:Out,parseExtensions:Uut,isValidClientWindowBits:Hut}});var lF=q((Cjr,uTe)=>{"use strict";u();var{maxUnsigned16Bit:qut}=OE(),cF=16386,eX,xw=null,Gv=cF;try{eX=require("node:crypto")}catch{eX={randomFillSync:o(function(e,r,n){for(let i=0;i<e.length;++i)e[i]=Math.random()*255|0;return e},"randomFillSync")}}function Gut(){return Gv===cF&&(Gv=0,eX.randomFillSync(xw??=Buffer.allocUnsafe(cF),0,cF)),[xw[Gv++],xw[Gv++],xw[Gv++],xw[Gv++]]}o(Gut,"generateMask");var tX=class{static{o(this,"WebsocketFrameSend")}constructor(e){this.frameData=e}createFrame(e){let r=this.frameData,n=Gut(),i=r?.byteLength??0,s=i,a=6;i>qut?(a+=8,s=127):i>125&&(a+=2,s=126);let c=Buffer.allocUnsafe(i+a);c[0]=c[1]=0,c[0]|=128,c[0]=(c[0]&240)+e;c[a-4]=n[0],c[a-3]=n[1],c[a-2]=n[2],c[a-1]=n[3],c[1]=s,s===126?c.writeUInt16BE(i,2):s===127&&(c[2]=c[3]=0,c.writeUIntBE(i,4,6)),c[1]|=128;for(let l=0;l<i;++l)c[a+l]=r[l]^n[l&3];return c}};uTe.exports={WebsocketFrameSend:tX}});var nX=q((xjr,gTe)=>{"use strict";u();var{uid:Vut,states:bw,sentCloseFrameState:uF,emptyBuffer:Wut,opcodes:Yut}=OE(),{kReadyState:vw,kSentClose:fF,kByteParser:dTe,kReceivedClose:fTe,kResponse:hTe}=yw(),{fireEvent:$ut,failWebsocketConnection:A1,isClosing:zut,isClosed:jut,isEstablished:Kut,parseExtensions:Jut}=Iw(),{channels:Vv}=nv(),{CloseEvent:Xut}=qv(),{makeRequest:Zut}=Fv(),{fetching:eft}=Aw(),{Headers:tft,getHeadersList:rft}=NE(),{getDecodeSplit:nft}=ol(),{WebsocketFrameSend:ift}=lF(),rX;try{rX=require("node:crypto")}catch{}function oft(t,e,r,n,i,s){let a=t;a.protocol=t.protocol==="ws:"?"http:":"https:";let c=Zut({urlList:[a],client:r,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(s.headers){let h=rft(new tft(s.headers));c.headersList=h}let l=rX.randomBytes(16).toString("base64");c.headersList.append("sec-websocket-key",l),c.headersList.append("sec-websocket-version","13");for(let h of e)c.headersList.append("sec-websocket-protocol",h);return c.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),eft({request:c,useParallelQueue:!0,dispatcher:s.dispatcher,processResponse(h){if(h.type==="error"||h.status!==101){A1(n,"Received network error or non-101 status code.");return}if(e.length!==0&&!h.headersList.get("Sec-WebSocket-Protocol")){A1(n,"Server did not respond with sent protocols.");return}if(h.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){A1(n,'Server did not set Upgrade header to "websocket".');return}if(h.headersList.get("Connection")?.toLowerCase()!=="upgrade"){A1(n,'Server did not set Connection header to "upgrade".');return}let A=h.headersList.get("Sec-WebSocket-Accept"),m=rX.createHash("sha1").update(l+Vut).digest("base64");if(A!==m){A1(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let y=h.headersList.get("Sec-WebSocket-Extensions"),x;if(y!==null&&(x=Jut(y),!x.has("permessage-deflate"))){A1(n,"Sec-WebSocket-Extensions header does not match.");return}let _=h.headersList.get("Sec-WebSocket-Protocol");if(_!==null&&!nft("sec-websocket-protocol",c.headersList).includes(_)){A1(n,"Protocol was not set in the opening handshake.");return}h.socket.on("data",ATe),h.socket.on("close",pTe),h.socket.on("error",mTe),Vv.open.hasSubscribers&&Vv.open.publish({address:h.socket.address(),protocol:_,extensions:y}),i(h,x)}})}o(oft,"establishWebSocketConnection");function sft(t,e,r,n){if(!(zut(t)||jut(t)))if(!Kut(t))A1(t,"Connection was closed before it was established."),t[vw]=bw.CLOSING;else if(t[fF]===uF.NOT_SENT){t[fF]=uF.PROCESSING;let i=new ift;e!==void 0&&r===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(e,0)):e!==void 0&&r!==void 0?(i.frameData=Buffer.allocUnsafe(2+n),i.frameData.writeUInt16BE(e,0),i.frameData.write(r,2,"utf-8")):i.frameData=Wut,t[hTe].socket.write(i.createFrame(Yut.CLOSE)),t[fF]=uF.SENT,t[vw]=bw.CLOSING}else t[vw]=bw.CLOSING}o(sft,"closeWebSocketConnection");function ATe(t){this.ws[dTe].write(t)||this.pause()}o(ATe,"onSocketData");function pTe(){let{ws:t}=this,{[hTe]:e}=t;e.socket.off("data",ATe),e.socket.off("close",pTe),e.socket.off("error",mTe);let r=t[fF]===uF.SENT&&t[fTe],n=1005,i="",s=t[dTe].closingInfo;s&&!s.error?(n=s.code??1005,i=s.reason):t[fTe]||(n=1006),t[vw]=bw.CLOSED,$ut("close",t,(a,c)=>new Xut(a,c),{wasClean:r,code:n,reason:i}),Vv.close.hasSubscribers&&Vv.close.publish({websocket:t,code:n,reason:i})}o(pTe,"onSocketClose");function mTe(t){let{ws:e}=this;e[vw]=bw.CLOSING,Vv.socketError.hasSubscribers&&Vv.socketError.publish(t),this.destroy()}o(mTe,"onSocketError");gTe.exports={establishWebSocketConnection:oft,closeWebSocketConnection:sft}});var CTe=q((Tjr,yTe)=>{"use strict";u();var{createInflateRaw:aft,Z_DEFAULT_WINDOWBITS:cft}=require("node:zlib"),{isValidClientWindowBits:lft}=Iw(),uft=Buffer.from([0,0,255,255]),dF=Symbol("kBuffer"),hF=Symbol("kLength"),iX=class{static{o(this,"PerMessageDeflate")}#e;#t={};constructor(e){this.#t.serverNoContextTakeover=e.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=e.get("server_max_window_bits")}decompress(e,r,n){if(!this.#e){let i=cft;if(this.#t.serverMaxWindowBits){if(!lft(this.#t.serverMaxWindowBits)){n(new Error("Invalid server_max_window_bits"));return}i=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=aft({windowBits:i}),this.#e[dF]=[],this.#e[hF]=0,this.#e.on("data",s=>{this.#e[dF].push(s),this.#e[hF]+=s.length}),this.#e.on("error",s=>{this.#e=null,n(s)})}this.#e.write(e),r&&this.#e.write(uft),this.#e.flush(()=>{let i=Buffer.concat(this.#e[dF],this.#e[hF]);this.#e[dF].length=0,this.#e[hF]=0,n(null,i)})}};yTe.exports={PerMessageDeflate:iX}});var RTe=q((wjr,BTe)=>{"use strict";u();var{Writable:fft}=require("node:stream"),dft=require("node:assert"),{parserStates:Cc,opcodes:Wv,states:hft,emptyBuffer:ETe,sentCloseFrameState:ITe}=OE(),{kReadyState:Aft,kSentClose:xTe,kResponse:bTe,kReceivedClose:vTe}=yw(),{channels:AF}=nv(),{isValidStatusCode:pft,isValidOpcode:mft,failWebsocketConnection:du,websocketMessageReceived:TTe,utf8Decode:gft,isControlFrame:_Te,isTextBinaryFrame:oX,isContinuationFrame:yft}=Iw(),{WebsocketFrameSend:STe}=lF(),{closeWebSocketConnection:wTe}=nX(),{PerMessageDeflate:Cft}=CTe(),sX=class extends fft{static{o(this,"ByteParser")}#e=[];#t=0;#i=!1;#n=Cc.INFO;#r={};#o=[];#s;constructor(e,r){super(),this.ws=e,this.#s=r??new Map,this.#s.has("permessage-deflate")&&this.#s.set("permessage-deflate",new Cft(r))}_write(e,r,n){this.#e.push(e),this.#t+=e.length,this.#i=!0,this.run(n)}run(e){for(;this.#i;)if(this.#n===Cc.INFO){if(this.#t<2)return e();let r=this.consume(2),n=(r[0]&128)!==0,i=r[0]&15,s=(r[1]&128)===128,a=!n&&i!==Wv.CONTINUATION,c=r[1]&127,l=r[0]&64,f=r[0]&32,d=r[0]&16;if(!mft(i))return du(this.ws,"Invalid opcode received"),e();if(s)return du(this.ws,"Frame cannot be masked"),e();if(l!==0&&!this.#s.has("permessage-deflate")){du(this.ws,"Expected RSV1 to be clear.");return}if(f!==0||d!==0){du(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(a&&!oX(i)){du(this.ws,"Invalid frame type was fragmented.");return}if(oX(i)&&this.#o.length>0){du(this.ws,"Expected continuation frame");return}if(this.#r.fragmented&&a){du(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((c>125||a)&&_Te(i)){du(this.ws,"Control frame either too large or fragmented");return}if(yft(i)&&this.#o.length===0&&!this.#r.compressed){du(this.ws,"Unexpected continuation frame");return}c<=125?(this.#r.payloadLength=c,this.#n=Cc.READ_DATA):c===126?this.#n=Cc.PAYLOADLENGTH_16:c===127&&(this.#n=Cc.PAYLOADLENGTH_64),oX(i)&&(this.#r.binaryType=i,this.#r.compressed=l!==0),this.#r.opcode=i,this.#r.masked=s,this.#r.fin=n,this.#r.fragmented=a}else if(this.#n===Cc.PAYLOADLENGTH_16){if(this.#t<2)return e();let r=this.consume(2);this.#r.payloadLength=r.readUInt16BE(0),this.#n=Cc.READ_DATA}else if(this.#n===Cc.PAYLOADLENGTH_64){if(this.#t<8)return e();let r=this.consume(8),n=r.readUInt32BE(0);if(n>2**31-1){du(this.ws,"Received payload length > 2^31 bytes.");return}let i=r.readUInt32BE(4);this.#r.payloadLength=(n<<8)+i,this.#n=Cc.READ_DATA}else if(this.#n===Cc.READ_DATA){if(this.#t<this.#r.payloadLength)return e();let r=this.consume(this.#r.payloadLength);if(_Te(this.#r.opcode))this.#i=this.parseControlFrame(r),this.#n=Cc.INFO;else if(this.#r.compressed){this.#s.get("permessage-deflate").decompress(r,this.#r.fin,(n,i)=>{if(n){wTe(this.ws,1007,n.message,n.message.length);return}if(this.#o.push(i),!this.#r.fin){this.#n=Cc.INFO,this.#i=!0,this.run(e);return}TTe(this.ws,this.#r.binaryType,Buffer.concat(this.#o)),this.#i=!0,this.#n=Cc.INFO,this.#o.length=0,this.run(e)}),this.#i=!1;break}else{if(this.#o.push(r),!this.#r.fragmented&&this.#r.fin){let n=Buffer.concat(this.#o);TTe(this.ws,this.#r.binaryType,n),this.#o.length=0}this.#n=Cc.INFO}}}consume(e){if(e>this.#t)throw new Error("Called consume() before buffers satiated.");if(e===0)return ETe;if(this.#e[0].length===e)return this.#t-=this.#e[0].length,this.#e.shift();let r=Buffer.allocUnsafe(e),n=0;for(;n!==e;){let i=this.#e[0],{length:s}=i;if(s+n===e){r.set(this.#e.shift(),n);break}else if(s+n>e){r.set(i.subarray(0,e-n),n),this.#e[0]=i.subarray(e-n);break}else r.set(this.#e.shift(),n),n+=i.length}return this.#t-=e,r}parseCloseBody(e){dft(e.length!==1);let r;if(e.length>=2&&(r=e.readUInt16BE(0)),r!==void 0&&!pft(r))return{code:1002,reason:"Invalid status code",error:!0};let n=e.subarray(2);n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3));try{n=gft(n)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:r,reason:n,error:!1}}parseControlFrame(e){let{opcode:r,payloadLength:n}=this.#r;if(r===Wv.CLOSE){if(n===1)return du(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#r.closeInfo=this.parseCloseBody(e),this.#r.closeInfo.error){let{code:i,reason:s}=this.#r.closeInfo;return wTe(this.ws,i,s,s.length),du(this.ws,s),!1}if(this.ws[xTe]!==ITe.SENT){let i=ETe;this.#r.closeInfo.code&&(i=Buffer.allocUnsafe(2),i.writeUInt16BE(this.#r.closeInfo.code,0));let s=new STe(i);this.ws[bTe].socket.write(s.createFrame(Wv.CLOSE),a=>{a||(this.ws[xTe]=ITe.SENT)})}return this.ws[Aft]=hft.CLOSING,this.ws[vTe]=!0,!1}else if(r===Wv.PING){if(!this.ws[vTe]){let i=new STe(e);this.ws[bTe].socket.write(i.createFrame(Wv.PONG)),AF.ping.hasSubscribers&&AF.ping.publish({payload:e})}}else r===Wv.PONG&&AF.pong.hasSubscribers&&AF.pong.publish({payload:e});return!0}get closingInfo(){return this.#r.closeInfo}};BTe.exports={ByteParser:sX}});var PTe=q((kjr,QTe)=>{"use strict";u();var{WebsocketFrameSend:Eft}=lF(),{opcodes:kTe,sendHints:Yv}=OE(),Ift=yK(),DTe=Buffer[Symbol.species],aX=class{static{o(this,"SendQueue")}#e=new Ift;#t=!1;#i;constructor(e){this.#i=e}add(e,r,n){if(n!==Yv.blob){let s=NTe(e,n);if(!this.#t)this.#i.write(s,r);else{let a={promise:null,callback:r,frame:s};this.#e.push(a)}return}let i={promise:e.arrayBuffer().then(s=>{i.promise=null,i.frame=NTe(s,n)}),callback:r,frame:null};this.#e.push(i),this.#t||this.#n()}async#n(){this.#t=!0;let e=this.#e;for(;!e.isEmpty();){let r=e.shift();r.promise!==null&&await r.promise,this.#i.write(r.frame,r.callback),r.callback=r.frame=null}this.#t=!1}};function NTe(t,e){return new Eft(xft(t,e)).createFrame(e===Yv.string?kTe.TEXT:kTe.BINARY)}o(NTe,"createFrame");function xft(t,e){switch(e){case Yv.string:return Buffer.from(t);case Yv.arrayBuffer:case Yv.blob:return new DTe(t);case Yv.typedArray:return new DTe(t.buffer,t.byteOffset,t.byteLength)}}o(xft,"toBuffer");QTe.exports={SendQueue:aX}});var VTe=q((Qjr,GTe)=>{"use strict";u();var{webidl:wr}=Da(),{URLSerializer:bft}=Ac(),{environmentSettingsObject:FTe}=ol(),{staticPropertyDescriptors:p1,states:Tw,sentCloseFrameState:vft,sendHints:pF}=OE(),{kWebSocketURL:MTe,kReadyState:cX,kController:Tft,kBinaryType:mF,kResponse:LTe,kSentClose:_ft,kByteParser:Sft}=yw(),{isConnecting:wft,isEstablished:Bft,isClosing:Rft,isValidSubprotocol:kft,fireEvent:OTe}=Iw(),{establishWebSocketConnection:Dft,closeWebSocketConnection:UTe}=nX(),{ByteParser:Nft}=RTe(),{kEnumerableProperty:hu,isBlobLike:HTe}=dn(),{getGlobalDispatcher:Qft}=RP(),{types:qTe}=require("node:util"),{ErrorEvent:Pft,CloseEvent:Fft}=qv(),{SendQueue:Mft}=PTe(),dl=class t extends EventTarget{static{o(this,"WebSocket")}#e={open:null,error:null,close:null,message:null};#t=0;#i="";#n="";#r;constructor(e,r=[]){super(),wr.util.markAsUncloneable(this);let n="WebSocket constructor";wr.argumentLengthCheck(arguments,1,n);let i=wr.converters["DOMString or sequence<DOMString> or WebSocketInit"](r,n,"options");e=wr.converters.USVString(e,n,"url"),r=i.protocols;let s=FTe.settingsObject.baseUrl,a;try{a=new URL(e,s)}catch(l){throw new DOMException(l,"SyntaxError")}if(a.protocol==="http:"?a.protocol="ws:":a.protocol==="https:"&&(a.protocol="wss:"),a.protocol!=="ws:"&&a.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${a.protocol}`,"SyntaxError");if(a.hash||a.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof r=="string"&&(r=[r]),r.length!==new Set(r.map(l=>l.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(r.length>0&&!r.every(l=>kft(l)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[MTe]=new URL(a.href);let c=FTe.settingsObject;this[Tft]=Dft(a,r,c,this,(l,f)=>this.#o(l,f),i),this[cX]=t.CONNECTING,this[_ft]=vft.NOT_SENT,this[mF]="blob"}close(e=void 0,r=void 0){wr.brandCheck(this,t);let n="WebSocket.close";if(e!==void 0&&(e=wr.converters["unsigned short"](e,n,"code",{clamp:!0})),r!==void 0&&(r=wr.converters.USVString(r,n,"reason")),e!==void 0&&e!==1e3&&(e<3e3||e>4999))throw new DOMException("invalid code","InvalidAccessError");let i=0;if(r!==void 0&&(i=Buffer.byteLength(r),i>123))throw new DOMException(`Reason must be less than 123 bytes; received ${i}`,"SyntaxError");UTe(this,e,r,i)}send(e){wr.brandCheck(this,t);let r="WebSocket.send";if(wr.argumentLengthCheck(arguments,1,r),e=wr.converters.WebSocketSendData(e,r,"data"),wft(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!Bft(this)||Rft(this)))if(typeof e=="string"){let n=Buffer.byteLength(e);this.#t+=n,this.#r.add(e,()=>{this.#t-=n},pF.string)}else qTe.isArrayBuffer(e)?(this.#t+=e.byteLength,this.#r.add(e,()=>{this.#t-=e.byteLength},pF.arrayBuffer)):ArrayBuffer.isView(e)?(this.#t+=e.byteLength,this.#r.add(e,()=>{this.#t-=e.byteLength},pF.typedArray)):HTe(e)&&(this.#t+=e.size,this.#r.add(e,()=>{this.#t-=e.size},pF.blob))}get readyState(){return wr.brandCheck(this,t),this[cX]}get bufferedAmount(){return wr.brandCheck(this,t),this.#t}get url(){return wr.brandCheck(this,t),bft(this[MTe])}get extensions(){return wr.brandCheck(this,t),this.#n}get protocol(){return wr.brandCheck(this,t),this.#i}get onopen(){return wr.brandCheck(this,t),this.#e.open}set onopen(e){wr.brandCheck(this,t),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onerror(){return wr.brandCheck(this,t),this.#e.error}set onerror(e){wr.brandCheck(this,t),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}get onclose(){return wr.brandCheck(this,t),this.#e.close}set onclose(e){wr.brandCheck(this,t),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof e=="function"?(this.#e.close=e,this.addEventListener("close",e)):this.#e.close=null}get onmessage(){return wr.brandCheck(this,t),this.#e.message}set onmessage(e){wr.brandCheck(this,t),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get binaryType(){return wr.brandCheck(this,t),this[mF]}set binaryType(e){wr.brandCheck(this,t),e!=="blob"&&e!=="arraybuffer"?this[mF]="blob":this[mF]=e}#o(e,r){this[LTe]=e;let n=new Nft(this,r);n.on("drain",Lft),n.on("error",Oft.bind(this)),e.socket.ws=this,this[Sft]=n,this.#r=new Mft(e.socket),this[cX]=Tw.OPEN;let i=e.headersList.get("sec-websocket-extensions");i!==null&&(this.#n=i);let s=e.headersList.get("sec-websocket-protocol");s!==null&&(this.#i=s),OTe("open",this)}};dl.CONNECTING=dl.prototype.CONNECTING=Tw.CONNECTING;dl.OPEN=dl.prototype.OPEN=Tw.OPEN;dl.CLOSING=dl.prototype.CLOSING=Tw.CLOSING;dl.CLOSED=dl.prototype.CLOSED=Tw.CLOSED;Object.defineProperties(dl.prototype,{CONNECTING:p1,OPEN:p1,CLOSING:p1,CLOSED:p1,url:hu,readyState:hu,bufferedAmount:hu,onopen:hu,onerror:hu,onclose:hu,close:hu,onmessage:hu,binaryType:hu,send:hu,extensions:hu,protocol:hu,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(dl,{CONNECTING:p1,OPEN:p1,CLOSING:p1,CLOSED:p1});wr.converters["sequence<DOMString>"]=wr.sequenceConverter(wr.converters.DOMString);wr.converters["DOMString or sequence<DOMString>"]=function(t,e,r){return wr.util.Type(t)==="Object"&&Symbol.iterator in t?wr.converters["sequence<DOMString>"](t):wr.converters.DOMString(t,e,r)};wr.converters.WebSocketInit=wr.dictionaryConverter([{key:"protocols",converter:wr.converters["DOMString or sequence<DOMString>"],defaultValue:o(()=>new Array(0),"defaultValue")},{key:"dispatcher",converter:wr.converters.any,defaultValue:o(()=>Qft(),"defaultValue")},{key:"headers",converter:wr.nullableConverter(wr.converters.HeadersInit)}]);wr.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(t){return wr.util.Type(t)==="Object"&&!(Symbol.iterator in t)?wr.converters.WebSocketInit(t):{protocols:wr.converters["DOMString or sequence<DOMString>"](t)}};wr.converters.WebSocketSendData=function(t){if(wr.util.Type(t)==="Object"){if(HTe(t))return wr.converters.Blob(t,{strict:!1});if(ArrayBuffer.isView(t)||qTe.isArrayBuffer(t))return wr.converters.BufferSource(t)}return wr.converters.USVString(t)};function Lft(){this.ws[LTe].socket.resume()}o(Lft,"onParserDrain");function Oft(t){let e,r;t instanceof Fft?(e=t.reason,r=t.code):e=t.message,OTe("error",this,()=>new Pft("error",{error:t,message:e})),UTe(this,r)}o(Oft,"onParserError");GTe.exports={WebSocket:dl}});var lX=q((Mjr,WTe)=>{"use strict";u();function Uft(t){return t.indexOf("\0")===-1}o(Uft,"isValidLastEventId");function Hft(t){if(t.length===0)return!1;for(let e=0;e<t.length;e++)if(t.charCodeAt(e)<48||t.charCodeAt(e)>57)return!1;return!0}o(Hft,"isASCIINumber");function qft(t){return new Promise(e=>{setTimeout(e,t).unref()})}o(qft,"delay");WTe.exports={isValidLastEventId:Uft,isASCIINumber:Hft,delay:qft}});var jTe=q((Ujr,zTe)=>{"use strict";u();var{Transform:Gft}=require("node:stream"),{isASCIINumber:YTe,isValidLastEventId:$Te}=lX(),tp=[239,187,191],uX=10,gF=13,Vft=58,Wft=32,fX=class extends Gft{static{o(this,"EventSourceStream")}state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(e={}){e.readableObjectMode=!0,super(e),this.state=e.eventSourceSettings||{},e.push&&(this.push=e.push)}_transform(e,r,n){if(e.length===0){n();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,e]):this.buffer=e,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===tp[0]){n();return}this.checkBOM=!1,n();return;case 2:if(this.buffer[0]===tp[0]&&this.buffer[1]===tp[1]){n();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===tp[0]&&this.buffer[1]===tp[1]&&this.buffer[2]===tp[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,n();return}this.checkBOM=!1;break;default:this.buffer[0]===tp[0]&&this.buffer[1]===tp[1]&&this.buffer[2]===tp[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===uX){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===uX||this.buffer[this.pos]===gF){this.buffer[this.pos]===gF&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===uX||this.buffer[this.pos]===gF){this.buffer[this.pos]===gF&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}n()}parseLine(e,r){if(e.length===0)return;let n=e.indexOf(Vft);if(n===0)return;let i="",s="";if(n!==-1){i=e.subarray(0,n).toString("utf8");let a=n+1;e[a]===Wft&&++a,s=e.subarray(a).toString("utf8")}else i=e.toString("utf8"),s="";switch(i){case"data":r[i]===void 0?r[i]=s:r[i]+=`
${s}`;break;case"retry":YTe(s)&&(r[i]=s);break;case"id":$Te(s)&&(r[i]=s);break;case"event":s.length>0&&(r[i]=s);break}}processEvent(e){e.retry&&YTe(e.retry)&&(this.state.reconnectionTime=parseInt(e.retry,10)),e.id&&$Te(e.id)&&(this.state.lastEventId=e.id),e.data!==void 0&&this.push({type:e.event||"message",options:{data:e.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};zTe.exports={EventSourceStream:fX}});var n4e=q((Gjr,r4e)=>{"use strict";u();var{pipeline:Yft}=require("node:stream"),{fetching:$ft}=Aw(),{makeRequest:zft}=Fv(),{webidl:rp}=Da(),{EventSourceStream:jft}=jTe(),{parseMIMEType:Kft}=Ac(),{createFastMessageEvent:Jft}=qv(),{isNetworkError:KTe}=dw(),{delay:Xft}=lX(),{kEnumerableProperty:UE}=dn(),{environmentSettingsObject:JTe}=ol(),XTe=!1,ZTe=3e3,_w=0,e4e=1,Sw=2,Zft="anonymous",edt="use-credentials",$v=class t extends EventTarget{static{o(this,"EventSource")}#e={open:null,error:null,message:null};#t=null;#i=!1;#n=_w;#r=null;#o=null;#s;#a;constructor(e,r={}){super(),rp.util.markAsUncloneable(this);let n="EventSource constructor";rp.argumentLengthCheck(arguments,1,n),XTe||(XTe=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),e=rp.converters.USVString(e,n,"url"),r=rp.converters.EventSourceInitDict(r,n,"eventSourceInitDict"),this.#s=r.dispatcher,this.#a={lastEventId:"",reconnectionTime:ZTe};let i=JTe,s;try{s=new URL(e,i.settingsObject.baseUrl),this.#a.origin=s.origin}catch(l){throw new DOMException(l,"SyntaxError")}this.#t=s.href;let a=Zft;r.withCredentials&&(a=edt,this.#i=!0);let c={redirect:"follow",keepalive:!0,mode:"cors",credentials:a==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};c.client=JTe.settingsObject,c.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],c.cache="no-store",c.initiator="other",c.urlList=[new URL(this.#t)],this.#r=zft(c),this.#c()}get readyState(){return this.#n}get url(){return this.#t}get withCredentials(){return this.#i}#c(){if(this.#n===Sw)return;this.#n=_w;let e={request:this.#r,dispatcher:this.#s},r=o(n=>{KTe(n)&&(this.dispatchEvent(new Event("error")),this.close()),this.#l()},"processEventSourceEndOfBody");e.processResponseEndOfBody=r,e.processResponse=n=>{if(KTe(n))if(n.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#l();return}let i=n.headersList.get("content-type",!0),s=i!==null?Kft(i):"failure",a=s!=="failure"&&s.essence==="text/event-stream";if(n.status!==200||a===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#n=e4e,this.dispatchEvent(new Event("open")),this.#a.origin=n.urlList[n.urlList.length-1].origin;let c=new jft({eventSourceSettings:this.#a,push:o(l=>{this.dispatchEvent(Jft(l.type,l.options))},"push")});Yft(n.body.stream,c,l=>{l?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#o=$ft(e)}async#l(){this.#n!==Sw&&(this.#n=_w,this.dispatchEvent(new Event("error")),await Xft(this.#a.reconnectionTime),this.#n===_w&&(this.#a.lastEventId.length&&this.#r.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#c()))}close(){rp.brandCheck(this,t),this.#n!==Sw&&(this.#n=Sw,this.#o.abort(),this.#r=null)}get onopen(){return this.#e.open}set onopen(e){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(e){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(e){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}},t4e={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:_w,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:e4e,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:Sw,writable:!1}};Object.defineProperties($v,t4e);Object.defineProperties($v.prototype,t4e);Object.defineProperties($v.prototype,{close:UE,onerror:UE,onmessage:UE,onopen:UE,readyState:UE,url:UE,withCredentials:UE});rp.converters.EventSourceInitDict=rp.dictionaryConverter([{key:"withCredentials",converter:rp.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"dispatcher",converter:rp.converters.any}]);r4e.exports={EventSource:$v,defaultReconnectionTime:ZTe}});var a4e=q((Yjr,Cr)=>{"use strict";u();var tdt=JS(),i4e=wS(),rdt=bv(),ndt=fxe(),idt=vv(),odt=FK(),sdt=wxe(),adt=Qxe(),o4e=li(),CF=dn(),{InvalidArgumentError:yF}=o4e,zv=Ebe(),cdt=RS(),ldt=gJ(),udt=tve(),fdt=EJ(),ddt=iJ(),hdt=EP(),{getGlobalDispatcher:s4e,setGlobalDispatcher:Adt}=RP(),pdt=kP(),mdt=cP(),gdt=lP();Object.assign(i4e.prototype,zv);Cr.exports.Dispatcher=i4e;Cr.exports.Client=tdt;Cr.exports.Pool=rdt;Cr.exports.BalancedPool=ndt;Cr.exports.Agent=idt;Cr.exports.ProxyAgent=odt;Cr.exports.EnvHttpProxyAgent=sdt;Cr.exports.RetryAgent=adt;Cr.exports.RetryHandler=hdt;Cr.exports.DecoratorHandler=pdt;Cr.exports.RedirectHandler=mdt;Cr.exports.createRedirectInterceptor=gdt;Cr.exports.interceptors={redirect:cve(),retry:uve(),dump:dve(),dns:pve()};Cr.exports.buildConnector=cdt;Cr.exports.errors=o4e;Cr.exports.util={parseHeaders:CF.parseHeaders,headerNameToString:CF.headerNameToString};function ww(t){return(e,r,n)=>{if(typeof r=="function"&&(n=r,r=null),!e||typeof e!="string"&&typeof e!="object"&&!(e instanceof URL))throw new yF("invalid url");if(r!=null&&typeof r!="object")throw new yF("invalid opts");if(r&&r.path!=null){if(typeof r.path!="string")throw new yF("invalid opts.path");let a=r.path;r.path.startsWith("/")||(a=`/${a}`),e=new URL(CF.parseOrigin(e).origin+a)}else r||(r=typeof e=="object"?e:{}),e=CF.parseURL(e);let{agent:i,dispatcher:s=s4e()}=r;if(i)throw new yF("unsupported opts.agent. Did you mean opts.client?");return t.call(s,{...r,origin:e.origin,path:e.search?`${e.pathname}${e.search}`:e.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}o(ww,"makeDispatcher");Cr.exports.setGlobalDispatcher=Adt;Cr.exports.getGlobalDispatcher=s4e;var ydt=Aw().fetch;Cr.exports.fetch=o(async function(e,r=void 0){try{return await ydt(e,r)}catch(n){throw n&&typeof n=="object"&&Error.captureStackTrace(n),n}},"fetch");Cr.exports.Headers=NE().Headers;Cr.exports.Response=dw().Response;Cr.exports.Request=Fv().Request;Cr.exports.FormData=LS().FormData;Cr.exports.File=globalThis.File??require("node:buffer").File;Cr.exports.FileReader=B5e().FileReader;var{setGlobalOrigin:Cdt,getGlobalOrigin:Edt}=Mj();Cr.exports.setGlobalOrigin=Cdt;Cr.exports.getGlobalOrigin=Edt;var{CacheStorage:Idt}=L5e(),{kConstruct:xdt}=XP();Cr.exports.caches=new Idt(xdt);var{deleteCookie:bdt,getCookies:vdt,getSetCookies:Tdt,setCookie:_dt}=K5e();Cr.exports.deleteCookie=bdt;Cr.exports.getCookies=vdt;Cr.exports.getSetCookies=Tdt;Cr.exports.setCookie=_dt;var{parseMIMEType:Sdt,serializeAMimeType:wdt}=Ac();Cr.exports.parseMIMEType=Sdt;Cr.exports.serializeAMimeType=wdt;var{CloseEvent:Bdt,ErrorEvent:Rdt,MessageEvent:kdt}=qv();Cr.exports.WebSocket=VTe().WebSocket;Cr.exports.CloseEvent=Bdt;Cr.exports.ErrorEvent=Rdt;Cr.exports.MessageEvent=kdt;Cr.exports.request=ww(zv.request);Cr.exports.stream=ww(zv.stream);Cr.exports.pipeline=ww(zv.pipeline);Cr.exports.connect=ww(zv.connect);Cr.exports.upgrade=ww(zv.upgrade);Cr.exports.MockClient=ldt;Cr.exports.MockPool=fdt;Cr.exports.MockAgent=udt;Cr.exports.mockErrors=ddt;var{EventSource:Ddt}=n4e();Cr.exports.EventSource=Ddt});var tn=q((jjr,c4e)=>{u();c4e.exports={options:{usePureJavaScript:!1}}});var f4e=q((Jjr,u4e)=>{u();var dX={};u4e.exports=dX;var l4e={};dX.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=Ndt(t,e);else{var i=0,s=e.length,a=e.charAt(0),c=[0];for(i=0;i<t.length;++i){for(var l=0,f=t[i];l<c.length;++l)f+=c[l]<<8,c[l]=f%s,f=f/s|0;for(;f>0;)c.push(f%s),f=f/s|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=a;for(i=c.length-1;i>=0;--i)n+=e[c[i]]}if(r){var d=new RegExp(".{1,"+r+"}","g");n=n.match(d).join(`\r
`)}return n};dX.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=l4e[e];if(!r){r=l4e[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,s=e.charAt(0),a=[0],n=0;n<t.length;n++){var c=r[t.charCodeAt(n)];if(c===void 0)return;for(var l=0,f=c;l<a.length;++l)f+=a[l]*i,a[l]=f&255,f>>=8;for(;f>0;)a.push(f&255),f>>=8}for(var d=0;t[d]===s&&d<t.length-1;++d)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function Ndt(t,e){var r=0,n=e.length,i=e.charAt(0),s=[0];for(r=0;r<t.length();++r){for(var a=0,c=t.at(r);a<s.length;++a)c+=s[a]<<8,s[a]=c%n,c=c/n|0;for(;c>0;)s.push(c%n),c=c/n|0}var l="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)l+=i;for(r=s.length-1;r>=0;--r)l+=e[s[r]];return l}o(Ndt,"_encodeWithByteBuffer")});var ri=q((eKr,p4e)=>{u();var d4e=tn(),h4e=f4e(),xe=p4e.exports=d4e.util=d4e.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){xe.nextTick=process.nextTick,typeof setImmediate=="function"?xe.setImmediate=setImmediate:xe.setImmediate=xe.nextTick;return}if(typeof setImmediate=="function"){xe.setImmediate=function(){return setImmediate.apply(void 0,arguments)},xe.nextTick=function(c){return setImmediate(c)};return}if(xe.setImmediate=function(c){setTimeout(c,0)},typeof window<"u"&&typeof window.postMessage=="function"){let c=function(l){if(l.source===window&&l.data===t){l.stopPropagation();var f=e.slice();e.length=0,f.forEach(function(d){d()})}};var a=c;o(c,"handler");var t="forge.setImmediate",e=[];xe.setImmediate=function(l){e.push(l),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",c,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var l=e.slice();e.length=0,l.forEach(function(f){f()})}).observe(i,{attributes:!0});var s=xe.setImmediate;xe.setImmediate=function(l){Date.now()-r>15?(r=Date.now(),s(l)):(e.push(l),e.length===1&&i.setAttribute("a",n=!n))}}xe.nextTick=xe.setImmediate})();xe.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;xe.globalScope=function(){return xe.isNodejs?global:typeof self>"u"?window:self}();xe.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};xe.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};xe.isArrayBufferView=function(t){return t&&xe.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function Bw(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}o(Bw,"_checkBitsParam");xe.ByteBuffer=hX;function hX(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(xe.isArrayBuffer(t)||xe.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof hX||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}o(hX,"ByteStringBuffer");xe.ByteStringBuffer=hX;var Qdt=4096;xe.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>Qdt&&(this.data.substr(0,1),this._constructedStringLength=0)};xe.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};xe.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};xe.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};xe.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};xe.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};xe.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(xe.encodeUtf8(t))};xe.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};xe.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};xe.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};xe.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};xe.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};xe.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};xe.ByteStringBuffer.prototype.putInt=function(t,e){Bw(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};xe.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};xe.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};xe.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};xe.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};xe.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};xe.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};xe.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};xe.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};xe.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};xe.ByteStringBuffer.prototype.getInt=function(t){Bw(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};xe.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};xe.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};xe.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};xe.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};xe.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};xe.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};xe.ByteStringBuffer.prototype.copy=function(){var t=xe.createBuffer(this.data);return t.read=this.read,t};xe.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};xe.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};xe.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};xe.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};xe.ByteStringBuffer.prototype.toString=function(){return xe.decodeUtf8(this.bytes())};function Pdt(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=xe.isArrayBuffer(t),n=xe.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}o(Pdt,"DataBuffer");xe.DataBuffer=Pdt;xe.DataBuffer.prototype.length=function(){return this.write-this.read};xe.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};xe.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};xe.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};xe.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};xe.DataBuffer.prototype.putBytes=function(t,e){if(xe.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(xe.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof xe.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&xe.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof xe.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var s;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=xe.binary.hex.decode(t,s,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=xe.binary.base64.decode(t,s,this.write),this;if(e==="utf8"&&(t=xe.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=xe.binary.raw.decode(s),this;if(e==="utf16")return this.accommodate(t.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=xe.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};xe.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};xe.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};xe.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};xe.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};xe.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};xe.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};xe.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};xe.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};xe.DataBuffer.prototype.putInt=function(t,e){Bw(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};xe.DataBuffer.prototype.putSignedInt=function(t,e){return Bw(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};xe.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};xe.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};xe.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};xe.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};xe.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};xe.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};xe.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};xe.DataBuffer.prototype.getInt=function(t){Bw(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};xe.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};xe.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};xe.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};xe.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};xe.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};xe.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};xe.DataBuffer.prototype.copy=function(){return new xe.DataBuffer(this)};xe.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};xe.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};xe.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};xe.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};xe.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return xe.binary.raw.encode(e);if(t==="hex")return xe.binary.hex.encode(e);if(t==="base64")return xe.binary.base64.encode(e);if(t==="utf8")return xe.text.utf8.decode(e);if(t==="utf16")return xe.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};xe.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=xe.encodeUtf8(t)),new xe.ByteBuffer(t)};xe.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};xe.xorBytes=function(t,e,r){for(var n="",i="",s="",a=0,c=0;r>0;--r,++a)i=t.charCodeAt(a)^e.charCodeAt(a),c>=10&&(n+=s,s="",c=0),s+=String.fromCharCode(i),++c;return n+=s,n};xe.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};xe.bytesToHex=function(t){return xe.createBuffer(t).toHex()};xe.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var m1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g1=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],A4e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";xe.encode64=function(t,e){for(var r="",n="",i,s,a,c=0;c<t.length;)i=t.charCodeAt(c++),s=t.charCodeAt(c++),a=t.charCodeAt(c++),r+=m1.charAt(i>>2),r+=m1.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=m1.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":m1.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};xe.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,s,a=0;a<t.length;)r=g1[t.charCodeAt(a++)-43],n=g1[t.charCodeAt(a++)-43],i=g1[t.charCodeAt(a++)-43],s=g1[t.charCodeAt(a++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(e+=String.fromCharCode((i&3)<<6|s)));return e};xe.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};xe.decodeUtf8=function(t){return decodeURIComponent(escape(t))};xe.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:h4e.encode,decode:h4e.decode}};xe.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};xe.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};xe.binary.hex.encode=xe.bytesToHex;xe.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,s=r;for(t.length&1&&(i=1,n[s++]=parseInt(t[0],16));i<t.length;i+=2)n[s++]=parseInt(t.substr(i,2),16);return e?s-r:n};xe.binary.base64.encode=function(t,e){for(var r="",n="",i,s,a,c=0;c<t.byteLength;)i=t[c++],s=t[c++],a=t[c++],r+=m1.charAt(i>>2),r+=m1.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=m1.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":m1.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};xe.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,a,c,l=0,f=r;l<t.length;)i=g1[t.charCodeAt(l++)-43],s=g1[t.charCodeAt(l++)-43],a=g1[t.charCodeAt(l++)-43],c=g1[t.charCodeAt(l++)-43],n[f++]=i<<2|s>>4,a!==64&&(n[f++]=(s&15)<<4|a>>2,c!==64&&(n[f++]=(a&3)<<6|c));return e?f-r:n.subarray(0,f)};xe.binary.base58.encode=function(t,e){return xe.binary.baseN.encode(t,A4e,e)};xe.binary.base58.decode=function(t,e){return xe.binary.baseN.decode(t,A4e,e)};xe.text={utf8:{},utf16:{}};xe.text.utf8.encode=function(t,e,r){t=xe.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};xe.text.utf8.decode=function(t){return xe.decodeUtf8(String.fromCharCode.apply(null,t))};xe.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,a=r,c=0;c<t.length;++c)i[a++]=t.charCodeAt(c),s+=2;return e?s-r:n};xe.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};xe.deflate=function(t,e,r){if(e=xe.decode64(t.deflate(xe.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};xe.inflate=function(t,e,r){var n=t.inflate(xe.encode64(e)).rval;return n===null?null:xe.decode64(n)};var AX=o(function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=xe.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},"_setStorageObject"),pX=o(function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(xe.decode64(r))),r},"_getStorageObject"),Fdt=o(function(t,e,r,n){var i=pX(t,e);i===null&&(i={}),i[r]=n,AX(t,e,i)},"_setItem"),Mdt=o(function(t,e,r){var n=pX(t,e);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),Ldt=o(function(t,e,r){var n=pX(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),AX(t,e,n)}},"_removeItem"),Odt=o(function(t,e){AX(t,e,null)},"_clearItems"),EF=o(function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,s=!1,a=null;for(var c in r){i=r[c];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),s=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),s=!0)}catch(l){a=l}if(s)break}if(!s)throw a;return n},"_callStorageFunction");xe.setItem=function(t,e,r,n,i){EF(Fdt,arguments,i)};xe.getItem=function(t,e,r,n){return EF(Mdt,arguments,n)};xe.removeItem=function(t,e,r,n){EF(Ldt,arguments,n)};xe.clearItems=function(t,e,r){EF(Odt,arguments,r)};xe.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};xe.format=function(t){for(var e=/%./g,r,n,i=0,s=[],a=0;r=e.exec(t);){n=t.substring(a,e.lastIndex-2),n.length>0&&s.push(n),a=e.lastIndex;var c=r[0][1];switch(c){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+c+"?>")}}return s.push(t.substring(a)),s.join("")};xe.formatNumber=function(t,e,r,n){var i=t,s=isNaN(e=Math.abs(e))?2:e,a=r===void 0?",":r,c=n===void 0?".":n,l=i<0?"-":"",f=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",d=f.length>3?f.length%3:0;return l+(d?f.substr(0,d)+c:"")+f.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+c)+(s?a+Math.abs(i-f).toFixed(s).slice(2):"")};xe.formatSize=function(t){return t>=1073741824?t=xe.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=xe.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=xe.formatNumber(t/1024,0)+" KiB":t=xe.formatNumber(t,0)+" bytes",t};xe.bytesFromIP=function(t){return t.indexOf(".")!==-1?xe.bytesFromIPv4(t):t.indexOf(":")!==-1?xe.bytesFromIPv6(t):null};xe.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=xe.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};xe.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(a){return a.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=xe.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=xe.hexToBytes(t[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};xe.bytesToIP=function(t){return t.length===4?xe.bytesToIPv4(t):t.length===16?xe.bytesToIPv6(t):null};xe.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};xe.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var s=xe.bytesToHex(t[i]+t[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var a=r[r.length-1],c=e.length;!a||c!==a.end+1?r.push({start:c,end:c}):(a.end=c,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(s)}if(r.length>0){var l=r[n];l.end-l.start>0&&(e.splice(l.start,l.end-l.start+1,""),l.start===0&&e.unshift(""),l.end===7&&e.push(""))}return e.join(":")};xe.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in xe&&!t.update)return e(null,xe.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return xe.cores=navigator.hardwareConcurrency,e(null,xe.cores);if(typeof Worker>"u")return xe.cores=1,e(null,xe.cores);if(typeof Blob>"u")return xe.cores=2,e(null,xe.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var c=Date.now(),l=c+4;Date.now()<l;);self.postMessage({st:c,et:l})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,c,l){if(c===0){var f=Math.floor(a.reduce(function(d,h){return d+h},0)/a.length);return xe.cores=Math.max(1,f),URL.revokeObjectURL(r),e(null,xe.cores)}i(l,function(d,h){a.push(s(l,h)),n(a,c-1,l)})}o(n,"sample");function i(a,c){for(var l=[],f=[],d=0;d<a;++d){var h=new Worker(r);h.addEventListener("message",function(A){if(f.push(A.data),f.length===a){for(var m=0;m<a;++m)l[m].terminate();c(null,f)}}),l.push(h)}for(var d=0;d<a;++d)l[d].postMessage(d)}o(i,"map");function s(a,c){for(var l=[],f=0;f<a;++f)for(var d=c[f],h=l[f]=[],A=0;A<a;++A)if(f!==A){var m=c[A];(d.st>m.st&&d.st<m.et||m.st>d.st&&m.st<d.et)&&h.push(A)}return l.reduce(function(y,x){return Math.max(y,x.length)},0)}o(s,"reduce")}});var IF=q((nKr,m4e)=>{u();var sa=tn();ri();m4e.exports=sa.cipher=sa.cipher||{};sa.cipher.algorithms=sa.cipher.algorithms||{};sa.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=sa.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new sa.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};sa.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=sa.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new sa.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};sa.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),sa.cipher.algorithms[t]=e};sa.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in sa.cipher.algorithms?sa.cipher.algorithms[t]:null};var mX=sa.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};mX.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=sa.util.createBuffer(),this.output=t.output||sa.util.createBuffer(),this.mode.start(e)};mX.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};mX.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var yX=q((oKr,g4e)=>{u();var aa=tn();ri();aa.cipher=aa.cipher||{};var yn=g4e.exports=aa.cipher.modes=aa.cipher.modes||{};yn.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};yn.ecb.prototype.start=function(t){};yn.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};yn.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};yn.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};yn.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};yn.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};yn.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=xF(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};yn.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};yn.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};yn.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};yn.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};yn.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=aa.util.createBuffer(),this._partialBytes=0};yn.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=xF(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};yn.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};yn.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};yn.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=aa.util.createBuffer(),this._partialBytes=0};yn.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=xF(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};yn.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};yn.ofb.prototype.decrypt=yn.ofb.prototype.encrypt;yn.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=aa.util.createBuffer(),this._partialBytes=0};yn.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=xF(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};yn.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}bF(this._inBlock)};yn.ctr.prototype.decrypt=yn.ctr.prototype.encrypt;yn.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=aa.util.createBuffer(),this._partialBytes=0,this._R=3774873600};yn.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=aa.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=aa.util.createBuffer(t.additionalData):r=aa.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=aa.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(gX(n*8)))}this._inBlock=this._j0.slice(0),bF(this._inBlock),this._partialBytes=0,r=aa.util.createBuffer(r),this._aDataLength=gX(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};yn.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),bF(this._inBlock)};yn.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),bF(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};yn.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=aa.util.createBuffer();var n=this._aDataLength.concat(gX(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};yn.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var s=t[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};yn.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};yn.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,s=this._m[r][i];e[0]^=s[0],e[1]^=s[1],e[2]^=s[2],e[3]^=s[3]}return e};yn.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};yn.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var c=[0,0,0,0],l=a/n|0,f=(n-1-a%n)*e;c[l]=1<<e-1<<f,s[a]=this.generateSubHashTable(this.multiply(c,t),e)}return s};yn.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var c=i[s],l=i[a];i[s+a]=[c[0]^l[0],c[1]^l[1],c[2]^l[2],c[3]^l[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var f=i[s^n];i[s]=[t[0]^f[0],t[1]^f[1],t[2]^f[2],t[3]^f[3]]}return i};function xF(t,e){if(typeof t=="string"&&(t=aa.util.createBuffer(t)),aa.util.isArray(t)&&t.length>4){var r=t;t=aa.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!aa.util.isArray(t)){for(var i=[],s=e/4,n=0;n<s;++n)i.push(t.getInt32());t=i}return t}o(xF,"transformIV");function bF(t){t[t.length-1]=t[t.length-1]+1&4294967295}o(bF,"inc32");function gX(t){return[t/4294967296|0,t&4294967295]}o(gX,"from64To32")});var y1=q((cKr,I4e)=>{u();var Ui=tn();IF();yX();ri();I4e.exports=Ui.aes=Ui.aes||{};Ui.aes.startEncrypting=function(t,e,r,n){var i=vF({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};Ui.aes.createEncryptionCipher=function(t,e){return vF({key:t,output:null,decrypt:!1,mode:e})};Ui.aes.startDecrypting=function(t,e,r,n){var i=vF({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};Ui.aes.createDecryptionCipher=function(t,e){return vF({key:t,output:null,decrypt:!0,mode:e})};Ui.aes.Algorithm=function(t,e){IX||C4e();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:o(function(n,i){return EX(r._w,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return EX(r._w,n,i,!0)},"decrypt")}}),r._init=!1};Ui.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=Ui.util.createBuffer(e);else if(Ui.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=Ui.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!Ui.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!Ui.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=E4e(e,t.decrypt&&!a),this._init=!0}};Ui.aes._expandKey=function(t,e){return IX||C4e(),E4e(t,e)};Ui.aes._updateBlock=EX;Kv("AES-ECB",Ui.cipher.modes.ecb);Kv("AES-CBC",Ui.cipher.modes.cbc);Kv("AES-CFB",Ui.cipher.modes.cfb);Kv("AES-OFB",Ui.cipher.modes.ofb);Kv("AES-CTR",Ui.cipher.modes.ctr);Kv("AES-GCM",Ui.cipher.modes.gcm);function Kv(t,e){var r=o(function(){return new Ui.aes.Algorithm(t,e)},"factory");Ui.cipher.registerAlgorithm(t,r)}o(Kv,"registerAlgorithm");var IX=!1,jv=4,w0,CX,y4e,HE,Df;function C4e(){IX=!0,y4e=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;w0=new Array(256),CX=new Array(256),HE=new Array(4),Df=new Array(4);for(var e=0;e<4;++e)HE[e]=new Array(256),Df[e]=new Array(256);for(var r=0,n=0,i,s,a,c,l,f,d,e=0;e<256;++e){c=n^n<<1^n<<2^n<<3^n<<4,c=c>>8^c&255^99,w0[r]=c,CX[c]=r,l=t[c],i=t[r],s=t[i],a=t[s],f=l<<24^c<<16^c<<8^(c^l),d=(i^s^a)<<24^(r^a)<<16^(r^s^a)<<8^(r^i^a);for(var h=0;h<4;++h)HE[h][r]=f,Df[h][c]=d,f=f<<24|f>>>8,d=d<<24|d>>>8;r===0?r=n=1:(r=i^t[t[t[i^a]]],n^=t[t[n]])}}o(C4e,"initialize");function E4e(t,e){for(var r=t.slice(0),n,i=1,s=r.length,a=s+6+1,c=jv*a,l=s;l<c;++l)n=r[l-1],l%s===0?(n=w0[n>>>16&255]<<24^w0[n>>>8&255]<<16^w0[n&255]<<8^w0[n>>>24]^y4e[i]<<24,i++):s>6&&l%s===4&&(n=w0[n>>>24]<<24^w0[n>>>16&255]<<16^w0[n>>>8&255]<<8^w0[n&255]),r[l]=r[l-s]^n;if(e){var f,d=Df[0],h=Df[1],A=Df[2],m=Df[3],y=r.slice(0);c=r.length;for(var l=0,x=c-jv;l<c;l+=jv,x-=jv)if(l===0||l===c-jv)y[l]=r[x],y[l+1]=r[x+3],y[l+2]=r[x+2],y[l+3]=r[x+1];else for(var _=0;_<jv;++_)f=r[x+_],y[l+(3&-_)]=d[w0[f>>>24]]^h[w0[f>>>16&255]]^A[w0[f>>>8&255]]^m[w0[f&255]];r=y}return r}o(E4e,"_expandKey");function EX(t,e,r,n){var i=t.length/4-1,s,a,c,l,f;n?(s=Df[0],a=Df[1],c=Df[2],l=Df[3],f=CX):(s=HE[0],a=HE[1],c=HE[2],l=HE[3],f=w0);var d,h,A,m,y,x,_;d=e[0]^t[0],h=e[n?3:1]^t[1],A=e[2]^t[2],m=e[n?1:3]^t[3];for(var T=3,S=1;S<i;++S)y=s[d>>>24]^a[h>>>16&255]^c[A>>>8&255]^l[m&255]^t[++T],x=s[h>>>24]^a[A>>>16&255]^c[m>>>8&255]^l[d&255]^t[++T],_=s[A>>>24]^a[m>>>16&255]^c[d>>>8&255]^l[h&255]^t[++T],m=s[m>>>24]^a[d>>>16&255]^c[h>>>8&255]^l[A&255]^t[++T],d=y,h=x,A=_;r[0]=f[d>>>24]<<24^f[h>>>16&255]<<16^f[A>>>8&255]<<8^f[m&255]^t[++T],r[n?3:1]=f[h>>>24]<<24^f[A>>>16&255]<<16^f[m>>>8&255]<<8^f[d&255]^t[++T],r[2]=f[A>>>24]<<24^f[m>>>16&255]<<16^f[d>>>8&255]<<8^f[h&255]^t[++T],r[n?1:3]=f[m>>>24]<<24^f[d>>>16&255]<<16^f[h>>>8&255]<<8^f[A&255]^t[++T]}o(EX,"_updateBlock");function vF(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=Ui.cipher.createDecipher(r,t.key):n=Ui.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,a){var c=null;a instanceof Ui.util.ByteBuffer&&(c=a,a={}),a=a||{},a.output=c,a.iv=s,i.call(n,a)},n}o(vF,"_createCipher")});var C1=q((fKr,x4e)=>{u();var Rw=tn();Rw.pki=Rw.pki||{};var xX=x4e.exports=Rw.pki.oids=Rw.oids=Rw.oids||{};function lt(t,e){xX[t]=e,xX[e]=t}o(lt,"_IN");function pi(t,e){xX[t]=e}o(pi,"_I_");lt("1.2.840.113549.1.1.1","rsaEncryption");lt("1.2.840.113549.1.1.4","md5WithRSAEncryption");lt("1.2.840.113549.1.1.5","sha1WithRSAEncryption");lt("1.2.840.113549.1.1.7","RSAES-OAEP");lt("1.2.840.113549.1.1.8","mgf1");lt("1.2.840.113549.1.1.9","pSpecified");lt("1.2.840.113549.1.1.10","RSASSA-PSS");lt("1.2.840.113549.1.1.11","sha256WithRSAEncryption");lt("1.2.840.113549.1.1.12","sha384WithRSAEncryption");lt("1.2.840.113549.1.1.13","sha512WithRSAEncryption");lt("1.3.101.112","EdDSA25519");lt("1.2.840.10040.4.3","dsa-with-sha1");lt("1.3.14.3.2.7","desCBC");lt("1.3.14.3.2.26","sha1");lt("1.3.14.3.2.29","sha1WithRSASignature");lt("2.16.840.1.101.3.4.2.1","sha256");lt("2.16.840.1.101.3.4.2.2","sha384");lt("2.16.840.1.101.3.4.2.3","sha512");lt("2.16.840.1.101.3.4.2.4","sha224");lt("2.16.840.1.101.3.4.2.5","sha512-224");lt("2.16.840.1.101.3.4.2.6","sha512-256");lt("1.2.840.113549.2.2","md2");lt("1.2.840.113549.2.5","md5");lt("1.2.840.113549.1.7.1","data");lt("1.2.840.113549.1.7.2","signedData");lt("1.2.840.113549.1.7.3","envelopedData");lt("1.2.840.113549.1.7.4","signedAndEnvelopedData");lt("1.2.840.113549.1.7.5","digestedData");lt("1.2.840.113549.1.7.6","encryptedData");lt("1.2.840.113549.1.9.1","emailAddress");lt("1.2.840.113549.1.9.2","unstructuredName");lt("1.2.840.113549.1.9.3","contentType");lt("1.2.840.113549.1.9.4","messageDigest");lt("1.2.840.113549.1.9.5","signingTime");lt("1.2.840.113549.1.9.6","counterSignature");lt("1.2.840.113549.1.9.7","challengePassword");lt("1.2.840.113549.1.9.8","unstructuredAddress");lt("1.2.840.113549.1.9.14","extensionRequest");lt("1.2.840.113549.1.9.20","friendlyName");lt("1.2.840.113549.1.9.21","localKeyId");lt("1.2.840.113549.1.9.22.1","x509Certificate");lt("1.2.840.113549.1.12.10.1.1","keyBag");lt("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");lt("1.2.840.113549.1.12.10.1.3","certBag");lt("1.2.840.113549.1.12.10.1.4","crlBag");lt("1.2.840.113549.1.12.10.1.5","secretBag");lt("1.2.840.113549.1.12.10.1.6","safeContentsBag");lt("1.2.840.113549.1.5.13","pkcs5PBES2");lt("1.2.840.113549.1.5.12","pkcs5PBKDF2");lt("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");lt("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");lt("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");lt("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");lt("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");lt("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");lt("1.2.840.113549.2.7","hmacWithSHA1");lt("1.2.840.113549.2.8","hmacWithSHA224");lt("1.2.840.113549.2.9","hmacWithSHA256");lt("1.2.840.113549.2.10","hmacWithSHA384");lt("1.2.840.113549.2.11","hmacWithSHA512");lt("1.2.840.113549.3.7","des-EDE3-CBC");lt("2.16.840.1.101.3.4.1.2","aes128-CBC");lt("2.16.840.1.101.3.4.1.22","aes192-CBC");lt("2.16.840.1.101.3.4.1.42","aes256-CBC");lt("2.5.4.3","commonName");lt("2.5.4.4","surname");lt("2.5.4.5","serialNumber");lt("2.5.4.6","countryName");lt("2.5.4.7","localityName");lt("2.5.4.8","stateOrProvinceName");lt("2.5.4.9","streetAddress");lt("2.5.4.10","organizationName");lt("2.5.4.11","organizationalUnitName");lt("2.5.4.12","title");lt("2.5.4.13","description");lt("2.5.4.15","businessCategory");lt("2.5.4.17","postalCode");lt("2.5.4.42","givenName");lt("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");lt("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");lt("2.16.840.1.113730.1.1","nsCertType");lt("2.16.840.1.113730.1.13","nsComment");pi("2.5.29.1","authorityKeyIdentifier");pi("2.5.29.2","keyAttributes");pi("2.5.29.3","certificatePolicies");pi("2.5.29.4","keyUsageRestriction");pi("2.5.29.5","policyMapping");pi("2.5.29.6","subtreesConstraint");pi("2.5.29.7","subjectAltName");pi("2.5.29.8","issuerAltName");pi("2.5.29.9","subjectDirectoryAttributes");pi("2.5.29.10","basicConstraints");pi("2.5.29.11","nameConstraints");pi("2.5.29.12","policyConstraints");pi("2.5.29.13","basicConstraints");lt("2.5.29.14","subjectKeyIdentifier");lt("2.5.29.15","keyUsage");pi("2.5.29.16","privateKeyUsagePeriod");lt("2.5.29.17","subjectAltName");lt("2.5.29.18","issuerAltName");lt("2.5.29.19","basicConstraints");pi("2.5.29.20","cRLNumber");pi("2.5.29.21","cRLReason");pi("2.5.29.22","expirationDate");pi("2.5.29.23","instructionCode");pi("2.5.29.24","invalidityDate");pi("2.5.29.25","cRLDistributionPoints");pi("2.5.29.26","issuingDistributionPoint");pi("2.5.29.27","deltaCRLIndicator");pi("2.5.29.28","issuingDistributionPoint");pi("2.5.29.29","certificateIssuer");pi("2.5.29.30","nameConstraints");lt("2.5.29.31","cRLDistributionPoints");lt("2.5.29.32","certificatePolicies");pi("2.5.29.33","policyMappings");pi("2.5.29.34","policyConstraints");lt("2.5.29.35","authorityKeyIdentifier");pi("2.5.29.36","policyConstraints");lt("2.5.29.37","extKeyUsage");pi("2.5.29.46","freshestCRL");pi("2.5.29.54","inhibitAnyPolicy");lt("1.3.6.1.4.1.11129.2.4.2","timestampList");lt("1.3.6.1.5.5.7.1.1","authorityInfoAccess");lt("1.3.6.1.5.5.7.3.1","serverAuth");lt("1.3.6.1.5.5.7.3.2","clientAuth");lt("1.3.6.1.5.5.7.3.3","codeSigning");lt("1.3.6.1.5.5.7.3.4","emailProtection");lt("1.3.6.1.5.5.7.3.8","timeStamping")});var Nf=q((AKr,v4e)=>{u();var eo=tn();ri();C1();var _t=v4e.exports=eo.asn1=eo.asn1||{};_t.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};_t.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};_t.create=function(t,e,r,n,i){if(eo.util.isArray(n)){for(var s=[],a=0;a<n.length;++a)n[a]!==void 0&&s.push(n[a]);n=s}var c={tagClass:t,type:e,constructed:r,composed:r||eo.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(c.bitStringContents=i.bitStringContents,c.original=_t.copy(c)),c};_t.copy=function(t,e){var r;if(eo.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(_t.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:_t.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};_t.equals=function(t,e,r){if(eo.util.isArray(t)){if(!eo.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!_t.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&_t.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};_t.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function kw(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}o(kw,"_checkBufferLength");var Udt=o(function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;kw(t,e,s),n=t.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");_t.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=eo.util.createBuffer(t));var r=t.length(),n=TF(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=t.length(),i}return n};function TF(t,e,r,n){var i;kw(t,e,2);var s=t.getByte();e--;var a=s&192,c=s&31;i=t.length();var l=Udt(t,e);if(e-=i-t.length(),l!==void 0&&l>e){if(n.strict){var f=new Error("Too few bytes to read ASN.1 value.");throw f.available=t.length(),f.remaining=e,f.requested=l,f}l=e}var d,h,A=(s&32)===32;if(A)if(d=[],l===void 0)for(;;){if(kw(t,e,2),t.bytes(2)==="\0\0"){t.getBytes(2),e-=2;break}i=t.length(),d.push(TF(t,e,r+1,n)),e-=i-t.length()}else for(;l>0;)i=t.length(),d.push(TF(t,l,r+1,n)),e-=i-t.length(),l-=i-t.length();if(d===void 0&&a===_t.Class.UNIVERSAL&&c===_t.Type.BITSTRING&&(h=t.bytes(l)),d===void 0&&n.decodeBitStrings&&a===_t.Class.UNIVERSAL&&c===_t.Type.BITSTRING&&l>1){var m=t.read,y=e,x=0;if(c===_t.Type.BITSTRING&&(kw(t,e,1),x=t.getByte(),e--),x===0)try{i=t.length();var _={strict:!0,decodeBitStrings:!0},T=TF(t,e,r+1,_),S=i-t.length();e-=S,c==_t.Type.BITSTRING&&S++;var k=T.tagClass;S===l&&(k===_t.Class.UNIVERSAL||k===_t.Class.CONTEXT_SPECIFIC)&&(d=[T])}catch{}d===void 0&&(t.read=m,e=y)}if(d===void 0){if(l===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");l=e}if(c===_t.Type.BMPSTRING)for(d="";l>0;l-=2)kw(t,e,2),d+=String.fromCharCode(t.getInt16()),e-=2;else d=t.getBytes(l),e-=l}var N=h===void 0?null:{bitStringContents:h};return _t.create(a,c,A,d,N)}o(TF,"_fromDer");_t.toDer=function(t){var e=eo.util.createBuffer(),r=t.tagClass|t.type,n=eo.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=_t.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var s=0;s<t.value.length;++s)t.value[s]!==void 0&&n.putBuffer(_t.toDer(t.value[s]))}else if(t.type===_t.Type.BMPSTRING)for(var s=0;s<t.value.length;++s)n.putInt16(t.value.charCodeAt(s));else t.type===_t.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)===0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var a=n.length(),c="";do c+=String.fromCharCode(a&255),a=a>>>8;while(a>0);e.putByte(c.length|128);for(var s=c.length-1;s>=0;--s)e.putByte(c.charCodeAt(s))}return e.putBuffer(n),e};_t.oidToDer=function(t){var e=t.split("."),r=eo.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,s,a,c=2;c<e.length;++c){n=!0,i=[],s=parseInt(e[c],10);do a=s&127,s=s>>>7,n||(a|=128),i.push(a),n=!1;while(s>0);for(var l=i.length-1;l>=0;--l)r.putByte(i[l])}return r};_t.derToOid=function(t){var e;typeof t=="string"&&(t=eo.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};_t.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),s=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),c=0;if(t.length>11){var l=t.charAt(10),f=10;l!=="+"&&l!=="-"&&(c=parseInt(t.substr(10,2),10),f+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(s,a,c,0),f&&(l=t.charAt(f),l==="+"||l==="-")){var d=parseInt(t.substr(f+1,2),10),h=parseInt(t.substr(f+4,2),10),A=d*60+h;A*=6e4,l==="+"?e.setTime(+e-A):e.setTime(+e+A)}return e};_t.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),a=parseInt(t.substr(10,2),10),c=parseInt(t.substr(12,2),10),l=0,f=0,d=!1;t.charAt(t.length-1)==="Z"&&(d=!0);var h=t.length-5,A=t.charAt(h);if(A==="+"||A==="-"){var m=parseInt(t.substr(h+1,2),10),y=parseInt(t.substr(h+4,2),10);f=m*60+y,f*=6e4,A==="+"&&(f*=-1),d=!0}return t.charAt(14)==="."&&(l=parseFloat(t.substr(14),10)*1e3),d?(e.setUTCFullYear(r,n,i),e.setUTCHours(s,a,c,l),e.setTime(+e+f)):(e.setFullYear(r,n,i),e.setHours(s,a,c,l)),e};_t.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};_t.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};_t.integerToDer=function(t){var e=eo.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};_t.derToInteger=function(t){typeof t=="string"&&(t=eo.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};_t.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(i=!0,e.value&&eo.util.isArray(e.value))for(var s=0,a=0;i&&a<e.value.length;++a)i=e.value[a].optional||!1,t.value[s]&&(i=_t.validate(t.value[s],e.value[a],r,n),i?++s:e.value[a].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var c;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var l=t.bitStringContents.charCodeAt(0);if(l!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var b4e=/[^\\u0000-\\u00ff]/;_t.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",s=0;s<e*r;++s)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case _t.Class.UNIVERSAL:n+="Universal:";break;case _t.Class.APPLICATION:n+="Application:";break;case _t.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case _t.Class.PRIVATE:n+="Private:";break}if(t.tagClass===_t.Class.UNIVERSAL)switch(n+=t.type,t.type){case _t.Type.NONE:n+=" (None)";break;case _t.Type.BOOLEAN:n+=" (Boolean)";break;case _t.Type.INTEGER:n+=" (Integer)";break;case _t.Type.BITSTRING:n+=" (Bit string)";break;case _t.Type.OCTETSTRING:n+=" (Octet string)";break;case _t.Type.NULL:n+=" (Null)";break;case _t.Type.OID:n+=" (Object Identifier)";break;case _t.Type.ODESC:n+=" (Object Descriptor)";break;case _t.Type.EXTERNAL:n+=" (External or Instance of)";break;case _t.Type.REAL:n+=" (Real)";break;case _t.Type.ENUMERATED:n+=" (Enumerated)";break;case _t.Type.EMBEDDED:n+=" (Embedded PDV)";break;case _t.Type.UTF8:n+=" (UTF8)";break;case _t.Type.ROID:n+=" (Relative Object Identifier)";break;case _t.Type.SEQUENCE:n+=" (Sequence)";break;case _t.Type.SET:n+=" (Set)";break;case _t.Type.PRINTABLESTRING:n+=" (Printable String)";break;case _t.Type.IA5String:n+=" (IA5String (ASCII))";break;case _t.Type.UTCTIME:n+=" (UTC time)";break;case _t.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case _t.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var a=0,c="",s=0;s<t.value.length;++s)t.value[s]!==void 0&&(a+=1,c+=_t.prettyPrint(t.value[s],e+1,r),s+1<t.value.length&&(c+=","));n+=i+"Sub values: "+a+c}else{if(n+=i+"Value: ",t.type===_t.Type.OID){var l=_t.derToOid(t.value);n+=l,eo.pki&&eo.pki.oids&&l in eo.pki.oids&&(n+=" ("+eo.pki.oids[l]+") ")}if(t.type===_t.Type.INTEGER)try{n+=_t.derToInteger(t.value)}catch{n+="0x"+eo.util.bytesToHex(t.value)}else if(t.type===_t.Type.BITSTRING){if(t.value.length>1?n+="0x"+eo.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var f=t.value.charCodeAt(0);f==1?n+=" (1 unused bit shown)":f>1&&(n+=" ("+f+" unused bits shown)")}}else if(t.type===_t.Type.OCTETSTRING)b4e.test(t.value)||(n+="("+t.value+") "),n+="0x"+eo.util.bytesToHex(t.value);else if(t.type===_t.Type.UTF8)try{n+=eo.util.decodeUtf8(t.value)}catch(d){if(d.message==="URI malformed")n+="0x"+eo.util.bytesToHex(t.value)+" (malformed UTF8)";else throw d}else t.type===_t.Type.PRINTABLESTRING||t.type===_t.Type.IA5String?n+=t.value:b4e.test(t.value)?n+="0x"+eo.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var fh=q((gKr,T4e)=>{u();var _F=tn();T4e.exports=_F.md=_F.md||{};_F.md.algorithms=_F.md.algorithms||{}});var Jv=q((CKr,_4e)=>{u();var np=tn();fh();ri();var Hdt=_4e.exports=np.hmac=np.hmac||{};Hdt.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(s,a){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in np.md.algorithms)e=np.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else e=s;if(a===null)a=t;else{if(typeof a=="string")a=np.util.createBuffer(a);else if(np.util.isArray(a)){var c=a;a=np.util.createBuffer();for(var l=0;l<c.length;++l)a.putByte(c[l])}var f=a.length();f>e.blockLength&&(e.start(),e.update(a.bytes()),a=e.digest()),r=np.util.createBuffer(),n=np.util.createBuffer(),f=a.length();for(var l=0;l<f;++l){var c=a.at(l);r.putByte(54^c),n.putByte(92^c)}if(f<e.blockLength)for(var c=e.blockLength-f,l=0;l<c;++l)r.putByte(54),n.putByte(92);t=a,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(s){e.update(s)},i.getMac=function(){var s=e.digest().bytes();return e.start(),e.update(n),e.update(s),e.digest()},i.digest=i.getMac,i}});var wF=q((IKr,R4e)=>{u();var dh=tn();fh();ri();var w4e=R4e.exports=dh.md5=dh.md5||{};dh.md.md5=dh.md.algorithms.md5=w4e;w4e.create=function(){B4e||qdt();var t=null,e=dh.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=dh.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=dh.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var c=n.fullMessageLength.length-1;c>=0;--c)n.fullMessageLength[c]+=a[1],a[1]=a[0]+(n.fullMessageLength[c]/4294967296>>>0),n.fullMessageLength[c]=n.fullMessageLength[c]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),S4e(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=dh.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(bX.substr(0,n.blockLength-a));for(var c,l=0,f=n.fullMessageLength.length-1;f>=0;--f)c=n.fullMessageLength[f]*8+l,l=c/4294967296>>>0,i.putInt32Le(c>>>0);var d={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};S4e(d,r,i);var h=dh.util.createBuffer();return h.putInt32Le(d.h0),h.putInt32Le(d.h1),h.putInt32Le(d.h2),h.putInt32Le(d.h3),h},n};var bX=null,SF=null,Dw=null,Xv=null,B4e=!1;function qdt(){bX="\x80",bX+=dh.util.fillString("\0",64),SF=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],Dw=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],Xv=new Array(64);for(var t=0;t<64;++t)Xv[t]=Math.floor(Math.abs(Math.sin(t+1))*4294967296);B4e=!0}o(qdt,"_init");function S4e(t,e,r){for(var n,i,s,a,c,l,f,d,h=r.length();h>=64;){for(i=t.h0,s=t.h1,a=t.h2,c=t.h3,d=0;d<16;++d)e[d]=r.getInt32Le(),l=c^s&(a^c),n=i+l+Xv[d]+e[d],f=Dw[d],i=c,c=a,a=s,s+=n<<f|n>>>32-f;for(;d<32;++d)l=a^c&(s^a),n=i+l+Xv[d]+e[SF[d]],f=Dw[d],i=c,c=a,a=s,s+=n<<f|n>>>32-f;for(;d<48;++d)l=s^a^c,n=i+l+Xv[d]+e[SF[d]],f=Dw[d],i=c,c=a,a=s,s+=n<<f|n>>>32-f;for(;d<64;++d)l=a^(s|~c),n=i+l+Xv[d]+e[SF[d]],f=Dw[d],i=c,c=a,a=s,s+=n<<f|n>>>32-f;t.h0=t.h0+i|0,t.h1=t.h1+s|0,t.h2=t.h2+a|0,t.h3=t.h3+c|0,h-=64}}o(S4e,"_update")});var qE=q((vKr,D4e)=>{u();var RF=tn();ri();var k4e=D4e.exports=RF.pem=RF.pem||{};k4e.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=BF(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=BF(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=BF(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=BF(t.headers[i]);return t.procType&&(r+=`\r
`),r+=RF.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};k4e.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(t),!!s;){var a=s[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var c={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:RF.util.decode64(s[3])};if(e.push(c),!!s[2]){for(var l=s[2].split(i),f=0;s&&f<l.length;){for(var d=l[f].replace(/\s+$/,""),h=f+1;h<l.length;++h){var A=l[h];if(!/\s/.test(A[0]))break;d+=A,f=h}if(s=d.match(n),s){for(var m={name:s[1],values:[]},y=s[2].split(","),x=0;x<y.length;++x)m.values.push(Gdt(y[x]));if(c.procType)if(!c.contentDomain&&m.name==="Content-Domain")c.contentDomain=y[0]||"";else if(!c.dekInfo&&m.name==="DEK-Info"){if(m.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:y[0],parameters:y[1]||null}}else c.headers.push(m);else{if(m.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(m.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:y[0],type:y[1]}}}++f}if(c.procType==="ENCRYPTED"&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function BF(t){for(var e=t.name+": ",r=[],n=o(function(l,f){return" "+f},"insertSpace"),i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var s=0,a=-1,i=0;i<e.length;++i,++s)if(s>65&&a!==-1){var c=e[a];c===","?(++a,e=e.substr(0,a)+`\r
 `+e.substr(a)):e=e.substr(0,a)+`\r
`+c+e.substr(a+1),s=i-a-1,a=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(a=i);return e}o(BF,"foldHeader");function Gdt(t){return t.replace(/^\s+/,"")}o(Gdt,"ltrim")});var Nw=q((SKr,Q4e)=>{u();var Ao=tn();IF();yX();ri();Q4e.exports=Ao.des=Ao.des||{};Ao.des.startEncrypting=function(t,e,r,n){var i=kF({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};Ao.des.createEncryptionCipher=function(t,e){return kF({key:t,output:null,decrypt:!1,mode:e})};Ao.des.startDecrypting=function(t,e,r,n){var i=kF({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};Ao.des.createDecryptionCipher=function(t,e){return kF({key:t,output:null,decrypt:!0,mode:e})};Ao.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:o(function(n,i){return N4e(r._keys,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return N4e(r._keys,n,i,!0)},"decrypt")}}),r._init=!1};Ao.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=Ao.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=Xdt(e),this._init=!0}};hh("DES-ECB",Ao.cipher.modes.ecb);hh("DES-CBC",Ao.cipher.modes.cbc);hh("DES-CFB",Ao.cipher.modes.cfb);hh("DES-OFB",Ao.cipher.modes.ofb);hh("DES-CTR",Ao.cipher.modes.ctr);hh("3DES-ECB",Ao.cipher.modes.ecb);hh("3DES-CBC",Ao.cipher.modes.cbc);hh("3DES-CFB",Ao.cipher.modes.cfb);hh("3DES-OFB",Ao.cipher.modes.ofb);hh("3DES-CTR",Ao.cipher.modes.ctr);function hh(t,e){var r=o(function(){return new Ao.des.Algorithm(t,e)},"factory");Ao.cipher.registerAlgorithm(t,r)}o(hh,"registerAlgorithm");var Vdt=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Wdt=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],Ydt=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],$dt=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],zdt=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],jdt=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Kdt=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Jdt=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function Xdt(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],l=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],A=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],m=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],x=t.length()>8?3:1,_=[],T=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],S=0,k,N=0;N<x;N++){var P=t.getInt32(),L=t.getInt32();k=(P>>>4^L)&252645135,L^=k,P^=k<<4,k=(L>>>-16^P)&65535,P^=k,L^=k<<-16,k=(P>>>2^L)&858993459,L^=k,P^=k<<2,k=(L>>>-16^P)&65535,P^=k,L^=k<<-16,k=(P>>>1^L)&1431655765,L^=k,P^=k<<1,k=(L>>>8^P)&16711935,P^=k,L^=k<<8,k=(P>>>1^L)&1431655765,L^=k,P^=k<<1,k=P<<8|L>>>20&240,P=L<<24|L<<8&16711680|L>>>8&65280|L>>>24&240,L=k;for(var Y=0;Y<T.length;++Y){T[Y]?(P=P<<2|P>>>26,L=L<<2|L>>>26):(P=P<<1|P>>>27,L=L<<1|L>>>27),P&=-15,L&=-15;var te=e[P>>>28]|r[P>>>24&15]|n[P>>>20&15]|i[P>>>16&15]|s[P>>>12&15]|a[P>>>8&15]|c[P>>>4&15],ne=l[L>>>28]|f[L>>>24&15]|d[L>>>20&15]|h[L>>>16&15]|A[L>>>12&15]|m[L>>>8&15]|y[L>>>4&15];k=(ne>>>16^te)&65535,_[S++]=te^k,_[S++]=ne^k<<16}}return _}o(Xdt,"_createKeys");function N4e(t,e,r,n){var i=t.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,c=e[0],l=e[1];a=(c>>>4^l)&252645135,l^=a,c^=a<<4,a=(c>>>16^l)&65535,l^=a,c^=a<<16,a=(l>>>2^c)&858993459,c^=a,l^=a<<2,a=(l>>>8^c)&16711935,c^=a,l^=a<<8,a=(c>>>1^l)&1431655765,l^=a,c^=a<<1,c=c<<1|c>>>31,l=l<<1|l>>>31;for(var f=0;f<i;f+=3){for(var d=s[f+1],h=s[f+2],A=s[f];A!=d;A+=h){var m=l^t[A],y=(l>>>4|l<<28)^t[A+1];a=c,c=l,l=a^(Wdt[m>>>24&63]|$dt[m>>>16&63]|jdt[m>>>8&63]|Jdt[m&63]|Vdt[y>>>24&63]|Ydt[y>>>16&63]|zdt[y>>>8&63]|Kdt[y&63])}a=c,c=l,l=a}c=c>>>1|c<<31,l=l>>>1|l<<31,a=(c>>>1^l)&1431655765,l^=a,c^=a<<1,a=(l>>>8^c)&16711935,c^=a,l^=a<<8,a=(l>>>2^c)&858993459,c^=a,l^=a<<2,a=(c>>>16^l)&65535,l^=a,c^=a<<16,a=(c>>>4^l)&252645135,l^=a,c^=a<<4,r[0]=c,r[1]=l}o(N4e,"_updateBlock");function kF(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=Ao.cipher.createDecipher(r,t.key):n=Ao.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,a){var c=null;a instanceof Ao.util.ByteBuffer&&(c=a,a={}),a=a||{},a.output=c,a.iv=s,i.call(n,a)},n}o(kF,"_createCipher")});var DF=q((RKr,P4e)=>{u();var B0=tn();Jv();fh();ri();var Zdt=B0.pkcs5=B0.pkcs5||{},ip;B0.util.isNodejs&&!B0.options.usePureJavaScript&&(ip=require("crypto"));P4e.exports=B0.pbkdf2=Zdt.pbkdf2=function(t,e,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),B0.util.isNodejs&&!B0.options.usePureJavaScript&&ip.pbkdf2&&(i===null||typeof i!="object")&&(ip.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),s?ip.pbkdf2Sync.length===4?ip.pbkdf2(t,e,r,n,function(k,N){if(k)return s(k);s(null,N.toString("binary"))}):ip.pbkdf2(t,e,r,n,i,function(k,N){if(k)return s(k);s(null,N.toString("binary"))}):ip.pbkdf2Sync.length===4?ip.pbkdf2Sync(t,e,r,n).toString("binary"):ip.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in B0.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=B0.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var c=new Error("Derived key is too long.");if(s)return s(c);throw c}var l=Math.ceil(n/a),f=n-(l-1)*a,d=B0.hmac.create();d.start(i,t);var h="",A,m,y;if(!s){for(var x=1;x<=l;++x){d.start(null,null),d.update(e),d.update(B0.util.int32ToBytes(x)),A=y=d.digest().getBytes();for(var _=2;_<=r;++_)d.start(null,null),d.update(y),m=d.digest().getBytes(),A=B0.util.xorBytes(A,m,a),y=m;h+=x<l?A:A.substr(0,f)}return h}var x=1,_;function T(){if(x>l)return s(null,h);d.start(null,null),d.update(e),d.update(B0.util.int32ToBytes(x)),A=y=d.digest().getBytes(),_=2,S()}o(T,"outer");function S(){if(_<=r)return d.start(null,null),d.update(y),m=d.digest().getBytes(),A=B0.util.xorBytes(A,m,a),y=m,++_,B0.util.setImmediate(S);h+=x<l?A:A.substr(0,f),++x,T()}o(S,"inner"),T()}});var TX=q((NKr,U4e)=>{u();var Ah=tn();fh();ri();var M4e=U4e.exports=Ah.sha256=Ah.sha256||{};Ah.md.sha256=Ah.md.algorithms.sha256=M4e;M4e.create=function(){L4e||eht();var t=null,e=Ah.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=Ah.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Ah.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var c=n.fullMessageLength.length-1;c>=0;--c)n.fullMessageLength[c]+=a[1],a[1]=a[0]+(n.fullMessageLength[c]/4294967296>>>0),n.fullMessageLength[c]=n.fullMessageLength[c]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),F4e(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Ah.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(vX.substr(0,n.blockLength-a));for(var c,l,f=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)c=n.fullMessageLength[d+1]*8,l=c/4294967296>>>0,f+=l,i.putInt32(f>>>0),f=c>>>0;i.putInt32(f);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};F4e(h,r,i);var A=Ah.util.createBuffer();return A.putInt32(h.h0),A.putInt32(h.h1),A.putInt32(h.h2),A.putInt32(h.h3),A.putInt32(h.h4),A.putInt32(h.h5),A.putInt32(h.h6),A.putInt32(h.h7),A},n};var vX=null,L4e=!1,O4e=null;function eht(){vX="\x80",vX+=Ah.util.fillString("\0",64),O4e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],L4e=!0}o(eht,"_init");function F4e(t,e,r){for(var n,i,s,a,c,l,f,d,h,A,m,y,x,_,T,S=r.length();S>=64;){for(f=0;f<16;++f)e[f]=r.getInt32();for(;f<64;++f)n=e[f-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[f-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[f]=n+e[f-7]+i+e[f-16]|0;for(d=t.h0,h=t.h1,A=t.h2,m=t.h3,y=t.h4,x=t.h5,_=t.h6,T=t.h7,f=0;f<64;++f)a=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),c=_^y&(x^_),s=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),l=d&h|A&(d^h),n=T+a+c+O4e[f]+e[f],i=s+l,T=_,_=x,x=y,y=m+n>>>0,m=A,A=h,h=d,d=n+i>>>0;t.h0=t.h0+d|0,t.h1=t.h1+h|0,t.h2=t.h2+A|0,t.h3=t.h3+m|0,t.h4=t.h4+y|0,t.h5=t.h5+x|0,t.h6=t.h6+_|0,t.h7=t.h7+T|0,S-=64}}o(F4e,"_update")});var _X=q((FKr,H4e)=>{u();var ph=tn();ri();var NF=null;ph.util.isNodejs&&!ph.options.usePureJavaScript&&!process.versions["node-webkit"]&&(NF=require("crypto"));var tht=H4e.exports=ph.prng=ph.prng||{};tht.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(f,d){if(!d)return e.generateSync(f);var h=e.plugin.cipher,A=e.plugin.increment,m=e.plugin.formatKey,y=e.plugin.formatSeed,x=ph.util.createBuffer();e.key=null,_();function _(T){if(T)return d(T);if(x.length()>=f)return d(null,x.getBytes(f));if(e.generated>1048575&&(e.key=null),e.key===null)return ph.util.nextTick(function(){s(_)});var S=h(e.key,e.seed);e.generated+=S.length,x.putBytes(S),e.key=m(h(e.key,A(e.seed))),e.seed=y(h(e.key,e.seed)),ph.util.setImmediate(_)}o(_,"generate")},e.generateSync=function(f){var d=e.plugin.cipher,h=e.plugin.increment,A=e.plugin.formatKey,m=e.plugin.formatSeed;e.key=null;for(var y=ph.util.createBuffer();y.length()<f;){e.generated>1048575&&(e.key=null),e.key===null&&a();var x=d(e.key,e.seed);e.generated+=x.length,y.putBytes(x),e.key=A(d(e.key,h(e.seed))),e.seed=m(d(e.key,e.seed))}return y.getBytes(f)};function s(f){if(e.pools[0].messageLength>=32)return c(),f();var d=32-e.pools[0].messageLength<<5;e.seedFile(d,function(h,A){if(h)return f(h);e.collect(A),c(),f()})}o(s,"_reseed");function a(){if(e.pools[0].messageLength>=32)return c();var f=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(f)),c()}o(a,"_reseedSync");function c(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var f=e.plugin.md.create();f.update(e.keyBytes);for(var d=1,h=0;h<32;++h)e.reseeds%d===0&&(f.update(e.pools[h].digest().getBytes()),e.pools[h].start()),d=d<<1;e.keyBytes=f.digest().getBytes(),f.start(),f.update(e.keyBytes);var A=f.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(A),e.generated=0}o(c,"_seed");function l(f){var d=null,h=ph.util.globalScope,A=h.crypto||h.msCrypto;A&&A.getRandomValues&&(d=o(function(P){return A.getRandomValues(P)},"getRandomValues"));var m=ph.util.createBuffer();if(d)for(;m.length()<f;){var y=Math.max(1,Math.min(f-m.length(),65536)/4),x=new Uint32Array(Math.floor(y));try{d(x);for(var _=0;_<x.length;++_)m.putInt32(x[_])}catch(P){if(!(typeof QuotaExceededError<"u"&&P instanceof QuotaExceededError))throw P}}if(m.length()<f)for(var T,S,k,N=Math.floor(Math.random()*65536);m.length()<f;){S=16807*(N&65535),T=16807*(N>>16),S+=(T&32767)<<16,S+=T>>15,S=(S&2147483647)+(S>>31),N=S&4294967295;for(var _=0;_<3;++_)k=N>>>(_<<3),k^=Math.floor(Math.random()*256),m.putByte(k&255)}return m.getBytes(f)}return o(l,"defaultSeedFile"),NF?(e.seedFile=function(f,d){NF.randomBytes(f,function(h,A){if(h)return d(h);d(null,A.toString())})},e.seedFileSync=function(f){return NF.randomBytes(f).toString()}):(e.seedFile=function(f,d){try{d(null,l(f))}catch(h){d(h)}},e.seedFileSync=l),e.collect=function(f){for(var d=f.length,h=0;h<d;++h)e.pools[e.pool].update(f.substr(h,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(f,d){for(var h="",A=0;A<d;A+=8)h+=String.fromCharCode(f>>A&255);e.collect(h)},e.registerWorker=function(f){if(f===self)e.seedFile=function(h,A){function m(y){var x=y.data;x.forge&&x.forge.prng&&(self.removeEventListener("message",m),A(x.forge.prng.err,x.forge.prng.bytes))}o(m,"listener"),self.addEventListener("message",m),self.postMessage({forge:{prng:{needed:h}}})};else{var d=o(function(h){var A=h.data;A.forge&&A.forge.prng&&e.seedFile(A.forge.prng.needed,function(m,y){f.postMessage({forge:{prng:{err:m,bytes:y}}})})},"listener");f.addEventListener("message",d)}},e}});var Au=q((OKr,SX)=>{u();var ca=tn();y1();TX();_X();ri();(function(){if(ca.random&&ca.random.getBytes){SX.exports=ca.random;return}(function(t){var e={},r=new Array(4),n=ca.util.createBuffer();e.formatKey=function(h){var A=ca.util.createBuffer(h);return h=new Array(4),h[0]=A.getInt32(),h[1]=A.getInt32(),h[2]=A.getInt32(),h[3]=A.getInt32(),ca.aes._expandKey(h,!1)},e.formatSeed=function(h){var A=ca.util.createBuffer(h);return h=new Array(4),h[0]=A.getInt32(),h[1]=A.getInt32(),h[2]=A.getInt32(),h[3]=A.getInt32(),h},e.cipher=function(h,A){return ca.aes._updateBlock(h,A,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(h){return++h[3],h},e.md=ca.md.sha256;function i(){var h=ca.prng.create(e);return h.getBytes=function(A,m){return h.generate(A,m)},h.getBytesSync=function(A){return h.generate(A)},h}o(i,"spawnPrng");var s=i(),a=null,c=ca.util.globalScope,l=c.crypto||c.msCrypto;if(l&&l.getRandomValues&&(a=o(function(h){return l.getRandomValues(h)},"getRandomValues")),ca.options.usePureJavaScript||!ca.util.isNodejs&&!a){if(typeof window>"u"||window.document,s.collectInt(+new Date,32),typeof navigator<"u"){var f="";for(var d in navigator)try{typeof navigator[d]=="string"&&(f+=navigator[d])}catch{}s.collect(f),f=null}t&&(t().mousemove(function(h){s.collectInt(h.clientX,16),s.collectInt(h.clientY,16)}),t().keypress(function(h){s.collectInt(h.charCode,8)}))}if(!ca.random)ca.random=s;else for(var d in s)ca.random[d]=s[d];ca.random.createInstance=i,SX.exports=ca.random})(typeof jQuery<"u"?jQuery:null)})()});var BX=q((qKr,V4e)=>{u();var Ec=tn();ri();var wX=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],q4e=[1,2,3,5],rht=o(function(t,e){return t<<e&65535|(t&65535)>>16-e},"rol"),nht=o(function(t,e){return(t&65535)>>e|t<<16-e&65535},"ror");V4e.exports=Ec.rc2=Ec.rc2||{};Ec.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Ec.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,s=Math.ceil(i/8),a=255>>(i&7),c;for(c=n;c<128;c++)r.putByte(wX[r.at(c-1)+r.at(c-n)&255]);for(r.setAt(128-s,wX[r.at(128-s)&a]),c=127-s;c>=0;c--)r.setAt(c,wX[r.at(c+1)^r.at(c+s)]);return r};var G4e=o(function(t,e,r){var n=!1,i=null,s=null,a=null,c,l,f,d,h=[];for(t=Ec.rc2.expandKey(t,e),f=0;f<64;f++)h.push(t.getInt16Le());r?(c=o(function(y){for(f=0;f<4;f++)y[f]+=h[d]+(y[(f+3)%4]&y[(f+2)%4])+(~y[(f+3)%4]&y[(f+1)%4]),y[f]=rht(y[f],q4e[f]),d++},"mixRound"),l=o(function(y){for(f=0;f<4;f++)y[f]+=h[y[(f+3)%4]&63]},"mashRound")):(c=o(function(y){for(f=3;f>=0;f--)y[f]=nht(y[f],q4e[f]),y[f]-=h[d]+(y[(f+3)%4]&y[(f+2)%4])+(~y[(f+3)%4]&y[(f+1)%4]),d--},"mixRound"),l=o(function(y){for(f=3;f>=0;f--)y[f]-=h[y[(f+3)%4]&63]},"mashRound"));var A=o(function(y){var x=[];for(f=0;f<4;f++){var _=i.getInt16Le();a!==null&&(r?_^=a.getInt16Le():a.putInt16Le(_)),x.push(_&65535)}d=r?0:63;for(var T=0;T<y.length;T++)for(var S=0;S<y[T][0];S++)y[T][1](x);for(f=0;f<4;f++)a!==null&&(r?a.putInt16Le(x[f]):x[f]^=a.getInt16Le()),s.putInt16Le(x[f])},"runPlan"),m=null;return m={start:o(function(y,x){y&&typeof y=="string"&&(y=Ec.util.createBuffer(y)),n=!1,i=Ec.util.createBuffer(),s=x||new Ec.util.createBuffer,a=y,m.output=s},"start"),update:o(function(y){for(n||i.putBuffer(y);i.length()>=8;)A([[5,c],[1,l],[6,c],[1,l],[5,c]])},"update"),finish:o(function(y){var x=!0;if(r)if(y)x=y(8,i,!r);else{var _=i.length()===8?8:8-i.length();i.fillWithByte(_,_)}if(x&&(n=!0,m.update()),!r&&(x=i.length()===0,x))if(y)x=y(8,s,!r);else{var T=s.length(),S=s.at(T-1);S>T?x=!1:s.truncate(S)}return x},"finish")},m},"createCipher");Ec.rc2.startEncrypting=function(t,e,r){var n=Ec.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Ec.rc2.createEncryptionCipher=function(t,e){return G4e(t,e,!0)};Ec.rc2.startDecrypting=function(t,e,r){var n=Ec.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Ec.rc2.createDecryptionCipher=function(t,e){return G4e(t,e,!1)}});var Pw=q((WKr,X4e)=>{u();var RX=tn();X4e.exports=RX.jsbn=RX.jsbn||{};var op,iht=0xdeadbeefcafe,W4e=(iht&16777215)==15715070;function nt(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}o(nt,"BigInteger");RX.jsbn.BigInteger=nt;function ni(){return new nt(null)}o(ni,"nbi");function oht(t,e,r,n,i,s){for(;--s>=0;){var a=e*this.data[t++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}o(oht,"am1");function sht(t,e,r,n,i,s){for(var a=e&32767,c=e>>15;--s>=0;){var l=this.data[t]&32767,f=this.data[t++]>>15,d=c*l+f*a;l=a*l+((d&32767)<<15)+r.data[n]+(i&1073741823),i=(l>>>30)+(d>>>15)+c*f+(i>>>30),r.data[n++]=l&1073741823}return i}o(sht,"am2");function Y4e(t,e,r,n,i,s){for(var a=e&16383,c=e>>14;--s>=0;){var l=this.data[t]&16383,f=this.data[t++]>>14,d=c*l+f*a;l=a*l+((d&16383)<<14)+r.data[n]+i,i=(l>>28)+(d>>14)+c*f,r.data[n++]=l&268435455}return i}o(Y4e,"am3");typeof navigator>"u"?(nt.prototype.am=Y4e,op=28):W4e&&navigator.appName=="Microsoft Internet Explorer"?(nt.prototype.am=sht,op=30):W4e&&navigator.appName!="Netscape"?(nt.prototype.am=oht,op=26):(nt.prototype.am=Y4e,op=28);nt.prototype.DB=op;nt.prototype.DM=(1<<op)-1;nt.prototype.DV=1<<op;var kX=52;nt.prototype.FV=Math.pow(2,kX);nt.prototype.F1=kX-op;nt.prototype.F2=2*op-kX;var aht="0123456789abcdefghijklmnopqrstuvwxyz",QF=new Array,Zv,pu;Zv=48;for(pu=0;pu<=9;++pu)QF[Zv++]=pu;Zv=97;for(pu=10;pu<36;++pu)QF[Zv++]=pu;Zv=65;for(pu=10;pu<36;++pu)QF[Zv++]=pu;function $4e(t){return aht.charAt(t)}o($4e,"int2char");function z4e(t,e){var r=QF[t.charCodeAt(e)];return r??-1}o(z4e,"intAt");function cht(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}o(cht,"bnpCopyTo");function lht(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}o(lht,"bnpFromInt");function E1(t){var e=ni();return e.fromInt(t),e}o(E1,"nbv");function uht(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,s=0;--n>=0;){var a=r==8?t[n]&255:z4e(t,n);if(a<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&nt.ZERO.subTo(this,this)}o(uht,"bnpFromString");function fht(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}o(fht,"bnpClamp");function dht(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,s="",a=this.t,c=this.DB-a*this.DB%e;if(a-- >0)for(c<this.DB&&(n=this.data[a]>>c)>0&&(i=!0,s=$4e(n));a>=0;)c<e?(n=(this.data[a]&(1<<c)-1)<<e-c,n|=this.data[--a]>>(c+=this.DB-e)):(n=this.data[a]>>(c-=e)&r,c<=0&&(c+=this.DB,--a)),n>0&&(i=!0),i&&(s+=$4e(n));return i?s:"0"}o(dht,"bnToString");function hht(){var t=ni();return nt.ZERO.subTo(this,t),t}o(hht,"bnNegate");function Aht(){return this.s<0?this.negate():this}o(Aht,"bnAbs");function pht(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}o(pht,"bnCompareTo");function PF(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}o(PF,"nbits");function mht(){return this.t<=0?0:this.DB*(this.t-1)+PF(this.data[this.t-1]^this.s&this.DM)}o(mht,"bnBitLength");function ght(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}o(ght,"bnpDLShiftTo");function yht(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}o(yht,"bnpDRShiftTo");function Cht(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM,c;for(c=this.t-1;c>=0;--c)e.data[c+s+1]=this.data[c]>>n|a,a=(this.data[c]&i)<<r;for(c=s-1;c>=0;--c)e.data[c]=0;e.data[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()}o(Cht,"bnpLShiftTo");function Eht(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,s=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)e.data[a-r-1]|=(this.data[a]&s)<<i,e.data[a-r]=this.data[a]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&s)<<i),e.t=this.t-r,e.clamp()}o(Eht,"bnpRShiftTo");function Iht(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}o(Iht,"bnpSubTo");function xht(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&nt.ZERO.subTo(e,e)}o(xht,"bnpMultiplyTo");function bht(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}o(bht,"bnpSquareTo");function vht(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=ni());var s=ni(),a=this.s,c=t.s,l=this.DB-PF(n.data[n.t-1]);l>0?(n.lShiftTo(l,s),i.lShiftTo(l,r)):(n.copyTo(s),i.copyTo(r));var f=s.t,d=s.data[f-1];if(d!=0){var h=d*(1<<this.F1)+(f>1?s.data[f-2]>>this.F2:0),A=this.FV/h,m=(1<<this.F1)/h,y=1<<this.F2,x=r.t,_=x-f,T=e??ni();for(s.dlShiftTo(_,T),r.compareTo(T)>=0&&(r.data[r.t++]=1,r.subTo(T,r)),nt.ONE.dlShiftTo(f,T),T.subTo(s,s);s.t<f;)s.data[s.t++]=0;for(;--_>=0;){var S=r.data[--x]==d?this.DM:Math.floor(r.data[x]*A+(r.data[x-1]+y)*m);if((r.data[x]+=s.am(0,S,r,_,0,f))<S)for(s.dlShiftTo(_,T),r.subTo(T,r);r.data[x]<--S;)r.subTo(T,r)}e!=null&&(r.drShiftTo(f,e),a!=c&&nt.ZERO.subTo(e,e)),r.t=f,r.clamp(),l>0&&r.rShiftTo(l,r),a<0&&nt.ZERO.subTo(r,r)}}}o(vht,"bnpDivRemTo");function Tht(t){var e=ni();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(nt.ZERO)>0&&t.subTo(e,e),e}o(Tht,"bnMod");function GE(t){this.m=t}o(GE,"Classic");function _ht(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}o(_ht,"cConvert");function Sht(t){return t}o(Sht,"cRevert");function wht(t){t.divRemTo(this.m,null,t)}o(wht,"cReduce");function Bht(t,e,r){t.multiplyTo(e,r),this.reduce(r)}o(Bht,"cMulTo");function Rht(t,e){t.squareTo(e),this.reduce(e)}o(Rht,"cSqrTo");GE.prototype.convert=_ht;GE.prototype.revert=Sht;GE.prototype.reduce=wht;GE.prototype.mulTo=Bht;GE.prototype.sqrTo=Rht;function kht(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}o(kht,"bnpInvDigit");function VE(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}o(VE,"Montgomery");function Dht(t){var e=ni();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(nt.ZERO)>0&&this.m.subTo(e,e),e}o(Dht,"montConvert");function Nht(t){var e=ni();return t.copyTo(e),this.reduce(e),e}o(Nht,"montRevert");function Qht(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}o(Qht,"montReduce");function Pht(t,e){t.squareTo(e),this.reduce(e)}o(Pht,"montSqrTo");function Fht(t,e,r){t.multiplyTo(e,r),this.reduce(r)}o(Fht,"montMulTo");VE.prototype.convert=Dht;VE.prototype.revert=Nht;VE.prototype.reduce=Qht;VE.prototype.mulTo=Fht;VE.prototype.sqrTo=Pht;function Mht(){return(this.t>0?this.data[0]&1:this.s)==0}o(Mht,"bnpIsEven");function Lht(t,e){if(t>4294967295||t<1)return nt.ONE;var r=ni(),n=ni(),i=e.convert(this),s=PF(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var a=r;r=n,n=a}return e.revert(r)}o(Lht,"bnpExp");function Oht(t,e){var r;return t<256||e.isEven()?r=new GE(e):r=new VE(e),this.exp(t,r)}o(Oht,"bnModPowInt");nt.prototype.copyTo=cht;nt.prototype.fromInt=lht;nt.prototype.fromString=uht;nt.prototype.clamp=fht;nt.prototype.dlShiftTo=ght;nt.prototype.drShiftTo=yht;nt.prototype.lShiftTo=Cht;nt.prototype.rShiftTo=Eht;nt.prototype.subTo=Iht;nt.prototype.multiplyTo=xht;nt.prototype.squareTo=bht;nt.prototype.divRemTo=vht;nt.prototype.invDigit=kht;nt.prototype.isEven=Mht;nt.prototype.exp=Lht;nt.prototype.toString=dht;nt.prototype.negate=hht;nt.prototype.abs=Aht;nt.prototype.compareTo=pht;nt.prototype.bitLength=mht;nt.prototype.mod=Tht;nt.prototype.modPowInt=Oht;nt.ZERO=E1(0);nt.ONE=E1(1);function Uht(){var t=ni();return this.copyTo(t),t}o(Uht,"bnClone");function Hht(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}o(Hht,"bnIntValue");function qht(){return this.t==0?this.s:this.data[0]<<24>>24}o(qht,"bnByteValue");function Ght(){return this.t==0?this.s:this.data[0]<<16>>16}o(Ght,"bnShortValue");function Vht(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}o(Vht,"bnpChunkSize");function Wht(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}o(Wht,"bnSigNum");function Yht(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=E1(r),i=ni(),s=ni(),a="";for(this.divRemTo(n,i,s);i.signum()>0;)a=(r+s.intValue()).toString(t).substr(1)+a,i.divRemTo(n,i,s);return s.intValue().toString(t)+a}o(Yht,"bnpToRadix");function $ht(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,s=0,a=0,c=0;c<t.length;++c){var l=z4e(t,c);if(l<0){t.charAt(c)=="-"&&this.signum()==0&&(i=!0);continue}a=e*a+l,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0)}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),i&&nt.ZERO.subTo(this,this)}o($ht,"bnpFromRadix");function zht(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(nt.ONE.shiftLeft(t-1),DX,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(nt.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}o(zht,"bnpFromNumber");function jht(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}o(jht,"bnToByteArray");function Kht(t){return this.compareTo(t)==0}o(Kht,"bnEquals");function Jht(t){return this.compareTo(t)<0?this:t}o(Jht,"bnMin");function Xht(t){return this.compareTo(t)>0?this:t}o(Xht,"bnMax");function Zht(t,e,r){var n,i,s=Math.min(t.t,this.t);for(n=0;n<s;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=s;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}o(Zht,"bnpBitwiseTo");function eAt(t,e){return t&e}o(eAt,"op_and");function tAt(t){var e=ni();return this.bitwiseTo(t,eAt,e),e}o(tAt,"bnAnd");function DX(t,e){return t|e}o(DX,"op_or");function rAt(t){var e=ni();return this.bitwiseTo(t,DX,e),e}o(rAt,"bnOr");function j4e(t,e){return t^e}o(j4e,"op_xor");function nAt(t){var e=ni();return this.bitwiseTo(t,j4e,e),e}o(nAt,"bnXor");function K4e(t,e){return t&~e}o(K4e,"op_andnot");function iAt(t){var e=ni();return this.bitwiseTo(t,K4e,e),e}o(iAt,"bnAndNot");function oAt(){for(var t=ni(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}o(oAt,"bnNot");function sAt(t){var e=ni();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}o(sAt,"bnShiftLeft");function aAt(t){var e=ni();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}o(aAt,"bnShiftRight");function cAt(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}o(cAt,"lbit");function lAt(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+cAt(this.data[t]);return this.s<0?this.t*this.DB:-1}o(lAt,"bnGetLowestSetBit");function uAt(t){for(var e=0;t!=0;)t&=t-1,++e;return e}o(uAt,"cbit");function fAt(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=uAt(this.data[r]^e);return t}o(fAt,"bnBitCount");function dAt(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}o(dAt,"bnTestBit");function hAt(t,e){var r=nt.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}o(hAt,"bnpChangeBit");function AAt(t){return this.changeBit(t,DX)}o(AAt,"bnSetBit");function pAt(t){return this.changeBit(t,K4e)}o(pAt,"bnClearBit");function mAt(t){return this.changeBit(t,j4e)}o(mAt,"bnFlipBit");function gAt(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}o(gAt,"bnpAddTo");function yAt(t){var e=ni();return this.addTo(t,e),e}o(yAt,"bnAdd");function CAt(t){var e=ni();return this.subTo(t,e),e}o(CAt,"bnSubtract");function EAt(t){var e=ni();return this.multiplyTo(t,e),e}o(EAt,"bnMultiply");function IAt(t){var e=ni();return this.divRemTo(t,e,null),e}o(IAt,"bnDivide");function xAt(t){var e=ni();return this.divRemTo(t,null,e),e}o(xAt,"bnRemainder");function bAt(t){var e=ni(),r=ni();return this.divRemTo(t,e,r),new Array(e,r)}o(bAt,"bnDivideAndRemainder");function vAt(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}o(vAt,"bnpDMultiply");function TAt(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}o(TAt,"bnpDAddOffset");function Qw(){}o(Qw,"NullExp");function J4e(t){return t}o(J4e,"nNop");function _At(t,e,r){t.multiplyTo(e,r)}o(_At,"nMulTo");function SAt(t,e){t.squareTo(e)}o(SAt,"nSqrTo");Qw.prototype.convert=J4e;Qw.prototype.revert=J4e;Qw.prototype.mulTo=_At;Qw.prototype.sqrTo=SAt;function wAt(t){return this.exp(t,new Qw)}o(wAt,"bnPow");function BAt(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}o(BAt,"bnpMultiplyLowerTo");function RAt(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}o(RAt,"bnpMultiplyUpperTo");function e5(t){this.r2=ni(),this.q3=ni(),nt.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}o(e5,"Barrett");function kAt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=ni();return t.copyTo(e),this.reduce(e),e}o(kAt,"barrettConvert");function DAt(t){return t}o(DAt,"barrettRevert");function NAt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}o(NAt,"barrettReduce");function QAt(t,e){t.squareTo(e),this.reduce(e)}o(QAt,"barrettSqrTo");function PAt(t,e,r){t.multiplyTo(e,r),this.reduce(r)}o(PAt,"barrettMulTo");e5.prototype.convert=kAt;e5.prototype.revert=DAt;e5.prototype.reduce=NAt;e5.prototype.mulTo=PAt;e5.prototype.sqrTo=QAt;function FAt(t,e){var r=t.bitLength(),n,i=E1(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new GE(e):e.isEven()?s=new e5(e):s=new VE(e);var a=new Array,c=3,l=n-1,f=(1<<n)-1;if(a[1]=s.convert(this),n>1){var d=ni();for(s.sqrTo(a[1],d);c<=f;)a[c]=ni(),s.mulTo(d,a[c-2],a[c]),c+=2}var h=t.t-1,A,m=!0,y=ni(),x;for(r=PF(t.data[h])-1;h>=0;){for(r>=l?A=t.data[h]>>r-l&f:(A=(t.data[h]&(1<<r+1)-1)<<l-r,h>0&&(A|=t.data[h-1]>>this.DB+r-l)),c=n;(A&1)==0;)A>>=1,--c;if((r-=c)<0&&(r+=this.DB,--h),m)a[A].copyTo(i),m=!1;else{for(;c>1;)s.sqrTo(i,y),s.sqrTo(y,i),c-=2;c>0?s.sqrTo(i,y):(x=i,i=y,y=x),s.mulTo(y,a[A],i)}for(;h>=0&&(t.data[h]&1<<r)==0;)s.sqrTo(i,y),x=i,i=y,y=x,--r<0&&(r=this.DB-1,--h)}return s.revert(i)}o(FAt,"bnModPow");function MAt(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}o(MAt,"bnGCD");function LAt(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}o(LAt,"bnpModInt");function OAt(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return nt.ZERO;for(var r=t.clone(),n=this.clone(),i=E1(1),s=E1(0),a=E1(0),c=E1(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?((!a.isEven()||!c.isEven())&&(a.addTo(this,a),c.subTo(t,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(a,i),s.subTo(c,s)):(n.subTo(r,n),e&&a.subTo(i,a),c.subTo(s,c))}if(n.compareTo(nt.ONE)!=0)return nt.ZERO;if(c.compareTo(t)>=0)return c.subtract(t);if(c.signum()<0)c.addTo(t,c);else return c;return c.signum()<0?c.add(t):c}o(OAt,"bnModInverse");var Qf=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],UAt=(1<<26)/Qf[Qf.length-1];function HAt(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=Qf[Qf.length-1]){for(e=0;e<Qf.length;++e)if(r.data[0]==Qf[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<Qf.length;){for(var n=Qf[e],i=e+1;i<Qf.length&&n<UAt;)n*=Qf[i++];for(n=r.modInt(n);e<i;)if(n%Qf[e++]==0)return!1}return r.millerRabin(t)}o(HAt,"bnIsProbablePrime");function qAt(t){var e=this.subtract(nt.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=GAt(),s,a=0;a<t;++a){do s=new nt(this.bitLength(),i);while(s.compareTo(nt.ONE)<=0||s.compareTo(e)>=0);var c=s.modPow(n,this);if(c.compareTo(nt.ONE)!=0&&c.compareTo(e)!=0){for(var l=1;l++<r&&c.compareTo(e)!=0;)if(c=c.modPowInt(2,this),c.compareTo(nt.ONE)==0)return!1;if(c.compareTo(e)!=0)return!1}}return!0}o(qAt,"bnpMillerRabin");function GAt(){return{nextBytes:o(function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)},"nextBytes")}}o(GAt,"bnGetPrng");nt.prototype.chunkSize=Vht;nt.prototype.toRadix=Yht;nt.prototype.fromRadix=$ht;nt.prototype.fromNumber=zht;nt.prototype.bitwiseTo=Zht;nt.prototype.changeBit=hAt;nt.prototype.addTo=gAt;nt.prototype.dMultiply=vAt;nt.prototype.dAddOffset=TAt;nt.prototype.multiplyLowerTo=BAt;nt.prototype.multiplyUpperTo=RAt;nt.prototype.modInt=LAt;nt.prototype.millerRabin=qAt;nt.prototype.clone=Uht;nt.prototype.intValue=Hht;nt.prototype.byteValue=qht;nt.prototype.shortValue=Ght;nt.prototype.signum=Wht;nt.prototype.toByteArray=jht;nt.prototype.equals=Kht;nt.prototype.min=Jht;nt.prototype.max=Xht;nt.prototype.and=tAt;nt.prototype.or=rAt;nt.prototype.xor=nAt;nt.prototype.andNot=iAt;nt.prototype.not=oAt;nt.prototype.shiftLeft=sAt;nt.prototype.shiftRight=aAt;nt.prototype.getLowestSetBit=lAt;nt.prototype.bitCount=fAt;nt.prototype.testBit=dAt;nt.prototype.setBit=AAt;nt.prototype.clearBit=pAt;nt.prototype.flipBit=mAt;nt.prototype.add=yAt;nt.prototype.subtract=CAt;nt.prototype.multiply=EAt;nt.prototype.divide=IAt;nt.prototype.remainder=xAt;nt.prototype.divideAndRemainder=bAt;nt.prototype.modPow=FAt;nt.prototype.modInverse=OAt;nt.prototype.pow=wAt;nt.prototype.gcd=MAt;nt.prototype.isProbablePrime=HAt});var t5=q((zKr,r_e)=>{u();var mh=tn();fh();ri();var e_e=r_e.exports=mh.sha1=mh.sha1||{};mh.md.sha1=mh.md.algorithms.sha1=e_e;e_e.create=function(){t_e||VAt();var t=null,e=mh.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=mh.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=mh.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var c=n.fullMessageLength.length-1;c>=0;--c)n.fullMessageLength[c]+=a[1],a[1]=a[0]+(n.fullMessageLength[c]/4294967296>>>0),n.fullMessageLength[c]=n.fullMessageLength[c]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),Z4e(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=mh.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(NX.substr(0,n.blockLength-a));for(var c,l,f=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)c=n.fullMessageLength[d+1]*8,l=c/4294967296>>>0,f+=l,i.putInt32(f>>>0),f=c>>>0;i.putInt32(f);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};Z4e(h,r,i);var A=mh.util.createBuffer();return A.putInt32(h.h0),A.putInt32(h.h1),A.putInt32(h.h2),A.putInt32(h.h3),A.putInt32(h.h4),A},n};var NX=null,t_e=!1;function VAt(){NX="\x80",NX+=mh.util.fillString("\0",64),t_e=!0}o(VAt,"_init");function Z4e(t,e,r){for(var n,i,s,a,c,l,f,d,h=r.length();h>=64;){for(i=t.h0,s=t.h1,a=t.h2,c=t.h3,l=t.h4,d=0;d<16;++d)n=r.getInt32(),e[d]=n,f=c^s&(a^c),n=(i<<5|i>>>27)+f+l+1518500249+n,l=c,c=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;d<20;++d)n=e[d-3]^e[d-8]^e[d-14]^e[d-16],n=n<<1|n>>>31,e[d]=n,f=c^s&(a^c),n=(i<<5|i>>>27)+f+l+1518500249+n,l=c,c=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;d<32;++d)n=e[d-3]^e[d-8]^e[d-14]^e[d-16],n=n<<1|n>>>31,e[d]=n,f=s^a^c,n=(i<<5|i>>>27)+f+l+1859775393+n,l=c,c=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;d<40;++d)n=e[d-6]^e[d-16]^e[d-28]^e[d-32],n=n<<2|n>>>30,e[d]=n,f=s^a^c,n=(i<<5|i>>>27)+f+l+1859775393+n,l=c,c=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;d<60;++d)n=e[d-6]^e[d-16]^e[d-28]^e[d-32],n=n<<2|n>>>30,e[d]=n,f=s&a|c&(s^a),n=(i<<5|i>>>27)+f+l+2400959708+n,l=c,c=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;d<80;++d)n=e[d-6]^e[d-16]^e[d-28]^e[d-32],n=n<<2|n>>>30,e[d]=n,f=s^a^c,n=(i<<5|i>>>27)+f+l+3395469782+n,l=c,c=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+s|0,t.h2=t.h2+a|0,t.h3=t.h3+c|0,t.h4=t.h4+l|0,h-=64}}o(Z4e,"_update")});var QX=q((JKr,i_e)=>{u();var gh=tn();ri();Au();t5();var n_e=i_e.exports=gh.pkcs1=gh.pkcs1||{};n_e.encode_rsa_oaep=function(t,e,r){var n,i,s,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),s?s.start():s=gh.md.sha1.create(),a||(a=s);var c=Math.ceil(t.n.bitLength()/8),l=c-2*s.digestLength-2;if(e.length>l){var f=new Error("RSAES-OAEP input message length is too long.");throw f.length=e.length,f.maxLength=l,f}n||(n=""),s.update(n,"raw");for(var d=s.digest(),h="",A=l-e.length,m=0;m<A;m++)h+="\0";var y=d.getBytes()+h+""+e;if(!i)i=gh.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var f=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw f.seedLength=i.length,f.digestLength=s.digestLength,f}var x=FF(i,c-s.digestLength-1,a),_=gh.util.xorBytes(y,x,y.length),T=FF(_,s.digestLength,a),S=gh.util.xorBytes(i,T,i.length);return"\0"+S+_};n_e.decode_rsa_oaep=function(t,e,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var _=new Error("RSAES-OAEP encoded message length is invalid.");throw _.length=e.length,_.expectedLength=a,_}if(i===void 0?i=gh.md.sha1.create():i.start(),s||(s=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var c=i.digest().getBytes(),l=e.charAt(0),f=e.substring(1,i.digestLength+1),d=e.substring(1+i.digestLength),h=FF(d,i.digestLength,s),A=gh.util.xorBytes(f,h,f.length),m=FF(A,a-i.digestLength-1,s),y=gh.util.xorBytes(d,m,d.length),x=y.substring(0,i.digestLength),_=l!=="\0",T=0;T<i.digestLength;++T)_|=c.charAt(T)!==x.charAt(T);for(var S=1,k=i.digestLength,N=i.digestLength;N<y.length;N++){var P=y.charCodeAt(N),L=P&1^1,Y=S?65534:0;_|=P&Y,S=S&L,k+=S}if(_||y.charCodeAt(k)!==1)throw new Error("Invalid RSAES-OAEP padding.");return y.substring(k+1)};function FF(t,e,r){r||(r=gh.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),s=0;s<i;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(t+a),n+=r.digest().getBytes()}return n.substring(0,e)}o(FF,"rsa_mgf1")});var FX=q((eJr,PX)=>{u();var I1=tn();ri();Pw();Au();(function(){if(I1.prime){PX.exports=I1.prime;return}var t=PX.exports=I1.prime=I1.prime||{},e=I1.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=o(function(h,A){return h|A},"op_or");t.generateProbablePrime=function(h,A,m){typeof A=="function"&&(m=A,A={}),A=A||{};var y=A.algorithm||"PRIMEINC";typeof y=="string"&&(y={name:y}),y.options=y.options||{};var x=A.prng||I1.random,_={nextBytes:o(function(T){for(var S=x.getBytesSync(T.length),k=0;k<T.length;++k)T[k]=S.charCodeAt(k)},"nextBytes")};if(y.name==="PRIMEINC")return s(h,_,y.options,m);throw new Error("Invalid prime generation algorithm: "+y.name)};function s(h,A,m,y){return"workers"in m?l(h,A,m,y):a(h,A,m,y)}o(s,"primeincFindPrime");function a(h,A,m,y){var x=f(h,A),_=0,T=d(x.bitLength());"millerRabinTests"in m&&(T=m.millerRabinTests);var S=10;"maxBlockTime"in m&&(S=m.maxBlockTime),c(x,h,A,_,T,S,y)}o(a,"primeincFindPrimeWithoutWorkers");function c(h,A,m,y,x,_,T){var S=+new Date;do{if(h.bitLength()>A&&(h=f(A,m)),h.isProbablePrime(x))return T(null,h);h.dAddOffset(r[y++%8],0)}while(_<0||+new Date-S<_);I1.util.setImmediate(function(){c(h,A,m,y,x,_,T)})}o(c,"_primeinc");function l(h,A,m,y){if(typeof Worker>"u")return a(h,A,m,y);var x=f(h,A),_=m.workers,T=m.workLoad||100,S=T*30/8,k=m.workerScript||"forge/prime.worker.js";if(_===-1)return I1.util.estimateCores(function(P,L){P&&(L=2),_=L-1,N()});N();function N(){_=Math.max(1,_);for(var P=[],L=0;L<_;++L)P[L]=new Worker(k);for(var Y=_,L=0;L<_;++L)P[L].addEventListener("message",ne);var te=!1;function ne(pe){if(!te){--Y;var W=pe.data;if(W.found){for(var $=0;$<P.length;++$)P[$].terminate();return te=!0,y(null,new e(W.prime,16))}x.bitLength()>h&&(x=f(h,A));var Ie=x.toString(16);pe.target.postMessage({hex:Ie,workLoad:T}),x.dAddOffset(S,0)}}o(ne,"workerMessage")}o(N,"generate")}o(l,"primeincFindPrimeWithWorkers");function f(h,A){var m=new e(h,A),y=h-1;return m.testBit(y)||m.bitwiseTo(e.ONE.shiftLeft(y),i,m),m.dAddOffset(31-m.mod(n).byteValue(),0),m}o(f,"generateRandom");function d(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}o(d,"getMillerRabinTests")})()});var Fw=q((nJr,f_e)=>{u();var Zt=tn();Nf();Pw();C1();QX();FX();Au();ri();typeof $n>"u"&&($n=Zt.jsbn.BigInteger);var $n,MX=Zt.util.isNodejs?require("crypto"):null,Re=Zt.asn1,mu=Zt.util;Zt.pki=Zt.pki||{};f_e.exports=Zt.pki.rsa=Zt.rsa=Zt.rsa||{};var Wr=Zt.pki,WAt=[6,4,2,4,2,4,6,2],YAt={name:"PrivateKeyInfo",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},$At={name:"RSAPrivateKey",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},zAt={name:"RSAPublicKey",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},jAt=Zt.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:Re.Class.UNIVERSAL,type:Re.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},KAt={name:"DigestInfo",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:Re.Class.UNIVERSAL,type:Re.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},JAt=o(function(t){var e;if(t.algorithm in Wr.oids)e=Wr.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=Re.oidToDer(e).getBytes(),i=Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[]),s=Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[]);s.value.push(Re.create(Re.Class.UNIVERSAL,Re.Type.OID,!1,n)),s.value.push(Re.create(Re.Class.UNIVERSAL,Re.Type.NULL,!1,""));var a=Re.create(Re.Class.UNIVERSAL,Re.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(s),i.value.push(a),Re.toDer(i).getBytes()},"emsaPkcs1v15encode"),l_e=o(function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract($n.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract($n.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new $n(Zt.util.bytesToHex(Zt.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals($n.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),s=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(s)<0;)i=i.add(e.p);var a=i.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return a=a.multiply(n.modInverse(e.n)).mod(e.n),a},"_modPow");Wr.rsa.encrypt=function(t,e,r){var n=r,i,s=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=u_e(t,e,r)):(i=Zt.util.createBuffer(),i.putBytes(t));for(var a=new $n(i.toHex(),16),c=l_e(a,e,n),l=c.toString(16),f=Zt.util.createBuffer(),d=s-Math.ceil(l.length/2);d>0;)f.putByte(0),--d;return f.putBytes(Zt.util.hexToBytes(l)),f.getBytes()};Wr.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=t.length,s.expected=i,s}var a=new $n(Zt.util.createBuffer(t).toHex(),16);if(a.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var c=l_e(a,e,r),l=c.toString(16),f=Zt.util.createBuffer(),d=i-Math.ceil(l.length/2);d>0;)f.putByte(0),--d;return f.putBytes(Zt.util.hexToBytes(l)),n!==!1?MF(f.getBytes(),e,r):f.getBytes()};Wr.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||Zt.random,i={nextBytes:o(function(c){for(var l=n.getBytesSync(c.length),f=0;f<c.length;++f)c[f]=l.charCodeAt(f)},"nextBytes")},s=r.algorithm||"PRIMEINC",a;if(s==="PRIMEINC")a={algorithm:s,state:0,bits:t,rng:i,eInt:e||65537,e:new $n(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+s);return a};Wr.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new $n(null);r.fromInt(30);for(var n=0,i=o(function(h,A){return h|A},"op_or"),s=+new Date,a,c=0;t.keys===null&&(e<=0||c<e);){if(t.state===0){var l=t.p===null?t.pBits:t.qBits,f=l-1;t.pqState===0?(t.num=new $n(l,t.rng),t.num.testBit(f)||t.num.bitwiseTo($n.ONE.shiftLeft(f),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>l?t.pqState=0:t.num.isProbablePrime(ZAt(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(WAt[n++%8],0):t.pqState===2?t.pqState=t.num.subtract($n.ONE).gcd(t.e).compareTo($n.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract($n.ONE),t.q1=t.q.subtract($n.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo($n.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var d=t.e.modInverse(t.phi);t.keys={privateKey:Wr.rsa.setPrivateKey(t.n,t.e,d,t.p,t.q,d.mod(t.p1),d.mod(t.q1),t.q.modInverse(t.p)),publicKey:Wr.rsa.setPublicKey(t.n,t.e)}}a=+new Date,c+=a-s,s=a}return t.keys!==null};Wr.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!Zt.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(o_e("generateKeyPair"))return MX.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(c,l,f){if(c)return n(c);n(null,{privateKey:Wr.privateKeyFromPem(f),publicKey:Wr.publicKeyFromPem(l)})});if(s_e("generateKey")&&s_e("exportKey"))return mu.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:c_e(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(c){return mu.globalScope.crypto.subtle.exportKey("pkcs8",c.privateKey)}).then(void 0,function(c){n(c)}).then(function(c){if(c){var l=Wr.privateKeyFromAsn1(Re.fromDer(Zt.util.createBuffer(c)));n(null,{privateKey:l,publicKey:Wr.setRsaPublicKey(l.n,l.e)})}});if(a_e("generateKey")&&a_e("exportKey")){var i=mu.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:c_e(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(c){var l=c.target.result,f=mu.globalScope.msCrypto.subtle.exportKey("pkcs8",l.privateKey);f.oncomplete=function(d){var h=d.target.result,A=Wr.privateKeyFromAsn1(Re.fromDer(Zt.util.createBuffer(h)));n(null,{privateKey:A,publicKey:Wr.setRsaPublicKey(A.n,A.e)})},f.onerror=function(d){n(d)}},i.onerror=function(c){n(c)};return}}else if(o_e("generateKeyPairSync")){var s=MX.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Wr.privateKeyFromPem(s.privateKey),publicKey:Wr.publicKeyFromPem(s.publicKey)}}}var a=Wr.rsa.createKeyPairGenerationState(t,e,r);if(!n)return Wr.rsa.stepKeyPairGenerationState(a,0),a.keys;XAt(a,r,n)};Wr.setRsaPublicKey=Wr.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:o(function(c,l,f){return u_e(c,l,2).getBytes()},"encode")};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:o(function(c,l){return Zt.pkcs1.encode_rsa_oaep(l,c,s)},"encode")};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:o(function(c){return c},"encode")};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return Wr.rsa.encrypt(a,r,!0)},r.verify=function(n,i,s,a){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),s==="RSASSA-PKCS1-V1_5"?s={verify:o(function(l,f){f=MF(f,r,!0);var d=Re.fromDer(f,{parseAllBytes:a._parseAllDigestBytes}),h={},A=[];if(!Re.validate(d,KAt,h,A)){var m=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw m.errors=A,m}var y=Re.derToOid(h.algorithmIdentifier);if(!(y===Zt.oids.md2||y===Zt.oids.md5||y===Zt.oids.sha1||y===Zt.oids.sha224||y===Zt.oids.sha256||y===Zt.oids.sha384||y===Zt.oids.sha512||y===Zt.oids["sha512-224"]||y===Zt.oids["sha512-256"])){var m=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw m.oid=y,m}if((y===Zt.oids.md2||y===Zt.oids.md5)&&!("parameters"in h))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return l===h.digest},"verify")}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:o(function(l,f){return f=MF(f,r,!0),l===f},"verify")});var c=Wr.rsa.decrypt(i,r,!0,!1);return s.verify(n,c,r.n.bitLength())},r};Wr.setRsaPrivateKey=Wr.rsa.setPrivateKey=function(t,e,r,n,i,s,a,c){var l={n:t,e,d:r,p:n,q:i,dP:s,dQ:a,qInv:c};return l.decrypt=function(f,d,h){typeof d=="string"?d=d.toUpperCase():d===void 0&&(d="RSAES-PKCS1-V1_5");var A=Wr.rsa.decrypt(f,l,!1,!1);if(d==="RSAES-PKCS1-V1_5")d={decode:MF};else if(d==="RSA-OAEP"||d==="RSAES-OAEP")d={decode:o(function(m,y){return Zt.pkcs1.decode_rsa_oaep(y,m,h)},"decode")};else if(["RAW","NONE","NULL",null].indexOf(d)!==-1)d={decode:o(function(m){return m},"decode")};else throw new Error('Unsupported encryption scheme: "'+d+'".');return d.decode(A,l,!1)},l.sign=function(f,d){var h=!1;typeof d=="string"&&(d=d.toUpperCase()),d===void 0||d==="RSASSA-PKCS1-V1_5"?(d={encode:JAt},h=1):(d==="NONE"||d==="NULL"||d===null)&&(d={encode:o(function(){return f},"encode")},h=1);var A=d.encode(f,l.n.bitLength());return Wr.rsa.encrypt(A,l,h)},l};Wr.wrapRsaPrivateKey=function(t){return Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,Re.integerToDer(0).getBytes()),Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[Re.create(Re.Class.UNIVERSAL,Re.Type.OID,!1,Re.oidToDer(Wr.oids.rsaEncryption).getBytes()),Re.create(Re.Class.UNIVERSAL,Re.Type.NULL,!1,"")]),Re.create(Re.Class.UNIVERSAL,Re.Type.OCTETSTRING,!1,Re.toDer(t).getBytes())])};Wr.privateKeyFromAsn1=function(t){var e={},r=[];if(Re.validate(t,YAt,e,r)&&(t=Re.fromDer(Zt.util.createBuffer(e.privateKey))),e={},r=[],!Re.validate(t,$At,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,a,c,l,f,d,h;return i=Zt.util.createBuffer(e.privateKeyModulus).toHex(),s=Zt.util.createBuffer(e.privateKeyPublicExponent).toHex(),a=Zt.util.createBuffer(e.privateKeyPrivateExponent).toHex(),c=Zt.util.createBuffer(e.privateKeyPrime1).toHex(),l=Zt.util.createBuffer(e.privateKeyPrime2).toHex(),f=Zt.util.createBuffer(e.privateKeyExponent1).toHex(),d=Zt.util.createBuffer(e.privateKeyExponent2).toHex(),h=Zt.util.createBuffer(e.privateKeyCoefficient).toHex(),Wr.setRsaPrivateKey(new $n(i,16),new $n(s,16),new $n(a,16),new $n(c,16),new $n(l,16),new $n(f,16),new $n(d,16),new $n(h,16))};Wr.privateKeyToAsn1=Wr.privateKeyToRSAPrivateKey=function(t){return Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,Re.integerToDer(0).getBytes()),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,yh(t.n)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,yh(t.e)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,yh(t.d)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,yh(t.p)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,yh(t.q)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,yh(t.dP)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,yh(t.dQ)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,yh(t.qInv))])};Wr.publicKeyFromAsn1=function(t){var e={},r=[];if(Re.validate(t,jAt,e,r)){var n=Re.derToOid(e.publicKeyOid);if(n!==Wr.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!Re.validate(t,zAt,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=Zt.util.createBuffer(e.publicKeyModulus).toHex(),a=Zt.util.createBuffer(e.publicKeyExponent).toHex();return Wr.setRsaPublicKey(new $n(s,16),new $n(a,16))};Wr.publicKeyToAsn1=Wr.publicKeyToSubjectPublicKeyInfo=function(t){return Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[Re.create(Re.Class.UNIVERSAL,Re.Type.OID,!1,Re.oidToDer(Wr.oids.rsaEncryption).getBytes()),Re.create(Re.Class.UNIVERSAL,Re.Type.NULL,!1,"")]),Re.create(Re.Class.UNIVERSAL,Re.Type.BITSTRING,!1,[Wr.publicKeyToRSAPublicKey(t)])])};Wr.publicKeyToRSAPublicKey=function(t){return Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,yh(t.n)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,yh(t.e))])};function u_e(t,e,r){var n=Zt.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=t.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var a=i-3-t.length,c;if(r===0||r===1){c=r===0?0:255;for(var l=0;l<a;++l)n.putByte(c)}else for(;a>0;){for(var f=0,d=Zt.random.getBytes(a),l=0;l<a;++l)c=d.charCodeAt(l),c===0?++f:n.putByte(c);a=f}return n.putByte(0),n.putBytes(t),n}o(u_e,"_encodePkcs1_v1_5");function MF(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),s=Zt.util.createBuffer(t),a=s.getByte(),c=s.getByte();if(a!==0||r&&c!==0&&c!==1||!r&&c!=2||r&&c===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var l=0;if(c===0){l=i-3-n;for(var f=0;f<l;++f)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(c===1)for(l=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++l}else if(c===2)for(l=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++l}var d=s.getByte();if(d!==0||l!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}o(MF,"_decodePkcs1_v1_5");function XAt(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){s(t.pBits,function(c,l){if(c)return r(c);if(t.p=l,t.q!==null)return a(c,t.q);s(t.qBits,a)})}o(i,"generate");function s(c,l){Zt.prime.generateProbablePrime(c,n,l)}o(s,"getPrime");function a(c,l){if(c)return r(c);if(t.q=l,t.p.compareTo(t.q)<0){var f=t.p;t.p=t.q,t.q=f}if(t.p.subtract($n.ONE).gcd(t.e).compareTo($n.ONE)!==0){t.p=null,i();return}if(t.q.subtract($n.ONE).gcd(t.e).compareTo($n.ONE)!==0){t.q=null,s(t.qBits,a);return}if(t.p1=t.p.subtract($n.ONE),t.q1=t.q.subtract($n.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo($n.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,s(t.qBits,a);return}var d=t.e.modInverse(t.phi);t.keys={privateKey:Wr.rsa.setPrivateKey(t.n,t.e,d,t.p,t.q,d.mod(t.p1),d.mod(t.q1),t.q.modInverse(t.p)),publicKey:Wr.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}o(a,"finish")}o(XAt,"_generateKeyPair");function yh(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=Zt.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}o(yh,"_bnToBytes");function ZAt(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}o(ZAt,"_getMillerRabinTests");function o_e(t){return Zt.util.isNodejs&&typeof MX[t]=="function"}o(o_e,"_detectNodeCrypto");function s_e(t){return typeof mu.globalScope<"u"&&typeof mu.globalScope.crypto=="object"&&typeof mu.globalScope.crypto.subtle=="object"&&typeof mu.globalScope.crypto.subtle[t]=="function"}o(s_e,"_detectSubtleCrypto");function a_e(t){return typeof mu.globalScope<"u"&&typeof mu.globalScope.msCrypto=="object"&&typeof mu.globalScope.msCrypto.subtle=="object"&&typeof mu.globalScope.msCrypto.subtle[t]=="function"}o(a_e,"_detectSubtleMsCrypto");function c_e(t){for(var e=Zt.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}o(c_e,"_intToUint8Array")});var LX=q((sJr,m_e)=>{u();var Rt=tn();y1();Nf();Nw();fh();C1();DF();qE();Au();BX();Fw();ri();typeof d_e>"u"&&(d_e=Rt.jsbn.BigInteger);var d_e,Ve=Rt.asn1,Xr=Rt.pki=Rt.pki||{};m_e.exports=Xr.pbe=Rt.pbe=Rt.pbe||{};var WE=Xr.oids,ept={name:"EncryptedPrivateKeyInfo",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},tpt={name:"PBES2Algorithms",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},rpt={name:"pkcs-12PbeParams",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.INTEGER,constructed:!1,capture:"iterations"}]};Xr.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=Rt.random.getBytesSync(r.saltSize),i=r.count,s=Ve.integerToDer(i),a,c,l;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var f,d,h;switch(r.algorithm){case"aes128":a=16,f=16,d=WE["aes128-CBC"],h=Rt.aes.createEncryptionCipher;break;case"aes192":a=24,f=16,d=WE["aes192-CBC"],h=Rt.aes.createEncryptionCipher;break;case"aes256":a=32,f=16,d=WE["aes256-CBC"],h=Rt.aes.createEncryptionCipher;break;case"des":a=8,f=8,d=WE.desCBC,h=Rt.des.createEncryptionCipher;break;default:var A=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw A.algorithm=r.algorithm,A}var m="hmacWith"+r.prfAlgorithm.toUpperCase(),y=p_e(m),x=Rt.pkcs5.pbkdf2(e,n,i,a,y),_=Rt.random.getBytesSync(f),T=h(x);T.start(_),T.update(Ve.toDer(t)),T.finish(),l=T.output.getBytes();var S=npt(n,s,a,m);c=Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OID,!1,Ve.oidToDer(WE.pkcs5PBES2).getBytes()),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OID,!1,Ve.oidToDer(WE.pkcs5PBKDF2).getBytes()),S]),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OID,!1,Ve.oidToDer(d).getBytes()),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OCTETSTRING,!1,_)])])])}else if(r.algorithm==="3des"){a=24;var k=new Rt.util.ByteBuffer(n),x=Xr.pbe.generatePkcs12Key(e,k,1,i,a),_=Xr.pbe.generatePkcs12Key(e,k,2,i,a),T=Rt.des.createEncryptionCipher(x);T.start(_),T.update(Ve.toDer(t)),T.finish(),l=T.output.getBytes(),c=Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OID,!1,Ve.oidToDer(WE["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OCTETSTRING,!1,n),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.INTEGER,!1,s.getBytes())])])}else{var A=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw A.algorithm=r.algorithm,A}var N=Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[c,Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OCTETSTRING,!1,l)]);return N};Xr.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!Ve.validate(t,ept,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=Ve.derToOid(n.encryptionOid),c=Xr.pbe.getCipher(a,n.encryptionParams,e),l=Rt.util.createBuffer(n.encryptedData);return c.update(l),c.finish()&&(r=Ve.fromDer(c.output)),r};Xr.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:Ve.toDer(t).getBytes()};return Rt.pem.encode(r,{maxline:e})};Xr.encryptedPrivateKeyFromPem=function(t){var e=Rt.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return Ve.fromDer(e.body)};Xr.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=Xr.wrapRsaPrivateKey(Xr.privateKeyToAsn1(t));return n=Xr.encryptPrivateKeyInfo(n,e,r),Xr.encryptedPrivateKeyToPem(n)}var i,s,a,c;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,s=Rt.random.getBytesSync(16),c=Rt.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,s=Rt.random.getBytesSync(16),c=Rt.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,s=Rt.random.getBytesSync(16),c=Rt.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,s=Rt.random.getBytesSync(8),c=Rt.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,s=Rt.random.getBytesSync(8),c=Rt.des.createEncryptionCipher;break;default:var l=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw l.algorithm=r.algorithm,l}var f=Rt.pbe.opensslDeriveBytes(e,s.substr(0,8),a),d=c(f);d.start(s),d.update(Ve.toDer(Xr.privateKeyToAsn1(t))),d.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:Rt.util.bytesToHex(s).toUpperCase()},body:d.output.getBytes()};return Rt.pem.encode(h)};Xr.decryptRsaPrivateKey=function(t,e){var r=null,n=Rt.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,a;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,a=Rt.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,a=Rt.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,a=Rt.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,a=Rt.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,a=Rt.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,a=o(function(h){return Rt.rc2.createDecryptionCipher(h,40)},"cipherFn");break;case"RC2-64-CBC":s=8,a=o(function(h){return Rt.rc2.createDecryptionCipher(h,64)},"cipherFn");break;case"RC2-128-CBC":s=16,a=o(function(h){return Rt.rc2.createDecryptionCipher(h,128)},"cipherFn");break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var c=Rt.util.hexToBytes(n.dekInfo.parameters),l=Rt.pbe.opensslDeriveBytes(e,c.substr(0,8),s),f=a(l);if(f.start(c),f.update(Rt.util.createBuffer(n.body)),f.finish())r=f.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=Xr.decryptPrivateKeyInfo(Ve.fromDer(r),e):r=Ve.fromDer(r),r!==null&&(r=Xr.privateKeyFromAsn1(r)),r};Xr.pbe.generatePkcs12Key=function(t,e,r,n,i,s){var a,c;if(typeof s>"u"||s===null){if(!("sha1"in Rt.md))throw new Error('"sha1" hash algorithm unavailable.');s=Rt.md.sha1.create()}var l=s.digestLength,f=s.blockLength,d=new Rt.util.ByteBuffer,h=new Rt.util.ByteBuffer;if(t!=null){for(c=0;c<t.length;c++)h.putInt16(t.charCodeAt(c));h.putInt16(0)}var A=h.length(),m=e.length(),y=new Rt.util.ByteBuffer;y.fillWithByte(r,f);var x=f*Math.ceil(m/f),_=new Rt.util.ByteBuffer;for(c=0;c<x;c++)_.putByte(e.at(c%m));var T=f*Math.ceil(A/f),S=new Rt.util.ByteBuffer;for(c=0;c<T;c++)S.putByte(h.at(c%A));var k=_;k.putBuffer(S);for(var N=Math.ceil(i/l),P=1;P<=N;P++){var L=new Rt.util.ByteBuffer;L.putBytes(y.bytes()),L.putBytes(k.bytes());for(var Y=0;Y<n;Y++)s.start(),s.update(L.getBytes()),L=s.digest();var te=new Rt.util.ByteBuffer;for(c=0;c<f;c++)te.putByte(L.at(c%l));var ne=Math.ceil(m/f)+Math.ceil(A/f),pe=new Rt.util.ByteBuffer;for(a=0;a<ne;a++){var W=new Rt.util.ByteBuffer(k.getBytes(f)),$=511;for(c=te.length()-1;c>=0;c--)$=$>>8,$+=te.at(c)+W.at(c),W.setAt(c,$&255);pe.putBuffer(W)}k=pe,d.putBuffer(L)}return d.truncate(d.length()-i),d};Xr.pbe.getCipher=function(t,e,r){switch(t){case Xr.oids.pkcs5PBES2:return Xr.pbe.getCipherForPBES2(t,e,r);case Xr.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case Xr.oids["pbewithSHAAnd40BitRC2-CBC"]:return Xr.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};Xr.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!Ve.validate(e,tpt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(t=Ve.derToOid(n.kdfOid),t!==Xr.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=t,s.supportedOids=["pkcs5PBKDF2"],s}if(t=Ve.derToOid(n.encOid),t!==Xr.oids["aes128-CBC"]&&t!==Xr.oids["aes192-CBC"]&&t!==Xr.oids["aes256-CBC"]&&t!==Xr.oids["des-EDE3-CBC"]&&t!==Xr.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=t,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var a=n.kdfSalt,c=Rt.util.createBuffer(n.kdfIterationCount);c=c.getInt(c.length()<<3);var l,f;switch(Xr.oids[t]){case"aes128-CBC":l=16,f=Rt.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,f=Rt.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,f=Rt.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,f=Rt.des.createDecryptionCipher;break;case"desCBC":l=8,f=Rt.des.createDecryptionCipher;break}var d=A_e(n.prfOid),h=Rt.pkcs5.pbkdf2(r,a,c,l,d),A=n.encIv,m=f(h);return m.start(A),m};Xr.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!Ve.validate(e,rpt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=Rt.util.createBuffer(n.salt),c=Rt.util.createBuffer(n.iterations);c=c.getInt(c.length()<<3);var l,f,d;switch(t){case Xr.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:l=24,f=8,d=Rt.des.startDecrypting;break;case Xr.oids["pbewithSHAAnd40BitRC2-CBC"]:l=5,f=8,d=o(function(x,_){var T=Rt.rc2.createDecryptionCipher(x,40);return T.start(_,null),T},"cipherFn");break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=t,s}var h=A_e(n.prfOid),A=Xr.pbe.generatePkcs12Key(r,a,1,c,l,h);h.start();var m=Xr.pbe.generatePkcs12Key(r,a,2,c,f,h);return d(A,m)};Xr.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in Rt.md))throw new Error('"md5" hash algorithm unavailable.');n=Rt.md.md5.create()}e===null&&(e="");for(var i=[h_e(n,t+e)],s=16,a=1;s<r;++a,s+=16)i.push(h_e(n,i[a-1]+t+e));return i.join("").substr(0,r)};function h_e(t,e){return t.start().update(e).digest().getBytes()}o(h_e,"hash");function A_e(t){var e;if(!t)e="hmacWithSHA1";else if(e=Xr.oids[Ve.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return p_e(e)}o(A_e,"prfOidToMessageDigest");function p_e(t){var e=Rt.md;switch(t){case"hmacWithSHA224":e=Rt.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}o(p_e,"prfAlgorithmToMessageDigest");function npt(t,e,r,n){var i=Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OCTETSTRING,!1,t),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(Ve.create(Ve.Class.UNIVERSAL,Ve.Type.INTEGER,!1,Rt.util.hexToBytes(r.toString(16))),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OID,!1,Ve.oidToDer(Xr.oids[n]).getBytes()),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.NULL,!1,"")])),i}o(npt,"createPbkdf2Params")});var OX=q((lJr,C_e)=>{u();var r5=tn();Nf();ri();var wt=r5.asn1,n5=C_e.exports=r5.pkcs7asn1=r5.pkcs7asn1||{};r5.pkcs7=r5.pkcs7||{};r5.pkcs7.asn1=n5;var g_e={name:"ContentInfo",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:wt.Class.UNIVERSAL,type:wt.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:wt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};n5.contentInfoValidator=g_e;var y_e={name:"EncryptedContentInfo",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:wt.Class.UNIVERSAL,type:wt.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:wt.Class.UNIVERSAL,type:wt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:wt.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:wt.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};n5.envelopedDataValidator={name:"EnvelopedData",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:wt.Class.UNIVERSAL,type:wt.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(y_e)};n5.encryptedDataValidator={name:"EncryptedData",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:wt.Class.UNIVERSAL,type:wt.Type.INTEGER,constructed:!1,capture:"version"}].concat(y_e)};var ipt={name:"SignerInfo",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:wt.Class.UNIVERSAL,type:wt.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:wt.Class.UNIVERSAL,type:wt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:wt.Class.UNIVERSAL,type:wt.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:wt.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:wt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:wt.Class.UNIVERSAL,type:wt.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:wt.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};n5.signedDataValidator={name:"SignedData",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:wt.Class.UNIVERSAL,type:wt.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},g_e,{name:"SignedData.Certificates",tagClass:wt.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:wt.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SET,capture:"signerInfos",optional:!0,value:[ipt]}]};n5.recipientInfoValidator={name:"RecipientInfo",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:wt.Class.UNIVERSAL,type:wt.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:wt.Class.UNIVERSAL,type:wt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:wt.Class.UNIVERSAL,type:wt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:wt.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:wt.Class.UNIVERSAL,type:wt.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var UX=q((fJr,E_e)=>{u();var YE=tn();ri();YE.mgf=YE.mgf||{};var opt=E_e.exports=YE.mgf.mgf1=YE.mgf1=YE.mgf1||{};opt.create=function(t){var e={generate:o(function(r,n){for(var i=new YE.util.ByteBuffer,s=Math.ceil(n/t.digestLength),a=0;a<s;a++){var c=new YE.util.ByteBuffer;c.putInt32(a),t.start(),t.update(r+c.getBytes()),i.putBuffer(t.digest())}return i.truncate(i.length()-n),i.getBytes()},"generate")};return e}});var x_e=q((AJr,I_e)=>{u();var LF=tn();UX();I_e.exports=LF.mgf=LF.mgf||{};LF.mgf.mgf1=LF.mgf1});var OF=q((mJr,b_e)=>{u();var $E=tn();Au();ri();var spt=b_e.exports=$E.pss=$E.pss||{};spt.create=function(t){arguments.length===3&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e=t.md,r=t.mgf,n=e.digestLength,i=t.salt||null;typeof i=="string"&&(i=$E.util.createBuffer(i));var s;if("saltLength"in t)s=t.saltLength;else if(i!==null)s=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==s)throw new Error("Given salt length does not match length of given salt.");var a=t.prng||$E.random,c={};return c.encode=function(l,f){var d,h=f-1,A=Math.ceil(h/8),m=l.digest().getBytes();if(A<n+s+2)throw new Error("Message is too long to encrypt.");var y;i===null?y=a.getBytesSync(s):y=i.bytes();var x=new $E.util.ByteBuffer;x.fillWithByte(0,8),x.putBytes(m),x.putBytes(y),e.start(),e.update(x.getBytes());var _=e.digest().getBytes(),T=new $E.util.ByteBuffer;T.fillWithByte(0,A-s-n-2),T.putByte(1),T.putBytes(y);var S=T.getBytes(),k=A-n-1,N=r.generate(_,k),P="";for(d=0;d<k;d++)P+=String.fromCharCode(S.charCodeAt(d)^N.charCodeAt(d));var L=65280>>8*A-h&255;return P=String.fromCharCode(P.charCodeAt(0)&~L)+P.substr(1),P+_+"\xBC"},c.verify=function(l,f,d){var h,A=d-1,m=Math.ceil(A/8);if(f=f.substr(-m),m<n+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(f.charCodeAt(m-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var y=m-n-1,x=f.substr(0,y),_=f.substr(y,n),T=65280>>8*m-A&255;if((x.charCodeAt(0)&T)!==0)throw new Error("Bits beyond keysize not zero as expected.");var S=r.generate(_,y),k="";for(h=0;h<y;h++)k+=String.fromCharCode(x.charCodeAt(h)^S.charCodeAt(h));k=String.fromCharCode(k.charCodeAt(0)&~T)+k.substr(1);var N=m-n-s-2;for(h=0;h<N;h++)if(k.charCodeAt(h)!==0)throw new Error("Leftmost octets not zero as expected");if(k.charCodeAt(N)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var P=k.substr(-s),L=new $E.util.ByteBuffer;L.fillWithByte(0,8),L.putBytes(l),L.putBytes(P),e.start(),e.update(L.getBytes());var Y=e.digest().getBytes();return _===Y},c}});var qF=q((yJr,w_e)=>{u();var er=tn();y1();Nf();Nw();fh();x_e();C1();qE();OF();Fw();ri();var O=er.asn1,gt=w_e.exports=er.pki=er.pki||{},zn=gt.oids,Wo={};Wo.CN=zn.commonName;Wo.commonName="CN";Wo.C=zn.countryName;Wo.countryName="C";Wo.L=zn.localityName;Wo.localityName="L";Wo.ST=zn.stateOrProvinceName;Wo.stateOrProvinceName="ST";Wo.O=zn.organizationName;Wo.organizationName="O";Wo.OU=zn.organizationalUnitName;Wo.organizationalUnitName="OU";Wo.E=zn.emailAddress;Wo.emailAddress="E";var T_e=er.pki.rsa.publicKeyValidator,apt={name:"Certificate",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:O.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:O.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:O.Class.UNIVERSAL,type:O.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:O.Class.UNIVERSAL,type:O.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:O.Class.UNIVERSAL,type:O.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:O.Class.UNIVERSAL,type:O.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},T_e,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:O.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:O.Class.UNIVERSAL,type:O.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:O.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:O.Class.UNIVERSAL,type:O.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:O.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:O.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:O.Class.UNIVERSAL,type:O.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},cpt={name:"rsapss",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:O.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:O.Class.UNIVERSAL,type:O.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:O.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:O.Class.UNIVERSAL,type:O.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:O.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:O.Class.UNIVERSAL,type:O.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:O.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:O.Class.UNIVERSAL,type:O.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},lpt={name:"CertificationRequestInfo",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},T_e,{name:"CertificationRequestInfo.attributes",tagClass:O.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:O.Class.UNIVERSAL,type:O.Type.SET,constructed:!0}]}]}]},upt={name:"CertificationRequest",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[lpt,{name:"CertificationRequest.signatureAlgorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:O.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:O.Class.UNIVERSAL,type:O.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};gt.RDNAttributesAsArray=function(t,e){for(var r=[],n,i,s,a=0;a<t.value.length;++a){n=t.value[a];for(var c=0;c<n.value.length;++c)s={},i=n.value[c],s.type=O.derToOid(i.value[0].value),s.value=i.value[1].value,s.valueTagClass=i.value[1].type,s.type in zn&&(s.name=zn[s.type],s.name in Wo&&(s.shortName=Wo[s.name])),e&&(e.update(s.type),e.update(s.value)),r.push(s)}return r};gt.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],i=O.derToOid(n.value[0].value),s=n.value[1].value,a=0;a<s.length;++a){var c={};if(c.type=i,c.value=s[a].value,c.valueTagClass=s[a].type,c.type in zn&&(c.name=zn[c.type],c.name in Wo&&(c.shortName=Wo[c.name])),c.type===zn.extensionRequest){c.extensions=[];for(var l=0;l<c.value.length;++l)c.extensions.push(gt.certificateExtensionFromAsn1(c.value[l]))}e.push(c)}return e};function x1(t,e){typeof e=="string"&&(e={shortName:e});for(var r=null,n,i=0;r===null&&i<t.attributes.length;++i)n=t.attributes[i],(e.type&&e.type===n.type||e.name&&e.name===n.name||e.shortName&&e.shortName===n.shortName)&&(r=n);return r}o(x1,"_getAttribute");var UF=o(function(t,e,r){var n={};if(t!==zn["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:zn.sha1},mgf:{algorithmOid:zn.mgf1,hash:{algorithmOid:zn.sha1}},saltLength:20});var i={},s=[];if(!O.validate(e,cpt,i,s)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=s,a}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=O.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=O.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=O.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),HF=o(function(t){switch(zn[t.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return er.md.sha1.create();case"md5WithRSAEncryption":return er.md.md5.create();case"sha256WithRSAEncryption":return er.md.sha256.create();case"sha384WithRSAEncryption":return er.md.sha384.create();case"sha512WithRSAEncryption":return er.md.sha512.create();case"RSASSA-PSS":return er.md.sha256.create();default:var e=new Error("Could not compute "+t.type+" digest. Unknown signature OID.");throw e.signatureOid=t.signatureOid,e}},"_createSignatureDigest"),__e=o(function(t){var e=t.certificate,r;switch(e.signatureOid){case zn.sha1WithRSAEncryption:case zn.sha1WithRSASignature:break;case zn["RSASSA-PSS"]:var n,i;if(n=zn[e.signatureParameters.mgf.hash.algorithmOid],n===void 0||er.md[n]===void 0){var s=new Error("Unsupported MGF hash function.");throw s.oid=e.signatureParameters.mgf.hash.algorithmOid,s.name=n,s}if(i=zn[e.signatureParameters.mgf.algorithmOid],i===void 0||er.mgf[i]===void 0){var s=new Error("Unsupported MGF function.");throw s.oid=e.signatureParameters.mgf.algorithmOid,s.name=i,s}if(i=er.mgf[i].create(er.md[n].create()),n=zn[e.signatureParameters.hash.algorithmOid],n===void 0||er.md[n]===void 0){var s=new Error("Unsupported RSASSA-PSS hash function.");throw s.oid=e.signatureParameters.hash.algorithmOid,s.name=n,s}r=er.pss.create(er.md[n].create(),i,e.signatureParameters.saltLength);break}return e.publicKey.verify(t.md.digest().getBytes(),t.signature,r)},"_verifySignature");gt.certificateFromPem=function(t,e,r){var n=er.pem.decode(t)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=O.fromDer(n.body,r);return gt.certificateFromAsn1(s,e)};gt.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:O.toDer(gt.certificateToAsn1(t)).getBytes()};return er.pem.encode(r,{maxline:e})};gt.publicKeyFromPem=function(t){var e=er.pem.decode(t)[0];if(e.type!=="PUBLIC KEY"&&e.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=O.fromDer(e.body);return gt.publicKeyFromAsn1(n)};gt.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:O.toDer(gt.publicKeyToAsn1(t)).getBytes()};return er.pem.encode(r,{maxline:e})};gt.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:O.toDer(gt.publicKeyToRSAPublicKey(t)).getBytes()};return er.pem.encode(r,{maxline:e})};gt.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||er.md.sha1.create(),n=e.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=O.toDer(gt.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":i=O.toDer(gt.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}r.start(),r.update(i);var s=r.digest();if(e.encoding==="hex"){var a=s.toHex();return e.delimiter?a.match(/.{2}/g).join(e.delimiter):a}else{if(e.encoding==="binary")return s.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return s};gt.certificationRequestFromPem=function(t,e,r){var n=er.pem.decode(t)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=O.fromDer(n.body,r);return gt.certificationRequestFromAsn1(s,e)};gt.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:O.toDer(gt.certificationRequestToAsn1(t)).getBytes()};return er.pem.encode(r,{maxline:e})};gt.createCertificate=function(){var t={};return t.version=2,t.serialNumber="00",t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return x1(t.issuer,e)},t.issuer.addField=function(e){gu([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return x1(t.subject,e)},t.subject.addField=function(e){gu([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){gu(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){gu(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)S_e(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){typeof e=="string"&&(e={name:e});for(var r=null,n,i=0;r===null&&i<t.extensions.length;++i)n=t.extensions[i],(e.id&&n.id===e.id||e.name&&n.name===e.name)&&(r=n);return r},t.sign=function(e,r){t.md=r||er.md.sha1.create();var n=zn[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.tbsCertificate=gt.getTBSCertificate(t);var s=O.toDer(t.tbsCertificate);t.md.update(s.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var n=e.issuer,i=t.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=i.attributes,s.actualIssuer=n.attributes,s}var a=e.md;if(a===null){a=HF({signatureOid:e.signatureOid,type:"certificate"});var c=e.tbsCertificate||gt.getTBSCertificate(e),l=O.toDer(c);a.update(l.getBytes())}return a!==null&&(r=__e({certificate:t,md:a,signature:e.signature})),r},t.isIssuer=function(e){var r=!1,n=t.issuer,i=e.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var s,a,c=0;r&&c<n.attributes.length;++c)s=n.attributes[c],a=i.attributes[c],(s.type!==a.type||s.value!==a.value)&&(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return gt.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=zn.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var n=t.extensions[r];if(n.id===e){var i=t.generateSubjectKeyIdentifier().getBytes();return er.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},t};gt.certificateFromAsn1=function(t,e){var r={},n=[];if(!O.validate(t,apt,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var s=O.derToOid(r.publicKeyOid);if(s!==gt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=gt.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var c=er.util.createBuffer(r.certSerialNumber);a.serialNumber=c.toHex(),a.signatureOid=er.asn1.derToOid(r.certSignatureOid),a.signatureParameters=UF(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=er.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=UF(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var l=[];if(r.certValidity1UTCTime!==void 0&&l.push(O.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&l.push(O.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&l.push(O.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&l.push(O.generalizedTimeToDate(r.certValidity4GeneralizedTime)),l.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(l.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=l[0],a.validity.notAfter=l[1],a.tbsCertificate=r.tbsCertificate,e){a.md=HF({signatureOid:a.signatureOid,type:"certificate"});var f=O.toDer(a.tbsCertificate);a.md.update(f.getBytes())}var d=er.md.sha1.create(),h=O.toDer(r.certIssuer);d.update(h.getBytes()),a.issuer.getField=function(y){return x1(a.issuer,y)},a.issuer.addField=function(y){gu([y]),a.issuer.attributes.push(y)},a.issuer.attributes=gt.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=d.digest().toHex();var A=er.md.sha1.create(),m=O.toDer(r.certSubject);return A.update(m.getBytes()),a.subject.getField=function(y){return x1(a.subject,y)},a.subject.addField=function(y){gu([y]),a.subject.attributes.push(y)},a.subject.attributes=gt.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=A.digest().toHex(),r.certExtensions?a.extensions=gt.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=gt.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};gt.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],i=0;i<n.value.length;++i)e.push(gt.certificateExtensionFromAsn1(n.value[i]));return e};gt.certificateExtensionFromAsn1=function(t){var e={};if(e.id=O.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===O.Type.BOOLEAN?(e.critical=t.value[1].value.charCodeAt(0)!==0,e.value=t.value[2].value):e.value=t.value[1].value,e.id in zn){if(e.name=zn[e.id],e.name==="keyUsage"){var r=O.fromDer(e.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),e.digitalSignature=(n&128)===128,e.nonRepudiation=(n&64)===64,e.keyEncipherment=(n&32)===32,e.dataEncipherment=(n&16)===16,e.keyAgreement=(n&8)===8,e.keyCertSign=(n&4)===4,e.cRLSign=(n&2)===2,e.encipherOnly=(n&1)===1,e.decipherOnly=(i&128)===128}else if(e.name==="basicConstraints"){var r=O.fromDer(e.value);r.value.length>0&&r.value[0].type===O.Type.BOOLEAN?e.cA=r.value[0].value.charCodeAt(0)!==0:e.cA=!1;var s=null;r.value.length>0&&r.value[0].type===O.Type.INTEGER?s=r.value[0].value:r.value.length>1&&(s=r.value[1].value),s!==null&&(e.pathLenConstraint=O.derToInteger(s))}else if(e.name==="extKeyUsage")for(var r=O.fromDer(e.value),a=0;a<r.value.length;++a){var c=O.derToOid(r.value[a].value);c in zn?e[zn[c]]=!0:e[c]=!0}else if(e.name==="nsCertType"){var r=O.fromDer(e.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),e.client=(n&128)===128,e.server=(n&64)===64,e.email=(n&32)===32,e.objsign=(n&16)===16,e.reserved=(n&8)===8,e.sslCA=(n&4)===4,e.emailCA=(n&2)===2,e.objCA=(n&1)===1}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.altNames=[];for(var l,r=O.fromDer(e.value),f=0;f<r.value.length;++f){l=r.value[f];var d={type:l.type,value:l.value};switch(e.altNames.push(d),l.type){case 1:case 2:case 6:break;case 7:d.ip=er.util.bytesToIP(l.value);break;case 8:d.oid=O.derToOid(l.value);break;default:}}}else if(e.name==="subjectKeyIdentifier"){var r=O.fromDer(e.value);e.subjectKeyIdentifier=er.util.bytesToHex(r.value)}}return e};gt.certificationRequestFromAsn1=function(t,e){var r={},n=[];if(!O.validate(t,upt,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var s=O.derToOid(r.publicKeyOid);if(s!==gt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=gt.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=er.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=UF(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=er.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=UF(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,e){a.md=HF({signatureOid:a.signatureOid,type:"certification request"});var c=O.toDer(a.certificationRequestInfo);a.md.update(c.getBytes())}var l=er.md.sha1.create();return a.subject.getField=function(f){return x1(a.subject,f)},a.subject.addField=function(f){gu([f]),a.subject.attributes.push(f)},a.subject.attributes=gt.RDNAttributesAsArray(r.certificationRequestInfoSubject,l),a.subject.hash=l.digest().toHex(),a.publicKey=gt.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(f){return x1(a,f)},a.addAttribute=function(f){gu([f]),a.attributes.push(f)},a.attributes=gt.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};gt.createCertificationRequest=function(){var t={};return t.version=0,t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return x1(t.subject,e)},t.subject.addField=function(e){gu([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return x1(t,e)},t.addAttribute=function(e){gu([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){gu(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){gu(e),t.attributes=e},t.sign=function(e,r){t.md=r||er.md.sha1.create();var n=zn[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.certificationRequestInfo=gt.getCertificationRequestInfo(t);var s=O.toDer(t.certificationRequestInfo);t.md.update(s.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(r===null){r=HF({signatureOid:t.signatureOid,type:"certification request"});var n=t.certificationRequestInfo||gt.getCertificationRequestInfo(t),i=O.toDer(n);r.update(i.getBytes())}return r!==null&&(e=__e({certificate:t,md:r,signature:t.signature})),e},t};function i5(t){for(var e=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]),r,n,i=t.attributes,s=0;s<i.length;++s){r=i[s];var a=r.value,c=O.Type.PRINTABLESTRING;"valueTagClass"in r&&(c=r.valueTagClass,c===O.Type.UTF8&&(a=er.util.encodeUtf8(a))),n=O.create(O.Class.UNIVERSAL,O.Type.SET,!0,[O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(r.type).getBytes()),O.create(O.Class.UNIVERSAL,c,!1,a)])]),e.value.push(n)}return e}o(i5,"_dnToAsn1");function gu(t){for(var e,r=0;r<t.length;++r){if(e=t[r],typeof e.name>"u"&&(e.type&&e.type in gt.oids?e.name=gt.oids[e.type]:e.shortName&&e.shortName in Wo&&(e.name=gt.oids[Wo[e.shortName]])),typeof e.type>"u")if(e.name&&e.name in gt.oids)e.type=gt.oids[e.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=e,n}if(typeof e.shortName>"u"&&e.name&&e.name in Wo&&(e.shortName=Wo[e.name]),e.type===zn.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=O.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var i=0;i<e.extensions.length;++i)e.value.push(gt.certificateExtensionToAsn1(S_e(e.extensions[i])))}if(typeof e.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=e,n}}}o(gu,"_fillMissingFields");function S_e(t,e){if(e=e||{},typeof t.name>"u"&&t.id&&t.id in gt.oids&&(t.name=gt.oids[t.id]),typeof t.id>"u")if(t.name&&t.name in gt.oids)t.id=gt.oids[t.name];else{var r=new Error("Extension ID not specified.");throw r.extension=t,r}if(typeof t.value<"u")return t;if(t.name==="keyUsage"){var n=0,i=0,s=0;t.digitalSignature&&(i|=128,n=7),t.nonRepudiation&&(i|=64,n=6),t.keyEncipherment&&(i|=32,n=5),t.dataEncipherment&&(i|=16,n=4),t.keyAgreement&&(i|=8,n=3),t.keyCertSign&&(i|=4,n=2),t.cRLSign&&(i|=2,n=1),t.encipherOnly&&(i|=1,n=0),t.decipherOnly&&(s|=128,n=7);var a=String.fromCharCode(n);s!==0?a+=String.fromCharCode(i)+String.fromCharCode(s):i!==0&&(a+=String.fromCharCode(i)),t.value=O.create(O.Class.UNIVERSAL,O.Type.BITSTRING,!1,a)}else if(t.name==="basicConstraints")t.value=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(O.create(O.Class.UNIVERSAL,O.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in t&&t.value.value.push(O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,O.integerToDer(t.pathLenConstraint).getBytes()));else if(t.name==="extKeyUsage"){t.value=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]);var c=t.value.value;for(var l in t)t[l]===!0&&(l in zn?c.push(O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(zn[l]).getBytes())):l.indexOf(".")!==-1&&c.push(O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(l).getBytes())))}else if(t.name==="nsCertType"){var n=0,i=0;t.client&&(i|=128,n=7),t.server&&(i|=64,n=6),t.email&&(i|=32,n=5),t.objsign&&(i|=16,n=4),t.reserved&&(i|=8,n=3),t.sslCA&&(i|=4,n=2),t.emailCA&&(i|=2,n=1),t.objCA&&(i|=1,n=0);var a=String.fromCharCode(n);i!==0&&(a+=String.fromCharCode(i)),t.value=O.create(O.Class.UNIVERSAL,O.Type.BITSTRING,!1,a)}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.value=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]);for(var f,d=0;d<t.altNames.length;++d){f=t.altNames[d];var a=f.value;if(f.type===7&&f.ip){if(a=er.util.bytesFromIP(f.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else f.type===8&&(f.oid?a=O.oidToDer(O.oidToDer(f.oid)):a=O.oidToDer(a));t.value.value.push(O.create(O.Class.CONTEXT_SPECIFIC,f.type,!1,a))}}else if(t.name==="nsComment"&&e.cert){if(!/^[\x00-\x7F]*$/.test(t.comment)||t.comment.length<1||t.comment.length>128)throw new Error('Invalid "nsComment" content.');t.value=O.create(O.Class.UNIVERSAL,O.Type.IA5STRING,!1,t.comment)}else if(t.name==="subjectKeyIdentifier"&&e.cert){var h=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=h.toHex(),t.value=O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,h.getBytes())}else if(t.name==="authorityKeyIdentifier"&&e.cert){t.value=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]);var c=t.value.value;if(t.keyIdentifier){var A=t.keyIdentifier===!0?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;c.push(O.create(O.Class.CONTEXT_SPECIFIC,0,!1,A))}if(t.authorityCertIssuer){var m=[O.create(O.Class.CONTEXT_SPECIFIC,4,!0,[i5(t.authorityCertIssuer===!0?e.cert.issuer:t.authorityCertIssuer)])];c.push(O.create(O.Class.CONTEXT_SPECIFIC,1,!0,m))}if(t.serialNumber){var y=er.util.hexToBytes(t.serialNumber===!0?e.cert.serialNumber:t.serialNumber);c.push(O.create(O.Class.CONTEXT_SPECIFIC,2,!1,y))}}else if(t.name==="cRLDistributionPoints"){t.value=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]);for(var c=t.value.value,x=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]),_=O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[]),f,d=0;d<t.altNames.length;++d){f=t.altNames[d];var a=f.value;if(f.type===7&&f.ip){if(a=er.util.bytesFromIP(f.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else f.type===8&&(f.oid?a=O.oidToDer(O.oidToDer(f.oid)):a=O.oidToDer(a));_.value.push(O.create(O.Class.CONTEXT_SPECIFIC,f.type,!1,a))}x.value.push(O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[_])),c.push(x)}if(typeof t.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=t,r}return t}o(S_e,"_fillMissingExtensionFields");function HX(t,e){switch(t){case zn["RSASSA-PSS"]:var r=[];return e.hash.algorithmOid!==void 0&&r.push(O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(e.hash.algorithmOid).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.NULL,!1,"")])])),e.mgf.algorithmOid!==void 0&&r.push(O.create(O.Class.CONTEXT_SPECIFIC,1,!0,[O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(e.mgf.algorithmOid).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(e.mgf.hash.algorithmOid).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.NULL,!1,"")])])])),e.saltLength!==void 0&&r.push(O.create(O.Class.CONTEXT_SPECIFIC,2,!0,[O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,O.integerToDer(e.saltLength).getBytes())])),O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,r);default:return O.create(O.Class.UNIVERSAL,O.Type.NULL,!1,"")}}o(HX,"_signatureParametersToAsn1");function fpt(t){var e=O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[]);if(t.attributes.length===0)return e;for(var r=t.attributes,n=0;n<r.length;++n){var i=r[n],s=i.value,a=O.Type.UTF8;"valueTagClass"in i&&(a=i.valueTagClass),a===O.Type.UTF8&&(s=er.util.encodeUtf8(s));var c=!1;"valueConstructed"in i&&(c=i.valueConstructed);var l=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(i.type).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.SET,!0,[O.create(O.Class.UNIVERSAL,a,c,s)])]);e.value.push(l)}return e}o(fpt,"_CRIAttributesToAsn1");var dpt=new Date("1950-01-01T00:00:00Z"),hpt=new Date("2050-01-01T00:00:00Z");function v_e(t){return t>=dpt&&t<hpt?O.create(O.Class.UNIVERSAL,O.Type.UTCTIME,!1,O.dateToUtcTime(t)):O.create(O.Class.UNIVERSAL,O.Type.GENERALIZEDTIME,!1,O.dateToGeneralizedTime(t))}o(v_e,"_dateToAsn1");gt.getTBSCertificate=function(t){var e=v_e(t.validity.notBefore),r=v_e(t.validity.notAfter),n=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,O.integerToDer(t.version).getBytes())]),O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,er.util.hexToBytes(t.serialNumber)),O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(t.siginfo.algorithmOid).getBytes()),HX(t.siginfo.algorithmOid,t.siginfo.parameters)]),i5(t.issuer),O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[e,r]),i5(t.subject),gt.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&n.value.push(O.create(O.Class.CONTEXT_SPECIFIC,1,!0,[O.create(O.Class.UNIVERSAL,O.Type.BITSTRING,!1,"\0"+t.issuer.uniqueId)])),t.subject.uniqueId&&n.value.push(O.create(O.Class.CONTEXT_SPECIFIC,2,!0,[O.create(O.Class.UNIVERSAL,O.Type.BITSTRING,!1,"\0"+t.subject.uniqueId)])),t.extensions.length>0&&n.value.push(gt.certificateExtensionsToAsn1(t.extensions)),n};gt.getCertificationRequestInfo=function(t){var e=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,O.integerToDer(t.version).getBytes()),i5(t.subject),gt.publicKeyToAsn1(t.publicKey),fpt(t)]);return e};gt.distinguishedNameToAsn1=function(t){return i5(t)};gt.certificateToAsn1=function(t){var e=t.tbsCertificate||gt.getTBSCertificate(t);return O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[e,O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(t.signatureOid).getBytes()),HX(t.signatureOid,t.signatureParameters)]),O.create(O.Class.UNIVERSAL,O.Type.BITSTRING,!1,"\0"+t.signature)])};gt.certificateExtensionsToAsn1=function(t){var e=O.create(O.Class.CONTEXT_SPECIFIC,3,!0,[]),r=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(gt.certificateExtensionToAsn1(t[n]));return e};gt.certificateExtensionToAsn1=function(t){var e=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]);e.value.push(O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(t.id).getBytes())),t.critical&&e.value.push(O.create(O.Class.UNIVERSAL,O.Type.BOOLEAN,!1,"\xFF"));var r=t.value;return typeof t.value!="string"&&(r=O.toDer(r).getBytes()),e.value.push(O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,r)),e};gt.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||gt.getCertificationRequestInfo(t);return O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[e,O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(t.signatureOid).getBytes()),HX(t.signatureOid,t.signatureParameters)]),O.create(O.Class.UNIVERSAL,O.Type.BITSTRING,!1,"\0"+t.signature)])};gt.createCaStore=function(t){var e={certs:{}};e.getIssuer=function(a){var c=r(a.issuer);return c},e.addCertificate=function(a){if(typeof a=="string"&&(a=er.pki.certificateFromPem(a)),n(a.subject),!e.hasCertificate(a))if(a.subject.hash in e.certs){var c=e.certs[a.subject.hash];er.util.isArray(c)||(c=[c]),c.push(a),e.certs[a.subject.hash]=c}else e.certs[a.subject.hash]=a},e.hasCertificate=function(a){typeof a=="string"&&(a=er.pki.certificateFromPem(a));var c=r(a.subject);if(!c)return!1;er.util.isArray(c)||(c=[c]);for(var l=O.toDer(gt.certificateToAsn1(a)).getBytes(),f=0;f<c.length;++f){var d=O.toDer(gt.certificateToAsn1(c[f])).getBytes();if(l===d)return!0}return!1},e.listAllCertificates=function(){var a=[];for(var c in e.certs)if(e.certs.hasOwnProperty(c)){var l=e.certs[c];if(!er.util.isArray(l))a.push(l);else for(var f=0;f<l.length;++f)a.push(l[f])}return a},e.removeCertificate=function(a){var c;if(typeof a=="string"&&(a=er.pki.certificateFromPem(a)),n(a.subject),!e.hasCertificate(a))return null;var l=r(a.subject);if(!er.util.isArray(l))return c=e.certs[a.subject.hash],delete e.certs[a.subject.hash],c;for(var f=O.toDer(gt.certificateToAsn1(a)).getBytes(),d=0;d<l.length;++d){var h=O.toDer(gt.certificateToAsn1(l[d])).getBytes();f===h&&(c=l[d],l.splice(d,1))}return l.length===0&&delete e.certs[a.subject.hash],c};function r(a){return n(a),e.certs[a.hash]||null}o(r,"getBySubject");function n(a){if(!a.hash){var c=er.md.sha1.create();a.attributes=gt.RDNAttributesAsArray(i5(a),c),a.hash=c.digest().toHex()}}if(o(n,"ensureSubjectHasHash"),t)for(var i=0;i<t.length;++i){var s=t[i];e.addCertificate(s)}return e};gt.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};gt.verifyCertificateChain=function(t,e,r){typeof r=="function"&&(r={verify:r}),r=r||{},e=e.slice(0);var n=e.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var s=!0,a=null,c=0;do{var l=e.shift(),f=null,d=!1;if(i&&(i<l.validity.notBefore||i>l.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:gt.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:i}),a===null){if(f=e[0]||t.getIssuer(l),f===null&&l.isIssuer(l)&&(d=!0,f=l),f){var h=f;er.util.isArray(h)||(h=[h]);for(var A=!1;!A&&h.length>0;){f=h.shift();try{A=f.verify(l)}catch{}}A||(a={message:"Certificate signature is invalid.",error:gt.certificateError.bad_certificate})}a===null&&(!f||d)&&!t.hasCertificate(l)&&(a={message:"Certificate is not trusted.",error:gt.certificateError.unknown_ca})}if(a===null&&f&&!l.isIssuer(f)&&(a={message:"Certificate issuer is invalid.",error:gt.certificateError.bad_certificate}),a===null)for(var m={keyUsage:!0,basicConstraints:!0},y=0;a===null&&y<l.extensions.length;++y){var x=l.extensions[y];x.critical&&!(x.name in m)&&(a={message:"Certificate has an unsupported critical extension.",error:gt.certificateError.unsupported_certificate})}if(a===null&&(!s||e.length===0&&(!f||d))){var _=l.getExtension("basicConstraints"),T=l.getExtension("keyUsage");if(T!==null&&(!T.keyCertSign||_===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:gt.certificateError.bad_certificate}),a===null&&_!==null&&!_.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:gt.certificateError.bad_certificate}),a===null&&T!==null&&"pathLenConstraint"in _){var S=c-1;S>_.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:gt.certificateError.bad_certificate})}}var k=a===null?!0:a.error,N=r.verify?r.verify(k,c,n):k;if(N===!0)a=null;else throw k===!0&&(a={message:"The application rejected the certificate.",error:gt.certificateError.bad_certificate}),(N||N===0)&&(typeof N=="object"&&!er.util.isArray(N)?(N.message&&(a.message=N.message),N.error&&(a.error=N.error)):typeof N=="string"&&(a.error=N)),a;s=!1,++c}while(e.length>0);return!0}});var GX=q((IJr,R_e)=>{u();var Hi=tn();Nf();Jv();C1();OX();LX();Au();Fw();t5();ri();qF();var he=Hi.asn1,Cn=Hi.pki,Lw=R_e.exports=Hi.pkcs12=Hi.pkcs12||{},B_e={name:"ContentInfo",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:he.Class.UNIVERSAL,type:he.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:he.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},Apt={name:"PFX",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:he.Class.UNIVERSAL,type:he.Type.INTEGER,constructed:!1,capture:"version"},B_e,{name:"PFX.macData",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:he.Class.UNIVERSAL,type:he.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:he.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:he.Class.UNIVERSAL,type:he.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:he.Class.UNIVERSAL,type:he.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:he.Class.UNIVERSAL,type:he.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},ppt={name:"SafeBag",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:he.Class.UNIVERSAL,type:he.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:he.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:he.Class.UNIVERSAL,type:he.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},mpt={name:"Attribute",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:he.Class.UNIVERSAL,type:he.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:he.Class.UNIVERSAL,type:he.Type.SET,constructed:!0,capture:"values"}]},gpt={name:"CertBag",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:he.Class.UNIVERSAL,type:he.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:he.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:he.Class.UNIVERSAL,type:he.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function Mw(t,e,r,n){for(var i=[],s=0;s<t.length;s++)for(var a=0;a<t[s].safeBags.length;a++){var c=t[s].safeBags[a];if(!(n!==void 0&&c.type!==n)){if(e===null){i.push(c);continue}c.attributes[e]!==void 0&&c.attributes[e].indexOf(r)>=0&&i.push(c)}}return i}o(Mw,"_getBagsByAttribute");Lw.pkcs12FromAsn1=function(t,e,r){typeof e=="string"?(r=e,e=!0):e===void 0&&(e=!0);var n={},i=[];if(!he.validate(t,Apt,n,i)){var s=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw s.errors=s,s}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:o(function(_){var T={},S;return"localKeyId"in _?S=_.localKeyId:"localKeyIdHex"in _&&(S=Hi.util.hexToBytes(_.localKeyIdHex)),S===void 0&&!("friendlyName"in _)&&"bagType"in _&&(T[_.bagType]=Mw(a.safeContents,null,null,_.bagType)),S!==void 0&&(T.localKeyId=Mw(a.safeContents,"localKeyId",S,_.bagType)),"friendlyName"in _&&(T.friendlyName=Mw(a.safeContents,"friendlyName",_.friendlyName,_.bagType)),T},"getBags"),getBagsByFriendlyName:o(function(_,T){return Mw(a.safeContents,"friendlyName",_,T)},"getBagsByFriendlyName"),getBagsByLocalKeyId:o(function(_,T){return Mw(a.safeContents,"localKeyId",_,T)},"getBagsByLocalKeyId")};if(n.version.charCodeAt(0)!==3){var s=new Error("PKCS#12 PFX of version other than 3 not supported.");throw s.version=n.version.charCodeAt(0),s}if(he.derToOid(n.contentType)!==Cn.oids.data){var s=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw s.oid=he.derToOid(n.contentType),s}var c=n.content.value[0];if(c.tagClass!==he.Class.UNIVERSAL||c.type!==he.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(c=qX(c),n.mac){var l=null,f=0,d=he.derToOid(n.macAlgorithm);switch(d){case Cn.oids.sha1:l=Hi.md.sha1.create(),f=20;break;case Cn.oids.sha256:l=Hi.md.sha256.create(),f=32;break;case Cn.oids.sha384:l=Hi.md.sha384.create(),f=48;break;case Cn.oids.sha512:l=Hi.md.sha512.create(),f=64;break;case Cn.oids.md5:l=Hi.md.md5.create(),f=16;break}if(l===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+d);var h=new Hi.util.ByteBuffer(n.macSalt),A="macIterations"in n?parseInt(Hi.util.bytesToHex(n.macIterations),16):1,m=Lw.generateKey(r,h,3,A,f,l),y=Hi.hmac.create();y.start(l,m),y.update(c.value);var x=y.getMac();if(x.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return ypt(a,c.value,e,r),a};function qX(t){if(t.composed||t.constructed){for(var e=Hi.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}o(qX,"_decodePkcs7Data");function ypt(t,e,r,n){if(e=he.fromDer(e,r),e.tagClass!==he.Class.UNIVERSAL||e.type!==he.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<e.value.length;i++){var s=e.value[i],a={},c=[];if(!he.validate(s,B_e,a,c)){var l=new Error("Cannot read ContentInfo.");throw l.errors=c,l}var f={encrypted:!1},d=null,h=a.content.value[0];switch(he.derToOid(a.contentType)){case Cn.oids.data:if(h.tagClass!==he.Class.UNIVERSAL||h.type!==he.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=qX(h).value;break;case Cn.oids.encryptedData:d=Cpt(h,n),f.encrypted=!0;break;default:var l=new Error("Unsupported PKCS#12 contentType.");throw l.contentType=he.derToOid(a.contentType),l}f.safeBags=Ept(d,r,n),t.safeContents.push(f)}}o(ypt,"_decodeAuthenticatedSafe");function Cpt(t,e){var r={},n=[];if(!he.validate(t,Hi.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var s=he.derToOid(r.contentType);if(s!==Cn.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=s,i}s=he.derToOid(r.encAlgorithm);var a=Cn.pbe.getCipher(s,r.encParameter,e),c=qX(r.encryptedContentAsn1),l=Hi.util.createBuffer(c.value);if(a.update(l),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}o(Cpt,"_decryptSafeContents");function Ept(t,e,r){if(!e&&t.length===0)return[];if(t=he.fromDer(t,e),t.tagClass!==he.Class.UNIVERSAL||t.type!==he.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<t.value.length;i++){var s=t.value[i],a={},c=[];if(!he.validate(s,ppt,a,c)){var l=new Error("Cannot read SafeBag.");throw l.errors=c,l}var f={type:he.derToOid(a.bagId),attributes:Ipt(a.bagAttributes)};n.push(f);var d,h,A=a.bagValue.value[0];switch(f.type){case Cn.oids.pkcs8ShroudedKeyBag:if(A=Cn.decryptPrivateKeyInfo(A,r),A===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case Cn.oids.keyBag:try{f.key=Cn.privateKeyFromAsn1(A)}catch{f.key=null,f.asn1=A}continue;case Cn.oids.certBag:d=gpt,h=o(function(){if(he.derToOid(a.certId)!==Cn.oids.x509Certificate){var y=new Error("Unsupported certificate type, only X.509 supported.");throw y.oid=he.derToOid(a.certId),y}var x=he.fromDer(a.cert,e);try{f.cert=Cn.certificateFromAsn1(x,!0)}catch{f.cert=null,f.asn1=x}},"decoder");break;default:var l=new Error("Unsupported PKCS#12 SafeBag type.");throw l.oid=f.type,l}if(d!==void 0&&!he.validate(A,d,a,c)){var l=new Error("Cannot read PKCS#12 "+d.name);throw l.errors=c,l}h()}return n}o(Ept,"_decodeSafeContents");function Ipt(t){var e={};if(t!==void 0)for(var r=0;r<t.length;++r){var n={},i=[];if(!he.validate(t[r],mpt,n,i)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=i,s}var a=he.derToOid(n.oid);if(Cn.oids[a]!==void 0){e[Cn.oids[a]]=[];for(var c=0;c<n.values.length;++c)e[Cn.oids[a]].push(n.values[c].value)}}return e}o(Ipt,"_decodeBagAttributes");Lw.toPkcs12Asn1=function(t,e,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,s;if(i!==null)i=Hi.util.hexToBytes(i);else if(n.generateLocalKeyId)if(e){var a=Hi.util.isArray(e)?e[0]:e;typeof a=="string"&&(a=Cn.certificateFromPem(a));var c=Hi.md.sha1.create();c.update(he.toDer(Cn.certificateToAsn1(a)).getBytes()),i=c.digest().getBytes()}else i=Hi.random.getBytes(20);var l=[];i!==null&&l.push(he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OID,!1,he.oidToDer(Cn.oids.localKeyId).getBytes()),he.create(he.Class.UNIVERSAL,he.Type.SET,!0,[he.create(he.Class.UNIVERSAL,he.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&l.push(he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OID,!1,he.oidToDer(Cn.oids.friendlyName).getBytes()),he.create(he.Class.UNIVERSAL,he.Type.SET,!0,[he.create(he.Class.UNIVERSAL,he.Type.BMPSTRING,!1,n.friendlyName)])])),l.length>0&&(s=he.create(he.Class.UNIVERSAL,he.Type.SET,!0,l));var f=[],d=[];e!==null&&(Hi.util.isArray(e)?d=e:d=[e]);for(var h=[],A=0;A<d.length;++A){e=d[A],typeof e=="string"&&(e=Cn.certificateFromPem(e));var m=A===0?s:void 0,y=Cn.certificateToAsn1(e),x=he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OID,!1,he.oidToDer(Cn.oids.certBag).getBytes()),he.create(he.Class.CONTEXT_SPECIFIC,0,!0,[he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OID,!1,he.oidToDer(Cn.oids.x509Certificate).getBytes()),he.create(he.Class.CONTEXT_SPECIFIC,0,!0,[he.create(he.Class.UNIVERSAL,he.Type.OCTETSTRING,!1,he.toDer(y).getBytes())])])]),m]);h.push(x)}if(h.length>0){var _=he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,h),T=he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OID,!1,he.oidToDer(Cn.oids.data).getBytes()),he.create(he.Class.CONTEXT_SPECIFIC,0,!0,[he.create(he.Class.UNIVERSAL,he.Type.OCTETSTRING,!1,he.toDer(_).getBytes())])]);f.push(T)}var S=null;if(t!==null){var k=Cn.wrapRsaPrivateKey(Cn.privateKeyToAsn1(t));r===null?S=he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OID,!1,he.oidToDer(Cn.oids.keyBag).getBytes()),he.create(he.Class.CONTEXT_SPECIFIC,0,!0,[k]),s]):S=he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OID,!1,he.oidToDer(Cn.oids.pkcs8ShroudedKeyBag).getBytes()),he.create(he.Class.CONTEXT_SPECIFIC,0,!0,[Cn.encryptPrivateKeyInfo(k,r,n)]),s]);var N=he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[S]),P=he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OID,!1,he.oidToDer(Cn.oids.data).getBytes()),he.create(he.Class.CONTEXT_SPECIFIC,0,!0,[he.create(he.Class.UNIVERSAL,he.Type.OCTETSTRING,!1,he.toDer(N).getBytes())])]);f.push(P)}var L=he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,f),Y;if(n.useMac){var c=Hi.md.sha1.create(),te=new Hi.util.ByteBuffer(Hi.random.getBytes(n.saltSize)),ne=n.count,t=Lw.generateKey(r,te,3,ne,20),pe=Hi.hmac.create();pe.start(c,t),pe.update(he.toDer(L).getBytes());var W=pe.getMac();Y=he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OID,!1,he.oidToDer(Cn.oids.sha1).getBytes()),he.create(he.Class.UNIVERSAL,he.Type.NULL,!1,"")]),he.create(he.Class.UNIVERSAL,he.Type.OCTETSTRING,!1,W.getBytes())]),he.create(he.Class.UNIVERSAL,he.Type.OCTETSTRING,!1,te.getBytes()),he.create(he.Class.UNIVERSAL,he.Type.INTEGER,!1,he.integerToDer(ne).getBytes())])}return he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.INTEGER,!1,he.integerToDer(3).getBytes()),he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OID,!1,he.oidToDer(Cn.oids.data).getBytes()),he.create(he.Class.CONTEXT_SPECIFIC,0,!0,[he.create(he.Class.UNIVERSAL,he.Type.OCTETSTRING,!1,he.toDer(L).getBytes())])]),Y])};Lw.generateKey=Hi.pbe.generatePkcs12Key});var WX=q((vJr,k_e)=>{u();var b1=tn();Nf();C1();LX();qE();DF();GX();OF();Fw();ri();qF();var VX=b1.asn1,o5=k_e.exports=b1.pki=b1.pki||{};o5.pemToDer=function(t){var e=b1.pem.decode(t)[0];if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return b1.util.createBuffer(e.body)};o5.privateKeyFromPem=function(t){var e=b1.pem.decode(t)[0];if(e.type!=="PRIVATE KEY"&&e.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=VX.fromDer(e.body);return o5.privateKeyFromAsn1(n)};o5.privateKeyToPem=function(t,e){var r={type:"RSA PRIVATE KEY",body:VX.toDer(o5.privateKeyToAsn1(t)).getBytes()};return b1.pem.encode(r,{maxline:e})};o5.privateKeyInfoToPem=function(t,e){var r={type:"PRIVATE KEY",body:VX.toDer(t).getBytes()};return b1.pem.encode(r,{maxline:e})}});var JX=q((_Jr,O_e)=>{u();var it=tn();Nf();Jv();wF();qE();WX();Au();t5();ri();var YF=o(function(t,e,r,n){var i=it.util.createBuffer(),s=t.length>>1,a=s+(t.length&1),c=t.substr(0,a),l=t.substr(s,a),f=it.util.createBuffer(),d=it.hmac.create();r=e+r;var h=Math.ceil(n/16),A=Math.ceil(n/20);d.start("MD5",c);var m=it.util.createBuffer();f.putBytes(r);for(var y=0;y<h;++y)d.start(null,null),d.update(f.getBytes()),f.putBuffer(d.digest()),d.start(null,null),d.update(f.bytes()+r),m.putBuffer(d.digest());d.start("SHA1",l);var x=it.util.createBuffer();f.clear(),f.putBytes(r);for(var y=0;y<A;++y)d.start(null,null),d.update(f.getBytes()),f.putBuffer(d.digest()),d.start(null,null),d.update(f.bytes()+r),x.putBuffer(d.digest());return i.putBytes(it.util.xorBytes(m.getBytes(),x.getBytes(),n)),i},"prf_TLS1"),xpt=o(function(t,e,r){var n=it.hmac.create();n.start("SHA1",t);var i=it.util.createBuffer();return i.putInt32(e[0]),i.putInt32(e[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},"hmac_sha1"),bpt=o(function(t,e,r){var n=!1;try{var i=t.deflate(e.fragment.getBytes());e.fragment=it.util.createBuffer(i),e.length=i.length,n=!0}catch{}return n},"deflate"),vpt=o(function(t,e,r){var n=!1;try{var i=t.inflate(e.fragment.getBytes());e.fragment=it.util.createBuffer(i),e.length=i.length,n=!0}catch{}return n},"inflate"),hl=o(function(t,e){var r=0;switch(e){case 1:r=t.getByte();break;case 2:r=t.getInt16();break;case 3:r=t.getInt24();break;case 4:r=t.getInt32();break}return it.util.createBuffer(t.getBytes(r))},"readVector"),yu=o(function(t,e,r){t.putInt(r.length(),e<<3),t.putBuffer(r)},"writeVector"),G={};G.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};G.SupportedVersions=[G.Versions.TLS_1_1,G.Versions.TLS_1_0];G.Version=G.SupportedVersions[0];G.MaxFragment=15360;G.ConnectionEnd={server:0,client:1};G.PRFAlgorithm={tls_prf_sha256:0};G.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};G.CipherType={stream:0,block:1,aead:2};G.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};G.CompressionMethod={none:0,deflate:1};G.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};G.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};G.Alert={};G.Alert.Level={warning:1,fatal:2};G.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};G.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};G.CipherSuites={};G.getCipherSuite=function(t){var e=null;for(var r in G.CipherSuites){var n=G.CipherSuites[r];if(n.id[0]===t.charCodeAt(0)&&n.id[1]===t.charCodeAt(1)){e=n;break}}return e};G.handleUnexpected=function(t,e){var r=!t.open&&t.entity===G.ConnectionEnd.client;r||t.error(t,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unexpected_message}})};G.handleHelloRequest=function(t,e,r){!t.handshaking&&t.handshakes>0&&(G.queue(t,G.createAlert(t,{level:G.Alert.Level.warning,description:G.Alert.Description.no_renegotiation})),G.flush(t)),t.process()};G.parseHelloMessage=function(t,e,r){var n=null,i=t.entity===G.ConnectionEnd.client;if(r<38)t.error(t,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});else{var s=e.fragment,a=s.length();if(n={version:{major:s.getByte(),minor:s.getByte()},random:it.util.createBuffer(s.getBytes(32)),session_id:hl(s,1),extensions:[]},i?(n.cipher_suite=s.getBytes(2),n.compression_method=s.getByte()):(n.cipher_suites=hl(s,2),n.compression_methods=hl(s,1)),a=r-(a-s.length()),a>0){for(var c=hl(s,2);c.length()>0;)n.extensions.push({type:[c.getByte(),c.getByte()],data:hl(c,2)});if(!i)for(var l=0;l<n.extensions.length;++l){var f=n.extensions[l];if(f.type[0]===0&&f.type[1]===0)for(var d=hl(f.data,2);d.length()>0;){var h=d.getByte();if(h!==0)break;t.session.extensions.server_name.serverNameList.push(hl(d,2).getBytes())}}}if(t.session.version&&(n.version.major!==t.session.version.major||n.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.protocol_version}});if(i)t.session.cipherSuite=G.getCipherSuite(n.cipher_suite);else for(var A=it.util.createBuffer(n.cipher_suites.bytes());A.length()>0&&(t.session.cipherSuite=G.getCipherSuite(A.getBytes(2)),t.session.cipherSuite===null););if(t.session.cipherSuite===null)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.handshake_failure},cipherSuite:it.util.bytesToHex(n.cipher_suite)});i?t.session.compressionMethod=n.compression_method:t.session.compressionMethod=G.CompressionMethod.none}return n};G.createSecurityParameters=function(t,e){var r=t.entity===G.ConnectionEnd.client,n=e.random.bytes(),i=r?t.session.sp.client_random:n,s=r?n:G.createRandom().getBytes();t.session.sp={entity:t.entity,prf_algorithm:G.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:t.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:s}};G.handleServerHello=function(t,e,r){var n=G.parseHelloMessage(t,e,r);if(!t.fail){if(n.version.minor<=t.version.minor)t.version.minor=n.version.minor;else return t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.protocol_version}});t.session.version=t.version;var i=n.session_id.bytes();i.length>0&&i===t.session.id?(t.expect=Q_e,t.session.resuming=!0,t.session.sp.server_random=n.random.bytes()):(t.expect=_pt,t.session.resuming=!1,G.createSecurityParameters(t,n)),t.session.id=i,t.process()}};G.handleClientHello=function(t,e,r){var n=G.parseHelloMessage(t,e,r);if(!t.fail){var i=n.session_id.bytes(),s=null;if(t.sessionCache&&(s=t.sessionCache.getSession(i),s===null?i="":(s.version.major!==n.version.major||s.version.minor>n.version.minor)&&(s=null,i="")),i.length===0&&(i=it.random.getBytes(32)),t.session.id=i,t.session.clientHelloVersion=n.version,t.session.sp={},s)t.version=t.session.version=s.version,t.session.sp=s.sp;else{for(var a,c=1;c<G.SupportedVersions.length&&(a=G.SupportedVersions[c],!(a.minor<=n.version.minor));++c);t.version={major:a.major,minor:a.minor},t.session.version=t.version}s!==null?(t.expect=jX,t.session.resuming=!0,t.session.sp.client_random=n.random.bytes()):(t.expect=t.verifyClient!==!1?Npt:zX,t.session.resuming=!1,G.createSecurityParameters(t,n)),t.open=!0,G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createServerHello(t)})),t.session.resuming?(G.queue(t,G.createRecord(t,{type:G.ContentType.change_cipher_spec,data:G.createChangeCipherSpec()})),t.state.pending=G.createConnectionState(t),t.state.current.write=t.state.pending.write,G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createFinished(t)}))):(G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createCertificate(t)})),t.fail||(G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createServerKeyExchange(t)})),t.verifyClient!==!1&&G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createCertificateRequest(t)})),G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createServerHelloDone(t)})))),G.flush(t),t.process()}};G.handleCertificate=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var n=e.fragment,i={certificate_list:hl(n,3)},s,a,c=[];try{for(;i.certificate_list.length()>0;)s=hl(i.certificate_list,3),a=it.asn1.fromDer(s),s=it.pki.certificateFromAsn1(a,!0),c.push(s)}catch(f){return t.error(t,{message:"Could not parse certificate list.",cause:f,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.bad_certificate}})}var l=t.entity===G.ConnectionEnd.client;(l||t.verifyClient===!0)&&c.length===0?t.error(t,{message:l?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}}):c.length===0?t.expect=l?D_e:zX:(l?t.session.serverCertificate=c[0]:t.session.clientCertificate=c[0],G.verifyCertificateChain(t,c)&&(t.expect=l?D_e:zX)),t.process()};G.handleServerKeyExchange=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unsupported_certificate}});t.expect=Spt,t.process()};G.handleClientKeyExchange=function(t,e,r){if(r<48)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unsupported_certificate}});var n=e.fragment,i={enc_pre_master_secret:hl(n,2).getBytes()},s=null;if(t.getPrivateKey)try{s=t.getPrivateKey(t,t.session.serverCertificate),s=it.pki.privateKeyFromPem(s)}catch(l){t.error(t,{message:"Could not get private key.",cause:l,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}})}if(s===null)return t.error(t,{message:"No private key set.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}});try{var a=t.session.sp;a.pre_master_secret=s.decrypt(i.enc_pre_master_secret);var c=t.session.clientHelloVersion;if(c.major!==a.pre_master_secret.charCodeAt(0)||c.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=it.random.getBytes(48)}t.expect=jX,t.session.clientCertificate!==null&&(t.expect=Qpt),t.process()};G.handleCertificateRequest=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var n=e.fragment,i={certificate_types:hl(n,1),certificate_authorities:hl(n,2)};t.session.certificateRequest=i,t.expect=wpt,t.process()};G.handleCertificateVerify=function(t,e,r){if(r<2)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var n=e.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s={signature:hl(n,2).getBytes()},a=it.util.createBuffer();a.putBuffer(t.session.md5.digest()),a.putBuffer(t.session.sha1.digest()),a=a.getBytes();try{var c=t.session.clientCertificate;if(!c.publicKey.verify(a,s.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");t.session.md5.update(i),t.session.sha1.update(i)}catch{return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.handshake_failure}})}t.expect=jX,t.process()};G.handleServerHelloDone=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.record_overflow}});if(t.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.insufficient_security}},i=0,s=t.verify(t,n.alert.description,i,[]);if(s!==!0)return(s||s===0)&&(typeof s=="object"&&!it.util.isArray(s)?(s.message&&(n.message=s.message),s.alert&&(n.alert.description=s.alert)):typeof s=="number"&&(n.alert.description=s)),t.error(t,n)}t.session.certificateRequest!==null&&(e=G.createRecord(t,{type:G.ContentType.handshake,data:G.createCertificate(t)}),G.queue(t,e)),e=G.createRecord(t,{type:G.ContentType.handshake,data:G.createClientKeyExchange(t)}),G.queue(t,e),t.expect=kpt;var a=o(function(c,l){c.session.certificateRequest!==null&&c.session.clientCertificate!==null&&G.queue(c,G.createRecord(c,{type:G.ContentType.handshake,data:G.createCertificateVerify(c,l)})),G.queue(c,G.createRecord(c,{type:G.ContentType.change_cipher_spec,data:G.createChangeCipherSpec()})),c.state.pending=G.createConnectionState(c),c.state.current.write=c.state.pending.write,G.queue(c,G.createRecord(c,{type:G.ContentType.handshake,data:G.createFinished(c)})),c.expect=Q_e,G.flush(c),c.process()},"callback");if(t.session.certificateRequest===null||t.session.clientCertificate===null)return a(t,null);G.getClientSignature(t,a)};G.handleChangeCipherSpec=function(t,e){if(e.fragment.getByte()!==1)return t.error(t,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var r=t.entity===G.ConnectionEnd.client;(t.session.resuming&&r||!t.session.resuming&&!r)&&(t.state.pending=G.createConnectionState(t)),t.state.current.read=t.state.pending.read,(!t.session.resuming&&r||t.session.resuming&&!r)&&(t.state.pending=null),t.expect=r?Bpt:Ppt,t.process()};G.handleFinished=function(t,e,r){var n=e.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s=e.fragment.getBytes();n=it.util.createBuffer(),n.putBuffer(t.session.md5.digest()),n.putBuffer(t.session.sha1.digest());var a=t.entity===G.ConnectionEnd.client,c=a?"server finished":"client finished",l=t.session.sp,f=12,d=YF;if(n=d(l.master_secret,c,n.getBytes(),f),n.getBytes()!==s)return t.error(t,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.decrypt_error}});t.session.md5.update(i),t.session.sha1.update(i),(t.session.resuming&&a||!t.session.resuming&&!a)&&(G.queue(t,G.createRecord(t,{type:G.ContentType.change_cipher_spec,data:G.createChangeCipherSpec()})),t.state.current.write=t.state.pending.write,t.state.pending=null,G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createFinished(t)}))),t.expect=a?Rpt:Fpt,t.handshaking=!1,++t.handshakes,t.peerCertificate=a?t.session.serverCertificate:t.session.clientCertificate,G.flush(t),t.isConnected=!0,t.connected(t),t.process()};G.handleAlert=function(t,e){var r=e.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case G.Alert.Description.close_notify:i="Connection closed.";break;case G.Alert.Description.unexpected_message:i="Unexpected message.";break;case G.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case G.Alert.Description.decryption_failed:i="Decryption failed.";break;case G.Alert.Description.record_overflow:i="Record overflow.";break;case G.Alert.Description.decompression_failure:i="Decompression failed.";break;case G.Alert.Description.handshake_failure:i="Handshake failure.";break;case G.Alert.Description.bad_certificate:i="Bad certificate.";break;case G.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case G.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case G.Alert.Description.certificate_expired:i="Certificate expired.";break;case G.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case G.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case G.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case G.Alert.Description.access_denied:i="Access denied.";break;case G.Alert.Description.decode_error:i="Decode error.";break;case G.Alert.Description.decrypt_error:i="Decrypt error.";break;case G.Alert.Description.export_restriction:i="Export restriction.";break;case G.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case G.Alert.Description.insufficient_security:i="Insufficient security.";break;case G.Alert.Description.internal_error:i="Internal error.";break;case G.Alert.Description.user_canceled:i="User canceled.";break;case G.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===G.Alert.Description.close_notify)return t.close();t.error(t,{message:i,send:!1,origin:t.entity===G.ConnectionEnd.client?"server":"client",alert:n}),t.process()};G.handleHandshake=function(t,e){var r=e.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return t.fragmented=e,e.fragment=it.util.createBuffer(),r.read-=4,t.process();t.fragmented=null,r.read-=4;var s=r.bytes(i+4);r.read+=4,n in WF[t.entity][t.expect]?(t.entity===G.ConnectionEnd.server&&!t.open&&!t.fail&&(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:it.md.md5.create(),sha1:it.md.sha1.create()}),n!==G.HandshakeType.hello_request&&n!==G.HandshakeType.certificate_verify&&n!==G.HandshakeType.finished&&(t.session.md5.update(s),t.session.sha1.update(s)),WF[t.entity][t.expect][n](t,e,i)):G.handleUnexpected(t,e)};G.handleApplicationData=function(t,e){t.data.putBuffer(e.fragment),t.dataReady(t),t.process()};G.handleHeartbeat=function(t,e){var r=e.fragment,n=r.getByte(),i=r.getInt16(),s=r.getBytes(i);if(n===G.HeartbeatMessageType.heartbeat_request){if(t.handshaking||i>s.length)return t.process();G.queue(t,G.createRecord(t,{type:G.ContentType.heartbeat,data:G.createHeartbeat(G.HeartbeatMessageType.heartbeat_response,s)})),G.flush(t)}else if(n===G.HeartbeatMessageType.heartbeat_response){if(s!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,it.util.createBuffer(s))}t.process()};var Tpt=0,_pt=1,D_e=2,Spt=3,wpt=4,Q_e=5,Bpt=6,Rpt=7,kpt=8,Dpt=0,Npt=1,zX=2,Qpt=3,jX=4,Ppt=5,Fpt=6,U=G.handleUnexpected,P_e=G.handleChangeCipherSpec,Na=G.handleAlert,R0=G.handleHandshake,F_e=G.handleApplicationData,Qa=G.handleHeartbeat,KX=[];KX[G.ConnectionEnd.client]=[[U,Na,R0,U,Qa],[U,Na,R0,U,Qa],[U,Na,R0,U,Qa],[U,Na,R0,U,Qa],[U,Na,R0,U,Qa],[P_e,Na,U,U,Qa],[U,Na,R0,U,Qa],[U,Na,R0,F_e,Qa],[U,Na,R0,U,Qa]];KX[G.ConnectionEnd.server]=[[U,Na,R0,U,Qa],[U,Na,R0,U,Qa],[U,Na,R0,U,Qa],[U,Na,R0,U,Qa],[P_e,Na,U,U,Qa],[U,Na,R0,U,Qa],[U,Na,R0,F_e,Qa],[U,Na,R0,U,Qa]];var v1=G.handleHelloRequest,Mpt=G.handleServerHello,M_e=G.handleCertificate,N_e=G.handleServerKeyExchange,YX=G.handleCertificateRequest,GF=G.handleServerHelloDone,L_e=G.handleFinished,WF=[];WF[G.ConnectionEnd.client]=[[U,U,Mpt,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U],[v1,U,U,U,U,U,U,U,U,U,U,M_e,N_e,YX,GF,U,U,U,U,U,U],[v1,U,U,U,U,U,U,U,U,U,U,U,N_e,YX,GF,U,U,U,U,U,U],[v1,U,U,U,U,U,U,U,U,U,U,U,U,YX,GF,U,U,U,U,U,U],[v1,U,U,U,U,U,U,U,U,U,U,U,U,U,GF,U,U,U,U,U,U],[v1,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U],[v1,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,L_e],[v1,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U],[v1,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U]];var Lpt=G.handleClientHello,Opt=G.handleClientKeyExchange,Upt=G.handleCertificateVerify;WF[G.ConnectionEnd.server]=[[U,Lpt,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U],[U,U,U,U,U,U,U,U,U,U,U,M_e,U,U,U,U,U,U,U,U,U],[U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,Opt,U,U,U,U],[U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,Upt,U,U,U,U,U],[U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U],[U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,L_e],[U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U],[U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U]];G.generateKeys=function(t,e){var r=YF,n=e.client_random+e.server_random;t.session.resuming||(e.master_secret=r(e.pre_master_secret,"master secret",n,48).bytes(),e.pre_master_secret=null),n=e.server_random+e.client_random;var i=2*e.mac_key_length+2*e.enc_key_length,s=t.version.major===G.Versions.TLS_1_0.major&&t.version.minor===G.Versions.TLS_1_0.minor;s&&(i+=2*e.fixed_iv_length);var a=r(e.master_secret,"key expansion",n,i),c={client_write_MAC_key:a.getBytes(e.mac_key_length),server_write_MAC_key:a.getBytes(e.mac_key_length),client_write_key:a.getBytes(e.enc_key_length),server_write_key:a.getBytes(e.enc_key_length)};return s&&(c.client_write_IV=a.getBytes(e.fixed_iv_length),c.server_write_IV=a.getBytes(e.fixed_iv_length)),c};G.createConnectionState=function(t){var e=t.entity===G.ConnectionEnd.client,r=o(function(){var s={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:o(function(a){return!0},"cipherFunction"),compressionState:null,compressFunction:o(function(a){return!0},"compressFunction"),updateSequenceNumber:o(function(){s.sequenceNumber[1]===4294967295?(s.sequenceNumber[1]=0,++s.sequenceNumber[0]):++s.sequenceNumber[1]},"updateSequenceNumber")};return s},"createMode"),n={read:r(),write:r()};if(n.read.update=function(s,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(s,a,n.read)||s.error(s,{message:"Could not decompress record.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.decompression_failure}}):s.error(s,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.bad_record_mac}}),!s.fail},n.write.update=function(s,a){return n.write.compressFunction(s,a,n.write)?n.write.cipherFunction(a,n.write)||s.error(s,{message:"Could not encrypt record.",send:!1,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}}):s.error(s,{message:"Could not compress record.",send:!1,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}}),!s.fail},t.session){var i=t.session.sp;switch(t.session.cipherSuite.initSecurityParameters(i),i.keys=G.generateKeys(t,i),n.read.macKey=e?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=e?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,t.session.cipherSuite.initConnectionState(n,t,i),i.compression_algorithm){case G.CompressionMethod.none:break;case G.CompressionMethod.deflate:n.read.compressFunction=vpt,n.write.compressFunction=bpt;break;default:throw new Error("Unsupported compression algorithm.")}}return n};G.createRandom=function(){var t=new Date,e=+t+t.getTimezoneOffset()*6e4,r=it.util.createBuffer();return r.putInt32(e),r.putBytes(it.random.getBytes(28)),r};G.createRecord=function(t,e){if(!e.data)return null;var r={type:e.type,version:{major:t.version.major,minor:t.version.minor},length:e.data.length(),fragment:e.data};return r};G.createAlert=function(t,e){var r=it.util.createBuffer();return r.putByte(e.level),r.putByte(e.description),G.createRecord(t,{type:G.ContentType.alert,data:r})};G.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var e=it.util.createBuffer(),r=0;r<t.cipherSuites.length;++r){var n=t.cipherSuites[r];e.putByte(n.id[0]),e.putByte(n.id[1])}var i=e.length(),s=it.util.createBuffer();s.putByte(G.CompressionMethod.none);var a=s.length(),c=it.util.createBuffer();if(t.virtualHost){var l=it.util.createBuffer();l.putByte(0),l.putByte(0);var f=it.util.createBuffer();f.putByte(0),yu(f,2,it.util.createBuffer(t.virtualHost));var d=it.util.createBuffer();yu(d,2,f),yu(l,2,d),c.putBuffer(l)}var h=c.length();h>0&&(h+=2);var A=t.session.id,m=A.length+1+2+4+28+2+i+1+a+h,y=it.util.createBuffer();return y.putByte(G.HandshakeType.client_hello),y.putInt24(m),y.putByte(t.version.major),y.putByte(t.version.minor),y.putBytes(t.session.sp.client_random),yu(y,1,it.util.createBuffer(A)),yu(y,2,e),yu(y,1,s),h>0&&yu(y,2,c),y};G.createServerHello=function(t){var e=t.session.id,r=e.length+1+2+4+28+2+1,n=it.util.createBuffer();return n.putByte(G.HandshakeType.server_hello),n.putInt24(r),n.putByte(t.version.major),n.putByte(t.version.minor),n.putBytes(t.session.sp.server_random),yu(n,1,it.util.createBuffer(e)),n.putByte(t.session.cipherSuite.id[0]),n.putByte(t.session.cipherSuite.id[1]),n.putByte(t.session.compressionMethod),n};G.createCertificate=function(t){var e=t.entity===G.ConnectionEnd.client,r=null;if(t.getCertificate){var n;e?n=t.session.certificateRequest:n=t.session.extensions.server_name.serverNameList,r=t.getCertificate(t,n)}var i=it.util.createBuffer();if(r!==null)try{it.util.isArray(r)||(r=[r]);for(var s=null,a=0;a<r.length;++a){var c=it.pem.decode(r[a])[0];if(c.type!=="CERTIFICATE"&&c.type!=="X509 CERTIFICATE"&&c.type!=="TRUSTED CERTIFICATE"){var l=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw l.headerType=c.type,l}if(c.procType&&c.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var f=it.util.createBuffer(c.body);s===null&&(s=it.asn1.fromDer(f.bytes(),!1));var d=it.util.createBuffer();yu(d,3,f),i.putBuffer(d)}r=it.pki.certificateFromAsn1(s),e?t.session.clientCertificate=r:t.session.serverCertificate=r}catch(m){return t.error(t,{message:"Could not send certificate list.",cause:m,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.bad_certificate}})}var h=3+i.length(),A=it.util.createBuffer();return A.putByte(G.HandshakeType.certificate),A.putInt24(h),yu(A,3,i),A};G.createClientKeyExchange=function(t){var e=it.util.createBuffer();e.putByte(t.session.clientHelloVersion.major),e.putByte(t.session.clientHelloVersion.minor),e.putBytes(it.random.getBytes(46));var r=t.session.sp;r.pre_master_secret=e.getBytes();var n=t.session.serverCertificate.publicKey;e=n.encrypt(r.pre_master_secret);var i=e.length+2,s=it.util.createBuffer();return s.putByte(G.HandshakeType.client_key_exchange),s.putInt24(i),s.putInt16(e.length),s.putBytes(e),s};G.createServerKeyExchange=function(t){var e=0,r=it.util.createBuffer();return e>0&&(r.putByte(G.HandshakeType.server_key_exchange),r.putInt24(e)),r};G.getClientSignature=function(t,e){var r=it.util.createBuffer();r.putBuffer(t.session.md5.digest()),r.putBuffer(t.session.sha1.digest()),r=r.getBytes(),t.getSignature=t.getSignature||function(n,i,s){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=it.pki.privateKeyFromPem(a)}catch(c){n.error(n,{message:"Could not get private key.",cause:c,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}}):i=a.sign(i,null),s(n,i)},t.getSignature(t,r,e)};G.createCertificateVerify=function(t,e){var r=e.length+2,n=it.util.createBuffer();return n.putByte(G.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(e.length),n.putBytes(e),n};G.createCertificateRequest=function(t){var e=it.util.createBuffer();e.putByte(1);var r=it.util.createBuffer();for(var n in t.caStore.certs){var i=t.caStore.certs[n],s=it.pki.distinguishedNameToAsn1(i.subject),a=it.asn1.toDer(s);r.putInt16(a.length()),r.putBuffer(a)}var c=1+e.length()+2+r.length(),l=it.util.createBuffer();return l.putByte(G.HandshakeType.certificate_request),l.putInt24(c),yu(l,1,e),yu(l,2,r),l};G.createServerHelloDone=function(t){var e=it.util.createBuffer();return e.putByte(G.HandshakeType.server_hello_done),e.putInt24(0),e};G.createChangeCipherSpec=function(){var t=it.util.createBuffer();return t.putByte(1),t};G.createFinished=function(t){var e=it.util.createBuffer();e.putBuffer(t.session.md5.digest()),e.putBuffer(t.session.sha1.digest());var r=t.entity===G.ConnectionEnd.client,n=t.session.sp,i=12,s=YF,a=r?"client finished":"server finished";e=s(n.master_secret,a,e.getBytes(),i);var c=it.util.createBuffer();return c.putByte(G.HandshakeType.finished),c.putInt24(e.length()),c.putBuffer(e),c};G.createHeartbeat=function(t,e,r){typeof r>"u"&&(r=e.length);var n=it.util.createBuffer();n.putByte(t),n.putInt16(r),n.putBytes(e);var i=n.length(),s=Math.max(16,i-r-3);return n.putBytes(it.random.getBytes(s)),n};G.queue=function(t,e){if(e&&!(e.fragment.length()===0&&(e.type===G.ContentType.handshake||e.type===G.ContentType.alert||e.type===G.ContentType.change_cipher_spec))){if(e.type===G.ContentType.handshake){var r=e.fragment.bytes();t.session.md5.update(r),t.session.sha1.update(r),r=null}var n;if(e.fragment.length()<=G.MaxFragment)n=[e];else{n=[];for(var i=e.fragment.bytes();i.length>G.MaxFragment;)n.push(G.createRecord(t,{type:e.type,data:it.util.createBuffer(i.slice(0,G.MaxFragment))})),i=i.slice(G.MaxFragment);i.length>0&&n.push(G.createRecord(t,{type:e.type,data:it.util.createBuffer(i)}))}for(var s=0;s<n.length&&!t.fail;++s){var a=n[s],c=t.state.current.write;c.update(t,a)&&t.records.push(a)}}};G.flush=function(t){for(var e=0;e<t.records.length;++e){var r=t.records[e];t.tlsData.putByte(r.type),t.tlsData.putByte(r.version.major),t.tlsData.putByte(r.version.minor),t.tlsData.putInt16(r.fragment.length()),t.tlsData.putBuffer(t.records[e].fragment)}return t.records=[],t.tlsDataReady(t)};var $X=o(function(t){switch(t){case!0:return!0;case it.pki.certificateError.bad_certificate:return G.Alert.Description.bad_certificate;case it.pki.certificateError.unsupported_certificate:return G.Alert.Description.unsupported_certificate;case it.pki.certificateError.certificate_revoked:return G.Alert.Description.certificate_revoked;case it.pki.certificateError.certificate_expired:return G.Alert.Description.certificate_expired;case it.pki.certificateError.certificate_unknown:return G.Alert.Description.certificate_unknown;case it.pki.certificateError.unknown_ca:return G.Alert.Description.unknown_ca;default:return G.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),Hpt=o(function(t){switch(t){case!0:return!0;case G.Alert.Description.bad_certificate:return it.pki.certificateError.bad_certificate;case G.Alert.Description.unsupported_certificate:return it.pki.certificateError.unsupported_certificate;case G.Alert.Description.certificate_revoked:return it.pki.certificateError.certificate_revoked;case G.Alert.Description.certificate_expired:return it.pki.certificateError.certificate_expired;case G.Alert.Description.certificate_unknown:return it.pki.certificateError.certificate_unknown;case G.Alert.Description.unknown_ca:return it.pki.certificateError.unknown_ca;default:return it.pki.certificateError.bad_certificate}},"_alertDescToCertError");G.verifyCertificateChain=function(t,e){try{var r={};for(var n in t.verifyOptions)r[n]=t.verifyOptions[n];r.verify=function(s,a,c){var l=$X(s),f=t.verify(t,s,a,c);if(f!==!0){if(typeof f=="object"&&!it.util.isArray(f)){var d=new Error("The application rejected the certificate.");throw d.send=!0,d.alert={level:G.Alert.Level.fatal,description:G.Alert.Description.bad_certificate},f.message&&(d.message=f.message),f.alert&&(d.alert.description=f.alert),d}f!==s&&(f=Hpt(f))}return f},it.pki.verifyCertificateChain(t.caStore,e,r)}catch(s){var i=s;(typeof i!="object"||it.util.isArray(i))&&(i={send:!0,alert:{level:G.Alert.Level.fatal,description:$X(s)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:G.Alert.Level.fatal,description:$X(i.error)}),t.error(t,i)}return!t.fail};G.createSessionCache=function(t,e){var r=null;if(t&&t.getSession&&t.setSession&&t.order)r=t;else{r={},r.cache=t||{},r.capacity=Math.max(e||100,1),r.order=[];for(var n in t)r.order.length<=e?r.order.push(n):delete t[n];r.getSession=function(i){var s=null,a=null;if(i?a=it.util.bytesToHex(i):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){s=r.cache[a],delete r.cache[a];for(var c in r.order)if(r.order[c]===a){r.order.splice(c,1);break}}return s},r.setSession=function(i,s){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=it.util.bytesToHex(i);r.order.push(a),r.cache[a]=s}}return r};G.createConnection=function(t){var e=null;t.caStore?it.util.isArray(t.caStore)?e=it.pki.createCaStore(t.caStore):e=t.caStore:e=it.pki.createCaStore();var r=t.cipherSuites||null;if(r===null){r=[];for(var n in G.CipherSuites)r.push(G.CipherSuites[n])}var i=t.server?G.ConnectionEnd.server:G.ConnectionEnd.client,s=t.sessionCache?G.createSessionCache(t.sessionCache):null,a={version:{major:G.Version.major,minor:G.Version.minor},entity:i,sessionId:t.sessionId,caStore:e,sessionCache:s,cipherSuites:r,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(d,h,A,m){return h},verifyOptions:t.verifyOptions||{},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:it.util.createBuffer(),tlsData:it.util.createBuffer(),data:it.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:o(function(d,h){h.origin=h.origin||(d.entity===G.ConnectionEnd.client?"client":"server"),h.send&&(G.queue(d,G.createAlert(d,h.alert)),G.flush(d));var A=h.fatal!==!1;A&&(d.fail=!0),t.error(d,h),A&&d.close(!1)},"error"),deflate:t.deflate||null,inflate:t.inflate||null};a.reset=function(d){a.version={major:G.Version.major,minor:G.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===G.ConnectionEnd.client?Tpt:Dpt,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(d||typeof d>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=G.createConnectionState(a)},a.reset();var c=o(function(d,h){var A=h.type-G.ContentType.change_cipher_spec,m=KX[d.entity][d.expect];A in m?m[A](d,h):G.handleUnexpected(d,h)},"_update"),l=o(function(d){var h=0,A=d.input,m=A.length();if(m<5)h=5-m;else{d.record={type:A.getByte(),version:{major:A.getByte(),minor:A.getByte()},length:A.getInt16(),fragment:it.util.createBuffer(),ready:!1};var y=d.record.version.major===d.version.major;y&&d.session&&d.session.version&&(y=d.record.version.minor===d.version.minor),y||d.error(d,{message:"Incompatible TLS version.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.protocol_version}})}return h},"_readRecordHeader"),f=o(function(d){var h=0,A=d.input,m=A.length();if(m<d.record.length)h=d.record.length-m;else{d.record.fragment.putBytes(A.getBytes(d.record.length)),A.compact();var y=d.state.current.read;y.update(d,d.record)&&(d.fragmented!==null&&(d.fragmented.type===d.record.type?(d.fragmented.fragment.putBuffer(d.record.fragment),d.record=d.fragmented):d.error(d,{message:"Invalid fragmented record.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unexpected_message}})),d.record.ready=!0)}return h},"_readRecord");return a.handshake=function(d){if(a.entity!==G.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,d=d||"";var h=null;d.length>0&&(a.sessionCache&&(h=a.sessionCache.getSession(d)),h===null&&(d="")),d.length===0&&a.sessionCache&&(h=a.sessionCache.getSession(),h!==null&&(d=h.id)),a.session={id:d,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:it.md.md5.create(),sha1:it.md.sha1.create()},h&&(a.version=h.version,a.session.sp=h.sp),a.session.sp.client_random=G.createRandom().getBytes(),a.open=!0,G.queue(a,G.createRecord(a,{type:G.ContentType.handshake,data:G.createClientHello(a)})),G.flush(a)}},a.process=function(d){var h=0;return d&&a.input.putBytes(d),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(h=l(a)),!a.fail&&a.record!==null&&!a.record.ready&&(h=f(a)),!a.fail&&a.record!==null&&a.record.ready&&c(a,a.record)),h},a.prepare=function(d){return G.queue(a,G.createRecord(a,{type:G.ContentType.application_data,data:it.util.createBuffer(d)})),G.flush(a)},a.prepareHeartbeatRequest=function(d,h){return d instanceof it.util.ByteBuffer&&(d=d.bytes()),typeof h>"u"&&(h=d.length),a.expectedHeartbeatPayload=d,G.queue(a,G.createRecord(a,{type:G.ContentType.heartbeat,data:G.createHeartbeat(G.HeartbeatMessageType.heartbeat_request,d,h)})),G.flush(a)},a.close=function(d){if(!a.fail&&a.sessionCache&&a.session){var h={id:a.session.id,version:a.session.version,sp:a.session.sp};h.sp.keys=null,a.sessionCache.setSession(h.id,h)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,G.queue(a,G.createAlert(a,{level:G.Alert.Level.warning,description:G.Alert.Description.close_notify})),G.flush(a)),a.closed(a)),a.reset(d)},a};O_e.exports=it.tls=it.tls||{};for(VF in G)typeof G[VF]!="function"&&(it.tls[VF]=G[VF]);var VF;it.tls.prf_tls1=YF;it.tls.hmac_sha1=xpt;it.tls.createSessionCache=G.createSessionCache;it.tls.createConnection=G.createConnection});var q_e=q((BJr,H_e)=>{u();var T1=tn();y1();JX();var Cu=H_e.exports=T1.tls;Cu.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:o(function(t){t.bulk_cipher_algorithm=Cu.BulkCipherAlgorithm.aes,t.cipher_type=Cu.CipherType.block,t.enc_key_length=16,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=Cu.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},"initSecurityParameters"),initConnectionState:U_e};Cu.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:o(function(t){t.bulk_cipher_algorithm=Cu.BulkCipherAlgorithm.aes,t.cipher_type=Cu.CipherType.block,t.enc_key_length=32,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=Cu.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},"initSecurityParameters"),initConnectionState:U_e};function U_e(t,e,r){var n=e.entity===T1.tls.ConnectionEnd.client;t.read.cipherState={init:!1,cipher:T1.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},t.write.cipherState={init:!1,cipher:T1.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},t.read.cipherFunction=Wpt,t.write.cipherFunction=qpt,t.read.macLength=t.write.macLength=r.mac_length,t.read.macFunction=t.write.macFunction=Cu.hmac_sha1}o(U_e,"initConnectionState");function qpt(t,e){var r=!1,n=e.macFunction(e.macKey,e.sequenceNumber,t);t.fragment.putBytes(n),e.updateSequenceNumber();var i;t.version.minor===Cu.Versions.TLS_1_0.minor?i=e.cipherState.init?null:e.cipherState.iv:i=T1.random.getBytesSync(16),e.cipherState.init=!0;var s=e.cipherState.cipher;return s.start({iv:i}),t.version.minor>=Cu.Versions.TLS_1_1.minor&&s.output.putBytes(i),s.update(t.fragment),s.finish(Gpt)&&(t.fragment=s.output,t.length=t.fragment.length(),r=!0),r}o(qpt,"encrypt_aes_cbc_sha1");function Gpt(t,e,r){if(!r){var n=t-e.length()%t;e.fillWithByte(n-1,n)}return!0}o(Gpt,"encrypt_aes_cbc_sha1_padding");function Vpt(t,e,r){var n=!0;if(r){for(var i=e.length(),s=e.last(),a=i-1-s;a<i-1;++a)n=n&&e.at(a)==s;n&&e.truncate(s+1)}return n}o(Vpt,"decrypt_aes_cbc_sha1_padding");function Wpt(t,e){var r=!1,n;t.version.minor===Cu.Versions.TLS_1_0.minor?n=e.cipherState.init?null:e.cipherState.iv:n=t.fragment.getBytes(16),e.cipherState.init=!0;var i=e.cipherState.cipher;i.start({iv:n}),i.update(t.fragment),r=i.finish(Vpt);var s=e.macLength,a=T1.random.getBytesSync(s),c=i.output.length();c>=s?(t.fragment=i.output.getBytes(c-s),a=i.output.getBytes(s)):t.fragment=i.output.getBytes(),t.fragment=T1.util.createBuffer(t.fragment),t.length=t.fragment.length();var l=e.macFunction(e.macKey,e.sequenceNumber,t);return e.updateSequenceNumber(),r=Ypt(e.macKey,a,l)&&r,r}o(Wpt,"decrypt_aes_cbc_sha1");function Ypt(t,e,r){var n=T1.hmac.create();return n.start("SHA1",t),n.update(e),e=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),e===r}o(Ypt,"compareMacs")});var eZ=q((DJr,Y_e)=>{u();var to=tn();fh();ri();var Ow=Y_e.exports=to.sha512=to.sha512||{};to.md.sha512=to.md.algorithms.sha512=Ow;var V_e=to.sha384=to.sha512.sha384=to.sha512.sha384||{};V_e.create=function(){return Ow.create("SHA-384")};to.md.sha384=to.md.algorithms.sha384=V_e;to.sha512.sha256=to.sha512.sha256||{create:o(function(){return Ow.create("SHA-512/256")},"create")};to.md["sha512/256"]=to.md.algorithms["sha512/256"]=to.sha512.sha256;to.sha512.sha224=to.sha512.sha224||{create:o(function(){return Ow.create("SHA-512/224")},"create")};to.md["sha512/224"]=to.md.algorithms["sha512/224"]=to.sha512.sha224;Ow.create=function(t){if(W_e||$pt(),typeof t>"u"&&(t="SHA-512"),!(t in zE))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=zE[t],r=null,n=to.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var a=64;switch(t){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var c={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return c.start=function(){c.messageLength=0,c.fullMessageLength=c.messageLength128=[];for(var l=c.messageLengthSize/4,f=0;f<l;++f)c.fullMessageLength.push(0);n=to.util.createBuffer(),r=new Array(e.length);for(var f=0;f<e.length;++f)r[f]=e[f].slice(0);return c},c.start(),c.update=function(l,f){f==="utf8"&&(l=to.util.encodeUtf8(l));var d=l.length;c.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var h=c.fullMessageLength.length-1;h>=0;--h)c.fullMessageLength[h]+=d[1],d[1]=d[0]+(c.fullMessageLength[h]/4294967296>>>0),c.fullMessageLength[h]=c.fullMessageLength[h]>>>0,d[0]=d[1]/4294967296>>>0;return n.putBytes(l),G_e(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),c},c.digest=function(){var l=to.util.createBuffer();l.putBytes(n.bytes());var f=c.fullMessageLength[c.fullMessageLength.length-1]+c.messageLengthSize,d=f&c.blockLength-1;l.putBytes(XX.substr(0,c.blockLength-d));for(var h,A,m=c.fullMessageLength[0]*8,y=0;y<c.fullMessageLength.length-1;++y)h=c.fullMessageLength[y+1]*8,A=h/4294967296>>>0,m+=A,l.putInt32(m>>>0),m=h>>>0;l.putInt32(m);for(var x=new Array(r.length),y=0;y<r.length;++y)x[y]=r[y].slice(0);G_e(x,i,l);var _=to.util.createBuffer(),T;t==="SHA-512"?T=x.length:t==="SHA-384"?T=x.length-2:T=x.length-4;for(var y=0;y<T;++y)_.putInt32(x[y][0]),(y!==T-1||t!=="SHA-512/224")&&_.putInt32(x[y][1]);return _},c};var XX=null,W_e=!1,ZX=null,zE=null;function $pt(){XX="\x80",XX+=to.util.fillString("\0",128),ZX=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],zE={},zE["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],zE["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],zE["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],zE["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],W_e=!0}o($pt,"_init");function G_e(t,e,r){for(var n,i,s,a,c,l,f,d,h,A,m,y,x,_,T,S,k,N,P,L,Y,te,ne,pe,W,$,Ie,fe,X,H,Z,ee,ae,ie,ue,Ae=r.length();Ae>=128;){for(X=0;X<16;++X)e[X][0]=r.getInt32()>>>0,e[X][1]=r.getInt32()>>>0;for(;X<80;++X)ee=e[X-2],H=ee[0],Z=ee[1],n=((H>>>19|Z<<13)^(Z>>>29|H<<3)^H>>>6)>>>0,i=((H<<13|Z>>>19)^(Z<<3|H>>>29)^(H<<26|Z>>>6))>>>0,ie=e[X-15],H=ie[0],Z=ie[1],s=((H>>>1|Z<<31)^(H>>>8|Z<<24)^H>>>7)>>>0,a=((H<<31|Z>>>1)^(H<<24|Z>>>8)^(H<<25|Z>>>7))>>>0,ae=e[X-7],ue=e[X-16],Z=i+ae[1]+a+ue[1],e[X][0]=n+ae[0]+s+ue[0]+(Z/4294967296>>>0)>>>0,e[X][1]=Z>>>0;for(x=t[0][0],_=t[0][1],T=t[1][0],S=t[1][1],k=t[2][0],N=t[2][1],P=t[3][0],L=t[3][1],Y=t[4][0],te=t[4][1],ne=t[5][0],pe=t[5][1],W=t[6][0],$=t[6][1],Ie=t[7][0],fe=t[7][1],X=0;X<80;++X)f=((Y>>>14|te<<18)^(Y>>>18|te<<14)^(te>>>9|Y<<23))>>>0,d=((Y<<18|te>>>14)^(Y<<14|te>>>18)^(te<<23|Y>>>9))>>>0,h=(W^Y&(ne^W))>>>0,A=($^te&(pe^$))>>>0,c=((x>>>28|_<<4)^(_>>>2|x<<30)^(_>>>7|x<<25))>>>0,l=((x<<4|_>>>28)^(_<<30|x>>>2)^(_<<25|x>>>7))>>>0,m=(x&T|k&(x^T))>>>0,y=(_&S|N&(_^S))>>>0,Z=fe+d+A+ZX[X][1]+e[X][1],n=Ie+f+h+ZX[X][0]+e[X][0]+(Z/4294967296>>>0)>>>0,i=Z>>>0,Z=l+y,s=c+m+(Z/4294967296>>>0)>>>0,a=Z>>>0,Ie=W,fe=$,W=ne,$=pe,ne=Y,pe=te,Z=L+i,Y=P+n+(Z/4294967296>>>0)>>>0,te=Z>>>0,P=k,L=N,k=T,N=S,T=x,S=_,Z=i+a,x=n+s+(Z/4294967296>>>0)>>>0,_=Z>>>0;Z=t[0][1]+_,t[0][0]=t[0][0]+x+(Z/4294967296>>>0)>>>0,t[0][1]=Z>>>0,Z=t[1][1]+S,t[1][0]=t[1][0]+T+(Z/4294967296>>>0)>>>0,t[1][1]=Z>>>0,Z=t[2][1]+N,t[2][0]=t[2][0]+k+(Z/4294967296>>>0)>>>0,t[2][1]=Z>>>0,Z=t[3][1]+L,t[3][0]=t[3][0]+P+(Z/4294967296>>>0)>>>0,t[3][1]=Z>>>0,Z=t[4][1]+te,t[4][0]=t[4][0]+Y+(Z/4294967296>>>0)>>>0,t[4][1]=Z>>>0,Z=t[5][1]+pe,t[5][0]=t[5][0]+ne+(Z/4294967296>>>0)>>>0,t[5][1]=Z>>>0,Z=t[6][1]+$,t[6][0]=t[6][0]+W+(Z/4294967296>>>0)>>>0,t[6][1]=Z>>>0,Z=t[7][1]+fe,t[7][0]=t[7][0]+Ie+(Z/4294967296>>>0)>>>0,t[7][1]=Z>>>0,Ae-=128}}o(G_e,"_update")});var $_e=q(tZ=>{u();var zpt=tn();Nf();var la=zpt.asn1;tZ.privateKeyValidator={name:"PrivateKeyInfo",tagClass:la.Class.UNIVERSAL,type:la.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:la.Class.UNIVERSAL,type:la.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:la.Class.UNIVERSAL,type:la.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:la.Class.UNIVERSAL,type:la.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:la.Class.UNIVERSAL,type:la.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};tZ.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:la.Class.UNIVERSAL,type:la.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:la.Class.UNIVERSAL,type:la.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:la.Class.UNIVERSAL,type:la.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:la.Class.UNIVERSAL,type:la.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var s3e=q((MJr,o3e)=>{u();var Pa=tn();Pw();Au();eZ();ri();var Z_e=$_e(),jpt=Z_e.publicKeyValidator,Kpt=Z_e.privateKeyValidator;typeof z_e>"u"&&(z_e=Pa.jsbn.BigInteger);var z_e,iZ=Pa.util.ByteBuffer,Ic=typeof Buffer>"u"?Uint8Array:Buffer;Pa.pki=Pa.pki||{};o3e.exports=Pa.pki.ed25519=Pa.ed25519=Pa.ed25519||{};var En=Pa.ed25519;En.constants={};En.constants.PUBLIC_KEY_BYTE_LENGTH=32;En.constants.PRIVATE_KEY_BYTE_LENGTH=64;En.constants.SEED_BYTE_LENGTH=32;En.constants.SIGN_BYTE_LENGTH=64;En.constants.HASH_BYTE_LENGTH=64;En.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=Pa.random.getBytesSync(En.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==En.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+En.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=sp({message:e,encoding:"binary"});for(var r=new Ic(En.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Ic(En.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=e[i];return emt(r,n),{publicKey:r,privateKey:n}};En.privateKeyFromAsn1=function(t){var e={},r=[],n=Pa.asn1.validate(t,Kpt,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=Pa.asn1.derToOid(e.privateKeyOid),a=Pa.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var c=e.privateKey,l=sp({message:Pa.asn1.fromDer(c).value,encoding:"binary"});return{privateKeyBytes:l}};En.publicKeyFromAsn1=function(t){var e={},r=[],n=Pa.asn1.validate(t,jpt,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=Pa.asn1.derToOid(e.publicKeyOid),a=Pa.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var c=e.ed25519PublicKey;if(c.length!==En.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return sp({message:c,encoding:"binary"})};En.publicKeyFromPrivateKey=function(t){t=t||{};var e=sp({message:t.privateKey,encoding:"binary"});if(e.length!==En.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+En.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Ic(En.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=e[32+n];return r};En.sign=function(t){t=t||{};var e=sp(t),r=sp({message:t.privateKey,encoding:"binary"});if(r.length===En.constants.SEED_BYTE_LENGTH){var n=En.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==En.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+En.constants.SEED_BYTE_LENGTH+" or "+En.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new Ic(En.constants.SIGN_BYTE_LENGTH+e.length);tmt(i,e,e.length,r);for(var s=new Ic(En.constants.SIGN_BYTE_LENGTH),a=0;a<s.length;++a)s[a]=i[a];return s};En.verify=function(t){t=t||{};var e=sp(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=sp({message:t.signature,encoding:"binary"});if(r.length!==En.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+En.constants.SIGN_BYTE_LENGTH);var n=sp({message:t.publicKey,encoding:"binary"});if(n.length!==En.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+En.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new Ic(En.constants.SIGN_BYTE_LENGTH+e.length),s=new Ic(En.constants.SIGN_BYTE_LENGTH+e.length),a;for(a=0;a<En.constants.SIGN_BYTE_LENGTH;++a)i[a]=r[a];for(a=0;a<e.length;++a)i[a+En.constants.SIGN_BYTE_LENGTH]=e[a];return rmt(s,i,i.length,n)>=0};function sp(t){var e=t.message;if(e instanceof Uint8Array||e instanceof Ic)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.from(e,r);e=new iZ(e,r)}else if(!(e instanceof iZ))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Ic(e.length()),i=0;i<n.length;++i)n[i]=e.at(i);return n}o(sp,"messageToNativeBuffer");var oZ=dr(),$F=dr([1]),Jpt=dr([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Xpt=dr([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),j_e=dr([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),K_e=dr([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),rZ=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),Zpt=dr([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Uw(t,e){var r=Pa.md.sha512.create(),n=new iZ(t);r.update(n.getBytes(e),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var s=new Ic(En.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)s[a]=i.charCodeAt(a);return s}o(Uw,"sha512");function emt(t,e){var r=[dr(),dr(),dr(),dr()],n,i=Uw(e,32);for(i[0]&=248,i[31]&=127,i[31]|=64,lZ(r,i),cZ(t,r),n=0;n<32;++n)e[n+32]=t[n];return 0}o(emt,"crypto_sign_keypair");function tmt(t,e,r,n){var i,s,a=new Float64Array(64),c=[dr(),dr(),dr(),dr()],l=Uw(n,32);l[0]&=248,l[31]&=127,l[31]|=64;var f=r+64;for(i=0;i<r;++i)t[64+i]=e[i];for(i=0;i<32;++i)t[32+i]=l[32+i];var d=Uw(t.subarray(32),r+32);for(sZ(d),lZ(c,d),cZ(t,c),i=32;i<64;++i)t[i]=n[i];var h=Uw(t,r+64);for(sZ(h),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=d[i];for(i=0;i<32;++i)for(s=0;s<32;s++)a[i+s]+=h[i]*l[s];return e3e(t.subarray(32),a),f}o(tmt,"crypto_sign");function rmt(t,e,r,n){var i,s,a=new Ic(32),c=[dr(),dr(),dr(),dr()],l=[dr(),dr(),dr(),dr()];if(s=-1,r<64||nmt(l,n))return-1;for(i=0;i<r;++i)t[i]=e[i];for(i=0;i<32;++i)t[i+32]=n[i];var f=Uw(t,r);if(sZ(f),n3e(c,l,f),lZ(l,e.subarray(32)),aZ(c,l),cZ(a,c),r-=64,t3e(e,0,a,0)){for(i=0;i<r;++i)t[i]=0;return-1}for(i=0;i<r;++i)t[i]=e[i+64];return s=r,s}o(rmt,"crypto_sign_open");function e3e(t,e){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)e[i]+=r-16*e[n]*rZ[i-(n-32)],r=e[i]+128>>8,e[i]-=r*256;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;++i)e[i]+=r-(e[31]>>4)*rZ[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;++i)e[i]-=r*rZ[i];for(n=0;n<32;++n)e[n+1]+=e[n]>>8,t[n]=e[n]&255}o(e3e,"modL");function sZ(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;e3e(t,e)}o(sZ,"reduce");function aZ(t,e){var r=dr(),n=dr(),i=dr(),s=dr(),a=dr(),c=dr(),l=dr(),f=dr(),d=dr();a5(r,t[1],t[0]),a5(d,e[1],e[0]),Di(r,r,d),s5(n,t[0],t[1]),s5(d,e[0],e[1]),Di(n,n,d),Di(i,t[3],e[3]),Di(i,i,Xpt),Di(s,t[2],e[2]),s5(s,s,s),a5(a,n,r),a5(c,s,i),s5(l,s,i),s5(f,n,r),Di(t[0],a,c),Di(t[1],f,l),Di(t[2],l,c),Di(t[3],a,f)}o(aZ,"add");function J_e(t,e,r){for(var n=0;n<4;++n)i3e(t[n],e[n],r)}o(J_e,"cswap");function cZ(t,e){var r=dr(),n=dr(),i=dr();amt(i,e[2]),Di(r,e[0],i),Di(n,e[1],i),zF(t,n),t[31]^=r3e(r)<<7}o(cZ,"pack");function zF(t,e){var r,n,i,s=dr(),a=dr();for(r=0;r<16;++r)a[r]=e[r];for(nZ(a),nZ(a),nZ(a),n=0;n<2;++n){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,i3e(a,s,1-i)}for(r=0;r<16;r++)t[2*r]=a[r]&255,t[2*r+1]=a[r]>>8}o(zF,"pack25519");function nmt(t,e){var r=dr(),n=dr(),i=dr(),s=dr(),a=dr(),c=dr(),l=dr();return _1(t[2],$F),imt(t[1],e),jE(i,t[1]),Di(s,i,Jpt),a5(i,i,t[2]),s5(s,t[2],s),jE(a,s),jE(c,a),Di(l,c,a),Di(r,l,i),Di(r,r,s),omt(r,r),Di(r,r,i),Di(r,r,s),Di(r,r,s),Di(t[0],r,s),jE(n,t[0]),Di(n,n,s),X_e(n,i)&&Di(t[0],t[0],Zpt),jE(n,t[0]),Di(n,n,s),X_e(n,i)?-1:(r3e(t[0])===e[31]>>7&&a5(t[0],oZ,t[0]),Di(t[3],t[0],t[1]),0)}o(nmt,"unpackneg");function imt(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}o(imt,"unpack25519");function omt(t,e){var r=dr(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=250;n>=0;--n)jE(r,r),n!==1&&Di(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}o(omt,"pow2523");function X_e(t,e){var r=new Ic(32),n=new Ic(32);return zF(r,t),zF(n,e),t3e(r,0,n,0)}o(X_e,"neq25519");function t3e(t,e,r,n){return smt(t,e,r,n,32)}o(t3e,"crypto_verify_32");function smt(t,e,r,n,i){var s,a=0;for(s=0;s<i;++s)a|=t[e+s]^r[n+s];return(1&a-1>>>8)-1}o(smt,"vn");function r3e(t){var e=new Ic(32);return zF(e,t),e[0]&1}o(r3e,"par25519");function n3e(t,e,r){var n,i;for(_1(t[0],oZ),_1(t[1],$F),_1(t[2],$F),_1(t[3],oZ),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,J_e(t,e,n),aZ(e,t),aZ(t,t),J_e(t,e,n)}o(n3e,"scalarmult");function lZ(t,e){var r=[dr(),dr(),dr(),dr()];_1(r[0],j_e),_1(r[1],K_e),_1(r[2],$F),Di(r[3],j_e,K_e),n3e(t,r,e)}o(lZ,"scalarbase");function _1(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}o(_1,"set25519");function amt(t,e){var r=dr(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=253;n>=0;--n)jE(r,r),n!==2&&n!==4&&Di(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}o(amt,"inv25519");function nZ(t){var e,r,n=1;for(e=0;e<16;++e)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-n*65536;t[0]+=n-1+37*(n-1)}o(nZ,"car25519");function i3e(t,e,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(t[s]^e[s]),t[s]^=n,e[s]^=n}o(i3e,"sel25519");function dr(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}o(dr,"gf");function s5(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]+r[n]}o(s5,"A");function a5(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]-r[n]}o(a5,"Z");function jE(t,e){Di(t,e,e)}o(jE,"S");function Di(t,e,r){var n,i,s=0,a=0,c=0,l=0,f=0,d=0,h=0,A=0,m=0,y=0,x=0,_=0,T=0,S=0,k=0,N=0,P=0,L=0,Y=0,te=0,ne=0,pe=0,W=0,$=0,Ie=0,fe=0,X=0,H=0,Z=0,ee=0,ae=0,ie=r[0],ue=r[1],Ae=r[2],Ke=r[3],tt=r[4],ct=r[5],Ct=r[6],Gt=r[7],Ur=r[8],kn=r[9],br=r[10],se=r[11],Je=r[12],me=r[13],ut=r[14],ot=r[15];n=e[0],s+=n*ie,a+=n*ue,c+=n*Ae,l+=n*Ke,f+=n*tt,d+=n*ct,h+=n*Ct,A+=n*Gt,m+=n*Ur,y+=n*kn,x+=n*br,_+=n*se,T+=n*Je,S+=n*me,k+=n*ut,N+=n*ot,n=e[1],a+=n*ie,c+=n*ue,l+=n*Ae,f+=n*Ke,d+=n*tt,h+=n*ct,A+=n*Ct,m+=n*Gt,y+=n*Ur,x+=n*kn,_+=n*br,T+=n*se,S+=n*Je,k+=n*me,N+=n*ut,P+=n*ot,n=e[2],c+=n*ie,l+=n*ue,f+=n*Ae,d+=n*Ke,h+=n*tt,A+=n*ct,m+=n*Ct,y+=n*Gt,x+=n*Ur,_+=n*kn,T+=n*br,S+=n*se,k+=n*Je,N+=n*me,P+=n*ut,L+=n*ot,n=e[3],l+=n*ie,f+=n*ue,d+=n*Ae,h+=n*Ke,A+=n*tt,m+=n*ct,y+=n*Ct,x+=n*Gt,_+=n*Ur,T+=n*kn,S+=n*br,k+=n*se,N+=n*Je,P+=n*me,L+=n*ut,Y+=n*ot,n=e[4],f+=n*ie,d+=n*ue,h+=n*Ae,A+=n*Ke,m+=n*tt,y+=n*ct,x+=n*Ct,_+=n*Gt,T+=n*Ur,S+=n*kn,k+=n*br,N+=n*se,P+=n*Je,L+=n*me,Y+=n*ut,te+=n*ot,n=e[5],d+=n*ie,h+=n*ue,A+=n*Ae,m+=n*Ke,y+=n*tt,x+=n*ct,_+=n*Ct,T+=n*Gt,S+=n*Ur,k+=n*kn,N+=n*br,P+=n*se,L+=n*Je,Y+=n*me,te+=n*ut,ne+=n*ot,n=e[6],h+=n*ie,A+=n*ue,m+=n*Ae,y+=n*Ke,x+=n*tt,_+=n*ct,T+=n*Ct,S+=n*Gt,k+=n*Ur,N+=n*kn,P+=n*br,L+=n*se,Y+=n*Je,te+=n*me,ne+=n*ut,pe+=n*ot,n=e[7],A+=n*ie,m+=n*ue,y+=n*Ae,x+=n*Ke,_+=n*tt,T+=n*ct,S+=n*Ct,k+=n*Gt,N+=n*Ur,P+=n*kn,L+=n*br,Y+=n*se,te+=n*Je,ne+=n*me,pe+=n*ut,W+=n*ot,n=e[8],m+=n*ie,y+=n*ue,x+=n*Ae,_+=n*Ke,T+=n*tt,S+=n*ct,k+=n*Ct,N+=n*Gt,P+=n*Ur,L+=n*kn,Y+=n*br,te+=n*se,ne+=n*Je,pe+=n*me,W+=n*ut,$+=n*ot,n=e[9],y+=n*ie,x+=n*ue,_+=n*Ae,T+=n*Ke,S+=n*tt,k+=n*ct,N+=n*Ct,P+=n*Gt,L+=n*Ur,Y+=n*kn,te+=n*br,ne+=n*se,pe+=n*Je,W+=n*me,$+=n*ut,Ie+=n*ot,n=e[10],x+=n*ie,_+=n*ue,T+=n*Ae,S+=n*Ke,k+=n*tt,N+=n*ct,P+=n*Ct,L+=n*Gt,Y+=n*Ur,te+=n*kn,ne+=n*br,pe+=n*se,W+=n*Je,$+=n*me,Ie+=n*ut,fe+=n*ot,n=e[11],_+=n*ie,T+=n*ue,S+=n*Ae,k+=n*Ke,N+=n*tt,P+=n*ct,L+=n*Ct,Y+=n*Gt,te+=n*Ur,ne+=n*kn,pe+=n*br,W+=n*se,$+=n*Je,Ie+=n*me,fe+=n*ut,X+=n*ot,n=e[12],T+=n*ie,S+=n*ue,k+=n*Ae,N+=n*Ke,P+=n*tt,L+=n*ct,Y+=n*Ct,te+=n*Gt,ne+=n*Ur,pe+=n*kn,W+=n*br,$+=n*se,Ie+=n*Je,fe+=n*me,X+=n*ut,H+=n*ot,n=e[13],S+=n*ie,k+=n*ue,N+=n*Ae,P+=n*Ke,L+=n*tt,Y+=n*ct,te+=n*Ct,ne+=n*Gt,pe+=n*Ur,W+=n*kn,$+=n*br,Ie+=n*se,fe+=n*Je,X+=n*me,H+=n*ut,Z+=n*ot,n=e[14],k+=n*ie,N+=n*ue,P+=n*Ae,L+=n*Ke,Y+=n*tt,te+=n*ct,ne+=n*Ct,pe+=n*Gt,W+=n*Ur,$+=n*kn,Ie+=n*br,fe+=n*se,X+=n*Je,H+=n*me,Z+=n*ut,ee+=n*ot,n=e[15],N+=n*ie,P+=n*ue,L+=n*Ae,Y+=n*Ke,te+=n*tt,ne+=n*ct,pe+=n*Ct,W+=n*Gt,$+=n*Ur,Ie+=n*kn,fe+=n*br,X+=n*se,H+=n*Je,Z+=n*me,ee+=n*ut,ae+=n*ot,s+=38*P,a+=38*L,c+=38*Y,l+=38*te,f+=38*ne,d+=38*pe,h+=38*W,A+=38*$,m+=38*Ie,y+=38*fe,x+=38*X,_+=38*H,T+=38*Z,S+=38*ee,k+=38*ae,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=N+i+65535,i=Math.floor(n/65536),N=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=N+i+65535,i=Math.floor(n/65536),N=n-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=a,t[2]=c,t[3]=l,t[4]=f,t[5]=d,t[6]=h,t[7]=A,t[8]=m,t[9]=y,t[10]=x,t[11]=_,t[12]=T,t[13]=S,t[14]=k,t[15]=N}o(Di,"M")});var u3e=q((UJr,l3e)=>{u();var Al=tn();ri();Au();Pw();l3e.exports=Al.kem=Al.kem||{};var a3e=Al.jsbn.BigInteger;Al.kem.rsa={};Al.kem.rsa.create=function(t,e){e=e||{};var r=e.prng||Al.random,n={};return n.encrypt=function(i,s){var a=Math.ceil(i.n.bitLength()/8),c;do c=new a3e(Al.util.bytesToHex(r.getBytesSync(a)),16).mod(i.n);while(c.compareTo(a3e.ONE)<=0);c=Al.util.hexToBytes(c.toString(16));var l=a-c.length;l>0&&(c=Al.util.fillString("\0",l)+c);var f=i.encrypt(c,"NONE"),d=t.generate(c,s);return{encapsulation:f,key:d}},n.decrypt=function(i,s,a){var c=i.decrypt(s,"NONE");return t.generate(c,a)},n};Al.kem.kdf1=function(t,e){c3e(this,t,0,e||t.digestLength)};Al.kem.kdf2=function(t,e){c3e(this,t,1,e||t.digestLength)};function c3e(t,e,r,n){t.generate=function(i,s){for(var a=new Al.util.ByteBuffer,c=Math.ceil(s/n)+r,l=new Al.util.ByteBuffer,f=r;f<c;++f){l.putInt32(f),e.start(),e.update(i+l.getBytes());var d=e.digest();a.putBytes(d.getBytes(n))}return a.truncate(a.length()-s),a.getBytes()}}o(c3e,"_createKDF")});var A3e=q((GJr,h3e)=>{u();var Rn=tn();ri();h3e.exports=Rn.log=Rn.log||{};Rn.log.levels=["none","error","warning","info","debug","verbose","max"];var jF={},dZ=[],qw=null;Rn.log.LEVEL_LOCKED=2;Rn.log.NO_LEVEL_CHECK=4;Rn.log.INTERPOLATE=8;for(Ch=0;Ch<Rn.log.levels.length;++Ch)uZ=Rn.log.levels[Ch],jF[uZ]={index:Ch,name:uZ.toUpperCase()};var uZ,Ch;Rn.log.logMessage=function(t){for(var e=jF[t.level].index,r=0;r<dZ.length;++r){var n=dZ[r];if(n.flags&Rn.log.NO_LEVEL_CHECK)n.f(t);else{var i=jF[n.level].index;e<=i&&n.f(n,t)}}};Rn.log.prepareStandard=function(t){"standard"in t||(t.standard=jF[t.level].name+" ["+t.category+"] "+t.message)};Rn.log.prepareFull=function(t){if(!("full"in t)){var e=[t.message];e=e.concat([]),t.full=Rn.util.format.apply(this,e)}};Rn.log.prepareStandardFull=function(t){"standardFull"in t||(Rn.log.prepareStandard(t),t.standardFull=t.standard)};for(fZ=["error","warning","info","debug","verbose"],Ch=0;Ch<fZ.length;++Ch)(function(e){Rn.log[e]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:e,category:r,message:n,arguments:i};Rn.log.logMessage(s)}})(fZ[Ch]);var fZ,Ch;Rn.log.makeLogger=function(t){var e={flags:0,f:t};return Rn.log.setLevel(e,"none"),e};Rn.log.setLevel=function(t,e){var r=!1;if(t&&!(t.flags&Rn.log.LEVEL_LOCKED))for(var n=0;n<Rn.log.levels.length;++n){var i=Rn.log.levels[n];if(e==i){t.level=e,r=!0;break}}return r};Rn.log.lock=function(t,e){typeof e>"u"||e?t.flags|=Rn.log.LEVEL_LOCKED:t.flags&=~Rn.log.LEVEL_LOCKED};Rn.log.addLogger=function(t){dZ.push(t)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(f3e={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},Gw=o(function(t,e){Rn.log.prepareStandard(e);var r=f3e[e.level],n=[e.standard];n=n.concat(e.arguments.slice()),r.apply(console,n)},"f"),c5=Rn.log.makeLogger(Gw)):(Gw=o(function(e,r){Rn.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),c5=Rn.log.makeLogger(Gw)),Rn.log.setLevel(c5,"debug"),Rn.log.addLogger(c5),qw=c5):console={log:o(function(){},"log")};var c5,f3e,Gw;qw!==null&&typeof window<"u"&&window.location&&(Hw=new URL(window.location.href).searchParams,Hw.has("console.level")&&Rn.log.setLevel(qw,Hw.get("console.level").slice(-1)[0]),Hw.has("console.lock")&&(d3e=Hw.get("console.lock").slice(-1)[0],d3e=="true"&&Rn.log.lock(qw)));var Hw,d3e;Rn.log.consoleLogger=qw});var m3e=q((YJr,p3e)=>{u();p3e.exports=fh();wF();t5();TX();eZ()});var C3e=q((zJr,y3e)=>{u();var It=tn();y1();Nf();Nw();C1();qE();OX();Au();ri();qF();var Ee=It.asn1,k0=y3e.exports=It.pkcs7=It.pkcs7||{};k0.messageFromPem=function(t){var e=It.pem.decode(t)[0];if(e.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=Ee.fromDer(e.body);return k0.messageFromAsn1(n)};k0.messageToPem=function(t,e){var r={type:"PKCS7",body:Ee.toDer(t.toAsn1()).getBytes()};return It.pem.encode(r,{maxline:e})};k0.messageFromAsn1=function(t){var e={},r=[];if(!Ee.validate(t,k0.asn1.contentInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=Ee.derToOid(e.contentType),s;switch(i){case It.pki.oids.envelopedData:s=k0.createEnvelopedData();break;case It.pki.oids.encryptedData:s=k0.createEncryptedData();break;case It.pki.oids.signedData:s=k0.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return s.fromAsn1(e.content.value[0]),s};k0.createSignedData=function(){var t=null;return t={type:It.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:o(function(n){if(AZ(t,n,k0.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[],t.rawCapture.certificates)for(var i=t.rawCapture.certificates.value,s=0;s<i.length;++s)t.certificates.push(It.pki.certificateFromAsn1(i[s]))},"fromAsn1"),toAsn1:o(function(){t.contentInfo||t.sign();for(var n=[],i=0;i<t.certificates.length;++i)n.push(It.pki.certificateToAsn1(t.certificates[i]));var s=[],a=Ee.create(Ee.Class.CONTEXT_SPECIFIC,0,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.INTEGER,!1,Ee.integerToDer(t.version).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo])]);return n.length>0&&a.value[0].value.push(Ee.create(Ee.Class.CONTEXT_SPECIFIC,0,!0,n)),s.length>0&&a.value[0].value.push(Ee.create(Ee.Class.CONTEXT_SPECIFIC,1,!0,s)),a.value[0].value.push(Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SET,!0,t.signerInfos)),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.type).getBytes()),a])},"toAsn1"),addSigner:o(function(n){var i=n.issuer,s=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=It.pki.certificateFromPem(a)),i=a.issuer.attributes,s=a.serialNumber}var c=n.key;if(!c)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof c=="string"&&(c=It.pki.privateKeyFromPem(c));var l=n.digestAlgorithm||It.pki.oids.sha1;switch(l){case It.pki.oids.sha1:case It.pki.oids.sha256:case It.pki.oids.sha384:case It.pki.oids.sha512:case It.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+l)}var f=n.authenticatedAttributes||[];if(f.length>0){for(var d=!1,h=!1,A=0;A<f.length;++A){var m=f[A];if(!d&&m.type===It.pki.oids.contentType){if(d=!0,h)break;continue}if(!h&&m.type===It.pki.oids.messageDigest){if(h=!0,d)break;continue}}if(!d||!h)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}t.signers.push({key:c,version:1,issuer:i,serialNumber:s,digestAlgorithm:l,signatureAlgorithm:It.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:f,unauthenticatedAttributes:[]})},"addSigner"),sign:o(function(n){if(n=n||{},(typeof t.content!="object"||t.contentInfo===null)&&(t.contentInfo=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(It.pki.oids.data).getBytes())]),"content"in t)){var i;t.content instanceof It.util.ByteBuffer?i=t.content.bytes():typeof t.content=="string"&&(i=It.util.encodeUtf8(t.content)),n.detached?t.detachedContent=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OCTETSTRING,!1,i):t.contentInfo.value.push(Ee.create(Ee.Class.CONTEXT_SPECIFIC,0,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OCTETSTRING,!1,i)]))}if(t.signers.length!==0){var s=e();r(s)}},"sign"),verify:o(function(){throw new Error("PKCS#7 signature verification not yet implemented.")},"verify"),addCertificate:o(function(n){typeof n=="string"&&(n=It.pki.certificateFromPem(n)),t.certificates.push(n)},"addCertificate"),addCertificateRevokationList:o(function(n){throw new Error("PKCS#7 CRL support not yet implemented.")},"addCertificateRevokationList")},t;function e(){for(var n={},i=0;i<t.signers.length;++i){var s=t.signers[i],a=s.digestAlgorithm;a in n||(n[a]=It.md[It.pki.oids[a]].create()),s.authenticatedAttributes.length===0?s.md=n[a]:s.md=It.md[It.pki.oids[a]].create()}t.digestAlgorithmIdentifiers=[];for(var a in n)t.digestAlgorithmIdentifiers.push(Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(a).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.NULL,!1,"")]));return n}o(e,"addDigestAlgorithmIds");function r(n){var i;if(t.detachedContent?i=t.detachedContent:(i=t.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=Ee.derToOid(t.contentInfo.value[0].value),a=Ee.toDer(i);a.getByte(),Ee.getBerValueLength(a),a=a.getBytes();for(var c in n)n[c].start().update(a);for(var l=new Date,f=0;f<t.signers.length;++f){var d=t.signers[f];if(d.authenticatedAttributes.length===0){if(s!==It.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=Ee.create(Ee.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SET,!0,[]),A=0;A<d.authenticatedAttributes.length;++A){var m=d.authenticatedAttributes[A];m.type===It.pki.oids.messageDigest?m.value=n[d.digestAlgorithm].digest():m.type===It.pki.oids.signingTime&&(m.value||(m.value=l)),h.value.push(hZ(m)),d.authenticatedAttributesAsn1.value.push(hZ(m))}a=Ee.toDer(h).getBytes(),d.md.start().update(a)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}t.signerInfos=hmt(t.signers)}o(r,"addSignerInfos")};k0.createEncryptedData=function(){var t=null;return t={type:It.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:It.pki.oids["aes256-CBC"]},fromAsn1:o(function(e){AZ(t,e,k0.asn1.encryptedDataValidator)},"fromAsn1"),decrypt:o(function(e){e!==void 0&&(t.encryptedContent.key=e),g3e(t)},"decrypt")},t};k0.createEnvelopedData=function(){var t=null;return t={type:It.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:It.pki.oids["aes256-CBC"]},fromAsn1:o(function(e){var r=AZ(t,e,k0.asn1.envelopedDataValidator);t.recipients=umt(r.recipientInfos.value)},"fromAsn1"),toAsn1:o(function(){return Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.type).getBytes()),Ee.create(Ee.Class.CONTEXT_SPECIFIC,0,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.INTEGER,!1,Ee.integerToDer(t.version).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SET,!0,fmt(t.recipients)),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,Amt(t.encryptedContent))])])])},"toAsn1"),findRecipient:o(function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var i=t.recipients[n],s=i.issuer;if(i.serialNumber===e.serialNumber&&s.length===r.length){for(var a=!0,c=0;c<r.length;++c)if(s[c].type!==r[c].type||s[c].value!==r[c].value){a=!1;break}if(a)return i}}return null},"findRecipient"),decrypt:o(function(e,r){if(t.encryptedContent.key===void 0&&e!==void 0&&r!==void 0)switch(e.encryptedContent.algorithm){case It.pki.oids.rsaEncryption:case It.pki.oids.desCBC:var n=r.decrypt(e.encryptedContent.content);t.encryptedContent.key=It.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}g3e(t)},"decrypt"),addRecipient:o(function(e){t.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:It.pki.oids.rsaEncryption,key:e.publicKey}})},"addRecipient"),encrypt:o(function(e,r){if(t.encryptedContent.content===void 0){r=r||t.encryptedContent.algorithm,e=e||t.encryptedContent.key;var n,i,s;switch(r){case It.pki.oids["aes128-CBC"]:n=16,i=16,s=It.aes.createEncryptionCipher;break;case It.pki.oids["aes192-CBC"]:n=24,i=16,s=It.aes.createEncryptionCipher;break;case It.pki.oids["aes256-CBC"]:n=32,i=16,s=It.aes.createEncryptionCipher;break;case It.pki.oids["des-EDE3-CBC"]:n=24,i=8,s=It.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(e===void 0)e=It.util.createBuffer(It.random.getBytes(n));else if(e.length()!=n)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+n+".");t.encryptedContent.algorithm=r,t.encryptedContent.key=e,t.encryptedContent.parameter=It.util.createBuffer(It.random.getBytes(i));var a=s(e);if(a.start(t.encryptedContent.parameter.copy()),a.update(t.content),!a.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=a.output}for(var c=0;c<t.recipients.length;++c){var l=t.recipients[c];if(l.encryptedContent.content===void 0)switch(l.encryptedContent.algorithm){case It.pki.oids.rsaEncryption:l.encryptedContent.content=l.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+l.encryptedContent.algorithm)}}},"encrypt")},t};function cmt(t){var e={},r=[];if(!Ee.validate(t,k0.asn1.recipientInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:e.version.charCodeAt(0),issuer:It.pki.RDNAttributesAsArray(e.issuer),serialNumber:It.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:Ee.derToOid(e.encAlgorithm),parameter:e.encParameter?e.encParameter.value:void 0,content:e.encKey}}}o(cmt,"_recipientFromAsn1");function lmt(t){return Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.INTEGER,!1,Ee.integerToDer(t.version).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[It.pki.distinguishedNameToAsn1({attributes:t.issuer}),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.INTEGER,!1,It.util.hexToBytes(t.serialNumber))]),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.encryptedContent.algorithm).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.NULL,!1,"")]),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OCTETSTRING,!1,t.encryptedContent.content)])}o(lmt,"_recipientToAsn1");function umt(t){for(var e=[],r=0;r<t.length;++r)e.push(cmt(t[r]));return e}o(umt,"_recipientsFromAsn1");function fmt(t){for(var e=[],r=0;r<t.length;++r)e.push(lmt(t[r]));return e}o(fmt,"_recipientsToAsn1");function dmt(t){var e=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.INTEGER,!1,Ee.integerToDer(t.version).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[It.pki.distinguishedNameToAsn1({attributes:t.issuer}),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.INTEGER,!1,It.util.hexToBytes(t.serialNumber))]),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.digestAlgorithm).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.NULL,!1,"")])]);if(t.authenticatedAttributesAsn1&&e.value.push(t.authenticatedAttributesAsn1),e.value.push(Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.signatureAlgorithm).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.NULL,!1,"")])),e.value.push(Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var r=Ee.create(Ee.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<t.unauthenticatedAttributes.length;++n){var i=t.unauthenticatedAttributes[n];r.values.push(hZ(i))}e.value.push(r)}return e}o(dmt,"_signerToAsn1");function hmt(t){for(var e=[],r=0;r<t.length;++r)e.push(dmt(t[r]));return e}o(hmt,"_signersToAsn1");function hZ(t){var e;if(t.type===It.pki.oids.contentType)e=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.value).getBytes());else if(t.type===It.pki.oids.messageDigest)e=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===It.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=t.value;if(typeof i=="string"){var s=Date.parse(i);isNaN(s)?i.length===13?i=Ee.utcTimeToDate(i):i=Ee.generalizedTimeToDate(i):i=new Date(s)}i>=r&&i<n?e=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.UTCTIME,!1,Ee.dateToUtcTime(i)):e=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.GENERALIZEDTIME,!1,Ee.dateToGeneralizedTime(i))}return Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.type).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SET,!0,[e])])}o(hZ,"_attributeToAsn1");function Amt(t){return[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(It.pki.oids.data).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.algorithm).getBytes()),t.parameter?Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OCTETSTRING,!1,t.parameter.getBytes()):void 0]),Ee.create(Ee.Class.CONTEXT_SPECIFIC,0,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OCTETSTRING,!1,t.content.getBytes())])]}o(Amt,"_encryptedContentToAsn1");function AZ(t,e,r){var n={},i=[];if(!Ee.validate(e,r,n,i)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}var a=Ee.derToOid(n.contentType);if(a!==It.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var c="";if(It.util.isArray(n.encryptedContent))for(var l=0;l<n.encryptedContent.length;++l){if(n.encryptedContent[l].type!==Ee.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");c+=n.encryptedContent[l].value}else c=n.encryptedContent;t.encryptedContent={algorithm:Ee.derToOid(n.encAlgorithm),parameter:It.util.createBuffer(n.encParameter.value),content:It.util.createBuffer(c)}}if(n.content){var c="";if(It.util.isArray(n.content))for(var l=0;l<n.content.length;++l){if(n.content[l].type!==Ee.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");c+=n.content[l].value}else c=n.content;t.content=It.util.createBuffer(c)}return t.version=n.version.charCodeAt(0),t.rawCapture=n,n}o(AZ,"_fromAsn1");function g3e(t){if(t.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(t.content===void 0){var e;switch(t.encryptedContent.algorithm){case It.pki.oids["aes128-CBC"]:case It.pki.oids["aes192-CBC"]:case It.pki.oids["aes256-CBC"]:e=It.aes.createDecryptionCipher(t.encryptedContent.key);break;case It.pki.oids.desCBC:case It.pki.oids["des-EDE3-CBC"]:e=It.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(e.start(t.encryptedContent.parameter),e.update(t.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");t.content=e.output}}o(g3e,"_decryptContent")});var I3e=q((JJr,E3e)=>{u();var _s=tn();y1();Jv();wF();t5();ri();var JF=E3e.exports=_s.ssh=_s.ssh||{};JF.privateKeyToPutty=function(t,e,r){r=r||"",e=e||"";var n="ssh-rsa",i=e===""?"none":"aes256-cbc",s="PuTTY-User-Key-File-2: "+n+`\r
`;s+="Encryption: "+i+`\r
`,s+="Comment: "+r+`\r
`;var a=_s.util.createBuffer();l5(a,n),Eh(a,t.e),Eh(a,t.n);var c=_s.util.encode64(a.bytes(),64),l=Math.floor(c.length/66)+1;s+="Public-Lines: "+l+`\r
`,s+=c;var f=_s.util.createBuffer();Eh(f,t.d),Eh(f,t.p),Eh(f,t.q),Eh(f,t.qInv);var d;if(!e)d=_s.util.encode64(f.bytes(),64);else{var h=f.length()+16-1;h-=h%16;var A=KF(f.bytes());A.truncate(A.length()-h+f.length()),f.putBuffer(A);var m=_s.util.createBuffer();m.putBuffer(KF("\0\0\0\0",e)),m.putBuffer(KF("\0\0\0",e));var y=_s.aes.createEncryptionCipher(m.truncate(8),"CBC");y.start(_s.util.createBuffer().fillWithByte(0,16)),y.update(f.copy()),y.finish();var x=y.output;x.truncate(16),d=_s.util.encode64(x.bytes(),64)}l=Math.floor(d.length/66)+1,s+=`\r
Private-Lines: `+l+`\r
`,s+=d;var _=KF("putty-private-key-file-mac-key",e),T=_s.util.createBuffer();l5(T,n),l5(T,i),l5(T,r),T.putInt32(a.length()),T.putBuffer(a),T.putInt32(f.length()),T.putBuffer(f);var S=_s.hmac.create();return S.start("sha1",_),S.update(T.bytes()),s+=`\r
Private-MAC: `+S.digest().toHex()+`\r
`,s};JF.publicKeyToOpenSSH=function(t,e){var r="ssh-rsa";e=e||"";var n=_s.util.createBuffer();return l5(n,r),Eh(n,t.e),Eh(n,t.n),r+" "+_s.util.encode64(n.bytes())+" "+e};JF.privateKeyToOpenSSH=function(t,e){return e?_s.pki.encryptRsaPrivateKey(t,e,{legacy:!0,algorithm:"aes128"}):_s.pki.privateKeyToPem(t)};JF.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||_s.md.md5.create(),n="ssh-rsa",i=_s.util.createBuffer();l5(i,n),Eh(i,t.e),Eh(i,t.n),r.start(),r.update(i.getBytes());var s=r.digest();if(e.encoding==="hex"){var a=s.toHex();return e.delimiter?a.match(/.{2}/g).join(e.delimiter):a}else{if(e.encoding==="binary")return s.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return s};function Eh(t,e){var r=e.toString(16);r[0]>="8"&&(r="00"+r);var n=_s.util.hexToBytes(r);t.putInt32(n.length),t.putBytes(n)}o(Eh,"_addBigIntegerToBuffer");function l5(t,e){t.putInt32(e.length),t.putString(e)}o(l5,"_addStringToBuffer");function KF(){for(var t=_s.md.sha1.create(),e=arguments.length,r=0;r<e;++r)t.update(arguments[r]);return t.digest()}o(KF,"_sha1")});var b3e=q((eXr,x3e)=>{u();x3e.exports=tn();y1();q_e();Nf();IF();Nw();s3e();Jv();u3e();A3e();m3e();UX();DF();qE();QX();GX();C3e();WX();FX();_X();OF();Au();BX();I3e();JX();ri()});var _3e=q(KE=>{"use strict";u();Object.defineProperty(KE,"__esModule",{value:!0});KE.convert=KE.Format=void 0;var Vw=b3e(),S1;(function(t){t.der="der",t.pem="pem",t.txt="txt",t.asn1="asn1",t.x509="x509",t.fingerprint="fingerprint"})(S1=KE.Format||(KE.Format={}));function v3e(t){var e=Vw.pki.pemToDer(t),r=Vw.asn1,n=r.fromDer(e.data.toString("binary")).value[0].value,i=n[0],s=i.tagClass===r.Class.CONTEXT_SPECIFIC&&i.type===0&&i.constructed,a=n.slice(s);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}o(v3e,"myASN");function pmt(t){var e=v3e(t),r=e.subject.value.map(function(i){return i.value[0].value[1].value}).join("/"),n=e.valid.value.map(function(i){return i.value}).join(" - ");return["Subject	".concat(r),"Valid	".concat(n),String(t)].join(`
`)}o(pmt,"txtFormat");function T3e(t,e){switch(e){case S1.der:return Vw.pki.pemToDer(t);case S1.pem:return t;case S1.txt:return pmt(t);case S1.asn1:return v3e(t);case S1.fingerprint:var r=Vw.md.sha1.create(),n=T3e(t,S1.der);return r.update(n.getBytes()),r.digest().toHex();case S1.x509:return Vw.pki.certificateFromPem(t);default:throw new Error("unknown format ".concat(e))}}o(T3e,"convert");KE.convert=T3e});var D3e=q(xc=>{"use strict";u();var w1=xc&&xc.__assign||function(){return w1=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},w1.apply(this,arguments)},XF=xc&&xc.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(xc,"__esModule",{value:!0});xc.convert=xc.Format=xc.addToGlobalAgent=xc.get=void 0;var pZ=require("https"),mmt=require("tls"),S3e=require("child_process"),w3e=a4e(),ap=_3e();Object.defineProperty(xc,"Format",{enumerable:!0,get:o(function(){return ap.Format},"get")});Object.defineProperty(xc,"convert",{enumerable:!0,get:o(function(){return ap.convert},"get")});var B3e=process.platform==="darwin",R3e=pZ.globalAgent,eM={keychain:"all",unique:!0,excludeBundled:!0,format:ap.Format.pem};function k3e(t){if(t===void 0&&(t=eM),!B3e)return[];t=w1(w1({},eM),t);var e=/(?=-----BEGIN\sCERTIFICATE-----)/g,r=["find-certificate","-a","-p"],n=[];if(t.keychain==="all"||t.keychain==="SystemRootCertificates"){var i="/System/Library/Keychains/SystemRootCertificates.keychain",s=(0,S3e.spawnSync)("/usr/bin/security",r.concat(i)).stdout.toString().split(e).map(function(f){return f.trim()});n=XF(XF([],n,!0),s,!0)}if(t.keychain==="all"||t.keychain==="current"){var a=(0,S3e.spawnSync)("/usr/bin/security",r).stdout.toString().split(e).map(function(f){return f.trim()});n=XF(XF([],n,!0),a,!0)}if(t.unique||t.excludeBundled){var c=n.map(function(f){return(0,ap.convert)(f,ap.Format.fingerprint)}),l=t.excludeBundled?mmt.rootCertificates.map(function(f){return(0,ap.convert)(f,ap.Format.fingerprint)}):[];n=n.filter(function(f,d){var h=c[d];return!(t.unique&&d!==c.indexOf(h)||t.excludeBundled&&l.includes(h))})}return n.map(function(f){return(0,ap.convert)(f,t.format)})}o(k3e,"get");xc.get=k3e;var ZF=R3e.options.ca,gmt=o(function(t){if(t===void 0&&(t=eM),!!B3e){var e;Array.isArray(ZF)?e=Array.from(ZF):e=typeof ZF<"u"?[ZF]:[],k3e(w1(w1(w1({},eM),t),{format:ap.Format.pem,excludeBundled:!1})).forEach(function(r){return e.push(r)}),R3e.options.ca=e,pZ.Agent=function(r){var n=o(function(i){var s=typeof i<"u"?w1({},i):{};return typeof s.ca>"u"&&(s.ca=e),r.call(this,s)},"newAgent");return n.prototype=r.prototype,n}(pZ.Agent),(0,w3e.setGlobalDispatcher)(new w3e.Agent({connect:{ca:e}}))}},"addToGlobalAgent");xc.addToGlobalAgent=gmt});var N3e=q((cXr,mZ)=>{u();function ymt(){let{X509Certificate:t}=require("crypto"),{join:e}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=process.arch==="arm64"?"crypt32-arm64.node":"crypt32.node",i=r(e(__dirname,n)),s=[],a=new i.Crypt32;try{let c;for(;c=a.next();){let l=new t(c);s.push(l.toString())}}finally{a.done()}return Array.from(new Set(s))}o(ymt,"all");process.platform!=="win32"?mZ.exports.all=()=>[]:mZ.exports.all=ymt});var G3e=q((pXr,q3e)=>{u();var TZ=require("fs"),rM=require("path"),Ww=rM.join,Emt=rM.dirname,U3e=TZ.accessSync&&function(t){try{TZ.accessSync(t)}catch{return!1}return!0}||TZ.existsSync||rM.existsSync,H3e={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function Imt(t){typeof t=="string"?t={bindings:t}:t||(t={}),Object.keys(H3e).map(function(l){l in t||(t[l]=H3e[l])}),t.module_root||(t.module_root=xmt(__filename)),rM.extname(t.bindings)!=".node"&&(t.bindings+=".node");for(var e=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=t.try.length,s,a,c;n<i;n++){s=Ww.apply(null,t.try[n].map(function(l){return t[l]||l})),r.push(s);try{return a=t.path?e.resolve(s):e(s),t.path||(a.path=s),a}catch(l){if(l.code!=="MODULE_NOT_FOUND"&&l.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(l.message))throw l}}throw c=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(l){return t.arrow+l}).join(`
`)),c.tries=r,c}o(Imt,"bindings");q3e.exports=Imt;function xmt(t){for(var e=Emt(t),r;;){if(e==="."&&(e=process.cwd()),U3e(Ww(e,"dist")))return Ww(e,"dist");if(U3e(Ww(e,"compiled")))return e;if(r===e)throw new Error('Could not find module root given file: "'+t+'". Do you have a `dist` or `compiled` directory? ');r=e,e=Ww(e,"..")}}o(xmt,"getRoot")});var Y3e=q((yXr,W3e)=>{"use strict";u();function V3e(t,e,r){let n=e[r];if(t==null&&n.required===!1)return;if(t==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let i=typeof t;if(n.type&&i!==n.type){if(n.required===!1&&e.slice(r).some(s=>s.type===i))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof t}\``)}return!0}o(V3e,"validateParameter");function bmt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}o(bmt,"hasOwnProperty");function vmt(t,e){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let s=0,a=0;s<e.length;++s,++a){let c=e[s],l=r[a];bmt(c,"default")&&l==null&&(l=c.default),c.type==="object"&&c.default!=null&&(l=Object.assign({},c.default,l)),c.name==="options"&&(typeof l=="function"||l==null)&&(l={}),V3e(l,e,s)?n.push(l):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((s,a)=>{n.push((c,l)=>{if(c)return a(c);s(l)}),t.apply(this,n)});t.apply(this,n)}}o(vmt,"defineOperation");W3e.exports={defineOperation:vmt,validateParameter:V3e}});var _Z=q((IXr,j3e)=>{"use strict";u();var d5=G3e()("kerberos"),f5=d5.KerberosClient,$3e=d5.KerberosServer,B1=Y3e().defineOperation,Tmt=1,_mt=2,Smt=4,wmt=8,Bmt=16,Rmt=32,kmt=64,Dmt=128,Nmt=256,z3e=0,Qmt=9,Pmt=6;f5.prototype.step=B1(f5.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);f5.prototype.wrap=B1(f5.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);f5.prototype.unwrap=B1(f5.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);$3e.prototype.step=B1($3e.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var Fmt=B1(d5.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),Mmt=B1(d5.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),Lmt=B1(d5.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:z3e}},{name:"callback",type:"function",required:!1}]),Omt=B1(d5.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);j3e.exports={initializeClient:Lmt,initializeServer:Omt,principalDetails:Mmt,checkPassword:Fmt,GSS_C_DELEG_FLAG:Tmt,GSS_C_MUTUAL_FLAG:_mt,GSS_C_REPLAY_FLAG:Smt,GSS_C_SEQUENCE_FLAG:wmt,GSS_C_CONF_FLAG:Bmt,GSS_C_INTEG_FLAG:Rmt,GSS_C_ANON_FLAG:kmt,GSS_C_PROT_READY_FLAG:Dmt,GSS_C_TRANS_FLAG:Nmt,GSS_C_NO_OID:z3e,GSS_MECH_OID_KRB5:Qmt,GSS_MECH_OID_SPNEGO:Pmt}});var K3e=q((bXr,Umt)=>{Umt.exports={name:"kerberos",version:"2.2.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"^7.1.2"},devDependencies:{"@types/node":"^22.2.0",chai:"^4.4.1","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^9.9.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","jsdoc-to-markdown":"^8.0.3",mocha:"^10.7.3",mongodb:"^6.8.0","node-gyp":"^10.1.0",prebuild:"^13.0.0",prettier:"^3.3.3",request:"^2.88.2"},overrides:{prebuild:{"node-gyp":"$node-gyp"}},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"ESLINT_USE_FLAT_CONFIG=false eslint lib test --fix","check:lint":"ESLINT_USE_FLAT_CONFIG=false eslint lib test",precommit:"check-clang-format",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",test:"mocha test",prebuild:"prebuild --runtime napi --strip --verbose --all"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var X3e=q((vXr,J3e)=>{"use strict";u();var Hmt=require("dns"),qmt=_Z(),SZ=class{static{o(this,"MongoAuthProcess")}constructor(e,r,n,i){i=i||{},this.host=e,this.port=r,this.serviceName=n||i.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof i.gssapiCanonicalizeHostName=="boolean"?i.gssapiCanonicalizeHostName:!1,this._transition=Gmt(this),this.retries=10}init(e,r,n){let i=this;this.username=e,this.password=r;function s(a,c,l){if(!a)return l();Hmt.resolveCname(c,(f,d)=>{if(f)return l(f);Array.isArray(d)&&d.length>0&&(i.host=d[0]),l()})}o(s,"performGssapiCanonicalizeHostName"),s(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let c={};r!=null&&Object.assign(c,{user:e,password:r});let l=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;qmt.initializeClient(l,c,(f,d)=>{if(f)return n(f,null);i.client=d,n(null,d)})})}transition(e,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(e,r)}};function Gmt(t){return(e,r)=>{t.client.step("",(n,i)=>{if(n)return r(n);t._transition=Vmt(t),r(null,i)})}}o(Gmt,"firstTransition");function Vmt(t){return(e,r)=>{t.client.step(e,(n,i)=>{if(n&&t.retries===0)return r(n);if(n)return t.retries=t.retries-1,t.transition(e,r);t._transition=Wmt(t),r(null,i||"")})}}o(Vmt,"secondTransition");function Wmt(t){return(e,r)=>{t.client.unwrap(e,(n,i)=>{if(n)return r(n,!1);t.client.wrap(i,{user:t.username},(s,a)=>{if(s)return r(s,!1);t._transition=Ymt(t),r(null,a)})})}}o(Wmt,"thirdTransition");function Ymt(t){return(e,r)=>{t._transition=null,r(null,!0)}}o(Ymt,"fourthTransition");J3e.exports={MongoAuthProcess:SZ}});var eSe=q((SXr,Yw)=>{"use strict";u();var Z3e=_Z();Yw.exports=Z3e;Yw.exports.Kerberos=Z3e;Yw.exports.version=K3e().version;Yw.exports.processes={MongoAuthProcess:X3e().MongoAuthProcess}});var LZ=q((DZr,xSe)=>{u();var zw=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,fgt=typeof AbortController=="function",aM=fgt?AbortController:class{static{o(this,"AbortController")}constructor(){this.signal=new CSe}abort(){this.signal.dispatchEvent("abort")}},dgt=typeof AbortSignal=="function",hgt=typeof aM.AbortSignal=="function",CSe=dgt?AbortSignal:hgt?aM.AbortController:class{static{o(this,"AbortSignal")}constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(e){if(e==="abort"){this.aborted=!0;let r={type:e,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(e,r){e==="abort"&&this._listeners.push(r)}removeEventListener(e,r){e==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},FZ=new Set,NZ=o((t,e)=>{let r=`LRU_CACHE_OPTION_${t}`;cM(r)&&MZ(r,`${t} option`,`options.${e}`,p5)},"deprecatedOption"),QZ=o((t,e)=>{let r=`LRU_CACHE_METHOD_${t}`;if(cM(r)){let{prototype:n}=p5,{get:i}=Object.getOwnPropertyDescriptor(n,t);MZ(r,`${t} method`,`cache.${e}()`,i)}},"deprecatedMethod"),Agt=o((t,e)=>{let r=`LRU_CACHE_PROPERTY_${t}`;if(cM(r)){let{prototype:n}=p5,{get:i}=Object.getOwnPropertyDescriptor(n,t);MZ(r,`${t} property`,`cache.${e}`,i)}},"deprecatedProperty"),ESe=o((...t)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...t):console.error(...t)},"emitWarning"),cM=o(t=>!FZ.has(t),"shouldWarn"),MZ=o((t,e,r,n)=>{FZ.add(t);let i=`The ${e} is deprecated. Please use ${r} instead.`;ESe(i,"DeprecationWarning",t,n)},"warn"),ZE=o(t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),"isPosInt"),ISe=o(t=>ZE(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?A5:null:null,"getUintArray"),A5=class extends Array{static{o(this,"ZeroArray")}constructor(e){super(e),this.fill(0)}},PZ=class{static{o(this,"Stack")}constructor(e){if(e===0)return[];let r=ISe(e);this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},p5=class t{static{o(this,"LRUCache")}constructor(e={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:a,updateAgeOnHas:c,allowStale:l,dispose:f,disposeAfter:d,noDisposeOnSet:h,noUpdateTTL:A,maxSize:m=0,sizeCalculation:y,fetchMethod:x,fetchContext:_,noDeleteOnFetchRejection:T,noDeleteOnStaleGet:S}=e,{length:k,maxAge:N,stale:P}=e instanceof t?{}:e;if(r!==0&&!ZE(r))throw new TypeError("max option must be a nonnegative integer");let L=r?ISe(r):Array;if(!L)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=m,this.sizeCalculation=y||k,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=x||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=_,!this.fetchMethod&&_!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new L(r),this.prev=new L(r),this.head=0,this.tail=0,this.free=new PZ(r),this.initialFill=1,this.size=0,typeof f=="function"&&(this.dispose=f),typeof d=="function"?(this.disposeAfter=d,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!h,this.noUpdateTTL=!!A,this.noDeleteOnFetchRejection=!!T,this.maxSize!==0){if(!ZE(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!l||!!P,this.noDeleteOnStaleGet=!!S,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!c,this.ttlResolution=ZE(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||N||0,this.ttl){if(!ZE(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let Y="LRU_CACHE_UNBOUNDED";cM(Y)&&(FZ.add(Y),ESe("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Y,t))}P&&NZ("stale","allowStale"),N&&NZ("maxAge","ttl"),k&&NZ("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new A5(this.max),this.starts=new A5(this.max),this.setItemTTL=(n,i,s=zw.now())=>{if(this.starts[n]=i!==0?s:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?zw.now():0};let e=0,r=o(()=>{let n=zw.now();if(this.ttlResolution>0){e=n;let i=setTimeout(()=>e=0,this.ttlResolution);i.unref&&i.unref()}return n},"getNow");this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(e||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(e||r())-this.starts[n]>this.ttls[n]}updateItemAge(e){}setItemTTL(e,r,n){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new A5(this.max),this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e],this.sizes[e]=0},this.requireSize=(e,r,n,i)=>{if(!ZE(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,e),!ZE(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(e,r)=>{this.sizes[e]=r;let n=this.maxSize-this.sizes[e];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[e]}}removeItemSize(e){}addItemSize(e,r){}requireSize(e,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(e){return this.keyMap.get(this.keyList[e])===e}*entries(){for(let e of this.indexes())yield[this.keyList[e],this.valList[e]]}*rentries(){for(let e of this.rindexes())yield[this.keyList[e],this.valList[e]]}*keys(){for(let e of this.indexes())yield this.keyList[e]}*rkeys(){for(let e of this.rindexes())yield this.keyList[e]}*values(){for(let e of this.indexes())yield this.valList[e]}*rvalues(){for(let e of this.rindexes())yield this.valList[e]}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let n of this.indexes())if(e(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(e,r=this){for(let n of this.indexes())e.call(r,this.valList[n],this.keyList[n],this)}rforEach(e,r=this){for(let n of this.rindexes())e.call(r,this.valList[n],this.keyList[n],this)}get prune(){return QZ("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),e=!0);return e}dump(){let e=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],a={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){a.ttl=this.ttls[r];let c=zw.now()-this.starts[r];a.start=Math.floor(Date.now()-c)}this.sizes&&(a.size=this.sizes[r]),e.unshift([n,a])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=zw.now()-i}this.set(r,n.value,n)}}dispose(e,r,n){}set(e,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL}={}){if(a=this.requireSize(e,r,a,c),this.maxSize&&a>this.maxSize)return this;let f=this.size===0?void 0:this.keyMap.get(e);if(f===void 0)f=this.newIndex(),this.keyList[f]=e,this.valList[f]=r,this.keyMap.set(e,f),this.next[this.tail]=f,this.prev[f]=this.tail,this.tail=f,this.size++,this.addItemSize(f,a),l=!1;else{let d=this.valList[f];r!==d&&(this.isBackgroundFetch(d)?d.__abortController.abort():s||(this.dispose(d,e,"set"),this.disposeAfter&&this.disposed.push([d,e,"set"])),this.removeItemSize(f),this.valList[f]=r,this.addItemSize(f,a)),this.moveToTail(f)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),l||this.setItemTTL(f,n,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let e=this.valList[this.head];return this.evict(!0),e}}evict(e){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),e&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(e,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(e);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(e,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(e);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(e,r,n,i){let s=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(s))return s;let a=new aM,c={signal:a.signal,options:n,context:i},l=o(A=>(a.signal.aborted||this.set(e,A,c.options),A),"cb"),f=o(A=>{if(this.valList[r]===h&&(!n.noDeleteOnFetchRejection||h.__staleWhileFetching===void 0?this.delete(e):this.valList[r]=h.__staleWhileFetching),h.__returned===h)throw A},"eb"),d=o(A=>A(this.fetchMethod(e,s,c)),"pcall"),h=new Promise(d).then(l,f);return h.__abortController=a,h.__staleWhileFetching=s,h.__returned=null,r===void 0?(this.set(e,h,c.options),r=this.keyMap.get(e)):this.valList[r]=h,h}isBackgroundFetch(e){return e&&typeof e=="object"&&typeof e.then=="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||e.__returned===null)}async fetch(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,fetchContext:h=this.fetchContext,forceRefresh:A=!1}={}){if(!this.fetchMethod)return this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i});let m={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:a,size:c,sizeCalculation:l,noUpdateTTL:f,noDeleteOnFetchRejection:d},y=this.keyMap.get(e);if(y===void 0){let x=this.backgroundFetch(e,y,m,h);return x.__returned=x}else{let x=this.valList[y];if(this.isBackgroundFetch(x))return r&&x.__staleWhileFetching!==void 0?x.__staleWhileFetching:x.__returned=x;if(!A&&!this.isStale(y))return this.moveToTail(y),n&&this.updateItemAge(y),x;let _=this.backgroundFetch(e,y,m,h);return r&&_.__staleWhileFetching!==void 0?_.__staleWhileFetching:_.__returned=_}}get(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet}={}){let s=this.keyMap.get(e);if(s!==void 0){let a=this.valList[s],c=this.isBackgroundFetch(a);return this.isStale(s)?c?r?a.__staleWhileFetching:void 0:(i||this.delete(e),r?a:void 0):c?void 0:(this.moveToTail(s),n&&this.updateItemAge(s),a)}}connect(e,r){this.prev[r]=e,this.next[e]=r}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return QZ("del","delete"),this.delete}delete(e){let r=!1;if(this.size!==0){let n=this.keyMap.get(e);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,e,"delete"),this.disposeAfter&&this.disposed.push([i,e,"delete"])),this.keyMap.delete(e),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let e of this.rindexes({allowStale:!0})){let r=this.valList[e];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[e];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return QZ("reset","clear"),this.clear}get length(){return Agt("length","size"),this.size}static get AbortController(){return aM}static get AbortSignal(){return CSe}};xSe.exports=p5});var HZ=q((PZr,bSe)=>{"use strict";u();var jw=class extends Error{static{o(this,"FetchBaseError")}constructor(e,r,n){super(e),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}},OZ=class extends jw{static{o(this,"FetchError")}constructor(e,r,n){super(e,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}},UZ=class extends jw{static{o(this,"AbortError")}constructor(e,r="aborted"){super(e,r,"AbortError")}};bSe.exports={FetchBaseError:jw,FetchError:OZ,AbortError:UZ}});var cp=q((LZr,TSe)=>{"use strict";u();var{constants:{MAX_LENGTH:pgt}}=require("buffer"),{pipeline:lM,PassThrough:mgt}=require("stream"),{promisify:ggt}=require("util"),{createGunzip:ygt,createInflate:Cgt,createBrotliDecompress:Egt,constants:{Z_SYNC_FLUSH:vSe}}=require("zlib"),Igt=Ld()("helix-fetch:utils"),xgt=ggt(lM),bgt=o((t,e)=>t===204||t===304||+e["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(e["content-encoding"]),"canDecode"),vgt=o((t,e,r,n)=>{if(!bgt(t,e))return r;let i=o(s=>{s&&(Igt(`encountered error while decoding stream: ${s}`),n(s))},"cb");switch(e["content-encoding"].trim()){case"gzip":case"x-gzip":return lM(r,ygt({flush:vSe,finishFlush:vSe}),i);case"deflate":case"x-deflate":return lM(r,Cgt(),i);case"br":return lM(r,Egt(),i);default:return r}},"decodeStream"),Tgt=o(t=>{if(!t||typeof t!="object"||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},"isPlainObject"),uM=o((t,e)=>{if(Buffer.isBuffer(t))return t.length;switch(typeof t){case"string":return t.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(t)?Symbol.keyFor(t).length*2:(t.toString().length-8)*2;case"object":return Array.isArray(t)?_gt(t,e):Sgt(t,e);default:return 0}},"calcSize"),_gt=o((t,e)=>(e.add(t),t.map(r=>e.has(r)?0:uM(r,e)).reduce((r,n)=>r+n,0)),"calcArraySize"),Sgt=o((t,e)=>{if(t==null)return 0;e.add(t);let r=0,n=[];for(let i in t)n.push(i);return n.push(...Object.getOwnPropertySymbols(t)),n.forEach(i=>{if(r+=uM(i,e),typeof t[i]=="object"&&t[i]!==null){if(e.has(t[i]))return;e.add(t[i])}r+=uM(t[i],e)}),r},"calcObjectSize"),wgt=o(t=>uM(t,new WeakSet),"sizeof"),Bgt=o(async t=>{let e=new mgt,r=0,n=[];return e.on("data",i=>{if(r+i.length>pgt)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(i),r+=i.length}),await xgt(t,e),Buffer.concat(n,r)},"streamToBuffer");TSe.exports={decodeStream:vgt,isPlainObject:Tgt,sizeof:wgt,streamToBuffer:Bgt}});var dM=q((HZr,BSe)=>{"use strict";u();var{PassThrough:_Se,Readable:lp}=require("stream"),{types:{isAnyArrayBuffer:wSe}}=require("util"),{FetchError:Rgt,FetchBaseError:kgt}=HZ(),{streamToBuffer:Dgt}=cp(),Ngt=Buffer.alloc(0),Eu=Symbol("Body internals"),Qgt=o(t=>t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),"toArrayBuffer"),SSe=o(async t=>{if(t[Eu].disturbed)throw new TypeError("Already read");if(t[Eu].error)throw new TypeError(`Stream had error: ${t[Eu].error.message}`);t[Eu].disturbed=!0;let{stream:e}=t[Eu];return e===null?Ngt:Dgt(e)},"consume"),fM=class{static{o(this,"Body")}constructor(e){let r;e==null?r=null:e instanceof URLSearchParams?r=lp.from(e.toString()):e instanceof lp?r=e:Buffer.isBuffer(e)?r=lp.from(e):wSe(e)?r=lp.from(Buffer.from(e)):typeof e=="string"||e instanceof String?r=lp.from(e):r=lp.from(String(e)),this[Eu]={stream:r,disturbed:!1,error:null},e instanceof lp&&r.on("error",n=>{let i=n instanceof kgt?n:new Rgt(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[Eu].error=i})}get body(){return this[Eu].stream}get bodyUsed(){return this[Eu].disturbed}async buffer(){return SSe(this)}async arrayBuffer(){return Qgt(await this.buffer())}async text(){return(await SSe(this)).toString()}async json(){return JSON.parse(await this.text())}};Object.defineProperties(fM.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var Pgt=o(t=>{if(t[Eu].disturbed)throw new TypeError("Cannot clone: already read");let{stream:e}=t[Eu],r=e;if(e instanceof lp){r=new _Se;let n=new _Se;e.pipe(r),e.pipe(n),t[Eu].stream=n}return r},"cloneStream"),Fgt=o(t=>t===null?null:typeof t=="string"?"text/plain; charset=utf-8":t instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(t)||wSe(t)||t instanceof lp?null:"text/plain; charset=utf-8","guessContentType");BSe.exports={Body:fM,cloneStream:Pgt,guessContentType:Fgt}});var m5=q((VZr,NSe)=>{"use strict";u();var{validateHeaderName:RSe,validateHeaderValue:kSe}=require("http"),{isPlainObject:Mgt}=cp(),up=Symbol("Headers internals"),Kw=o(t=>{let e=typeof t!="string"?String(t):t;if(typeof RSe=="function")RSe(e);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let r=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return e.toLowerCase()},"normalizeName"),DSe=o((t,e)=>{let r=typeof t!="string"?String(t):t;if(typeof kSe=="function")kSe(e,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),hM=class t{static{o(this,"Headers")}constructor(e={}){if(this[up]={map:new Map},e instanceof t)e.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(e))e.forEach(([r,n])=>{this.append(r,n)});else if(Mgt(e))for(let[r,n]of Object.entries(e))this.append(r,n)}set(e,r){this[up].map.set(Kw(e),DSe(r,e))}has(e){return this[up].map.has(Kw(e))}get(e){let r=this[up].map.get(Kw(e));return r===void 0?null:r}append(e,r){let n=Kw(e),i=DSe(r,e),s=this[up].map.get(n);this[up].map.set(n,s?`${s}, ${i}`:i)}delete(e){this[up].map.delete(Kw(e))}forEach(e,r){for(let n of this.keys())e.call(r,this.get(n),n)}keys(){return Array.from(this[up].map.keys()).sort()}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[up].map)}};Object.defineProperties(hM.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((t,e)=>(t[e]={enumerable:!0},t),{}));NSe.exports={Headers:hM}});var qZ=q(($Zr,QSe)=>{"use strict";u();var{EventEmitter:Lgt}=require("events"),Pf=Symbol("AbortSignal internals"),g5=class{static{o(this,"AbortSignal")}constructor(){this[Pf]={eventEmitter:new Lgt,onabort:null,aborted:!1}}get aborted(){return this[Pf].aborted}get onabort(){return this[Pf].onabort}set onabort(e){this[Pf].onabort=e}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(e,r){this[Pf].eventEmitter.removeListener(e,r)}addEventListener(e,r){this[Pf].eventEmitter.on(e,r)}dispatchEvent(e){let r={type:e,target:this},n=`on${e}`;typeof this[Pf][n]=="function"&&this[n](r),this[Pf].eventEmitter.emit(e,r)}fire(){this[Pf].aborted=!0,this.dispatchEvent("abort")}};Object.defineProperties(g5.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var pM=class extends g5{static{o(this,"TimeoutSignal")}constructor(e){if(!Number.isInteger(e))throw new TypeError(`Expected an integer, got ${typeof e}`);super(),this[Pf].timerId=setTimeout(()=>{this.fire()},e)}clear(){clearTimeout(this[Pf].timerId)}};Object.defineProperties(pM.prototype,{clear:{enumerable:!0}});var AM=Symbol("AbortController internals"),mM=class{static{o(this,"AbortController")}constructor(){this[AM]={signal:new g5}}get signal(){return this[AM].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[AM].signal.aborted||this[AM].signal.fire()}};Object.defineProperties(mM.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});QSe.exports={AbortController:mM,AbortSignal:g5,TimeoutSignal:pM}});var Jw=q((KZr,MSe)=>{"use strict";u();var{randomBytes:Ogt}=require("crypto"),{Readable:Ugt}=require("stream"),VZ=o(t=>typeof t=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(e=>typeof t[e]).filter(e=>e!=="function").length===0&&typeof t.type=="string"&&typeof t.size=="number"&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),"isBlob"),Hgt=o(t=>t!=null&&typeof t=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(e=>typeof t[e]).filter(e=>e!=="function").length===0&&t[Symbol.toStringTag]==="FormData","isFormData"),PSe=o(t=>`--${t}--\r
\r
`,"getFooter"),FSe=o((t,e,r)=>{let n="";return n+=`--${t}\r
`,n+=`Content-Disposition: form-data; name="${e}"`,VZ(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*qgt(t,e){for(let[r,n]of t)yield FSe(e,r,n),VZ(n)?yield*n.stream():yield n,yield`\r
`;yield PSe(e)}o(qgt,"formDataIterator");var Ggt=o((t,e)=>{let r=0;for(let[n,i]of t)r+=Buffer.byteLength(FSe(e,n,i)),r+=VZ(i)?i.size:Buffer.byteLength(String(i)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(PSe(e)),r},"getFormDataLength"),GZ=class{static{o(this,"FormDataSerializer")}constructor(e){this.fd=e,this.boundary=Ogt(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=Ggt(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return Ugt.from(qgt(this.fd,this.boundary))}};MSe.exports={isFormData:Hgt,FormDataSerializer:GZ}});var OSe=q((een,LSe)=>{"use strict";u();var{AbortSignal:ZZr}=qZ(),{Body:Vgt,cloneStream:Wgt,guessContentType:Ygt}=dM(),{Headers:$gt}=m5(),{isPlainObject:zgt}=cp(),{isFormData:jgt,FormDataSerializer:Kgt}=Jw(),Jgt=20,k1=Symbol("Request internals"),gM=class t extends Vgt{static{o(this,"Request")}constructor(e,r={}){let n=e instanceof t?e:null,i=n?new URL(n.url):new URL(e),s=r.method||n&&n.method||"GET";if(s=s.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(s))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?Wgt(n):null),c=new $gt(r.headers||n&&n.headers||{});if(jgt(a)&&!c.has("content-type")){let h=new Kgt(a);a=h.stream(),c.set("content-type",h.contentType()),!c.has("transfer-encoding")&&!c.has("content-length")&&c.set("content-length",h.length())}if(!c.has("content-type"))if(zgt(a))a=JSON.stringify(a),c.set("content-type","application/json");else{let h=Ygt(a);h&&c.set("content-type",h)}super(a);let l=n?n.signal:null;"signal"in r&&(l=r.signal);let f=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(f))throw new TypeError(`'${f}' is not a valid redirect option`);let d=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(d))throw new TypeError(`'${d}' is not a valid cache option`);this[k1]={init:{...r},method:s,redirect:f,cache:d,headers:c,parsedURL:i,signal:l},r.follow===void 0?!n||n.follow===void 0?this.follow=Jgt:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[k1].method}get url(){return this[k1].parsedURL.toString()}get headers(){return this[k1].headers}get redirect(){return this[k1].redirect}get cache(){return this[k1].cache}get signal(){return this[k1].signal}clone(){return new t(this)}get init(){return this[k1].init}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(gM.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});LSe.exports={Request:gM}});var WZ=q((nen,USe)=>{"use strict";u();var{Body:Xgt,cloneStream:Zgt,guessContentType:e1t}=dM(),{Headers:t1t}=m5(),{isPlainObject:r1t}=cp(),{isFormData:n1t,FormDataSerializer:i1t}=Jw(),Ff=Symbol("Response internals"),yM=class t extends Xgt{static{o(this,"Response")}constructor(e=null,r={}){let n=new t1t(r.headers),i=e;if(n1t(i)&&!n.has("content-type")){let s=new i1t(i);i=s.stream(),n.set("content-type",s.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",s.length())}if(i!==null&&!n.has("content-type"))if(r1t(i))i=JSON.stringify(i),n.set("content-type","application/json");else{let s=e1t(i);s&&n.set("content-type",s)}super(i),this[Ff]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[Ff].url||""}get status(){return this[Ff].status}get statusText(){return this[Ff].statusText}get ok(){return this[Ff].status>=200&&this[Ff].status<300}get redirected(){return this[Ff].counter>0}get headers(){return this[Ff].headers}get httpVersion(){return this[Ff].httpVersion}get decoded(){return this[Ff].decoded}static redirect(e,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new t(null,{headers:{location:new URL(e).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new t(Zgt(this),{...this[Ff]})}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(yM.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});USe.exports={Response:yM}});var qSe=q((aen,HSe)=>{"use strict";u();var o1t=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),s1t=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),a1t=new Set([500,502,503,504]),c1t={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},l1t={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function eI(t){let e=parseInt(t,10);return isFinite(e)?e:0}o(eI,"toNumberOrZero");function u1t(t){return t?a1t.has(t.status):!0}o(u1t,"isErrorResponse");function YZ(t){let e={};if(!t)return e;let r=t.trim().split(/,/);for(let n of r){let[i,s]=n.split(/=/,2);e[i.trim()]=s===void 0?!0:s.trim().replace(/^"|"$/g,"")}return e}o(YZ,"parseCacheControl");function f1t(t){let e=[];for(let r in t){let n=t[r];e.push(n===!0?r:r+"="+n)}if(e.length)return e.join(", ")}o(f1t,"formatCacheControl");HSe.exports=class{static{o(this,"CachePolicy")}constructor(e,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:s,ignoreCargoCult:a,_fromObject:c}={}){if(c){this._fromObject(c);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=s!==void 0?s:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=YZ(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=YZ(e.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":f1t(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&s1t.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||o1t.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=YZ(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(e.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let n in e)c1t[n]||(r[n]=e[n]);if(e.connection){let n=e.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return eI(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return eI(this._rescc["s-maxage"])}if(this._rescc["max-age"])return eI(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(e,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(e,(r-n)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+eI(this._rescc["stale-if-error"]),n=e+eI(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+eI(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+eI(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(s=>!/^\s*W\//.test(s));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&u1t(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let i={};for(let a in this._resHeaders)i[a]=a in r.headers&&!l1t[a]?r.headers[a]:this._resHeaders[a];let s=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(e,s,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var YSe=q((uen,WSe)=>{"use strict";u();var d1t=qSe(),{Headers:h1t}=m5(),GSe=o(t=>({url:t.url,method:t.method,headers:t.headers.plain()}),"convertRequest"),VSe=o(t=>({status:t.status,headers:t.headers.plain()}),"convertResponse"),$Z=class{static{o(this,"CachePolicyWrapper")}constructor(e,r,n){this.policy=new d1t(GSe(e),VSe(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(e){return this.policy.satisfiesWithoutRevalidation(GSe(e))}responseHeaders(e){return new h1t(this.policy.responseHeaders(VSe(e)))}timeToLive(){return this.policy.timeToLive()}};WSe.exports=$Z});var jSe=q((hen,zSe)=>{"use strict";u();var{Readable:A1t}=require("stream"),{Headers:$Se}=m5(),{Response:p1t}=WZ(),D1=Symbol("CacheableResponse internals"),m1t=o(t=>t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),"toArrayBuffer"),zZ=class t extends p1t{static{o(this,"CacheableResponse")}constructor(e,r){super(e,r);let n=new $Se(r.headers);this[D1]={headers:n,bufferedBody:e}}get headers(){return this[D1].headers}set headers(e){if(e instanceof $Se)this[D1].headers=e;else throw new TypeError("instance of Headers expected")}get body(){return A1t.from(this[D1].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[D1].bufferedBody}async arrayBuffer(){return m1t(this[D1].bufferedBody)}async text(){return this[D1].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:e,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:c}=this;return new t(this[D1].bufferedBody,{url:e,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:c})}get[Symbol.toStringTag](){return this.constructor.name}},g1t=o(async t=>{let e=await t.buffer(),{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:c,counter:l}=t;return new zZ(e,{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:c,counter:l})},"cacheableResponse");zSe.exports={cacheableResponse:g1t}});var CM=q((men,KSe)=>{"use strict";u();var jZ=class extends Error{static{o(this,"RequestAbortedError")}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};KSe.exports={RequestAbortedError:jZ}});var twe=q((Cen,ewe)=>{"use strict";u();var XSe=require("http"),ZSe=require("https"),{Readable:y1t}=require("stream"),fp=Ld()("helix-fetch:h1"),{RequestAbortedError:JSe}=CM(),{decodeStream:C1t}=cp(),E1t=o((t,e)=>{let{h1:r,options:{h1:n,rejectUnauthorized:i}}=t;return e==="https:"?r.httpsAgent?r.httpsAgent:n||typeof i=="boolean"?(r.httpsAgent=new ZSe.Agent(typeof i=="boolean"?{...n||{},rejectUnauthorized:i}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new XSe.Agent(n),r.httpAgent):void 0},"getAgent"),I1t=o(t=>{t.h1={}},"setupContext"),x1t=o(async({h1:t})=>{t.httpAgent&&(fp("resetContext: destroying httpAgent"),t.httpAgent.destroy(),delete t.httpAgent),t.httpsAgent&&(fp("resetContext: destroying httpsAgent"),t.httpsAgent.destroy(),delete t.httpsAgent)},"resetContext"),b1t=o((t,e,r)=>{let{statusCode:n,statusMessage:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:c,headers:l}=t,f=e?C1t(n,l,t,r):t;return{statusCode:n,statusText:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:c,headers:l,readable:f,decoded:!!(e&&f!==t)}},"createResponse"),v1t=o(async(t,e,r)=>{let{request:n}=e.protocol==="https:"?ZSe:XSe,i=E1t(t,e.protocol),s={...r,agent:i},{socket:a,body:c}=s;return a&&(delete s.socket,a.assigned||(a.assigned=!0,i?s.agent=new Proxy(i,{get:o((l,f)=>f==="createConnection"&&!a.inUse?(d,h)=>{fp(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,h(null,a)}:l[f],"get")}):s.createConnection=(l,f)=>{fp(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,f(null,a)})),new Promise((l,f)=>{fp(`${s.method} ${e.href}`);let d,{signal:h}=s,A=o(()=>{h.removeEventListener("abort",A),a&&!a.inUse&&(fp(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),f(new JSe),d&&d.abort()},"onAbortSignal");if(h){if(h.aborted){f(new JSe);return}h.addEventListener("abort",A)}d=n(e,s),d.once("response",m=>{h&&h.removeEventListener("abort",A),a&&!a.inUse&&(fp(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),l(b1t(m,s.decode,f))}),d.once("error",m=>{h&&h.removeEventListener("abort",A),a&&!a.inUse&&(fp(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),d.aborted||(fp(`${s.method} ${e.href} failed with: ${m.message}`),d.abort(),f(m))}),c instanceof y1t?c.pipe(d):(c&&d.write(c),d.end())})},"h1Request");ewe.exports={request:v1t,setupContext:I1t,resetContext:x1t}});var owe=q((xen,iwe)=>{"use strict";u();var{connect:T1t,constants:_1t}=require("http2"),{Readable:S1t}=require("stream"),ro=Ld()("helix-fetch:h2"),{RequestAbortedError:rwe}=CM(),{decodeStream:w1t}=cp(),{NGHTTP2_CANCEL:Xw}=_1t,B1t=300*1e3,R1t=5e3,k1t=o(t=>{t.h2={sessionCache:{}}},"setupContext"),D1t=o(async({h2:t})=>Promise.all(Object.values(t.sessionCache).map(e=>new Promise(r=>{e.on("close",r),ro(`resetContext: destroying session (socket #${e.socket&&e.socket.id}, ${e.socket&&e.socket.servername})`),e.destroy()}))),"resetContext"),nwe=o((t,e,r,n=()=>{})=>{let i={...t},s=i[":status"];delete i[":status"];let a=r?w1t(s,t,e,n):e;return{statusCode:s,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:i,readable:a,decoded:!!(r&&a!==e)}},"createResponse"),N1t=o((t,e,r,n,i,s)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:c,pushedStreamIdleTimeout:l=R1t}}}=t,f=i[":path"],d=`${e}${f}`;ro(`received PUSH_PROMISE: ${d}, stream #${n.id}, headers: ${JSON.stringify(i)}, flags: ${s}`),a&&a(d,i,o(()=>{n.close(Xw)},"rejectPush")),n.on("push",(h,A)=>{ro(`received push headers for ${e}${f}, stream #${n.id}, headers: ${JSON.stringify(h)}, flags: ${A}`),n.setTimeout(l,()=>{ro(`closing pushed stream #${n.id} after ${l} ms of inactivity`),n.close(Xw)}),c&&c(d,i,nwe(h,n,r))}),n.on("aborted",()=>{ro(`pushed stream #${n.id} aborted`)}),n.on("error",h=>{ro(`pushed stream #${n.id} encountered error: ${h}`)}),n.on("frameError",(h,A,m)=>{ro(`pushed stream #${n.id} encountered frameError: type: ${h}, code: ${A}, id: ${m}`)})},"handlePush"),Q1t=o(async(t,e,r)=>{let{origin:n,pathname:i,search:s,hash:a}=e,c=`${i}${s}${a}`,{options:{h2:l={}},h2:{sessionCache:f}}=t,{idleSessionTimeout:d=B1t,pushPromiseHandler:h,pushHandler:A}=l,m={...r},{method:y,headers:x,socket:_,body:T,decode:S}=m;return _&&delete m.socket,x.host&&(x[":authority"]=x.host,delete x.host),new Promise((k,N)=>{let P=f[n];if(!P||P.closed||P.destroyed){let pe=!(t.options.rejectUnauthorized===!1||l.rejectUnauthorized===!1),W={...l,rejectUnauthorized:pe};_&&!_.inUse&&(W.createConnection=()=>(ro(`reusing socket #${_.id} (${_.servername})`),_.inUse=!0,_)),P=T1t(n,{...W,settings:{enablePush:!!(h||A)}}),P.setMaxListeners(1e3),P.setTimeout(d,()=>{ro(`closing session ${n} after ${d} ms of inactivity`),P.close()}),P.once("connect",()=>{ro(`session ${n} established`),ro(`caching session ${n}`),f[n]=P}),P.on("localSettings",Ie=>{ro(`session ${n} localSettings: ${JSON.stringify(Ie)}`)}),P.on("remoteSettings",Ie=>{ro(`session ${n} remoteSettings: ${JSON.stringify(Ie)}`)}),P.once("close",()=>{ro(`session ${n} closed`),f[n]===P&&(ro(`discarding cached session ${n}`),delete f[n])}),P.once("error",Ie=>{ro(`session ${n} encountered error: ${Ie}`),f[n]===P&&(ro(`discarding cached session ${n}`),delete f[n])}),P.on("frameError",(Ie,fe,X)=>{ro(`session ${n} encountered frameError: type: ${Ie}, code: ${fe}, id: ${X}`)}),P.once("goaway",(Ie,fe,X)=>{ro(`session ${n} received GOAWAY frame: errorCode: ${Ie}, lastStreamID: ${fe}, opaqueData: ${X?X.toString():void 0}`)}),P.on("stream",(Ie,fe,X)=>{N1t(t,n,S,Ie,fe,X)})}else _&&_.id!==P.socket.id&&!_.inUse&&(ro(`discarding redundant socket used for ALPN: #${_.id} ${_.servername}`),_.destroy());ro(`${y} ${e.host}${c}`);let L,{signal:Y}=m,te=o(()=>{Y.removeEventListener("abort",te),N(new rwe),L&&L.close(Xw)},"onAbortSignal");if(Y){if(Y.aborted){N(new rwe);return}Y.addEventListener("abort",te)}let ne=o(pe=>{ro(`session ${n} encountered error during ${m.method} ${e.href}: ${pe}`),N(pe)},"onSessionError");P.once("error",ne),L=P.request({":method":y,":path":c,...x}),L.once("response",pe=>{P.off("error",ne),Y&&Y.removeEventListener("abort",te),k(nwe(pe,L,m.decode,N))}),L.once("error",pe=>{P.off("error",ne),Y&&Y.removeEventListener("abort",te),L.rstCode!==Xw&&(ro(`${m.method} ${e.href} failed with: ${pe.message}`),L.close(Xw),N(pe))}),L.once("frameError",(pe,W,$)=>{P.off("error",ne),ro(`encountered frameError during ${m.method} ${e.href}: type: ${pe}, code: ${W}, id: ${$}`)}),L.on("push",(pe,W)=>{ro(`received 'push' event: headers: ${JSON.stringify(pe)}, flags: ${W}`)}),T instanceof S1t?T.pipe(L):(T&&L.write(T),L.end())})},"request");iwe.exports={request:Q1t,setupContext:k1t,resetContext:D1t}});var awe=q((Ten,swe)=>{"use strict";u();var{EventEmitter:P1t}=require("events"),F1t=o(()=>{let t={},e=new P1t;return e.setMaxListeners(0),{acquire:o(r=>new Promise(n=>{if(!t[r]){t[r]=!0,n();return}let i=o(s=>{t[r]||(t[r]=!0,e.removeListener(r,i),n(s))},"tryAcquire");e.on(r,i)}),"acquire"),release:o((r,n)=>{Reflect.deleteProperty(t,r),setImmediate(()=>e.emit(r,n))},"release")}},"lock");swe.exports=F1t});var cwe=q((wen,M1t)=>{M1t.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var hwe=q((Ben,dwe)=>{"use strict";u();var{Readable:L1t}=require("stream"),O1t=require("tls"),{types:{isAnyArrayBuffer:U1t}}=require("util"),H1t=LZ(),KZ=Ld()("helix-fetch:core"),{RequestAbortedError:EM}=CM(),JZ=twe(),IM=owe(),q1t=awe(),{isPlainObject:G1t}=cp(),{isFormData:V1t,FormDataSerializer:W1t}=Jw(),{version:Y1t}=cwe(),XZ="h2",ZZ="h2c",eee="http/1.0",tI="http/1.1",$1t=100,z1t=3600*1e3,j1t=[XZ,tI,eee],K1t=`helix-fetch/${Y1t}`,J1t={method:"GET",compress:!0,decode:!0},lwe=0,uwe=q1t(),fwe=o((t,e)=>new Promise((r,n)=>{let{signal:i}=e,s,a=o(()=>{i.removeEventListener("abort",a);let f=new EM;n(f),s&&s.destroy(f)},"onAbortSignal");if(i){if(i.aborted){n(new EM);return}i.addEventListener("abort",a)}let c=+t.port||443,l=o(f=>{i&&i.removeEventListener("abort",a),f instanceof EM||(KZ(`connecting to ${t.hostname}:${c} failed with: ${f.message}`),n(f))},"onError");s=O1t.connect(c,t.hostname,e),s.once("secureConnect",()=>{i&&i.removeEventListener("abort",a),s.off("error",l),lwe+=1,s.id=lwe,s.secureConnecting=!1,KZ(`established TLS connection: #${s.id} (${s.servername})`),r(s)}),s.once("error",l)}),"connectTLS"),X1t=o(async(t,e)=>{let r=await uwe.acquire(t.origin);try{return r||(r=await fwe(t,e)),r}finally{uwe.release(t.origin,r)}},"connect"),Z1t=o(async(t,e,r)=>{let n=`${e.protocol}//${e.host}`,i=t.alpnCache.get(n);if(i)return{protocol:i};switch(e.protocol){case"http:":return i=tI,t.alpnCache.set(n,i),{protocol:i};case"http2:":return i=ZZ,t.alpnCache.set(n,i),{protocol:i};case"https:":break;default:throw new TypeError(`unsupported protocol: ${e.protocol}`)}let{options:{rejectUnauthorized:s,h1:a={},h2:c={}}}=t,l=!(s===!1||a.rejectUnauthorized===!1||c.rejectUnauthorized===!1),f={servername:e.hostname,ALPNProtocols:t.alpnProtocols,signal:r,rejectUnauthorized:l};t.options.ca&&(f.ca=t.options.ca);let d=await X1t(e,f);return i=d.alpnProtocol,i||(i=tI),t.alpnCache.set(n,i),{protocol:i,socket:d}},"determineProtocol"),eyt=o(t=>{let e={};return Object.keys(t).forEach(r=>{e[r.toLowerCase()]=t[r]}),e},"sanitizeHeaders"),tyt=o(async(t,e,r,n)=>{let i=e.protocol==="https:",s;e.port?s=e.port:i?s=443:s=80;let a={...r,host:e.host,hostname:e.hostname,port:s},c=await t(a);if(i){let f={...a,ALPNProtocols:n};f.socket=c,f.servername=a.host;let d=await fwe(e,f);return{protocol:d.alpnProtocol||tI,socket:d}}return{protocol:c.alpnProtocol||tI,socket:c}},"getProtocolAndSocketFromFactory"),ryt=o(async(t,e,r)=>{let n=new URL(e),i={...J1t,...r||{}};typeof i.method=="string"&&(i.method=i.method.toUpperCase()),i.headers=eyt(i.headers||{}),i.headers.host===void 0&&(i.headers.host=n.host),t.userAgent&&i.headers["user-agent"]===void 0&&(i.headers["user-agent"]=t.userAgent);let s;if(i.body instanceof URLSearchParams)s="application/x-www-form-urlencoded; charset=utf-8",i.body=i.body.toString();else if(V1t(i.body)){let f=new W1t(i.body);s=f.contentType(),i.body=f.stream(),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(f.length()))}else typeof i.body=="string"||i.body instanceof String?s="text/plain; charset=utf-8":G1t(i.body)?(i.body=JSON.stringify(i.body),s="application/json"):U1t(i.body)&&(i.body=Buffer.from(i.body));i.headers["content-type"]===void 0&&s!==void 0&&(i.headers["content-type"]=s),i.body!=null&&(i.body instanceof L1t||(!(typeof i.body=="string"||i.body instanceof String)&&!Buffer.isBuffer(i.body)&&(i.body=String(i.body)),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(Buffer.isBuffer(i.body)?i.body.length:Buffer.byteLength(i.body,"utf-8"))))),i.headers.accept===void 0&&(i.headers.accept="*/*"),i.body==null&&["POST","PUT"].includes(i.method)&&(i.headers["content-length"]="0"),i.compress&&i.headers["accept-encoding"]===void 0&&(i.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=i,{protocol:c,socket:l=null}=t.socketFactory?await tyt(t.socketFactory,n,i,t.alpnProtocols):await Z1t(t,n,a);switch(KZ(`${n.host} -> ${c}`),c){case XZ:try{return await IM.request(t,n,l?{...i,socket:l}:i)}catch(f){let{code:d,message:h}=f;throw d==="ERR_HTTP2_ERROR"&&h==="Protocol error"&&t.alpnCache.delete(`${n.protocol}//${n.host}`),f}case ZZ:return IM.request(t,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),l?{...i,socket:l}:i);case eee:case tI:return JZ.request(t,n,l?{...i,socket:l}:i);default:throw new TypeError(`unsupported protocol: ${c}`)}},"request"),nyt=o(async t=>(t.alpnCache.clear(),Promise.all([JZ.resetContext(t),IM.resetContext(t)])),"resetContext"),iyt=o(t=>{let{options:{alpnProtocols:e=j1t,alpnCacheTTL:r=z1t,alpnCacheSize:n=$1t,userAgent:i=K1t,socketFactory:s}}=t;t.alpnProtocols=e,t.alpnCache=new H1t({max:n,ttl:r}),t.userAgent=i,t.socketFactory=s,JZ.setupContext(t),IM.setupContext(t)},"setupContext");dwe.exports={request:ryt,setupContext:iyt,resetContext:nyt,RequestAbortedError:EM,ALPN_HTTP2:XZ,ALPN_HTTP2C:ZZ,ALPN_HTTP1_1:tI,ALPN_HTTP1_0:eee}});var pwe=q((Den,Awe)=>{"use strict";u();var oyt=Ld()("helix-fetch:core"),{request:syt,setupContext:ayt,resetContext:cyt,RequestAbortedError:lyt,ALPN_HTTP2:uyt,ALPN_HTTP2C:fyt,ALPN_HTTP1_1:dyt,ALPN_HTTP1_0:hyt}=hwe(),tee=class t{static{o(this,"RequestContext")}constructor(e){this.options={...e||{}},ayt(this)}api(){return{request:o(async(e,r)=>this.request(e,r),"request"),context:o((e={})=>new t(e).api(),"context"),setCA:o(e=>this.setCA(e),"setCA"),reset:o(async()=>this.reset(),"reset"),RequestAbortedError:lyt,ALPN_HTTP2:uyt,ALPN_HTTP2C:fyt,ALPN_HTTP1_1:dyt,ALPN_HTTP1_0:hyt}}async request(e,r){return syt(this,e,r)}setCA(e){this.options.ca=e}async reset(){return oyt("resetting context"),cyt(this)}};Awe.exports=new tee().api()});var Ewe=q((Pen,Cwe)=>{"use strict";u();var{EventEmitter:Ayt}=require("events"),{Readable:Zw}=require("stream"),ree=Ld()("helix-fetch"),pyt=LZ(),{Body:myt}=dM(),{Headers:see}=m5(),{Request:rI}=OSe(),{Response:iee}=WZ(),{FetchBaseError:gyt,FetchError:e8,AbortError:xM}=HZ(),{AbortController:yyt,AbortSignal:Cyt,TimeoutSignal:Eyt}=qZ(),Iyt=YSe(),{cacheableResponse:xyt}=jSe(),{sizeof:byt}=cp(),{isFormData:vyt}=Jw(),{context:Tyt,RequestAbortedError:_yt}=pwe(),mwe=["GET","HEAD"],Syt=500,wyt=100*1024*1024,nee="push",gwe=o(async(t,e,r)=>{let{request:n}=t.context,i=e instanceof rI&&typeof r>"u"?e:new rI(e,r),{method:s,body:a,signal:c,compress:l,decode:f,follow:d,redirect:h,init:{body:A}}=i,m;if(c&&c.aborted){let P=new xM("The operation was aborted.");throw i.init.body instanceof Zw&&i.init.body.destroy(P),P}try{m=await n(i.url,{...r,method:s,headers:i.headers.plain(),body:A&&!(A instanceof Zw)&&!vyt(A)?A:a,compress:l,decode:f,follow:d,redirect:h,signal:c})}catch(P){throw A instanceof Zw&&A.destroy(P),P instanceof TypeError?P:P instanceof _yt?new xM("The operation was aborted."):new e8(P.message,"system",P)}let y=o(()=>{c.removeEventListener("abort",y);let P=new xM("The operation was aborted.");i.init.body instanceof Zw&&i.init.body.destroy(P),m.readable.emit("error",P)},"abortHandler");c&&c.addEventListener("abort",y);let{statusCode:x,statusText:_,httpVersion:T,headers:S,readable:k,decoded:N}=m;if([301,302,303,307,308].includes(x)){let{location:P}=S,L=P==null?null:new URL(P,i.url);switch(i.redirect){case"manual":break;case"error":throw c&&c.removeEventListener("abort",y),new e8(`uri requested responds with a redirect, redirect mode is set to 'error': ${i.url}`,"no-redirect");case"follow":{if(L===null)break;if(i.counter>=i.follow)throw c&&c.removeEventListener("abort",y),new e8(`maximum redirect reached at: ${i.url}`,"max-redirect");let Y={headers:new see(i.headers),follow:i.follow,compress:i.compress,decode:i.decode,counter:i.counter+1,method:i.method,body:i.body,signal:i.signal};if(x!==303&&i.body&&i.init.body instanceof Zw)throw c&&c.removeEventListener("abort",y),new e8("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(x===303||(x===301||x===302)&&i.method==="POST")&&(Y.method="GET",Y.body=void 0,Y.headers.delete("content-length")),c&&c.removeEventListener("abort",y),gwe(t,new rI(L,Y))}default:}}return c&&(k.once("end",()=>{c.removeEventListener("abort",y)}),k.once("error",()=>{c.removeEventListener("abort",y)})),new iee(k,{url:i.url,status:x,statusText:_,headers:S,httpVersion:T,decoded:N,counter:i.counter})},"fetch"),ywe=o(async(t,e,r)=>{if(t.options.maxCacheSize===0||!mwe.includes(e.method))return r;let n=new Iyt(e,r,{shared:!1});if(n.storable()){let i=await xyt(r);return t.cache.set(e.url,{policy:n,response:i},n.timeToLive()),i}else return r},"cacheResponse"),Byt=o(async(t,e,r)=>{let n=new rI(e,r);if(t.options.maxCacheSize!==0&&mwe.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:c}=t.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){c.headers=new see(a.responseHeaders(c));let l=c.clone();return l.fromCache=!0,l}}let s=await gwe(t,n);return n.cache!=="no-store"?ywe(t,n,s):s},"cachingFetch"),Ryt=o((t,e={})=>{let r=new URL(t);if(typeof e!="object"||Array.isArray(e))throw new TypeError("qs: object expected");return Object.entries(e).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>r.searchParams.append(n,s)):r.searchParams.append(n,i)}),r.href},"createUrl"),kyt=o(t=>new Eyt(t),"timeoutSignal"),oee=class t{static{o(this,"FetchContext")}constructor(e){this.options={...e};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:wyt,i=Syt;n===0&&(n=1,i=1);let s=o(({response:c},l)=>byt(c),"sizeCalculation");this.cache=new pyt({max:i,maxSize:n,sizeCalculation:s}),this.eventEmitter=new Ayt,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(c,l,f)=>{let d={...l};Object.keys(d).filter(h=>h.startsWith(":")).forEach(h=>delete d[h]),this.pushPromiseHandler(c,d,f)},this.options.h2.pushHandler=(c,l,f)=>{let d={...l};Object.keys(d).filter(T=>T.startsWith(":")).forEach(T=>delete d[T]);let{statusCode:h,statusText:A,httpVersion:m,headers:y,readable:x,decoded:_}=f;this.pushHandler(c,d,new iee(x,{url:c,status:h,statusText:A,headers:y,httpVersion:m,decoded:_}))}),this.context=Tyt(this.options)}api(){return{fetch:o(async(e,r)=>this.fetch(e,r),"fetch"),Body:myt,Headers:see,Request:rI,Response:iee,AbortController:yyt,AbortSignal:Cyt,FetchBaseError:gyt,FetchError:e8,AbortError:xM,context:o((e={})=>new t(e).api(),"context"),setCA:o(e=>this.setCA(e),"setCA"),noCache:o((e={})=>new t({...e,maxCacheSize:0}).api(),"noCache"),h1:o((e={})=>new t({...e,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1"),keepAlive:o((e={})=>new t({...e,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAlive"),h1NoCache:o((e={})=>new t({...e,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1NoCache"),keepAliveNoCache:o((e={})=>new t({...e,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAliveNoCache"),reset:o(async()=>this.context.reset(),"reset"),onPush:o(e=>this.onPush(e),"onPush"),offPush:o(e=>this.offPush(e),"offPush"),createUrl:Ryt,timeoutSignal:kyt,clearCache:o(()=>this.clearCache(),"clearCache"),cacheStats:o(()=>this.cacheStats(),"cacheStats"),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(e,r){return Byt(this,e,r)}setCA(e){this.options.ca=e,this.context.setCA(e)}onPush(e){return this.eventEmitter.on(nee,e)}offPush(e){return this.eventEmitter.off(nee,e)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(e,r,n){ree(`received server push promise: ${e}, headers: ${JSON.stringify(r)}`);let i=new rI(e,{headers:r}),{policy:s}=this.cache.get(e)||{};s&&s.satisfiesWithoutRevalidation(i)&&(ree(`already cached, reject push promise: ${e}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(e,r,n){ree(`caching resource pushed by server: ${e}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let i=await ywe(this,new rI(e,{headers:r}),n);this.eventEmitter.emit(nee,e,i)}};Cwe.exports=new oee().api()});var xwe=q((Len,Iwe)=>{"use strict";u();Iwe.exports=Ewe()});u();u();u();u();u();var wm=class extends Error{static{o(this,"CopilotAuthError")}constructor(e,r){super(e,{cause:r}),this.name="CopilotAuthError"}};u();u();var qT="github.copilot";u();u();u();u();u();u();u();u();var qa={};Eo(qa,{HasPropertyKey:()=>FB,IsArray:()=>Zo,IsAsyncIterator:()=>sO,IsBigInt:()=>GT,IsBoolean:()=>zh,IsDate:()=>ky,IsFunction:()=>aO,IsIterator:()=>cO,IsNull:()=>lO,IsNumber:()=>Dc,IsObject:()=>Ci,IsRegExp:()=>VT,IsString:()=>Bi,IsSymbol:()=>uO,IsUint8Array:()=>jh,IsUndefined:()=>es});u();function FB(t,e){return e in t}o(FB,"HasPropertyKey");function sO(t){return Ci(t)&&!Zo(t)&&!jh(t)&&Symbol.asyncIterator in t}o(sO,"IsAsyncIterator");function Zo(t){return Array.isArray(t)}o(Zo,"IsArray");function GT(t){return typeof t=="bigint"}o(GT,"IsBigInt");function zh(t){return typeof t=="boolean"}o(zh,"IsBoolean");function ky(t){return t instanceof globalThis.Date}o(ky,"IsDate");function aO(t){return typeof t=="function"}o(aO,"IsFunction");function cO(t){return Ci(t)&&!Zo(t)&&!jh(t)&&Symbol.iterator in t}o(cO,"IsIterator");function lO(t){return t===null}o(lO,"IsNull");function Dc(t){return typeof t=="number"}o(Dc,"IsNumber");function Ci(t){return typeof t=="object"&&t!==null}o(Ci,"IsObject");function VT(t){return t instanceof globalThis.RegExp}o(VT,"IsRegExp");function Bi(t){return typeof t=="string"}o(Bi,"IsString");function uO(t){return typeof t=="symbol"}o(uO,"IsSymbol");function jh(t){return t instanceof globalThis.Uint8Array}o(jh,"IsUint8Array");function es(t){return t===void 0}o(es,"IsUndefined");function J8e(t){return t.map(e=>MB(e))}o(J8e,"ArrayType");function X8e(t){return new Date(t.getTime())}o(X8e,"DateType");function Z8e(t){return new Uint8Array(t)}o(Z8e,"Uint8ArrayType");function eBe(t){return new RegExp(t.source,t.flags)}o(eBe,"RegExpType");function tBe(t){let e={};for(let r of Object.getOwnPropertyNames(t))e[r]=MB(t[r]);for(let r of Object.getOwnPropertySymbols(t))e[r]=MB(t[r]);return e}o(tBe,"ObjectType");function MB(t){return Zo(t)?J8e(t):ky(t)?X8e(t):jh(t)?Z8e(t):VT(t)?eBe(t):Ci(t)?tBe(t):t}o(MB,"Visit");function Wi(t){return MB(t)}o(Wi,"Clone");function C2(t,e){return e===void 0?Wi(t):Wi({...e,...t})}o(C2,"CloneType");u();u();u();function LB(t){return en(t)&&globalThis.Symbol.asyncIterator in t}o(LB,"IsAsyncIterator");function OB(t){return en(t)&&globalThis.Symbol.iterator in t}o(OB,"IsIterator");function fO(t){return en(t)&&(globalThis.Object.getPrototypeOf(t)===Object.prototype||globalThis.Object.getPrototypeOf(t)===null)}o(fO,"IsStandardObject");function UB(t){return t instanceof globalThis.Promise}o(UB,"IsPromise");function d0(t){return t instanceof Date&&globalThis.Number.isFinite(t.getTime())}o(d0,"IsDate");function fte(t){return t instanceof globalThis.Map}o(fte,"IsMap");function dte(t){return t instanceof globalThis.Set}o(dte,"IsSet");function kl(t){return globalThis.ArrayBuffer.isView(t)}o(kl,"IsTypedArray");function E2(t){return t instanceof globalThis.Uint8Array}o(E2,"IsUint8Array");function ar(t,e){return e in t}o(ar,"HasPropertyKey");function en(t){return t!==null&&typeof t=="object"}o(en,"IsObject");function cr(t){return globalThis.Array.isArray(t)&&!globalThis.ArrayBuffer.isView(t)}o(cr,"IsArray");function Yi(t){return t===void 0}o(Yi,"IsUndefined");function Kh(t){return t===null}o(Kh,"IsNull");function md(t){return typeof t=="boolean"}o(md,"IsBoolean");function $t(t){return typeof t=="number"}o($t,"IsNumber");function HB(t){return globalThis.Number.isInteger(t)}o(HB,"IsInteger");function ga(t){return typeof t=="bigint"}o(ga,"IsBigInt");function Nn(t){return typeof t=="string"}o(Nn,"IsString");function Bm(t){return typeof t=="function"}o(Bm,"IsFunction");function Jh(t){return typeof t=="symbol"}o(Jh,"IsSymbol");function Nc(t){return ga(t)||md(t)||Kh(t)||$t(t)||Nn(t)||Jh(t)||Yi(t)}o(Nc,"IsValueType");var Ni;(function(t){t.InstanceMode="default",t.ExactOptionalPropertyTypes=!1,t.AllowArrayObject=!1,t.AllowNaN=!1,t.AllowNullVoid=!1;function e(a,c){return t.ExactOptionalPropertyTypes?c in a:a[c]!==void 0}o(e,"IsExactOptionalProperty"),t.IsExactOptionalProperty=e;function r(a){let c=en(a);return t.AllowArrayObject?c:c&&!cr(a)}o(r,"IsObjectLike"),t.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),t.IsRecordLike=n;function i(a){return t.AllowNaN?$t(a):Number.isFinite(a)}o(i,"IsNumberLike"),t.IsNumberLike=i;function s(a){let c=Yi(a);return t.AllowNullVoid?c||a===null:c}o(s,"IsVoidLike"),t.IsVoidLike=s})(Ni||(Ni={}));u();function rBe(t){return globalThis.Object.freeze(t).map(e=>WT(e))}o(rBe,"ImmutableArray");function nBe(t){let e={};for(let r of Object.getOwnPropertyNames(t))e[r]=WT(t[r]);for(let r of Object.getOwnPropertySymbols(t))e[r]=WT(t[r]);return globalThis.Object.freeze(e)}o(nBe,"ImmutableObject");function WT(t){return Zo(t)?rBe(t):ky(t)?t:jh(t)?t:VT(t)?t:Ci(t)?nBe(t):t}o(WT,"Immutable");function Ue(t,e){let r=e!==void 0?{...e,...t}:t;switch(Ni.InstanceMode){case"freeze":return WT(r);case"clone":return Wi(r);default:return r}}o(Ue,"CreateType");u();var lr=class extends Error{static{o(this,"TypeBoxError")}constructor(e){super(e)}};u();u();u();var so=Symbol.for("TypeBox.Transform"),qu=Symbol.for("TypeBox.Readonly"),ya=Symbol.for("TypeBox.Optional"),Dl=Symbol.for("TypeBox.Hint"),Le=Symbol.for("TypeBox.Kind");function I2(t){return Ci(t)&&t[qu]==="Readonly"}o(I2,"IsReadonly");function G0(t){return Ci(t)&&t[ya]==="Optional"}o(G0,"IsOptional");function dO(t){return bn(t,"Any")}o(dO,"IsAny");function hO(t){return bn(t,"Argument")}o(hO,"IsArgument");function Gu(t){return bn(t,"Array")}o(Gu,"IsArray");function Dy(t){return bn(t,"AsyncIterator")}o(Dy,"IsAsyncIterator");function Ny(t){return bn(t,"BigInt")}o(Ny,"IsBigInt");function Xh(t){return bn(t,"Boolean")}o(Xh,"IsBoolean");function Vu(t){return bn(t,"Computed")}o(Vu,"IsComputed");function Wu(t){return bn(t,"Constructor")}o(Wu,"IsConstructor");function iBe(t){return bn(t,"Date")}o(iBe,"IsDate");function Yu(t){return bn(t,"Function")}o(Yu,"IsFunction");function $u(t){return bn(t,"Integer")}o($u,"IsInteger");function Io(t){return bn(t,"Intersect")}o(Io,"IsIntersect");function Qy(t){return bn(t,"Iterator")}o(Qy,"IsIterator");function bn(t,e){return Ci(t)&&Le in t&&t[Le]===e}o(bn,"IsKindOf");function qB(t){return zh(t)||Dc(t)||Bi(t)}o(qB,"IsLiteralValue");function Qc(t){return bn(t,"Literal")}o(Qc,"IsLiteral");function Pc(t){return bn(t,"MappedKey")}o(Pc,"IsMappedKey");function $i(t){return bn(t,"MappedResult")}o($i,"IsMappedResult");function Rm(t){return bn(t,"Never")}o(Rm,"IsNever");function oBe(t){return bn(t,"Not")}o(oBe,"IsNot");function YT(t){return bn(t,"Null")}o(YT,"IsNull");function zu(t){return bn(t,"Number")}o(zu,"IsNumber");function ts(t){return bn(t,"Object")}o(ts,"IsObject");function Py(t){return bn(t,"Promise")}o(Py,"IsPromise");function Fy(t){return bn(t,"Record")}o(Fy,"IsRecord");function Qo(t){return bn(t,"Ref")}o(Qo,"IsRef");function AO(t){return bn(t,"RegExp")}o(AO,"IsRegExp");function Zh(t){return bn(t,"String")}o(Zh,"IsString");function $T(t){return bn(t,"Symbol")}o($T,"IsSymbol");function Fc(t){return bn(t,"TemplateLiteral")}o(Fc,"IsTemplateLiteral");function sBe(t){return bn(t,"This")}o(sBe,"IsThis");function Xn(t){return Ci(t)&&so in t}o(Xn,"IsTransform");function Mc(t){return bn(t,"Tuple")}o(Mc,"IsTuple");function eA(t){return bn(t,"Undefined")}o(eA,"IsUndefined");function Qn(t){return bn(t,"Union")}o(Qn,"IsUnion");function aBe(t){return bn(t,"Uint8Array")}o(aBe,"IsUint8Array");function cBe(t){return bn(t,"Unknown")}o(cBe,"IsUnknown");function lBe(t){return bn(t,"Unsafe")}o(lBe,"IsUnsafe");function uBe(t){return bn(t,"Void")}o(uBe,"IsVoid");function km(t){return Ci(t)&&Le in t&&Bi(t[Le])}o(km,"IsKind");function ao(t){return dO(t)||hO(t)||Gu(t)||Xh(t)||Ny(t)||Dy(t)||Vu(t)||Wu(t)||iBe(t)||Yu(t)||$u(t)||Io(t)||Qy(t)||Qc(t)||Pc(t)||$i(t)||Rm(t)||oBe(t)||YT(t)||zu(t)||ts(t)||Py(t)||Fy(t)||Qo(t)||AO(t)||Zh(t)||$T(t)||Fc(t)||sBe(t)||Mc(t)||eA(t)||Qn(t)||aBe(t)||cBe(t)||lBe(t)||uBe(t)||km(t)}o(ao,"IsSchema");var be={};Eo(be,{IsAny:()=>mte,IsArgument:()=>gte,IsArray:()=>yte,IsAsyncIterator:()=>Cte,IsBigInt:()=>Ete,IsBoolean:()=>Ite,IsComputed:()=>xte,IsConstructor:()=>bte,IsDate:()=>vte,IsFunction:()=>Tte,IsImport:()=>mBe,IsInteger:()=>_te,IsIntersect:()=>Ste,IsIterator:()=>wte,IsKind:()=>ere,IsKindOf:()=>fn,IsLiteral:()=>jT,IsLiteralBoolean:()=>gBe,IsLiteralNumber:()=>Rte,IsLiteralString:()=>Bte,IsLiteralValue:()=>kte,IsMappedKey:()=>Dte,IsMappedResult:()=>Nte,IsNever:()=>Qte,IsNot:()=>Pte,IsNull:()=>Fte,IsNumber:()=>Mte,IsObject:()=>Lte,IsOptional:()=>pBe,IsPromise:()=>Ote,IsProperties:()=>GB,IsReadonly:()=>ABe,IsRecord:()=>Ute,IsRecursive:()=>yBe,IsRef:()=>Hte,IsRegExp:()=>qte,IsSchema:()=>zi,IsString:()=>Gte,IsSymbol:()=>Vte,IsTemplateLiteral:()=>Wte,IsThis:()=>Yte,IsTransform:()=>$te,IsTuple:()=>zte,IsUint8Array:()=>Kte,IsUndefined:()=>jte,IsUnion:()=>yO,IsUnionLiteral:()=>CBe,IsUnknown:()=>Jte,IsUnsafe:()=>Xte,IsVoid:()=>Zte,TypeGuardUnknownTypeError:()=>pO});u();var pO=class extends lr{static{o(this,"TypeGuardUnknownTypeError")}},fBe=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function hte(t){try{return new RegExp(t),!0}catch{return!1}}o(hte,"IsPattern");function mO(t){if(!Bi(t))return!1;for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}o(mO,"IsControlCharacterFree");function Ate(t){return gO(t)||zi(t)}o(Ate,"IsAdditionalProperties");function zT(t){return es(t)||GT(t)}o(zT,"IsOptionalBigInt");function Ri(t){return es(t)||Dc(t)}o(Ri,"IsOptionalNumber");function gO(t){return es(t)||zh(t)}o(gO,"IsOptionalBoolean");function Ei(t){return es(t)||Bi(t)}o(Ei,"IsOptionalString");function dBe(t){return es(t)||Bi(t)&&mO(t)&&hte(t)}o(dBe,"IsOptionalPattern");function hBe(t){return es(t)||Bi(t)&&mO(t)}o(hBe,"IsOptionalFormat");function pte(t){return es(t)||zi(t)}o(pte,"IsOptionalSchema");function ABe(t){return Ci(t)&&t[qu]==="Readonly"}o(ABe,"IsReadonly");function pBe(t){return Ci(t)&&t[ya]==="Optional"}o(pBe,"IsOptional");function mte(t){return fn(t,"Any")&&Ei(t.$id)}o(mte,"IsAny");function gte(t){return fn(t,"Argument")&&Dc(t.index)}o(gte,"IsArgument");function yte(t){return fn(t,"Array")&&t.type==="array"&&Ei(t.$id)&&zi(t.items)&&Ri(t.minItems)&&Ri(t.maxItems)&&gO(t.uniqueItems)&&pte(t.contains)&&Ri(t.minContains)&&Ri(t.maxContains)}o(yte,"IsArray");function Cte(t){return fn(t,"AsyncIterator")&&t.type==="AsyncIterator"&&Ei(t.$id)&&zi(t.items)}o(Cte,"IsAsyncIterator");function Ete(t){return fn(t,"BigInt")&&t.type==="bigint"&&Ei(t.$id)&&zT(t.exclusiveMaximum)&&zT(t.exclusiveMinimum)&&zT(t.maximum)&&zT(t.minimum)&&zT(t.multipleOf)}o(Ete,"IsBigInt");function Ite(t){return fn(t,"Boolean")&&t.type==="boolean"&&Ei(t.$id)}o(Ite,"IsBoolean");function xte(t){return fn(t,"Computed")&&Bi(t.target)&&Zo(t.parameters)&&t.parameters.every(e=>zi(e))}o(xte,"IsComputed");function bte(t){return fn(t,"Constructor")&&t.type==="Constructor"&&Ei(t.$id)&&Zo(t.parameters)&&t.parameters.every(e=>zi(e))&&zi(t.returns)}o(bte,"IsConstructor");function vte(t){return fn(t,"Date")&&t.type==="Date"&&Ei(t.$id)&&Ri(t.exclusiveMaximumTimestamp)&&Ri(t.exclusiveMinimumTimestamp)&&Ri(t.maximumTimestamp)&&Ri(t.minimumTimestamp)&&Ri(t.multipleOfTimestamp)}o(vte,"IsDate");function Tte(t){return fn(t,"Function")&&t.type==="Function"&&Ei(t.$id)&&Zo(t.parameters)&&t.parameters.every(e=>zi(e))&&zi(t.returns)}o(Tte,"IsFunction");function mBe(t){return fn(t,"Import")&&FB(t,"$defs")&&Ci(t.$defs)&&GB(t.$defs)&&FB(t,"$ref")&&Bi(t.$ref)&&t.$ref in t.$defs}o(mBe,"IsImport");function _te(t){return fn(t,"Integer")&&t.type==="integer"&&Ei(t.$id)&&Ri(t.exclusiveMaximum)&&Ri(t.exclusiveMinimum)&&Ri(t.maximum)&&Ri(t.minimum)&&Ri(t.multipleOf)}o(_te,"IsInteger");function GB(t){return Ci(t)&&Object.entries(t).every(([e,r])=>mO(e)&&zi(r))}o(GB,"IsProperties");function Ste(t){return fn(t,"Intersect")&&!(Bi(t.type)&&t.type!=="object")&&Zo(t.allOf)&&t.allOf.every(e=>zi(e)&&!$te(e))&&Ei(t.type)&&(gO(t.unevaluatedProperties)||pte(t.unevaluatedProperties))&&Ei(t.$id)}o(Ste,"IsIntersect");function wte(t){return fn(t,"Iterator")&&t.type==="Iterator"&&Ei(t.$id)&&zi(t.items)}o(wte,"IsIterator");function fn(t,e){return Ci(t)&&Le in t&&t[Le]===e}o(fn,"IsKindOf");function Bte(t){return jT(t)&&Bi(t.const)}o(Bte,"IsLiteralString");function Rte(t){return jT(t)&&Dc(t.const)}o(Rte,"IsLiteralNumber");function gBe(t){return jT(t)&&zh(t.const)}o(gBe,"IsLiteralBoolean");function jT(t){return fn(t,"Literal")&&Ei(t.$id)&&kte(t.const)}o(jT,"IsLiteral");function kte(t){return zh(t)||Dc(t)||Bi(t)}o(kte,"IsLiteralValue");function Dte(t){return fn(t,"MappedKey")&&Zo(t.keys)&&t.keys.every(e=>Dc(e)||Bi(e))}o(Dte,"IsMappedKey");function Nte(t){return fn(t,"MappedResult")&&GB(t.properties)}o(Nte,"IsMappedResult");function Qte(t){return fn(t,"Never")&&Ci(t.not)&&Object.getOwnPropertyNames(t.not).length===0}o(Qte,"IsNever");function Pte(t){return fn(t,"Not")&&zi(t.not)}o(Pte,"IsNot");function Fte(t){return fn(t,"Null")&&t.type==="null"&&Ei(t.$id)}o(Fte,"IsNull");function Mte(t){return fn(t,"Number")&&t.type==="number"&&Ei(t.$id)&&Ri(t.exclusiveMaximum)&&Ri(t.exclusiveMinimum)&&Ri(t.maximum)&&Ri(t.minimum)&&Ri(t.multipleOf)}o(Mte,"IsNumber");function Lte(t){return fn(t,"Object")&&t.type==="object"&&Ei(t.$id)&&GB(t.properties)&&Ate(t.additionalProperties)&&Ri(t.minProperties)&&Ri(t.maxProperties)}o(Lte,"IsObject");function Ote(t){return fn(t,"Promise")&&t.type==="Promise"&&Ei(t.$id)&&zi(t.item)}o(Ote,"IsPromise");function Ute(t){return fn(t,"Record")&&t.type==="object"&&Ei(t.$id)&&Ate(t.additionalProperties)&&Ci(t.patternProperties)&&(e=>{let r=Object.getOwnPropertyNames(e.patternProperties);return r.length===1&&hte(r[0])&&Ci(e.patternProperties)&&zi(e.patternProperties[r[0]])})(t)}o(Ute,"IsRecord");function yBe(t){return Ci(t)&&Dl in t&&t[Dl]==="Recursive"}o(yBe,"IsRecursive");function Hte(t){return fn(t,"Ref")&&Ei(t.$id)&&Bi(t.$ref)}o(Hte,"IsRef");function qte(t){return fn(t,"RegExp")&&Ei(t.$id)&&Bi(t.source)&&Bi(t.flags)&&Ri(t.maxLength)&&Ri(t.minLength)}o(qte,"IsRegExp");function Gte(t){return fn(t,"String")&&t.type==="string"&&Ei(t.$id)&&Ri(t.minLength)&&Ri(t.maxLength)&&dBe(t.pattern)&&hBe(t.format)}o(Gte,"IsString");function Vte(t){return fn(t,"Symbol")&&t.type==="symbol"&&Ei(t.$id)}o(Vte,"IsSymbol");function Wte(t){return fn(t,"TemplateLiteral")&&t.type==="string"&&Bi(t.pattern)&&t.pattern[0]==="^"&&t.pattern[t.pattern.length-1]==="$"}o(Wte,"IsTemplateLiteral");function Yte(t){return fn(t,"This")&&Ei(t.$id)&&Bi(t.$ref)}o(Yte,"IsThis");function $te(t){return Ci(t)&&so in t}o($te,"IsTransform");function zte(t){return fn(t,"Tuple")&&t.type==="array"&&Ei(t.$id)&&Dc(t.minItems)&&Dc(t.maxItems)&&t.minItems===t.maxItems&&(es(t.items)&&es(t.additionalItems)&&t.minItems===0||Zo(t.items)&&t.items.every(e=>zi(e)))}o(zte,"IsTuple");function jte(t){return fn(t,"Undefined")&&t.type==="undefined"&&Ei(t.$id)}o(jte,"IsUndefined");function CBe(t){return yO(t)&&t.anyOf.every(e=>Bte(e)||Rte(e))}o(CBe,"IsUnionLiteral");function yO(t){return fn(t,"Union")&&Ei(t.$id)&&Ci(t)&&Zo(t.anyOf)&&t.anyOf.every(e=>zi(e))}o(yO,"IsUnion");function Kte(t){return fn(t,"Uint8Array")&&t.type==="Uint8Array"&&Ei(t.$id)&&Ri(t.minByteLength)&&Ri(t.maxByteLength)}o(Kte,"IsUint8Array");function Jte(t){return fn(t,"Unknown")&&Ei(t.$id)}o(Jte,"IsUnknown");function Xte(t){return fn(t,"Unsafe")}o(Xte,"IsUnsafe");function Zte(t){return fn(t,"Void")&&t.type==="void"&&Ei(t.$id)}o(Zte,"IsVoid");function ere(t){return Ci(t)&&Le in t&&Bi(t[Le])&&!fBe.includes(t[Le])}o(ere,"IsKind");function zi(t){return Ci(t)&&(mte(t)||gte(t)||yte(t)||Ite(t)||Ete(t)||Cte(t)||xte(t)||bte(t)||vte(t)||Tte(t)||_te(t)||Ste(t)||wte(t)||jT(t)||Dte(t)||Nte(t)||Qte(t)||Pte(t)||Fte(t)||Mte(t)||Lte(t)||Ote(t)||Ute(t)||Hte(t)||qte(t)||Gte(t)||Vte(t)||Wte(t)||Yte(t)||zte(t)||jte(t)||yO(t)||Kte(t)||Jte(t)||Xte(t)||Zte(t)||ere(t))}o(zi,"IsSchema");u();var CO="(true|false)",KT="(0|[1-9][0-9]*)",EO="(.*)",EBe="(?!.*)",wCt=`^${CO}$`,gd=`^${KT}$`,yd=`^${EO}$`,tre=`^${EBe}$`;u();var ju={};Eo(ju,{Clear:()=>xBe,Delete:()=>bBe,Entries:()=>IBe,Get:()=>_Be,Has:()=>vBe,Set:()=>TBe});u();var x2=new Map;function IBe(){return new Map(x2)}o(IBe,"Entries");function xBe(){return x2.clear()}o(xBe,"Clear");function bBe(t){return x2.delete(t)}o(bBe,"Delete");function vBe(t){return x2.has(t)}o(vBe,"Has");function TBe(t,e){x2.set(t,e)}o(TBe,"Set");function _Be(t){return x2.get(t)}o(_Be,"Get");var h0={};Eo(h0,{Clear:()=>wBe,Delete:()=>BBe,Entries:()=>SBe,Get:()=>DBe,Has:()=>RBe,Set:()=>kBe});u();var b2=new Map;function SBe(){return new Map(b2)}o(SBe,"Entries");function wBe(){return b2.clear()}o(wBe,"Clear");function BBe(t){return b2.delete(t)}o(BBe,"Delete");function RBe(t){return b2.has(t)}o(RBe,"Has");function kBe(t,e){b2.set(t,e)}o(kBe,"Set");function DBe(t){return b2.get(t)}o(DBe,"Get");u();function rre(t,e){return t.includes(e)}o(rre,"SetIncludes");function nre(t){return[...new Set(t)]}o(nre,"SetDistinct");function NBe(t,e){return t.filter(r=>e.includes(r))}o(NBe,"SetIntersect");function QBe(t,e){return t.reduce((r,n)=>NBe(r,n),e)}o(QBe,"SetIntersectManyResolve");function ire(t){return t.length===1?t[0]:t.length>1?QBe(t.slice(1),t[0]):[]}o(ire,"SetIntersectMany");function ore(t){let e=[];for(let r of t)e.push(...r);return e}o(ore,"SetUnionMany");u();function Dm(t){return Ue({[Le]:"Any"},t)}o(Dm,"Any");u();function v2(t,e){return Ue({[Le]:"Array",type:"array",items:t},e)}o(v2,"Array");u();function sre(t){return Ue({[Le]:"Argument",index:t})}o(sre,"Argument");u();function T2(t,e){return Ue({[Le]:"AsyncIterator",type:"AsyncIterator",items:t},e)}o(T2,"AsyncIterator");u();u();function Qi(t,e,r){return Ue({[Le]:"Computed",target:t,parameters:e},r)}o(Qi,"Computed");u();u();function PBe(t,e){let{[e]:r,...n}=t;return n}o(PBe,"DiscardKey");function xo(t,e){return e.reduce((r,n)=>PBe(r,n),t)}o(xo,"Discard");u();function jr(t){return Ue({[Le]:"Never",not:{}},t)}o(jr,"Never");u();u();function Hn(t){return Ue({[Le]:"MappedResult",properties:t})}o(Hn,"MappedResult");u();u();function _2(t,e,r){return Ue({[Le]:"Constructor",type:"Constructor",parameters:t,returns:e},r)}o(_2,"Constructor");u();function Cd(t,e,r){return Ue({[Le]:"Function",type:"Function",parameters:t,returns:e},r)}o(Cd,"Function");u();u();u();u();function JT(t,e){return Ue({[Le]:"Union",anyOf:t},e)}o(JT,"UnionCreate");function FBe(t){return t.some(e=>G0(e))}o(FBe,"IsUnionOptional");function are(t){return t.map(e=>G0(e)?MBe(e):e)}o(are,"RemoveOptionalFromRest");function MBe(t){return xo(t,[ya])}o(MBe,"RemoveOptionalFromType");function LBe(t,e){return FBe(t)?Ga(JT(are(t),e)):JT(are(t),e)}o(LBe,"ResolveUnion");function Ed(t,e){return t.length===1?Ue(t[0],e):t.length===0?jr(e):LBe(t,e)}o(Ed,"UnionEvaluated");u();function Zn(t,e){return t.length===0?jr(e):t.length===1?Ue(t[0],e):JT(t,e)}o(Zn,"Union");u();u();u();var VB=class extends lr{static{o(this,"TemplateLiteralParserError")}};function OBe(t){return t.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}o(OBe,"Unescape");function IO(t,e,r){return t[e]===r&&t.charCodeAt(e-1)!==92}o(IO,"IsNonEscaped");function rA(t,e){return IO(t,e,"(")}o(rA,"IsOpenParen");function XT(t,e){return IO(t,e,")")}o(XT,"IsCloseParen");function cre(t,e){return IO(t,e,"|")}o(cre,"IsSeparator");function UBe(t){if(!(rA(t,0)&&XT(t,t.length-1)))return!1;let e=0;for(let r=0;r<t.length;r++)if(rA(t,r)&&(e+=1),XT(t,r)&&(e-=1),e===0&&r!==t.length-1)return!1;return!0}o(UBe,"IsGroup");function HBe(t){return t.slice(1,t.length-1)}o(HBe,"InGroup");function qBe(t){let e=0;for(let r=0;r<t.length;r++)if(rA(t,r)&&(e+=1),XT(t,r)&&(e-=1),cre(t,r)&&e===0)return!0;return!1}o(qBe,"IsPrecedenceOr");function GBe(t){for(let e=0;e<t.length;e++)if(rA(t,e))return!0;return!1}o(GBe,"IsPrecedenceAnd");function VBe(t){let[e,r]=[0,0],n=[];for(let s=0;s<t.length;s++)if(rA(t,s)&&(e+=1),XT(t,s)&&(e-=1),cre(t,s)&&e===0){let a=t.slice(r,s);a.length>0&&n.push(S2(a)),r=s+1}let i=t.slice(r);return i.length>0&&n.push(S2(i)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}o(VBe,"Or");function WBe(t){function e(i,s){if(!rA(i,s))throw new VB("TemplateLiteralParser: Index must point to open parens");let a=0;for(let c=s;c<i.length;c++)if(rA(i,c)&&(a+=1),XT(i,c)&&(a-=1),a===0)return[s,c];throw new VB("TemplateLiteralParser: Unclosed group parens in expression")}o(e,"Group");function r(i,s){for(let a=s;a<i.length;a++)if(rA(i,a))return[s,a];return[s,i.length]}o(r,"Range");let n=[];for(let i=0;i<t.length;i++)if(rA(t,i)){let[s,a]=e(t,i),c=t.slice(s,a+1);n.push(S2(c)),i=a}else{let[s,a]=r(t,i),c=t.slice(s,a);c.length>0&&n.push(S2(c)),i=a-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}o(WBe,"And");function S2(t){return UBe(t)?S2(HBe(t)):qBe(t)?VBe(t):GBe(t)?WBe(t):{type:"const",const:OBe(t)}}o(S2,"TemplateLiteralParse");function w2(t){return S2(t.slice(1,t.length-1))}o(w2,"TemplateLiteralParseExact");var xO=class extends lr{static{o(this,"TemplateLiteralFiniteError")}};function YBe(t){return t.type==="or"&&t.expr.length===2&&t.expr[0].type==="const"&&t.expr[0].const==="0"&&t.expr[1].type==="const"&&t.expr[1].const==="[1-9][0-9]*"}o(YBe,"IsNumberExpression");function $Be(t){return t.type==="or"&&t.expr.length===2&&t.expr[0].type==="const"&&t.expr[0].const==="true"&&t.expr[1].type==="const"&&t.expr[1].const==="false"}o($Be,"IsBooleanExpression");function zBe(t){return t.type==="const"&&t.const===".*"}o(zBe,"IsStringExpression");function My(t){return YBe(t)||zBe(t)?!1:$Be(t)?!0:t.type==="and"?t.expr.every(e=>My(e)):t.type==="or"?t.expr.every(e=>My(e)):t.type==="const"?!0:(()=>{throw new xO("Unknown expression type")})()}o(My,"IsTemplateLiteralExpressionFinite");function WB(t){let e=w2(t.pattern);return My(e)}o(WB,"IsTemplateLiteralFinite");u();var bO=class extends lr{static{o(this,"TemplateLiteralGenerateError")}};function*lre(t){if(t.length===1)return yield*t[0];for(let e of t[0])for(let r of lre(t.slice(1)))yield`${e}${r}`}o(lre,"GenerateReduce");function*jBe(t){return yield*lre(t.expr.map(e=>[...ZT(e)]))}o(jBe,"GenerateAnd");function*KBe(t){for(let e of t.expr)yield*ZT(e)}o(KBe,"GenerateOr");function*JBe(t){return yield t.const}o(JBe,"GenerateConst");function*ZT(t){return t.type==="and"?yield*jBe(t):t.type==="or"?yield*KBe(t):t.type==="const"?yield*JBe(t):(()=>{throw new bO("Unknown expression")})()}o(ZT,"TemplateLiteralExpressionGenerate");function B2(t){let e=w2(t.pattern);return My(e)?[...ZT(e)]:[]}o(B2,"TemplateLiteralGenerate");u();u();function vn(t,e){return Ue({[Le]:"Literal",const:t,type:typeof t},e)}o(vn,"Literal");u();function YB(t){return Ue({[Le]:"Boolean",type:"boolean"},t)}o(YB,"Boolean");u();function R2(t){return Ue({[Le]:"BigInt",type:"bigint"},t)}o(R2,"BigInt");u();function Nl(t){return Ue({[Le]:"Number",type:"number"},t)}o(Nl,"Number");u();function A0(t){return Ue({[Le]:"String",type:"string"},t)}o(A0,"String");function*XBe(t){let e=t.trim().replace(/"|'/g,"");return e==="boolean"?yield YB():e==="number"?yield Nl():e==="bigint"?yield R2():e==="string"?yield A0():yield(()=>{let r=e.split("|").map(n=>vn(n.trim()));return r.length===0?jr():r.length===1?r[0]:Ed(r)})()}o(XBe,"FromUnion");function*ZBe(t){if(t[1]!=="{"){let e=vn("$"),r=vO(t.slice(1));return yield*[e,...r]}for(let e=2;e<t.length;e++)if(t[e]==="}"){let r=XBe(t.slice(2,e)),n=vO(t.slice(e+1));return yield*[...r,...n]}yield vn(t)}o(ZBe,"FromTerminal");function*vO(t){for(let e=0;e<t.length;e++)if(t[e]==="$"){let r=vn(t.slice(0,e)),n=ZBe(t.slice(e));return yield*[r,...n]}yield vn(t)}o(vO,"FromSyntax");function ure(t){return[...vO(t)]}o(ure,"TemplateLiteralSyntax");u();var TO=class extends lr{static{o(this,"TemplateLiteralPatternError")}};function e6e(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(e6e,"Escape");function fre(t,e){return Fc(t)?t.pattern.slice(1,t.pattern.length-1):Qn(t)?`(${t.anyOf.map(r=>fre(r,e)).join("|")})`:zu(t)?`${e}${KT}`:$u(t)?`${e}${KT}`:Ny(t)?`${e}${KT}`:Zh(t)?`${e}${EO}`:Qc(t)?`${e}${e6e(t.const.toString())}`:Xh(t)?`${e}${CO}`:(()=>{throw new TO(`Unexpected Kind '${t[Le]}'`)})()}o(fre,"Visit");function _O(t){return`^${t.map(e=>fre(e,"")).join("")}$`}o(_O,"TemplateLiteralPattern");u();function Ly(t){let r=B2(t).map(n=>vn(n));return Ed(r)}o(Ly,"TemplateLiteralToUnion");u();function $B(t,e){let r=Bi(t)?_O(ure(t)):_O(t);return Ue({[Le]:"TemplateLiteral",type:"string",pattern:r},e)}o($B,"TemplateLiteral");function t6e(t){return B2(t).map(r=>r.toString())}o(t6e,"FromTemplateLiteral");function r6e(t){let e=[];for(let r of t)e.push(...V0(r));return e}o(r6e,"FromUnion");function n6e(t){return[t.toString()]}o(n6e,"FromLiteral");function V0(t){return[...new Set(Fc(t)?t6e(t):Qn(t)?r6e(t.anyOf):Qc(t)?n6e(t.const):zu(t)?["[number]"]:$u(t)?["[number]"]:[])]}o(V0,"IndexPropertyKeys");u();function i6e(t,e,r){let n={};for(let i of Object.getOwnPropertyNames(e))n[i]=Nm(t,V0(e[i]),r);return n}o(i6e,"FromProperties");function o6e(t,e,r){return i6e(t,e.properties,r)}o(o6e,"FromMappedResult");function dre(t,e,r){let n=o6e(t,e,r);return Hn(n)}o(dre,"IndexFromMappedResult");function Are(t,e){return t.map(r=>pre(r,e))}o(Are,"FromRest");function s6e(t){return t.filter(e=>!Rm(e))}o(s6e,"FromIntersectRest");function a6e(t,e){return zB(s6e(Are(t,e)))}o(a6e,"FromIntersect");function c6e(t){return t.some(e=>Rm(e))?[]:t}o(c6e,"FromUnionRest");function l6e(t,e){return Ed(c6e(Are(t,e)))}o(l6e,"FromUnion");function u6e(t,e){return e in t?t[e]:e==="[number]"?Ed(t):jr()}o(u6e,"FromTuple");function f6e(t,e){return e==="[number]"?t:jr()}o(f6e,"FromArray");function d6e(t,e){return e in t?t[e]:jr()}o(d6e,"FromProperty");function pre(t,e){return Io(t)?a6e(t.allOf,e):Qn(t)?l6e(t.anyOf,e):Mc(t)?u6e(t.items??[],e):Gu(t)?f6e(t.items,e):ts(t)?d6e(t.properties,e):jr()}o(pre,"IndexFromPropertyKey");function e4(t,e){return e.map(r=>pre(t,r))}o(e4,"IndexFromPropertyKeys");function hre(t,e){return Ed(e4(t,e))}o(hre,"FromSchema");function Nm(t,e,r){if(Qo(t)||Qo(e)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!ao(t)||!ao(e))throw new lr(n);return Qi("Index",[t,e])}return $i(e)?dre(t,e,r):Pc(e)?mre(t,e,r):Ue(ao(e)?hre(t,V0(e)):hre(t,e),r)}o(Nm,"Index");function h6e(t,e,r){return{[e]:Nm(t,[e],Wi(r))}}o(h6e,"MappedIndexPropertyKey");function A6e(t,e,r){return e.reduce((n,i)=>({...n,...h6e(t,i,r)}),{})}o(A6e,"MappedIndexPropertyKeys");function p6e(t,e,r){return A6e(t,e.keys,r)}o(p6e,"MappedIndexProperties");function mre(t,e,r){let n=p6e(t,e,r);return Hn(n)}o(mre,"IndexFromMappedKey");u();function k2(t,e){return Ue({[Le]:"Iterator",type:"Iterator",items:t},e)}o(k2,"Iterator");u();function m6e(t){let e=[];for(let r in t)G0(t[r])||e.push(r);return e}o(m6e,"RequiredKeys");function g6e(t,e){let r=m6e(t),n=r.length>0?{[Le]:"Object",type:"object",properties:t,required:r}:{[Le]:"Object",type:"object",properties:t};return Ue(n,e)}o(g6e,"_Object");var ei=g6e;u();function jB(t,e){return Ue({[Le]:"Promise",type:"Promise",item:t},e)}o(jB,"Promise");u();u();function y6e(t){return Ue(xo(t,[qu]))}o(y6e,"RemoveReadonly");function C6e(t){return Ue({...t,[qu]:"Readonly"})}o(C6e,"AddReadonly");function E6e(t,e){return e===!1?y6e(t):C6e(t)}o(E6e,"ReadonlyWithFlag");function W0(t,e){let r=e??!0;return $i(t)?gre(t,r):E6e(t,r)}o(W0,"Readonly");function I6e(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=W0(t[n],e);return r}o(I6e,"FromProperties");function x6e(t,e){return I6e(t.properties,e)}o(x6e,"FromMappedResult");function gre(t,e){let r=x6e(t,e);return Hn(r)}o(gre,"ReadonlyFromMappedResult");u();function Ql(t,e){return Ue(t.length>0?{[Le]:"Tuple",type:"array",items:t,additionalItems:!1,minItems:t.length,maxItems:t.length}:{[Le]:"Tuple",type:"array",minItems:t.length,maxItems:t.length},e)}o(Ql,"Tuple");function yre(t,e){return t in e?Pl(t,e[t]):Hn(e)}o(yre,"FromMappedResult");function b6e(t){return{[t]:vn(t)}}o(b6e,"MappedKeyToKnownMappedResultProperties");function v6e(t){let e={};for(let r of t)e[r]=vn(r);return e}o(v6e,"MappedKeyToUnknownMappedResultProperties");function T6e(t,e){return rre(e,t)?b6e(t):v6e(e)}o(T6e,"MappedKeyToMappedResultProperties");function _6e(t,e){let r=T6e(t,e);return yre(t,r)}o(_6e,"FromMappedKey");function t4(t,e){return e.map(r=>Pl(t,r))}o(t4,"FromRest");function S6e(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Pl(t,e[n]);return r}o(S6e,"FromProperties");function Pl(t,e){let r={...e};return G0(e)?Ga(Pl(t,xo(e,[ya]))):I2(e)?W0(Pl(t,xo(e,[qu]))):$i(e)?yre(t,e.properties):Pc(e)?_6e(t,e.keys):Wu(e)?_2(t4(t,e.parameters),Pl(t,e.returns),r):Yu(e)?Cd(t4(t,e.parameters),Pl(t,e.returns),r):Dy(e)?T2(Pl(t,e.items),r):Qy(e)?k2(Pl(t,e.items),r):Io(e)?Va(t4(t,e.allOf),r):Qn(e)?Zn(t4(t,e.anyOf),r):Mc(e)?Ql(t4(t,e.items??[]),r):ts(e)?ei(S6e(t,e.properties),r):Gu(e)?v2(Pl(t,e.items),r):Py(e)?jB(Pl(t,e.item),r):e}o(Pl,"FromSchemaType");function w6e(t,e){let r={};for(let n of t)r[n]=Pl(n,e);return r}o(w6e,"MappedFunctionReturnType");function Cre(t,e,r){let n=ao(t)?V0(t):t,i=e({[Le]:"MappedKey",keys:n}),s=w6e(n,i);return ei(s,r)}o(Cre,"Mapped");u();function B6e(t){return Ue(xo(t,[ya]))}o(B6e,"RemoveOptional");function R6e(t){return Ue({...t,[ya]:"Optional"})}o(R6e,"AddOptional");function k6e(t,e){return e===!1?B6e(t):R6e(t)}o(k6e,"OptionalWithFlag");function Ga(t,e){let r=e??!0;return $i(t)?Ere(t,r):k6e(t,r)}o(Ga,"Optional");function D6e(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Ga(t[n],e);return r}o(D6e,"FromProperties");function N6e(t,e){return D6e(t.properties,e)}o(N6e,"FromMappedResult");function Ere(t,e){let r=N6e(t,e);return Hn(r)}o(Ere,"OptionalFromMappedResult");u();function r4(t,e={}){let r=t.every(i=>ts(i)),n=ao(e.unevaluatedProperties)?{unevaluatedProperties:e.unevaluatedProperties}:{};return Ue(e.unevaluatedProperties===!1||ao(e.unevaluatedProperties)||r?{...n,[Le]:"Intersect",type:"object",allOf:t}:{...n,[Le]:"Intersect",allOf:t},e)}o(r4,"IntersectCreate");function Q6e(t){return t.every(e=>G0(e))}o(Q6e,"IsIntersectOptional");function P6e(t){return xo(t,[ya])}o(P6e,"RemoveOptionalFromType");function Ire(t){return t.map(e=>G0(e)?P6e(e):e)}o(Ire,"RemoveOptionalFromRest");function F6e(t,e){return Q6e(t)?Ga(r4(Ire(t),e)):r4(Ire(t),e)}o(F6e,"ResolveIntersect");function zB(t,e={}){if(t.length===1)return Ue(t[0],e);if(t.length===0)return jr(e);if(t.some(r=>Xn(r)))throw new Error("Cannot intersect transform types");return F6e(t,e)}o(zB,"IntersectEvaluated");u();function Va(t,e){if(t.length===1)return Ue(t[0],e);if(t.length===0)return jr(e);if(t.some(r=>Xn(r)))throw new Error("Cannot intersect transform types");return r4(t,e)}o(Va,"Intersect");u();function Fl(...t){let[e,r]=typeof t[0]=="string"?[t[0],t[1]]:[t[0].$id,t[1]];if(typeof e!="string")throw new lr("Ref: $ref must be a string");return Ue({[Le]:"Ref",$ref:e},r)}o(Fl,"Ref");function M6e(t,e){return Qi("Awaited",[Qi(t,e)])}o(M6e,"FromComputed");function L6e(t){return Qi("Awaited",[Fl(t)])}o(L6e,"FromRef");function O6e(t){return Va(xre(t))}o(O6e,"FromIntersect");function U6e(t){return Zn(xre(t))}o(U6e,"FromUnion");function H6e(t){return D2(t)}o(H6e,"FromPromise");function xre(t){return t.map(e=>D2(e))}o(xre,"FromRest");function D2(t,e){return Ue(Vu(t)?M6e(t.target,t.parameters):Io(t)?O6e(t.allOf):Qn(t)?U6e(t.anyOf):Py(t)?H6e(t.item):Qo(t)?L6e(t.$ref):t,e)}o(D2,"Awaited");u();u();u();u();function bre(t){let e=[];for(let r of t)e.push(Y0(r));return e}o(bre,"FromRest");function q6e(t){let e=bre(t);return ore(e)}o(q6e,"FromIntersect");function G6e(t){let e=bre(t);return ire(e)}o(G6e,"FromUnion");function V6e(t){return t.map((e,r)=>r.toString())}o(V6e,"FromTuple");function W6e(t){return["[number]"]}o(W6e,"FromArray");function Y6e(t){return globalThis.Object.getOwnPropertyNames(t)}o(Y6e,"FromProperties");function $6e(t){return SO?globalThis.Object.getOwnPropertyNames(t).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}o($6e,"FromPatternProperties");function Y0(t){return Io(t)?q6e(t.allOf):Qn(t)?G6e(t.anyOf):Mc(t)?V6e(t.items??[]):Gu(t)?W6e(t.items):ts(t)?Y6e(t.properties):Fy(t)?$6e(t.patternProperties):[]}o(Y0,"KeyOfPropertyKeys");var SO=!1;function nA(t){SO=!0;let e=Y0(t);return SO=!1,`^(${e.map(n=>`(${n})`).join("|")})$`}o(nA,"KeyOfPattern");function z6e(t,e){return Qi("KeyOf",[Qi(t,e)])}o(z6e,"FromComputed");function j6e(t){return Qi("KeyOf",[Fl(t)])}o(j6e,"FromRef");function K6e(t,e){let r=Y0(t),n=J6e(r),i=Ed(n);return Ue(i,e)}o(K6e,"KeyOfFromType");function J6e(t){return t.map(e=>e==="[number]"?Nl():vn(e))}o(J6e,"KeyOfPropertyKeysToRest");function N2(t,e){return Vu(t)?z6e(t.target,t.parameters):Qo(t)?j6e(t.$ref):$i(t)?vre(t,e):K6e(t,e)}o(N2,"KeyOf");function X6e(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=N2(t[n],Wi(e));return r}o(X6e,"FromProperties");function Z6e(t,e){return X6e(t.properties,e)}o(Z6e,"FromMappedResult");function vre(t,e){let r=Z6e(t,e);return Hn(r)}o(vre,"KeyOfFromMappedResult");u();function KB(t){let e=Y0(t),r=e4(t,e);return e.map((n,i)=>[e[i],r[i]])}o(KB,"KeyOfPropertyEntries");function e9e(t){let e=[];for(let r of t)e.push(...Y0(r));return nre(e)}o(e9e,"CompositeKeys");function t9e(t){return t.filter(e=>!Rm(e))}o(t9e,"FilterNever");function r9e(t,e){let r=[];for(let n of t)r.push(...e4(n,[e]));return t9e(r)}o(r9e,"CompositeProperty");function n9e(t,e){let r={};for(let n of e)r[n]=zB(r9e(t,n));return r}o(n9e,"CompositeProperties");function Tre(t,e){let r=e9e(t),n=n9e(t,r);return ei(n,e)}o(Tre,"Composite");u();u();function JB(t){return Ue({[Le]:"Date",type:"Date"},t)}o(JB,"Date");u();function XB(t){return Ue({[Le]:"Null",type:"null"},t)}o(XB,"Null");u();function ZB(t){return Ue({[Le]:"Symbol",type:"symbol"},t)}o(ZB,"Symbol");u();function e6(t){return Ue({[Le]:"Undefined",type:"undefined"},t)}o(e6,"Undefined");u();function t6(t){return Ue({[Le]:"Uint8Array",type:"Uint8Array"},t)}o(t6,"Uint8Array");u();function Ku(t){return Ue({[Le]:"Unknown"},t)}o(Ku,"Unknown");function i9e(t){return t.map(e=>wO(e,!1))}o(i9e,"FromArray");function o9e(t){let e={};for(let r of globalThis.Object.getOwnPropertyNames(t))e[r]=W0(wO(t[r],!1));return e}o(o9e,"FromProperties");function r6(t,e){return e===!0?t:W0(t)}o(r6,"ConditionalReadonly");function wO(t,e){return sO(t)?r6(Dm(),e):cO(t)?r6(Dm(),e):Zo(t)?W0(Ql(i9e(t))):jh(t)?t6():ky(t)?JB():Ci(t)?r6(ei(o9e(t)),e):aO(t)?r6(Cd([],Ku()),e):es(t)?e6():lO(t)?XB():uO(t)?ZB():GT(t)?R2():Dc(t)?vn(t):zh(t)?vn(t):Bi(t)?vn(t):ei({})}o(wO,"FromValue");function _re(t,e){return Ue(wO(t,!0),e)}o(_re,"Const");u();function Sre(t,e){return Wu(t)?Ql(t.parameters,e):jr(e)}o(Sre,"ConstructorParameters");u();function wre(t,e){if(es(t))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(t).filter(s=>isNaN(s)).map(s=>t[s]),i=[...new Set(r)].map(s=>vn(s));return Zn(i,{...e,[Dl]:"Enum"})}o(wre,"Enum");u();u();u();var RO=class extends lr{static{o(this,"ExtendsResolverError")}},He;(function(t){t[t.Union=0]="Union",t[t.True=1]="True",t[t.False=2]="False"})(He||(He={}));function Ml(t){return t===He.False?t:He.True}o(Ml,"IntoBooleanResult");function Q2(t){throw new RO(t)}o(Q2,"Throw");function ps(t){return be.IsNever(t)||be.IsIntersect(t)||be.IsUnion(t)||be.IsUnknown(t)||be.IsAny(t)}o(ps,"IsStructuralRight");function ms(t,e){return be.IsNever(e)?Pre(t,e):be.IsIntersect(e)?n6(t,e):be.IsUnion(e)?QO(t,e):be.IsUnknown(e)?Ore(t,e):be.IsAny(e)?NO(t,e):Q2("StructuralRight")}o(ms,"StructuralRight");function NO(t,e){return He.True}o(NO,"FromAnyRight");function s9e(t,e){return be.IsIntersect(e)?n6(t,e):be.IsUnion(e)&&e.anyOf.some(r=>be.IsAny(r)||be.IsUnknown(r))?He.True:be.IsUnion(e)?He.Union:be.IsUnknown(e)||be.IsAny(e)?He.True:He.Union}o(s9e,"FromAny");function a9e(t,e){return be.IsUnknown(t)?He.False:be.IsAny(t)?He.Union:be.IsNever(t)?He.True:He.False}o(a9e,"FromArrayRight");function c9e(t,e){return be.IsObject(e)&&i6(e)?He.True:ps(e)?ms(t,e):be.IsArray(e)?Ml(Ii(t.items,e.items)):He.False}o(c9e,"FromArray");function l9e(t,e){return ps(e)?ms(t,e):be.IsAsyncIterator(e)?Ml(Ii(t.items,e.items)):He.False}o(l9e,"FromAsyncIterator");function u9e(t,e){return ps(e)?ms(t,e):be.IsObject(e)?Wa(t,e):be.IsRecord(e)?Ll(t,e):be.IsBigInt(e)?He.True:He.False}o(u9e,"FromBigInt");function Nre(t,e){return be.IsLiteralBoolean(t)||be.IsBoolean(t)?He.True:He.False}o(Nre,"FromBooleanRight");function f9e(t,e){return ps(e)?ms(t,e):be.IsObject(e)?Wa(t,e):be.IsRecord(e)?Ll(t,e):be.IsBoolean(e)?He.True:He.False}o(f9e,"FromBoolean");function d9e(t,e){return ps(e)?ms(t,e):be.IsObject(e)?Wa(t,e):be.IsConstructor(e)?t.parameters.length>e.parameters.length?He.False:t.parameters.every((r,n)=>Ml(Ii(e.parameters[n],r))===He.True)?Ml(Ii(t.returns,e.returns)):He.False:He.False}o(d9e,"FromConstructor");function h9e(t,e){return ps(e)?ms(t,e):be.IsObject(e)?Wa(t,e):be.IsRecord(e)?Ll(t,e):be.IsDate(e)?He.True:He.False}o(h9e,"FromDate");function A9e(t,e){return ps(e)?ms(t,e):be.IsObject(e)?Wa(t,e):be.IsFunction(e)?t.parameters.length>e.parameters.length?He.False:t.parameters.every((r,n)=>Ml(Ii(e.parameters[n],r))===He.True)?Ml(Ii(t.returns,e.returns)):He.False:He.False}o(A9e,"FromFunction");function Qre(t,e){return be.IsLiteral(t)&&qa.IsNumber(t.const)||be.IsNumber(t)||be.IsInteger(t)?He.True:He.False}o(Qre,"FromIntegerRight");function p9e(t,e){return be.IsInteger(e)||be.IsNumber(e)?He.True:ps(e)?ms(t,e):be.IsObject(e)?Wa(t,e):be.IsRecord(e)?Ll(t,e):He.False}o(p9e,"FromInteger");function n6(t,e){return e.allOf.every(r=>Ii(t,r)===He.True)?He.True:He.False}o(n6,"FromIntersectRight");function m9e(t,e){return t.allOf.some(r=>Ii(r,e)===He.True)?He.True:He.False}o(m9e,"FromIntersect");function g9e(t,e){return ps(e)?ms(t,e):be.IsIterator(e)?Ml(Ii(t.items,e.items)):He.False}o(g9e,"FromIterator");function y9e(t,e){return be.IsLiteral(e)&&e.const===t.const?He.True:ps(e)?ms(t,e):be.IsObject(e)?Wa(t,e):be.IsRecord(e)?Ll(t,e):be.IsString(e)?Lre(t,e):be.IsNumber(e)?Fre(t,e):be.IsInteger(e)?Qre(t,e):be.IsBoolean(e)?Nre(t,e):He.False}o(y9e,"FromLiteral");function Pre(t,e){return He.False}o(Pre,"FromNeverRight");function C9e(t,e){return He.True}o(C9e,"FromNever");function Bre(t){let[e,r]=[t,0];for(;be.IsNot(e);)e=e.not,r+=1;return r%2===0?e:Ku()}o(Bre,"UnwrapTNot");function E9e(t,e){return be.IsNot(t)?Ii(Bre(t),e):be.IsNot(e)?Ii(t,Bre(e)):Q2("Invalid fallthrough for Not")}o(E9e,"FromNot");function I9e(t,e){return ps(e)?ms(t,e):be.IsObject(e)?Wa(t,e):be.IsRecord(e)?Ll(t,e):be.IsNull(e)?He.True:He.False}o(I9e,"FromNull");function Fre(t,e){return be.IsLiteralNumber(t)||be.IsNumber(t)||be.IsInteger(t)?He.True:He.False}o(Fre,"FromNumberRight");function x9e(t,e){return ps(e)?ms(t,e):be.IsObject(e)?Wa(t,e):be.IsRecord(e)?Ll(t,e):be.IsInteger(e)||be.IsNumber(e)?He.True:He.False}o(x9e,"FromNumber");function $0(t,e){return Object.getOwnPropertyNames(t.properties).length===e}o($0,"IsObjectPropertyCount");function Rre(t){return i6(t)}o(Rre,"IsObjectStringLike");function kre(t){return $0(t,0)||$0(t,1)&&"description"in t.properties&&be.IsUnion(t.properties.description)&&t.properties.description.anyOf.length===2&&(be.IsString(t.properties.description.anyOf[0])&&be.IsUndefined(t.properties.description.anyOf[1])||be.IsString(t.properties.description.anyOf[1])&&be.IsUndefined(t.properties.description.anyOf[0]))}o(kre,"IsObjectSymbolLike");function BO(t){return $0(t,0)}o(BO,"IsObjectNumberLike");function Dre(t){return $0(t,0)}o(Dre,"IsObjectBooleanLike");function b9e(t){return $0(t,0)}o(b9e,"IsObjectBigIntLike");function v9e(t){return $0(t,0)}o(v9e,"IsObjectDateLike");function T9e(t){return i6(t)}o(T9e,"IsObjectUint8ArrayLike");function _9e(t){let e=Nl();return $0(t,0)||$0(t,1)&&"length"in t.properties&&Ml(Ii(t.properties.length,e))===He.True}o(_9e,"IsObjectFunctionLike");function S9e(t){return $0(t,0)}o(S9e,"IsObjectConstructorLike");function i6(t){let e=Nl();return $0(t,0)||$0(t,1)&&"length"in t.properties&&Ml(Ii(t.properties.length,e))===He.True}o(i6,"IsObjectArrayLike");function w9e(t){let e=Cd([Dm()],Dm());return $0(t,0)||$0(t,1)&&"then"in t.properties&&Ml(Ii(t.properties.then,e))===He.True}o(w9e,"IsObjectPromiseLike");function Mre(t,e){return Ii(t,e)===He.False||be.IsOptional(t)&&!be.IsOptional(e)?He.False:He.True}o(Mre,"Property");function Wa(t,e){return be.IsUnknown(t)?He.False:be.IsAny(t)?He.Union:be.IsNever(t)||be.IsLiteralString(t)&&Rre(e)||be.IsLiteralNumber(t)&&BO(e)||be.IsLiteralBoolean(t)&&Dre(e)||be.IsSymbol(t)&&kre(e)||be.IsBigInt(t)&&b9e(e)||be.IsString(t)&&Rre(e)||be.IsSymbol(t)&&kre(e)||be.IsNumber(t)&&BO(e)||be.IsInteger(t)&&BO(e)||be.IsBoolean(t)&&Dre(e)||be.IsUint8Array(t)&&T9e(e)||be.IsDate(t)&&v9e(e)||be.IsConstructor(t)&&S9e(e)||be.IsFunction(t)&&_9e(e)?He.True:be.IsRecord(t)&&be.IsString(kO(t))?e[Dl]==="Record"?He.True:He.False:be.IsRecord(t)&&be.IsNumber(kO(t))?$0(e,0)?He.True:He.False:He.False}o(Wa,"FromObjectRight");function B9e(t,e){return ps(e)?ms(t,e):be.IsRecord(e)?Ll(t,e):be.IsObject(e)?(()=>{for(let r of Object.getOwnPropertyNames(e.properties)){if(!(r in t.properties)&&!be.IsOptional(e.properties[r]))return He.False;if(be.IsOptional(e.properties[r]))return He.True;if(Mre(t.properties[r],e.properties[r])===He.False)return He.False}return He.True})():He.False}o(B9e,"FromObject");function R9e(t,e){return ps(e)?ms(t,e):be.IsObject(e)&&w9e(e)?He.True:be.IsPromise(e)?Ml(Ii(t.item,e.item)):He.False}o(R9e,"FromPromise");function kO(t){return gd in t.patternProperties?Nl():yd in t.patternProperties?A0():Q2("Unknown record key pattern")}o(kO,"RecordKey");function DO(t){return gd in t.patternProperties?t.patternProperties[gd]:yd in t.patternProperties?t.patternProperties[yd]:Q2("Unable to get record value schema")}o(DO,"RecordValue");function Ll(t,e){let[r,n]=[kO(e),DO(e)];return be.IsLiteralString(t)&&be.IsNumber(r)&&Ml(Ii(t,n))===He.True?He.True:be.IsUint8Array(t)&&be.IsNumber(r)||be.IsString(t)&&be.IsNumber(r)||be.IsArray(t)&&be.IsNumber(r)?Ii(t,n):be.IsObject(t)?(()=>{for(let i of Object.getOwnPropertyNames(t.properties))if(Mre(n,t.properties[i])===He.False)return He.False;return He.True})():He.False}o(Ll,"FromRecordRight");function k9e(t,e){return ps(e)?ms(t,e):be.IsObject(e)?Wa(t,e):be.IsRecord(e)?Ii(DO(t),DO(e)):He.False}o(k9e,"FromRecord");function D9e(t,e){let r=be.IsRegExp(t)?A0():t,n=be.IsRegExp(e)?A0():e;return Ii(r,n)}o(D9e,"FromRegExp");function Lre(t,e){return be.IsLiteral(t)&&qa.IsString(t.const)||be.IsString(t)?He.True:He.False}o(Lre,"FromStringRight");function N9e(t,e){return ps(e)?ms(t,e):be.IsObject(e)?Wa(t,e):be.IsRecord(e)?Ll(t,e):be.IsString(e)?He.True:He.False}o(N9e,"FromString");function Q9e(t,e){return ps(e)?ms(t,e):be.IsObject(e)?Wa(t,e):be.IsRecord(e)?Ll(t,e):be.IsSymbol(e)?He.True:He.False}o(Q9e,"FromSymbol");function P9e(t,e){return be.IsTemplateLiteral(t)?Ii(Ly(t),e):be.IsTemplateLiteral(e)?Ii(t,Ly(e)):Q2("Invalid fallthrough for TemplateLiteral")}o(P9e,"FromTemplateLiteral");function F9e(t,e){return be.IsArray(e)&&t.items!==void 0&&t.items.every(r=>Ii(r,e.items)===He.True)}o(F9e,"IsArrayOfTuple");function M9e(t,e){return be.IsNever(t)?He.True:be.IsUnknown(t)?He.False:be.IsAny(t)?He.Union:He.False}o(M9e,"FromTupleRight");function L9e(t,e){return ps(e)?ms(t,e):be.IsObject(e)&&i6(e)||be.IsArray(e)&&F9e(t,e)?He.True:be.IsTuple(e)?qa.IsUndefined(t.items)&&!qa.IsUndefined(e.items)||!qa.IsUndefined(t.items)&&qa.IsUndefined(e.items)?He.False:qa.IsUndefined(t.items)&&!qa.IsUndefined(e.items)||t.items.every((r,n)=>Ii(r,e.items[n])===He.True)?He.True:He.False:He.False}o(L9e,"FromTuple");function O9e(t,e){return ps(e)?ms(t,e):be.IsObject(e)?Wa(t,e):be.IsRecord(e)?Ll(t,e):be.IsUint8Array(e)?He.True:He.False}o(O9e,"FromUint8Array");function U9e(t,e){return ps(e)?ms(t,e):be.IsObject(e)?Wa(t,e):be.IsRecord(e)?Ll(t,e):be.IsVoid(e)?G9e(t,e):be.IsUndefined(e)?He.True:He.False}o(U9e,"FromUndefined");function QO(t,e){return e.anyOf.some(r=>Ii(t,r)===He.True)?He.True:He.False}o(QO,"FromUnionRight");function H9e(t,e){return t.anyOf.every(r=>Ii(r,e)===He.True)?He.True:He.False}o(H9e,"FromUnion");function Ore(t,e){return He.True}o(Ore,"FromUnknownRight");function q9e(t,e){return be.IsNever(e)?Pre(t,e):be.IsIntersect(e)?n6(t,e):be.IsUnion(e)?QO(t,e):be.IsAny(e)?NO(t,e):be.IsString(e)?Lre(t,e):be.IsNumber(e)?Fre(t,e):be.IsInteger(e)?Qre(t,e):be.IsBoolean(e)?Nre(t,e):be.IsArray(e)?a9e(t,e):be.IsTuple(e)?M9e(t,e):be.IsObject(e)?Wa(t,e):be.IsUnknown(e)?He.True:He.False}o(q9e,"FromUnknown");function G9e(t,e){return be.IsUndefined(t)||be.IsUndefined(t)?He.True:He.False}o(G9e,"FromVoidRight");function V9e(t,e){return be.IsIntersect(e)?n6(t,e):be.IsUnion(e)?QO(t,e):be.IsUnknown(e)?Ore(t,e):be.IsAny(e)?NO(t,e):be.IsObject(e)?Wa(t,e):be.IsVoid(e)?He.True:He.False}o(V9e,"FromVoid");function Ii(t,e){return be.IsTemplateLiteral(t)||be.IsTemplateLiteral(e)?P9e(t,e):be.IsRegExp(t)||be.IsRegExp(e)?D9e(t,e):be.IsNot(t)||be.IsNot(e)?E9e(t,e):be.IsAny(t)?s9e(t,e):be.IsArray(t)?c9e(t,e):be.IsBigInt(t)?u9e(t,e):be.IsBoolean(t)?f9e(t,e):be.IsAsyncIterator(t)?l9e(t,e):be.IsConstructor(t)?d9e(t,e):be.IsDate(t)?h9e(t,e):be.IsFunction(t)?A9e(t,e):be.IsInteger(t)?p9e(t,e):be.IsIntersect(t)?m9e(t,e):be.IsIterator(t)?g9e(t,e):be.IsLiteral(t)?y9e(t,e):be.IsNever(t)?C9e(t,e):be.IsNull(t)?I9e(t,e):be.IsNumber(t)?x9e(t,e):be.IsObject(t)?B9e(t,e):be.IsRecord(t)?k9e(t,e):be.IsString(t)?N9e(t,e):be.IsSymbol(t)?Q9e(t,e):be.IsTuple(t)?L9e(t,e):be.IsPromise(t)?R9e(t,e):be.IsUint8Array(t)?O9e(t,e):be.IsUndefined(t)?U9e(t,e):be.IsUnion(t)?H9e(t,e):be.IsUnknown(t)?q9e(t,e):be.IsVoid(t)?V9e(t,e):Q2(`Unknown left type operand '${t[Le]}'`)}o(Ii,"Visit");function Qm(t,e){return Ii(t,e)}o(Qm,"ExtendsCheck");u();u();u();function W9e(t,e,r,n,i){let s={};for(let a of globalThis.Object.getOwnPropertyNames(t))s[a]=P2(t[a],e,r,n,Wi(i));return s}o(W9e,"FromProperties");function Y9e(t,e,r,n,i){return W9e(t.properties,e,r,n,i)}o(Y9e,"FromMappedResult");function Ure(t,e,r,n,i){let s=Y9e(t,e,r,n,i);return Hn(s)}o(Ure,"ExtendsFromMappedResult");function $9e(t,e,r,n){let i=Qm(t,e);return i===He.Union?Zn([r,n]):i===He.True?r:n}o($9e,"ExtendsResolve");function P2(t,e,r,n,i){return $i(t)?Ure(t,e,r,n,i):Pc(t)?Ue(Hre(t,e,r,n,i)):Ue($9e(t,e,r,n),i)}o(P2,"Extends");function z9e(t,e,r,n,i){return{[t]:P2(vn(t),e,r,n,Wi(i))}}o(z9e,"FromPropertyKey");function j9e(t,e,r,n,i){return t.reduce((s,a)=>({...s,...z9e(a,e,r,n,i)}),{})}o(j9e,"FromPropertyKeys");function K9e(t,e,r,n,i){return j9e(t.keys,e,r,n,i)}o(K9e,"FromMappedKey");function Hre(t,e,r,n,i){let s=K9e(t,e,r,n,i);return Hn(s)}o(Hre,"ExtendsFromMappedKey");u();function J9e(t){return t.allOf.every(e=>iA(e))}o(J9e,"Intersect");function X9e(t){return t.anyOf.some(e=>iA(e))}o(X9e,"Union");function Z9e(t){return!iA(t.not)}o(Z9e,"Not");function iA(t){return t[Le]==="Intersect"?J9e(t):t[Le]==="Union"?X9e(t):t[Le]==="Not"?Z9e(t):t[Le]==="Undefined"}o(iA,"ExtendsUndefinedCheck");u();function qre(t,e){return F2(Ly(t),e)}o(qre,"ExcludeFromTemplateLiteral");function eRe(t,e){let r=t.filter(n=>Qm(n,e)===He.False);return r.length===1?r[0]:Zn(r)}o(eRe,"ExcludeRest");function F2(t,e,r={}){return Fc(t)?Ue(qre(t,e),r):$i(t)?Ue(Gre(t,e),r):Ue(Qn(t)?eRe(t.anyOf,e):Qm(t,e)!==He.False?jr():t,r)}o(F2,"Exclude");function tRe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=F2(t[n],e);return r}o(tRe,"FromProperties");function rRe(t,e){return tRe(t.properties,e)}o(rRe,"FromMappedResult");function Gre(t,e){let r=rRe(t,e);return Hn(r)}o(Gre,"ExcludeFromMappedResult");u();u();u();function Vre(t,e){return M2(Ly(t),e)}o(Vre,"ExtractFromTemplateLiteral");function nRe(t,e){let r=t.filter(n=>Qm(n,e)!==He.False);return r.length===1?r[0]:Zn(r)}o(nRe,"ExtractRest");function M2(t,e,r){return Fc(t)?Ue(Vre(t,e),r):$i(t)?Ue(Wre(t,e),r):Ue(Qn(t)?nRe(t.anyOf,e):Qm(t,e)!==He.False?t:jr(),r)}o(M2,"Extract");function iRe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=M2(t[n],e);return r}o(iRe,"FromProperties");function oRe(t,e){return iRe(t.properties,e)}o(oRe,"FromMappedResult");function Wre(t,e){let r=oRe(t,e);return Hn(r)}o(Wre,"ExtractFromMappedResult");u();function Yre(t,e){return Wu(t)?Ue(t.returns,e):jr(e)}o(Yre,"InstanceType");u();u();function o6(t){return W0(Ga(t))}o(o6,"ReadonlyOptional");u();function Oy(t,e,r){return Ue({[Le]:"Record",type:"object",patternProperties:{[t]:e}},r)}o(Oy,"RecordCreateFromPattern");function PO(t,e,r){let n={};for(let i of t)n[i]=e;return ei(n,{...r,[Dl]:"Record"})}o(PO,"RecordCreateFromKeys");function sRe(t,e,r){return WB(t)?PO(V0(t),e,r):Oy(t.pattern,e,r)}o(sRe,"FromTemplateLiteralKey");function aRe(t,e,r){return PO(V0(Zn(t)),e,r)}o(aRe,"FromUnionKey");function cRe(t,e,r){return PO([t.toString()],e,r)}o(cRe,"FromLiteralKey");function lRe(t,e,r){return Oy(t.source,e,r)}o(lRe,"FromRegExpKey");function uRe(t,e,r){let n=es(t.pattern)?yd:t.pattern;return Oy(n,e,r)}o(uRe,"FromStringKey");function fRe(t,e,r){return Oy(yd,e,r)}o(fRe,"FromAnyKey");function dRe(t,e,r){return Oy(tre,e,r)}o(dRe,"FromNeverKey");function hRe(t,e,r){return ei({true:e,false:e},r)}o(hRe,"FromBooleanKey");function ARe(t,e,r){return Oy(gd,e,r)}o(ARe,"FromIntegerKey");function pRe(t,e,r){return Oy(gd,e,r)}o(pRe,"FromNumberKey");function s6(t,e,r={}){return Qn(t)?aRe(t.anyOf,e,r):Fc(t)?sRe(t,e,r):Qc(t)?cRe(t.const,e,r):Xh(t)?hRe(t,e,r):$u(t)?ARe(t,e,r):zu(t)?pRe(t,e,r):AO(t)?lRe(t,e,r):Zh(t)?uRe(t,e,r):dO(t)?fRe(t,e,r):Rm(t)?dRe(t,e,r):jr(r)}o(s6,"Record");function a6(t){return globalThis.Object.getOwnPropertyNames(t.patternProperties)[0]}o(a6,"RecordPattern");function $re(t){let e=a6(t);return e===yd?A0():e===gd?Nl():A0({pattern:e})}o($re,"RecordKey");function c6(t){return t.patternProperties[a6(t)]}o(c6,"RecordValue");function mRe(t,e){return e.parameters=n4(t,e.parameters),e.returns=Ju(t,e.returns),e}o(mRe,"FromConstructor");function gRe(t,e){return e.parameters=n4(t,e.parameters),e.returns=Ju(t,e.returns),e}o(gRe,"FromFunction");function yRe(t,e){return e.allOf=n4(t,e.allOf),e}o(yRe,"FromIntersect");function CRe(t,e){return e.anyOf=n4(t,e.anyOf),e}o(CRe,"FromUnion");function ERe(t,e){return es(e.items)||(e.items=n4(t,e.items)),e}o(ERe,"FromTuple");function IRe(t,e){return e.items=Ju(t,e.items),e}o(IRe,"FromArray");function xRe(t,e){return e.items=Ju(t,e.items),e}o(xRe,"FromAsyncIterator");function bRe(t,e){return e.items=Ju(t,e.items),e}o(bRe,"FromIterator");function vRe(t,e){return e.item=Ju(t,e.item),e}o(vRe,"FromPromise");function TRe(t,e){let r=BRe(t,e.properties);return{...e,...ei(r)}}o(TRe,"FromObject");function _Re(t,e){let r=Ju(t,$re(e)),n=Ju(t,c6(e)),i=s6(r,n);return{...e,...i}}o(_Re,"FromRecord");function SRe(t,e){return e.index in t?t[e.index]:Ku()}o(SRe,"FromArgument");function wRe(t,e){let r=I2(e),n=G0(e),i=Ju(t,e);return r&&n?o6(i):r&&!n?W0(i):!r&&n?Ga(i):i}o(wRe,"FromProperty");function BRe(t,e){return globalThis.Object.getOwnPropertyNames(e).reduce((r,n)=>({...r,[n]:wRe(t,e[n])}),{})}o(BRe,"FromProperties");function n4(t,e){return e.map(r=>Ju(t,r))}o(n4,"FromTypes");function Ju(t,e){return Wu(e)?mRe(t,e):Yu(e)?gRe(t,e):Io(e)?yRe(t,e):Qn(e)?CRe(t,e):Mc(e)?ERe(t,e):Gu(e)?IRe(t,e):Dy(e)?xRe(t,e):Qy(e)?bRe(t,e):Py(e)?vRe(t,e):ts(e)?TRe(t,e):Fy(e)?_Re(t,e):hO(e)?SRe(t,e):e}o(Ju,"FromType");function zre(t,e){return Ju(e,C2(t))}o(zre,"Instantiate");u();function jre(t){return Ue({[Le]:"Integer",type:"integer"},t)}o(jre,"Integer");u();u();u();function RRe(t,e,r){return{[t]:Xu(vn(t),e,Wi(r))}}o(RRe,"MappedIntrinsicPropertyKey");function kRe(t,e,r){return t.reduce((i,s)=>({...i,...RRe(s,e,r)}),{})}o(kRe,"MappedIntrinsicPropertyKeys");function DRe(t,e,r){return kRe(t.keys,e,r)}o(DRe,"MappedIntrinsicProperties");function Kre(t,e,r){let n=DRe(t,e,r);return Hn(n)}o(Kre,"IntrinsicFromMappedKey");function NRe(t){let[e,r]=[t.slice(0,1),t.slice(1)];return[e.toLowerCase(),r].join("")}o(NRe,"ApplyUncapitalize");function QRe(t){let[e,r]=[t.slice(0,1),t.slice(1)];return[e.toUpperCase(),r].join("")}o(QRe,"ApplyCapitalize");function PRe(t){return t.toUpperCase()}o(PRe,"ApplyUppercase");function FRe(t){return t.toLowerCase()}o(FRe,"ApplyLowercase");function MRe(t,e,r){let n=w2(t.pattern);if(!My(n))return{...t,pattern:Jre(t.pattern,e)};let a=[...ZT(n)].map(f=>vn(f)),c=Xre(a,e),l=Zn(c);return $B([l],r)}o(MRe,"FromTemplateLiteral");function Jre(t,e){return typeof t=="string"?e==="Uncapitalize"?NRe(t):e==="Capitalize"?QRe(t):e==="Uppercase"?PRe(t):e==="Lowercase"?FRe(t):t:t.toString()}o(Jre,"FromLiteralValue");function Xre(t,e){return t.map(r=>Xu(r,e))}o(Xre,"FromRest");function Xu(t,e,r={}){return Pc(t)?Kre(t,e,r):Fc(t)?MRe(t,e,r):Qn(t)?Zn(Xre(t.anyOf,e),r):Qc(t)?vn(Jre(t.const,e),r):Ue(t,r)}o(Xu,"Intrinsic");function Zre(t,e={}){return Xu(t,"Capitalize",e)}o(Zre,"Capitalize");u();function ene(t,e={}){return Xu(t,"Lowercase",e)}o(ene,"Lowercase");u();function tne(t,e={}){return Xu(t,"Uncapitalize",e)}o(tne,"Uncapitalize");u();function rne(t,e={}){return Xu(t,"Uppercase",e)}o(rne,"Uppercase");u();u();u();u();u();function LRe(t,e,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(t))n[i]=Pm(t[i],e,Wi(r));return n}o(LRe,"FromProperties");function ORe(t,e,r){return LRe(t.properties,e,r)}o(ORe,"FromMappedResult");function nne(t,e,r){let n=ORe(t,e,r);return Hn(n)}o(nne,"OmitFromMappedResult");function URe(t,e){return t.map(r=>FO(r,e))}o(URe,"FromIntersect");function HRe(t,e){return t.map(r=>FO(r,e))}o(HRe,"FromUnion");function qRe(t,e){let{[e]:r,...n}=t;return n}o(qRe,"FromProperty");function GRe(t,e){return e.reduce((r,n)=>qRe(r,n),t)}o(GRe,"FromProperties");function VRe(t,e){let r=xo(t,[so,"$id","required","properties"]),n=GRe(t.properties,e);return ei(n,r)}o(VRe,"FromObject");function WRe(t){let e=t.reduce((r,n)=>qB(n)?[...r,vn(n)]:r,[]);return Zn(e)}o(WRe,"UnionFromPropertyKeys");function FO(t,e){return Io(t)?Va(URe(t.allOf,e)):Qn(t)?Zn(HRe(t.anyOf,e)):ts(t)?VRe(t,e):ei({})}o(FO,"OmitResolve");function Pm(t,e,r){let n=Zo(e)?WRe(e):e,i=ao(e)?V0(e):e,s=Qo(t),a=Qo(e);return $i(t)?nne(t,i,r):Pc(e)?ine(t,e,r):s&&a?Qi("Omit",[t,n],r):!s&&a?Qi("Omit",[t,n],r):s&&!a?Qi("Omit",[t,n],r):Ue({...FO(t,i),...r})}o(Pm,"Omit");function YRe(t,e,r){return{[e]:Pm(t,[e],Wi(r))}}o(YRe,"FromPropertyKey");function $Re(t,e,r){return e.reduce((n,i)=>({...n,...YRe(t,i,r)}),{})}o($Re,"FromPropertyKeys");function zRe(t,e,r){return $Re(t,e.keys,r)}o(zRe,"FromMappedKey");function ine(t,e,r){let n=zRe(t,e,r);return Hn(n)}o(ine,"OmitFromMappedKey");u();u();u();function jRe(t,e,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(t))n[i]=Fm(t[i],e,Wi(r));return n}o(jRe,"FromProperties");function KRe(t,e,r){return jRe(t.properties,e,r)}o(KRe,"FromMappedResult");function one(t,e,r){let n=KRe(t,e,r);return Hn(n)}o(one,"PickFromMappedResult");function JRe(t,e){return t.map(r=>MO(r,e))}o(JRe,"FromIntersect");function XRe(t,e){return t.map(r=>MO(r,e))}o(XRe,"FromUnion");function ZRe(t,e){let r={};for(let n of e)n in t&&(r[n]=t[n]);return r}o(ZRe,"FromProperties");function e7e(t,e){let r=xo(t,[so,"$id","required","properties"]),n=ZRe(t.properties,e);return ei(n,r)}o(e7e,"FromObject");function t7e(t){let e=t.reduce((r,n)=>qB(n)?[...r,vn(n)]:r,[]);return Zn(e)}o(t7e,"UnionFromPropertyKeys");function MO(t,e){return Io(t)?Va(JRe(t.allOf,e)):Qn(t)?Zn(XRe(t.anyOf,e)):ts(t)?e7e(t,e):ei({})}o(MO,"PickResolve");function Fm(t,e,r){let n=Zo(e)?t7e(e):e,i=ao(e)?V0(e):e,s=Qo(t),a=Qo(e);return $i(t)?one(t,i,r):Pc(e)?sne(t,e,r):s&&a?Qi("Pick",[t,n],r):!s&&a?Qi("Pick",[t,n],r):s&&!a?Qi("Pick",[t,n],r):Ue({...MO(t,i),...r})}o(Fm,"Pick");function r7e(t,e,r){return{[e]:Fm(t,[e],Wi(r))}}o(r7e,"FromPropertyKey");function n7e(t,e,r){return e.reduce((n,i)=>({...n,...r7e(t,i,r)}),{})}o(n7e,"FromPropertyKeys");function i7e(t,e,r){return n7e(t,e.keys,r)}o(i7e,"FromMappedKey");function sne(t,e,r){let n=i7e(t,e,r);return Hn(n)}o(sne,"PickFromMappedKey");u();u();function o7e(t,e){return Qi("Partial",[Qi(t,e)])}o(o7e,"FromComputed");function s7e(t){return Qi("Partial",[Fl(t)])}o(s7e,"FromRef");function a7e(t){let e={};for(let r of globalThis.Object.getOwnPropertyNames(t))e[r]=Ga(t[r]);return e}o(a7e,"FromProperties");function c7e(t){let e=xo(t,[so,"$id","required","properties"]),r=a7e(t.properties);return ei(r,e)}o(c7e,"FromObject");function ane(t){return t.map(e=>cne(e))}o(ane,"FromRest");function cne(t){return Vu(t)?o7e(t.target,t.parameters):Qo(t)?s7e(t.$ref):Io(t)?Va(ane(t.allOf)):Qn(t)?Zn(ane(t.anyOf)):ts(t)?c7e(t):Ny(t)||Xh(t)||$u(t)||Qc(t)||YT(t)||zu(t)||Zh(t)||$T(t)||eA(t)?t:ei({})}o(cne,"PartialResolve");function L2(t,e){return $i(t)?lne(t,e):Ue({...cne(t),...e})}o(L2,"Partial");function l7e(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=L2(t[n],Wi(e));return r}o(l7e,"FromProperties");function u7e(t,e){return l7e(t.properties,e)}o(u7e,"FromMappedResult");function lne(t,e){let r=u7e(t,e);return Hn(r)}o(lne,"PartialFromMappedResult");u();u();function f7e(t,e){return Qi("Required",[Qi(t,e)])}o(f7e,"FromComputed");function d7e(t){return Qi("Required",[Fl(t)])}o(d7e,"FromRef");function h7e(t){let e={};for(let r of globalThis.Object.getOwnPropertyNames(t))e[r]=xo(t[r],[ya]);return e}o(h7e,"FromProperties");function A7e(t){let e=xo(t,[so,"$id","required","properties"]),r=h7e(t.properties);return ei(r,e)}o(A7e,"FromObject");function une(t){return t.map(e=>fne(e))}o(une,"FromRest");function fne(t){return Vu(t)?f7e(t.target,t.parameters):Qo(t)?d7e(t.$ref):Io(t)?Va(une(t.allOf)):Qn(t)?Zn(une(t.anyOf)):ts(t)?A7e(t):Ny(t)||Xh(t)||$u(t)||Qc(t)||YT(t)||zu(t)||Zh(t)||$T(t)||eA(t)?t:ei({})}o(fne,"RequiredResolve");function O2(t,e){return $i(t)?dne(t,e):Ue({...fne(t),...e})}o(O2,"Required");function p7e(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=O2(t[n],e);return r}o(p7e,"FromProperties");function m7e(t,e){return p7e(t.properties,e)}o(m7e,"FromMappedResult");function dne(t,e){let r=m7e(t,e);return Hn(r)}o(dne,"RequiredFromMappedResult");function g7e(t,e){return e.map(r=>Qo(r)?LO(t,r.$ref):Lc(t,r))}o(g7e,"DereferenceParameters");function LO(t,e){return e in t?Qo(t[e])?LO(t,t[e].$ref):Lc(t,t[e]):jr()}o(LO,"Dereference");function y7e(t){return D2(t[0])}o(y7e,"FromAwaited");function C7e(t){return Nm(t[0],t[1])}o(C7e,"FromIndex");function E7e(t){return N2(t[0])}o(E7e,"FromKeyOf");function I7e(t){return L2(t[0])}o(I7e,"FromPartial");function x7e(t){return Pm(t[0],t[1])}o(x7e,"FromOmit");function b7e(t){return Fm(t[0],t[1])}o(b7e,"FromPick");function v7e(t){return O2(t[0])}o(v7e,"FromRequired");function T7e(t,e,r){let n=g7e(t,r);return e==="Awaited"?y7e(n):e==="Index"?C7e(n):e==="KeyOf"?E7e(n):e==="Partial"?I7e(n):e==="Omit"?x7e(n):e==="Pick"?b7e(n):e==="Required"?v7e(n):jr()}o(T7e,"FromComputed");function _7e(t,e){return v2(Lc(t,e))}o(_7e,"FromArray");function S7e(t,e){return T2(Lc(t,e))}o(S7e,"FromAsyncIterator");function w7e(t,e,r){return _2(i4(t,e),Lc(t,r))}o(w7e,"FromConstructor");function B7e(t,e,r){return Cd(i4(t,e),Lc(t,r))}o(B7e,"FromFunction");function R7e(t,e){return Va(i4(t,e))}o(R7e,"FromIntersect");function k7e(t,e){return k2(Lc(t,e))}o(k7e,"FromIterator");function D7e(t,e){return ei(globalThis.Object.keys(e).reduce((r,n)=>({...r,[n]:Lc(t,e[n])}),{}))}o(D7e,"FromObject");function N7e(t,e){let[r,n]=[Lc(t,c6(e)),a6(e)],i=C2(e);return i.patternProperties[n]=r,i}o(N7e,"FromRecord");function Q7e(t,e){return Qo(e)?{...LO(t,e.$ref),[so]:e[so]}:e}o(Q7e,"FromTransform");function P7e(t,e){return Ql(i4(t,e))}o(P7e,"FromTuple");function F7e(t,e){return Zn(i4(t,e))}o(F7e,"FromUnion");function i4(t,e){return e.map(r=>Lc(t,r))}o(i4,"FromTypes");function Lc(t,e){return G0(e)?Ue(Lc(t,xo(e,[ya])),e):I2(e)?Ue(Lc(t,xo(e,[qu])),e):Xn(e)?Ue(Q7e(t,e),e):Gu(e)?Ue(_7e(t,e.items),e):Dy(e)?Ue(S7e(t,e.items),e):Vu(e)?Ue(T7e(t,e.target,e.parameters)):Wu(e)?Ue(w7e(t,e.parameters,e.returns),e):Yu(e)?Ue(B7e(t,e.parameters,e.returns),e):Io(e)?Ue(R7e(t,e.allOf),e):Qy(e)?Ue(k7e(t,e.items),e):ts(e)?Ue(D7e(t,e.properties),e):Fy(e)?Ue(N7e(t,e)):Mc(e)?Ue(P7e(t,e.items||[]),e):Qn(e)?Ue(F7e(t,e.anyOf),e):e}o(Lc,"FromType");function M7e(t,e){return e in t?Lc(t,t[e]):jr()}o(M7e,"ComputeType");function hne(t){return globalThis.Object.getOwnPropertyNames(t).reduce((e,r)=>({...e,[r]:M7e(t,r)}),{})}o(hne,"ComputeModuleProperties");var OO=class{static{o(this,"TModule")}constructor(e){let r=hne(e),n=this.WithIdentifiers(r);this.$defs=n}Import(e,r){let n={...this.$defs,[e]:Ue(this.$defs[e],r)};return Ue({[Le]:"Import",$defs:n,$ref:e})}WithIdentifiers(e){return globalThis.Object.getOwnPropertyNames(e).reduce((r,n)=>({...r,[n]:{...e[n],$id:n}}),{})}};function Ane(t){return new OO(t)}o(Ane,"Module");u();function pne(t,e){return Ue({[Le]:"Not",not:t},e)}o(pne,"Not");u();function mne(t,e){return Yu(t)?Ql(t.parameters,e):jr()}o(mne,"Parameters");u();var L7e=0;function gne(t,e={}){es(e.$id)&&(e.$id=`T${L7e++}`);let r=C2(t({[Le]:"This",$ref:`${e.$id}`}));return r.$id=e.$id,Ue({[Dl]:"Recursive",...r},e)}o(gne,"Recursive");u();function yne(t,e){let r=Bi(t)?new globalThis.RegExp(t):t;return Ue({[Le]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},e)}o(yne,"RegExp");u();function O7e(t){return Io(t)?t.allOf:Qn(t)?t.anyOf:Mc(t)?t.items??[]:[]}o(O7e,"RestResolve");function Cne(t){return O7e(t)}o(Cne,"Rest");u();function Ene(t,e){return Yu(t)?Ue(t.returns,e):jr(e)}o(Ene,"ReturnType");u();var UO=class{static{o(this,"TransformDecodeBuilder")}constructor(e){this.schema=e}Decode(e){return new HO(this.schema,e)}},HO=class{static{o(this,"TransformEncodeBuilder")}constructor(e,r){this.schema=e,this.decode=r}EncodeTransform(e,r){let s={Encode:o(a=>r[so].Encode(e(a)),"Encode"),Decode:o(a=>this.decode(r[so].Decode(a)),"Decode")};return{...r,[so]:s}}EncodeSchema(e,r){let n={Decode:this.decode,Encode:e};return{...r,[so]:n}}Encode(e){return Xn(this.schema)?this.EncodeTransform(e,this.schema):this.EncodeSchema(e,this.schema)}};function Ine(t){return new UO(t)}o(Ine,"Transform");u();function xne(t={}){return Ue({[Le]:t[Le]??"Unsafe"},t)}o(xne,"Unsafe");u();function bne(t){return Ue({[Le]:"Void",type:"void"},t)}o(bne,"Void");u();var qO={};Eo(qO,{Any:()=>Dm,Argument:()=>sre,Array:()=>v2,AsyncIterator:()=>T2,Awaited:()=>D2,BigInt:()=>R2,Boolean:()=>YB,Capitalize:()=>Zre,Composite:()=>Tre,Const:()=>_re,Constructor:()=>_2,ConstructorParameters:()=>Sre,Date:()=>JB,Enum:()=>wre,Exclude:()=>F2,Extends:()=>P2,Extract:()=>M2,Function:()=>Cd,Index:()=>Nm,InstanceType:()=>Yre,Instantiate:()=>zre,Integer:()=>jre,Intersect:()=>Va,Iterator:()=>k2,KeyOf:()=>N2,Literal:()=>vn,Lowercase:()=>ene,Mapped:()=>Cre,Module:()=>Ane,Never:()=>jr,Not:()=>pne,Null:()=>XB,Number:()=>Nl,Object:()=>ei,Omit:()=>Pm,Optional:()=>Ga,Parameters:()=>mne,Partial:()=>L2,Pick:()=>Fm,Promise:()=>jB,Readonly:()=>W0,ReadonlyOptional:()=>o6,Record:()=>s6,Recursive:()=>gne,Ref:()=>Fl,RegExp:()=>yne,Required:()=>O2,Rest:()=>Cne,ReturnType:()=>Ene,String:()=>A0,Symbol:()=>ZB,TemplateLiteral:()=>$B,Transform:()=>Ine,Tuple:()=>Ql,Uint8Array:()=>t6,Uncapitalize:()=>tne,Undefined:()=>e6,Union:()=>Zn,Unknown:()=>Ku,Unsafe:()=>xne,Uppercase:()=>rne,Void:()=>bne});u();var J=qO;var Zse=yt(Ea()),J6t=J.Object({accessToken:J.Optional(J.String({minLength:1})),handle:J.Optional(J.String({minLength:1})),login:J.Optional(J.String({minLength:1})),githubAppId:J.Optional(J.String({minLength:1})),apiUrl:J.Optional(J.String({})),serverUrl:J.Optional(J.String({})),tokenEndpoint:J.Optional(J.String({}))}),Gke;(r=>(r.method="github/didChangeAuth",r.type=new Zse.ProtocolNotificationType(r.method)))(Gke||={});u();var eae=yt(Ea()),Vke;(r=>(r.method="copilot/ipCodeCitation",r.type=new eae.NotificationType(r.method)))(Vke||={});u();var tae=yt(Ea()),Wke;(r=>(r.method="context/update",r.type=new tae.ProtocolRequestType(r.method)))(Wke||={});u();u();u();var lo=yt(Ea()),Yke=J.String(),$ke=J.Object({uri:Yke}),Wy=J.Intersect([$ke,J.Object({version:J.Optional(J.Integer())})]),u9t=J.Required(Wy),Ym=J.Object({line:J.Integer({minimum:0}),character:J.Integer({minimum:0})}),rae=J.Object({start:Ym,end:Ym}),mH=J.Union([J.Integer(),J.String()]),f9t=J.Object({isCancellationRequested:J.Boolean(),onCancellationRequested:J.Any()});u();var nae=yt(Ea()),zke;(r=>(r.method="textDocument/didFocus",r.type=new nae.ProtocolNotificationType(r.method)))(zke||={});u();var jke=J.Object({didChangeFeatureFlags:J.Boolean(),fetch:J.Boolean(),ipCodeCitation:J.Boolean(),redirectedTelemetry:J.Boolean(),related:J.Boolean(),token:J.Boolean(),watchedFiles:J.Boolean(),showPanelMessage:J.Boolean()}),Kke=J.Object({name:J.String(),version:J.String(),readableName:J.Optional(J.String())}),iae=J.Object({name:J.String(),version:J.Optional(J.String()),readableName:J.Optional(J.String())}),y9t=J.Object({editorInfo:J.Optional(iae),editorPluginInfo:J.Optional(iae),relatedPluginInfo:J.Optional(J.Array(Kke)),copilotIntegrationId:J.Optional(J.String()),copilotCapabilities:J.Optional(J.Partial(jke)),githubAppId:J.Optional(J.String())});u();var A4=yt(Ea());var oae=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(oae||{}),Jke=J.Enum(oae),Xke=J.Object({triggerKind:Jke,selectedCompletionInfo:J.Optional(J.Object({text:J.String(),range:rae,tooltipSignature:J.Optional(J.String())}))}),sae=J.Object({textDocument:Wy,position:Ym,formattingOptions:J.Optional(J.Object({tabSize:J.Optional(J.Union([J.Integer({minimum:1}),J.String()])),insertSpaces:J.Optional(J.Union([J.Boolean(),J.String()]))})),context:Xke,data:J.Optional(J.Unknown())}),Zke;(r=>(r.method="textDocument/inlineCompletion",r.type=new A4.ProtocolRequestType(r.method)))(Zke||={});var aae=J.Object({command:J.Object({arguments:J.Tuple([J.String({minLength:1})])})}),v9t=J.Object({item:aae}),eDe;(r=>(r.method="textDocument/didShowCompletion",r.type=new A4.ProtocolNotificationType(r.method)))(eDe||={});var T9t=J.Object({item:aae,acceptedLength:J.Integer({minimum:1})}),tDe;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new A4.ProtocolNotificationType(r.method)))(tDe||={});u();var cae=yt(Ea()),rDe;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new cae.ProtocolRequestType(r.method)))(rDe||={});u();var lae=yt(Ea()),N9t=J.Object({textDocument:Wy,position:Ym}),nDe=J.Object({command:J.Object({arguments:J.Tuple([J.String({minLength:1})])})}),Q9t=J.Object({item:nDe}),iDe;(r=>(r.method="textDocument/didShowInlineEdit",r.type=new lae.ProtocolNotificationType(r.method)))(iDe||={});u();var j6=yt(Ea());var H9t=J.Object({textDocument:Wy,position:Ym,partialResultToken:J.Optional(mH),workDoneToken:J.Optional(mH)}),oDe;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new j6.ProtocolRequestType(n.method),n.partialResult=new j6.ProgressType))(oDe||={});u();var uae=yt(Ea()),sDe;(r=>(r.method="copilot/related",r.type=new uae.ProtocolRequestType(r.method)))(sDe||={});u();var fae=yt(Ea()),aDe;(r=>(r.method="statusNotification",r.type=new fae.ProtocolNotificationType(r.method)))(aDe||={});var dae=yt(require("events"));var Yy=class{static{o(this,"CopilotTokenNotifier")}#e=new dae.default;#t;constructor(){this.#e.setMaxListeners(20)}get lastToken(){return this.#t}emitToken(e){if(e.token!==this.#t?.token)return this.#t=e,this.emit("CopilotToken",e)}emit(e,...r){return this.#e.emit(e,...r)}on(e,r,n){let i=aA(e,n,`event.${r}`);return this.#e.on(r,i),lo.Disposable.create(()=>this.#e.off(r,i))}};function Ia(t,e){return t.get(Yy).on(t,"CopilotToken",e)}o(Ia,"onCopilotToken");function gH(t){return t.get(Yy).lastToken}o(gH,"getLastCopilotToken");u();u();function hae(t){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","faef89d9169d5eacf1d8c8dde3412e37","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>t.includes(r))}o(hae,"findKnownOrg");function Aae(t){let e=t.organization_list??[];return hae(e)??""}o(Aae,"getUserKind");u();var K6=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(K6||{}),$y=class{static{o(this,"LogTarget")}},$m=class{static{o(this,"TelemetryLogSender")}},Kr=class{constructor(e){this.category=e}static{o(this,"Logger")}log(e,r,...n){e.get($y).logIt(e,r,this.category,...n)}debug(e,...r){this.log(e,4,...r)}info(e,...r){this.log(e,3,...r)}warn(e,...r){this.log(e,2,...r)}error(e,...r){e.get($m).sendError(e,this.category,...r),this.log(e,1,...r)}exception(e,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.category}${n}`),e.get($m).sendException(e,r,n);let s=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(e,1,`${i}:`,s)}},Fo=new Kr("default");u();u();u();var p4=class extends Error{static{o(this,"HttpTimeoutError")}constructor(e,r){super(e,{cause:r}),this.name="HttpTimeoutError"}};function zm(t){return!t||typeof t!="object"?!1:t instanceof p4||"name"in t&&t.name==="AbortError"||"code"in t&&t.code==="ABORT_ERR"}o(zm,"isAbortError");var ox=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{o(this,"JsonParseError")}},cA=class extends Error{static{o(this,"FetchResponseError")}constructor(e,r=`HTTP ${e.status} ${e.statusText}`){super(r),this.name="FetchResponseError",this.code=`HTTP${e.status}`}},cDe=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function yH(t,e=!0){return t instanceof Error?e&&"cause"in t&&yH(t.cause,!1)?!0:t.name==="EditorFetcherError"||t.name==="FetchError"||t instanceof ox||t instanceof cA||t?.message?.startsWith("net::")||cDe.has(t.code??""):!1}o(yH,"isNetworkError");var J6=class{constructor(e,r,n,i,s){this.status=e;this.statusText=r;this.headers=n;this.getText=i;this.getBody=s;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{o(this,"Response")}async text(){return this.getText()}async json(){let e=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new ox(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(e)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(i&&parseInt(i[2],10)==e.length||n.message==="Unexpected end of JSON input"){let s=new TextEncoder().encode(e).length,a=this.headers.get("content-length");throw a===null?new ox(`Response body truncated: actualLength=${s}`,"Truncated"):new ox(`Response body truncated: actualLength=${s}, headerLength=${a}`,"Truncated")}}throw n}}body(){return this.getBody()}};var ys=class{static{o(this,"Fetcher")}getImplementation(){return this}};function CH(t,e,r,n,i,s,a,c,l,f){let d={...c,Authorization:`Bearer ${r}`,...zy(t)};f===void 0&&(d["Openai-Organization"]="github-copilot",d["X-Request-Id"]=i,d["VScode-SessionId"]=t.get($s).sessionId,d["VScode-MachineId"]=t.get($s).machineId,d["X-GitHub-Api-Version"]=X6),n&&(d["OpenAI-Intent"]=n);let h={method:"POST",headers:d,json:s,timeout:l},A=t.get(ys);if(a){let y=new AbortController;a.onCancellationRequested(()=>{nr(t,"networking.cancelRequest",nn.createAndMarkAsIssued({headerRequestId:i})),y.abort()}),h.signal=y.signal}return A.fetch(e,h).catch(y=>{if(lDe(y))return nr(t,"networking.disconnectAll"),A.disconnectAll().then(()=>A.fetch(e,h));throw y})}o(CH,"postRequest");function lDe(t){return t instanceof Error?t.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in t?t.code=="ECONNRESET"||t.code=="ETIMEDOUT"||t.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}o(lDe,"isInterruptedNetworkError");u();function pae(){return typeof process>"u"}o(pae,"isWeb");function Z6(){return typeof process<"u"&&process.env.MSBENCH_MODE==="true"}o(Z6,"isMsBenchModeEnabled");var EH=class extends cA{static{o(this,"ProxiedResponseError")}constructor(e){super(e,`HTTP ${e.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`)}};async function m4(t,e,r,n={}){n={...n,headers:{Authorization:`Bearer ${e.accessToken}`,...pae()?{}:zy(t),...n.headers}};let i=await t.get(ys).fetch(new URL(r,e.apiUrl).href,n);if(i.status>=500)throw new cA(i);if(!i.headers.get("x-github-request-id"))throw new EH(i);return i}o(m4,"apiFetch");u();u();u();var b0e=yt(y4());var $r=class{constructor(e=10){this.valueMap=new Map;if(e<1)throw new Error("Size limit must be at least 1");this.sizeLimit=e}static{o(this,"LRUCacheMap")}set(e,r){if(this.has(e))this.valueMap.delete(e);else if(this.valueMap.size>=this.sizeLimit){let n=this.valueMap.keys().next().value;this.delete(n)}return this.valueMap.set(e,r),this}get(e){if(this.valueMap.has(e)){let r=this.valueMap.get(e);return this.valueMap.delete(e),this.valueMap.set(e,r),r}}delete(e){return this.valueMap.delete(e)}clear(){this.valueMap.clear()}get size(){return this.valueMap.size}keys(){return new Map(this.valueMap).keys()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(e){return this.valueMap.has(e)}forEach(e,r){new Map(this.valueMap).forEach(e,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(e){return this.valueMap.get(e)}},L9=class extends $r{constructor(r,n=120*1e3){super(r);this.defaultTtl=n;this.expiration=new Map}static{o(this,"LRUExpirationCacheMap")}has(r){let n=!1,i=this.expiration.get(r);return i!==void 0&&(i>performance.now()&&(n=super.has(r)),n||this.delete(r)),n}get(r){let n=this.expiration.get(r);if(n!==void 0){if(n>performance.now())return super.get(r);this.delete(r)}}peek(r){let n=this.expiration.get(r);if(n!==void 0){if(n>performance.now())return super.peek(r);this.delete(r)}}set(r,n,i=this.defaultTtl){if(i<=0)throw new Error("TTL must be greater than 0");let s=super.set(r,n);return this.expiration.set(r,performance.now()+i),s}clear(){super.clear(),this.expiration.clear()}delete(r){return this.expiration.delete(r),super.delete(r)}get[Symbol.toStringTag](){return"LRUExpirationCacheMap"}},O9=class extends $r{static{o(this,"LRUDisposableCacheMap")}delete(e){let r=this.peek(e);return r&&r.dispose(),super.delete(e)}clear(){for(let e of this.values())e.dispose();super.clear()}uncache(e){let r=this.peek(e);return super.delete(e),r}dispose(){this.clear()}};var sx=class{constructor(){this.recentNotifications=new $r(100)}static{o(this,"NotificationSender")}async showWarningMessageOnlyOnce(e,r,...n){if(!this.recentNotifications.has(e??r))return this.recentNotifications.set(e??r,!0),this.showWarningMessage(r,...n)}async showInformationMessageOnlyOnce(e,r,...n){if(!this.recentNotifications.has(e??r))return this.recentNotifications.set(e??r,!0),this.showInformationMessage(r,...n)}};u();var Jm=class t{constructor(e){this.flags=e}static{o(this,"RuntimeMode")}static fromEnvironment(e,r=process.argv,n=process.env){return new t({debug:_0e(r,n),verboseLogging:fDe(r,n),testMode:e,simulation:uDe(n)})}};function jy(t){return t.get(Jm).flags.testMode}o(jy,"isRunningInTest");function C4(t){return jy(t)}o(C4,"shouldFailForDebugPurposes");function v0e(t){return t.get(Jm).flags.debug}o(v0e,"isDebugEnabled");function T0e(t){return t.get(Jm).flags.verboseLogging}o(T0e,"isVerboseLoggingEnabled");function _0e(t,e){return t.includes("--debug")||bH(e,"DEBUG")}o(_0e,"determineDebugFlag");function uDe(t){return bH(t,"SIMULATION")}o(uDe,"determineSimulationFlag");function fDe(t,e){return e.COPILOT_AGENT_VERBOSE==="1"||e.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||bH(e,"VERBOSE")||_0e(t,e)}o(fDe,"determineVerboseLoggingEnabled");function bH(t,e){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=t[`${r}${e}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}o(bH,"determineEnvFlagEnabled");u();var B0e=require("os"),U9=require("path");u();var S0e;(()=>{"use strict";var t={975:W=>{function $(X){if(typeof X!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(X))}o($,"e");function Ie(X,H){for(var Z,ee="",ae=0,ie=-1,ue=0,Ae=0;Ae<=X.length;++Ae){if(Ae<X.length)Z=X.charCodeAt(Ae);else{if(Z===47)break;Z=47}if(Z===47){if(!(ie===Ae-1||ue===1))if(ie!==Ae-1&&ue===2){if(ee.length<2||ae!==2||ee.charCodeAt(ee.length-1)!==46||ee.charCodeAt(ee.length-2)!==46){if(ee.length>2){var Ke=ee.lastIndexOf("/");if(Ke!==ee.length-1){Ke===-1?(ee="",ae=0):ae=(ee=ee.slice(0,Ke)).length-1-ee.lastIndexOf("/"),ie=Ae,ue=0;continue}}else if(ee.length===2||ee.length===1){ee="",ae=0,ie=Ae,ue=0;continue}}H&&(ee.length>0?ee+="/..":ee="..",ae=2)}else ee.length>0?ee+="/"+X.slice(ie+1,Ae):ee=X.slice(ie+1,Ae),ae=Ae-ie-1;ie=Ae,ue=0}else Z===46&&ue!==-1?++ue:ue=-1}return ee}o(Ie,"r");var fe={resolve:o(function(){for(var X,H="",Z=!1,ee=arguments.length-1;ee>=-1&&!Z;ee--){var ae;ee>=0?ae=arguments[ee]:(X===void 0&&(X=process.cwd()),ae=X),$(ae),ae.length!==0&&(H=ae+"/"+H,Z=ae.charCodeAt(0)===47)}return H=Ie(H,!Z),Z?H.length>0?"/"+H:"/":H.length>0?H:"."},"resolve"),normalize:o(function(X){if($(X),X.length===0)return".";var H=X.charCodeAt(0)===47,Z=X.charCodeAt(X.length-1)===47;return(X=Ie(X,!H)).length!==0||H||(X="."),X.length>0&&Z&&(X+="/"),H?"/"+X:X},"normalize"),isAbsolute:o(function(X){return $(X),X.length>0&&X.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var X,H=0;H<arguments.length;++H){var Z=arguments[H];$(Z),Z.length>0&&(X===void 0?X=Z:X+="/"+Z)}return X===void 0?".":fe.normalize(X)},"join"),relative:o(function(X,H){if($(X),$(H),X===H||(X=fe.resolve(X))===(H=fe.resolve(H)))return"";for(var Z=1;Z<X.length&&X.charCodeAt(Z)===47;++Z);for(var ee=X.length,ae=ee-Z,ie=1;ie<H.length&&H.charCodeAt(ie)===47;++ie);for(var ue=H.length-ie,Ae=ae<ue?ae:ue,Ke=-1,tt=0;tt<=Ae;++tt){if(tt===Ae){if(ue>Ae){if(H.charCodeAt(ie+tt)===47)return H.slice(ie+tt+1);if(tt===0)return H.slice(ie+tt)}else ae>Ae&&(X.charCodeAt(Z+tt)===47?Ke=tt:tt===0&&(Ke=0));break}var ct=X.charCodeAt(Z+tt);if(ct!==H.charCodeAt(ie+tt))break;ct===47&&(Ke=tt)}var Ct="";for(tt=Z+Ke+1;tt<=ee;++tt)tt!==ee&&X.charCodeAt(tt)!==47||(Ct.length===0?Ct+="..":Ct+="/..");return Ct.length>0?Ct+H.slice(ie+Ke):(ie+=Ke,H.charCodeAt(ie)===47&&++ie,H.slice(ie))},"relative"),_makeLong:o(function(X){return X},"_makeLong"),dirname:o(function(X){if($(X),X.length===0)return".";for(var H=X.charCodeAt(0),Z=H===47,ee=-1,ae=!0,ie=X.length-1;ie>=1;--ie)if((H=X.charCodeAt(ie))===47){if(!ae){ee=ie;break}}else ae=!1;return ee===-1?Z?"/":".":Z&&ee===1?"//":X.slice(0,ee)},"dirname"),basename:o(function(X,H){if(H!==void 0&&typeof H!="string")throw new TypeError('"ext" argument must be a string');$(X);var Z,ee=0,ae=-1,ie=!0;if(H!==void 0&&H.length>0&&H.length<=X.length){if(H.length===X.length&&H===X)return"";var ue=H.length-1,Ae=-1;for(Z=X.length-1;Z>=0;--Z){var Ke=X.charCodeAt(Z);if(Ke===47){if(!ie){ee=Z+1;break}}else Ae===-1&&(ie=!1,Ae=Z+1),ue>=0&&(Ke===H.charCodeAt(ue)?--ue==-1&&(ae=Z):(ue=-1,ae=Ae))}return ee===ae?ae=Ae:ae===-1&&(ae=X.length),X.slice(ee,ae)}for(Z=X.length-1;Z>=0;--Z)if(X.charCodeAt(Z)===47){if(!ie){ee=Z+1;break}}else ae===-1&&(ie=!1,ae=Z+1);return ae===-1?"":X.slice(ee,ae)},"basename"),extname:o(function(X){$(X);for(var H=-1,Z=0,ee=-1,ae=!0,ie=0,ue=X.length-1;ue>=0;--ue){var Ae=X.charCodeAt(ue);if(Ae!==47)ee===-1&&(ae=!1,ee=ue+1),Ae===46?H===-1?H=ue:ie!==1&&(ie=1):H!==-1&&(ie=-1);else if(!ae){Z=ue+1;break}}return H===-1||ee===-1||ie===0||ie===1&&H===ee-1&&H===Z+1?"":X.slice(H,ee)},"extname"),format:o(function(X){if(X===null||typeof X!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof X);return function(H,Z){var ee=Z.dir||Z.root,ae=Z.base||(Z.name||"")+(Z.ext||"");return ee?ee===Z.root?ee+ae:ee+"/"+ae:ae}(0,X)},"format"),parse:o(function(X){$(X);var H={root:"",dir:"",base:"",ext:"",name:""};if(X.length===0)return H;var Z,ee=X.charCodeAt(0),ae=ee===47;ae?(H.root="/",Z=1):Z=0;for(var ie=-1,ue=0,Ae=-1,Ke=!0,tt=X.length-1,ct=0;tt>=Z;--tt)if((ee=X.charCodeAt(tt))!==47)Ae===-1&&(Ke=!1,Ae=tt+1),ee===46?ie===-1?ie=tt:ct!==1&&(ct=1):ie!==-1&&(ct=-1);else if(!Ke){ue=tt+1;break}return ie===-1||Ae===-1||ct===0||ct===1&&ie===Ae-1&&ie===ue+1?Ae!==-1&&(H.base=H.name=ue===0&&ae?X.slice(1,Ae):X.slice(ue,Ae)):(ue===0&&ae?(H.name=X.slice(1,ie),H.base=X.slice(1,Ae)):(H.name=X.slice(ue,ie),H.base=X.slice(ue,Ae)),H.ext=X.slice(ie,Ae)),ue>0?H.dir=X.slice(0,ue-1):ae&&(H.dir="/"),H},"parse"),sep:"/",delimiter:":",win32:null,posix:null};fe.posix=fe,W.exports=fe}},e={};function r(W){var $=e[W];if($!==void 0)return $.exports;var Ie=e[W]={exports:{}};return t[W](Ie,Ie.exports,r),Ie.exports}o(r,"r"),r.d=(W,$)=>{for(var Ie in $)r.o($,Ie)&&!r.o(W,Ie)&&Object.defineProperty(W,Ie,{enumerable:!0,get:$[Ie]})},r.o=(W,$)=>Object.prototype.hasOwnProperty.call(W,$),r.r=W=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})};var n={};let i;r.r(n),r.d(n,{URI:o(()=>A,"URI"),Utils:o(()=>pe,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,a=/^\//,c=/^\/\//;function l(W,$){if(!W.scheme&&$)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${W.authority}", path: "${W.path}", query: "${W.query}", fragment: "${W.fragment}"}`);if(W.scheme&&!s.test(W.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(W.path){if(W.authority){if(!a.test(W.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(c.test(W.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(l,"a");let f="",d="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class A{static{o(this,"l")}static isUri($){return $ instanceof A||!!$&&typeof $.authority=="string"&&typeof $.fragment=="string"&&typeof $.path=="string"&&typeof $.query=="string"&&typeof $.scheme=="string"&&typeof $.fsPath=="string"&&typeof $.with=="function"&&typeof $.toString=="function"}scheme;authority;path;query;fragment;constructor($,Ie,fe,X,H,Z=!1){typeof $=="object"?(this.scheme=$.scheme||f,this.authority=$.authority||f,this.path=$.path||f,this.query=$.query||f,this.fragment=$.fragment||f):(this.scheme=function(ee,ae){return ee||ae?ee:"file"}($,Z),this.authority=Ie||f,this.path=function(ee,ae){switch(ee){case"https":case"http":case"file":ae?ae[0]!==d&&(ae=d+ae):ae=d}return ae}(this.scheme,fe||f),this.query=X||f,this.fragment=H||f,l(this,Z))}get fsPath(){return S(this,!1)}with($){if(!$)return this;let{scheme:Ie,authority:fe,path:X,query:H,fragment:Z}=$;return Ie===void 0?Ie=this.scheme:Ie===null&&(Ie=f),fe===void 0?fe=this.authority:fe===null&&(fe=f),X===void 0?X=this.path:X===null&&(X=f),H===void 0?H=this.query:H===null&&(H=f),Z===void 0?Z=this.fragment:Z===null&&(Z=f),Ie===this.scheme&&fe===this.authority&&X===this.path&&H===this.query&&Z===this.fragment?this:new y(Ie,fe,X,H,Z)}static parse($,Ie=!1){let fe=h.exec($);return fe?new y(fe[2]||f,L(fe[4]||f),L(fe[5]||f),L(fe[7]||f),L(fe[9]||f),Ie):new y(f,f,f,f,f)}static file($){let Ie=f;if(i&&($=$.replace(/\\/g,d)),$[0]===d&&$[1]===d){let fe=$.indexOf(d,2);fe===-1?(Ie=$.substring(2),$=d):(Ie=$.substring(2,fe),$=$.substring(fe)||d)}return new y("file",Ie,$,f,f)}static from($){let Ie=new y($.scheme,$.authority,$.path,$.query,$.fragment);return l(Ie,!0),Ie}toString($=!1){return k(this,$)}toJSON(){return this}static revive($){if($){if($ instanceof A)return $;{let Ie=new y($);return Ie._formatted=$.external,Ie._fsPath=$._sep===m?$.fsPath:null,Ie}}return $}}let m=i?1:void 0;class y extends A{static{o(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=S(this,!1)),this._fsPath}toString($=!1){return $?k(this,!0):(this._formatted||(this._formatted=k(this,!1)),this._formatted)}toJSON(){let $={$mid:1};return this._fsPath&&($.fsPath=this._fsPath,$._sep=m),this._formatted&&($.external=this._formatted),this.path&&($.path=this.path),this.scheme&&($.scheme=this.scheme),this.authority&&($.authority=this.authority),this.query&&($.query=this.query),this.fragment&&($.fragment=this.fragment),$}}let x={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function _(W,$,Ie){let fe,X=-1;for(let H=0;H<W.length;H++){let Z=W.charCodeAt(H);if(Z>=97&&Z<=122||Z>=65&&Z<=90||Z>=48&&Z<=57||Z===45||Z===46||Z===95||Z===126||$&&Z===47||Ie&&Z===91||Ie&&Z===93||Ie&&Z===58)X!==-1&&(fe+=encodeURIComponent(W.substring(X,H)),X=-1),fe!==void 0&&(fe+=W.charAt(H));else{fe===void 0&&(fe=W.substr(0,H));let ee=x[Z];ee!==void 0?(X!==-1&&(fe+=encodeURIComponent(W.substring(X,H)),X=-1),fe+=ee):X===-1&&(X=H)}}return X!==-1&&(fe+=encodeURIComponent(W.substring(X))),fe!==void 0?fe:W}o(_,"m");function T(W){let $;for(let Ie=0;Ie<W.length;Ie++){let fe=W.charCodeAt(Ie);fe===35||fe===63?($===void 0&&($=W.substr(0,Ie)),$+=x[fe]):$!==void 0&&($+=W[Ie])}return $!==void 0?$:W}o(T,"y");function S(W,$){let Ie;return Ie=W.authority&&W.path.length>1&&W.scheme==="file"?`//${W.authority}${W.path}`:W.path.charCodeAt(0)===47&&(W.path.charCodeAt(1)>=65&&W.path.charCodeAt(1)<=90||W.path.charCodeAt(1)>=97&&W.path.charCodeAt(1)<=122)&&W.path.charCodeAt(2)===58?$?W.path.substr(1):W.path[1].toLowerCase()+W.path.substr(2):W.path,i&&(Ie=Ie.replace(/\//g,"\\")),Ie}o(S,"v");function k(W,$){let Ie=$?T:_,fe="",{scheme:X,authority:H,path:Z,query:ee,fragment:ae}=W;if(X&&(fe+=X,fe+=":"),(H||X==="file")&&(fe+=d,fe+=d),H){let ie=H.indexOf("@");if(ie!==-1){let ue=H.substr(0,ie);H=H.substr(ie+1),ie=ue.lastIndexOf(":"),ie===-1?fe+=Ie(ue,!1,!1):(fe+=Ie(ue.substr(0,ie),!1,!1),fe+=":",fe+=Ie(ue.substr(ie+1),!1,!0)),fe+="@"}H=H.toLowerCase(),ie=H.lastIndexOf(":"),ie===-1?fe+=Ie(H,!1,!0):(fe+=Ie(H.substr(0,ie),!1,!0),fe+=H.substr(ie))}if(Z){if(Z.length>=3&&Z.charCodeAt(0)===47&&Z.charCodeAt(2)===58){let ie=Z.charCodeAt(1);ie>=65&&ie<=90&&(Z=`/${String.fromCharCode(ie+32)}:${Z.substr(3)}`)}else if(Z.length>=2&&Z.charCodeAt(1)===58){let ie=Z.charCodeAt(0);ie>=65&&ie<=90&&(Z=`${String.fromCharCode(ie+32)}:${Z.substr(2)}`)}fe+=Ie(Z,!0,!1)}return ee&&(fe+="?",fe+=Ie(ee,!1,!1)),ae&&(fe+="#",fe+=$?ae:_(ae,!1,!1)),fe}o(k,"b");function N(W){try{return decodeURIComponent(W)}catch{return W.length>3?W.substr(0,3)+N(W.substr(3)):W}}o(N,"C");let P=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function L(W){return W.match(P)?W.replace(P,$=>N($)):W}o(L,"w");var Y=r(975);let te=Y.posix||Y,ne="/";var pe;(function(W){W.joinPath=function($,...Ie){return $.with({path:te.join($.path,...Ie)})},W.resolvePath=function($,...Ie){let fe=$.path,X=!1;fe[0]!==ne&&(fe=ne+fe,X=!0);let H=te.resolve(fe,...Ie);return X&&H[0]===ne&&!$.authority&&(H=H.substring(1)),$.with({path:H})},W.dirname=function($){if($.path.length===0||$.path===ne)return $;let Ie=te.dirname($.path);return Ie.length===1&&Ie.charCodeAt(0)===46&&(Ie=""),$.with({path:Ie})},W.basename=function($){return te.basename($.path)},W.extname=function($){return te.extname($.path)}})(pe||(pe={})),S0e=n})();var{URI:Xm,Utils:E4}=S0e;function R0e(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substring(0,3)+R0e(t.substring(3)):t}}o(R0e,"decodeURIComponentGraceful");var w0e=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function vH(t){return t.match(w0e)?t.replace(w0e,e=>R0e(e)):t}o(vH,"percentDecode");function H9(t){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(t))throw new Error("Path must not contain a scheme");if(!t)throw new Error("Path must not be empty");return Xm.file(t).toString()}o(H9,"makeFsUri");function Ky(t){if(typeof t!="string"&&(t=t.uri),/^[A-Za-z]:\\/.test(t))throw new Error(`Could not parse <${t}>: Windows-style path`);try{let e=t.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return e?Xm.parse(e[1]+e[2],!0):Xm.parse(t,!0)}catch(e){throw new Error(`Could not parse <${t}>`,{cause:e})}}o(Ky,"parseUri");function k0e(t){return Ky(t),t}o(k0e,"validateUri");function vd(t){try{return Ky(t).toString()}catch{return t}}o(vd,"normalizeUri");var D0e=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function dDe(t){let e=Ky(t);if(!D0e.has(e.scheme))throw new Error(`Copilot currently does not support URI with scheme: ${e.scheme}`);if((0,B0e.platform)()==="win32"){let r=e.path;return e.authority?r=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,U9.normalize)(r)}else{if(e.authority)throw new Error("Unsupported remote file path");return e.path}}o(dDe,"fsPath");function q9(t){try{return dDe(t)}catch{return}}o(q9,"getFsPath");function N0e(t){let e=q9(t);if(e)return Xm.file(e).toString()}o(N0e,"getFsUri");function Jy(t,...e){let r,n=q9(t);return n?r=H9((0,U9.resolve)(n,...e)):r=E4.resolvePath(Ky(t),...e.map(i=>Q0e(i))).toString(),typeof t=="string"?r:{uri:r}}o(Jy,"resolveFilePath");function zs(t,...e){let r=E4.joinPath(Ky(t),...e.map(Q0e)).toString();return typeof t=="string"?r:{uri:r}}o(zs,"joinPath");function Q0e(t){return hDe(t)?t.replaceAll("\\","/"):t}o(Q0e,"pathToURIPath");function hDe(t){return/^[^/\\]*\\/.test(t)}o(hDe,"isWinPath");function Zm(t){return vH((typeof t=="string"?t:t.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}o(Zm,"basename");function uA(t){let e=E4.dirname(Ky(t)),r;return D0e.has(e.scheme)&&e.scheme!=="file"?r=e.with({scheme:"file",fragment:""}).toString():r=e.toString(),typeof t=="string"?r:{uri:r}}o(uA,"dirname");function P0e(t){return E4.extname(Ky(t))}o(P0e,"extname");var eg=class{static{o(this,"NetworkConfiguration")}};function _H(t,e){try{let r=new URL(e??"");if(r.protocol==="https:"||!SH(t)&&r.protocol==="http:")return r.href}catch{}}o(_H,"ensurePermittedUrl");var ax={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function TH(t,e,r){if(r&&jy(t)){for(let n of r){let i=rs(t,n);if(i)return i}return}for(let n of e){let i=rs(t,n);if(i)return i}}o(TH,"urlConfigOverride");function ADe(t,e){switch(e){case"api":return TH(t,[Pt.DebugOverrideCapiUrl,Pt.DebugOverrideCapiUrlLegacy],[Pt.DebugTestOverrideCapiUrl,Pt.DebugTestOverrideCapiUrlLegacy]);case"proxy":return TH(t,[Pt.DebugOverrideProxyUrl,Pt.DebugOverrideProxyUrlLegacy],[Pt.DebugTestOverrideProxyUrl,Pt.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!SH(t))return TH(t,[Pt.DebugSnippyOverrideUrl])}}o(ADe,"getEndpointOverrideUrl");function I4(t,e,r,...n){let i=ADe(t,r)??e.endpoints[r];return zs(i,...n)}o(I4,"getEndpointUrl");function G9(t){return gH(t)?.endpoints??ax}o(G9,"getLastKnownEndpoints");u();function F0e(t){let e=t.getTokenValue("tid"),r=t.organization_list,n=t.enterprise_list,i=t.getTokenValue("sku");if(!e)return;let s={copilot_trackingId:e};return r&&(s.organizations_list=r.toString()),n&&(s.enterprise_list=n.toString()),i&&(s.sku=i),s}o(F0e,"propertiesFromCopilotToken");var X0=class{static{o(this,"TelemetryUserConfig")}#e={};constructor(e,r,n,i){r&&(this.#e={copilot_trackingId:r}),this.optedIn=n??!1,this.ftFlag=i??"",Ia(e,s=>this.updateFromToken(s))}getProperties(){return this.#e}get trackingId(){return this.#e.copilot_trackingId}updateFromToken(e){let r=F0e(e);r&&(this.#e=r,this.optedIn=e.getTokenValue("rt")==="1",this.ftFlag=e.getTokenValue("ft")??"")}};u();var x4=class{static{o(this,"UrlOpener")}};var cx=new Kr("auth");function Xy(t){let e=t.serverUrl?.match(/^https?:\/\//)?t.serverUrl:"",r=t.apiUrl?.match(/^https?:\/\//)?t.apiUrl:"";return e?r||=e.replace("://","://api."):r?.includes("://api.")&&(e||=r.replace("://api.","://")),(!e||!r)&&(e="https://github.com/",r="https://api.github.com/"),{apiUrl:r,serverUrl:e}}o(Xy,"fillGitHubUrls");var V9=class{static{o(this,"CopilotTokenFetcher")}};u();u();u();u();u();var q0e=yt(O0e()),G0e=yt(H0e()),Hc=yt(require("os"));var ux=class{constructor(e,r,n,i,s=!1){this.ctx=e;this.namespace=r;this.includeAuthorizationHeader=s;this.onCopilotToken=o(e=>{this.token=e;let r=e.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:o((e,r)=>{if(typeof e.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof e.data}`);let n=e.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:e.data};this.ctx.get(ys).fetch(e.urlString,i).then(s=>s.text().then(a=>{r(s.status,Object.fromEntries(s.headers),a)})).catch(s=>{Fo.debug(this.ctx,"Error sending telemetry",s),r(0,{})})},"sendPOST")};this.client=new G0e.ApplicationInsights({instrumentationKey:i,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:n,extensionConfig:{[q0e.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=pDe(e),this.commonProperties=mDe(e),this.#e=Ia(e,this.onCopilotToken)}static{o(this,"AppInsightsReporter")}#e;sendTelemetryEvent(e,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(e);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(e,r,n){this.sendTelemetryEvent(this.qualifyEventName(e),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(e){return e.startsWith(this.namespace)?e:`${this.namespace}/${e}`}};function pDe(t){let e={},r=t.get($s);e["ai.session.id"]=r.sessionId;let n=t.get(X0);return n.trackingId&&(e["ai.user.id"]=n.trackingId),e["ai.cloud.roleInstance"]="REDACTED",e["ai.device.osVersion"]=`${Hc.type()} ${Hc.release()}`,e["ai.device.osArchitecture"]=Hc.arch(),e["ai.device.osPlatform"]=Hc.platform(),e["ai.cloud.role"]="Web",e["ai.application.ver"]=t.get(Ks).getVersion(),e}o(pDe,"getTags");function mDe(t){let e={};e.common_os=Hc.platform(),e.common_platformversion=Hc.release(),e.common_arch=Hc.arch(),e.common_cpu=Array.from(new Set(Hc.cpus().map(n=>n.model))).join();let r=t.get($s);return e.common_vscodemachineid=r.machineId,e.common_vscodesessionid=r.sessionId,e.common_uikind=r.uiKind,e.common_remotename=r.remoteName,e.common_isnewappinstall="",e}o(mDe,"getCommonProperties");var W0e="7d7048df-6dd0-4048-bb23-b716c1461f8f",Y0e="3fdd7f28-937a-48c8-9a21-ba337db23bd1",gDe="f0000000-0000-0000-0000-000000000000";function V0e(t){return new URL(t).hostname==="github.com"?ax.telemetry:t.replace("://","://copilot-telemetry-service.")}o(V0e,"getEndpointForServerUrl");var tf=class{constructor(e,r){this.ctx=e;this.namespace=r;this.serverUrl="https://github.com/";this.rootUrl=V0e(this.serverUrl);this.shuttingDown=new Set;Ia(e,n=>this.updateServiceEndpoints(n.endpoints))}static{o(this,"TelemetryInitialization")}get endpointUrl(){return this.overrideEndpointUrlForTesting||new URL("telemetry",this.rootUrl).href}get isInitialized(){return this.initializedWith!==void 0}get isEnabled(){return this._enabled??!1}initialize(e){let r=this.ctx;this._enabled=e;let n=this.endpointUrl;if(!(this.initializedWith?.enabled===this._enabled&&this.initializedWith?.endpointUrl===this.endpointUrl)&&(this.shutdownWithoutWaiting(),this.initializedWith={endpointUrl:n,enabled:this._enabled},e)){let i=r.get(qc);i.setReporter(new ux(r,this.namespace,n,W0e)),i.setRestrictedReporter(new ux(r,this.namespace,n,Y0e)),i.setFTReporter(new ux(r,this.namespace,n,gDe,!0))}}setCustomReporters(e,r){this.shutdownWithoutWaiting();let n=this.ctx.get(qc);n.setReporter(e),n.setRestrictedReporter(r)}async shutdown(){this.shutdownWithoutWaiting(),await Promise.all(this.shuttingDown)}shutdownWithoutWaiting(){this.initializedWith=void 0;let e=this.ctx.get(qc).deactivate().finally(()=>{this.shuttingDown.delete(e)});this.shuttingDown.add(e)}updateSessionConfig(e){e?.serverUrl&&e.serverUrl!==this.serverUrl&&(this.serverUrl=e.serverUrl,this.rootUrl=V0e(e.serverUrl)),this.isInitialized&&this.initialize(this._enabled)}updateServiceEndpoints(e){this.rootUrl=e.telemetry,this.isInitialized&&this.initialize(this._enabled)}};async function CDe(t,e){let r="copilot_internal/subscribe_limited_user";try{return(await(await m4(t,e,r,{method:"POST",headers:{"X-GitHub-Api-Version":"2025-05-01"},body:JSON.stringify({restricted_telemetry:t.get(tf).isEnabled?"enabled":"disabled",public_code_suggestions:"enabled"})})).json()).subscribed}catch(n){return cx.exception(t,n,"signUpLimited failed"),!1}}o(CDe,"apiFetchSignUpLimited");async function wH(t,e,r){let n=await t.get(vo).getTokenResult();switch(n.failureKind){case void 0:return"OK";case"HTTP401":case"NotSignedIn":return"NotSignedIn";case"NotAuthorized":return r&&n.canSignUpForLimited&&await CDe(t,e)?wH(t,e,!1):"NotAuthorized"}}o(wH,"getTokenWithSignUpLimited");var $9=class{constructor(e,r){this.ctx=e;this.env=r}static{o(this,"AuthManager")}hasTransientSession(){return this.transientSession!==void 0}get _copilotTokenManager(){return this.ctx.get(vo)}getConfiguredUrls(){return this.ctx.get(eg).getConfiguredUrls()}async checkAndUpdateStatus(e){let r=e?.localChecksOnly??!1,n;return e?.githubAppId!==void 0?n=await this.getPersistedSession(e):n=await this.getSession(),n===void 0?(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken(),{status:"NotSignedIn"}):r?{status:"MaybeOK",user:n.login}:(e?.forceRefresh&&this._copilotTokenManager.resetToken(),{status:await wH(this.ctx,n,e?.freshSignIn??!1),user:n.login})}async getSession(){await this.ctx.get(Z0).requireReady();let e=EDe(this.env)??await this.transientSession;if(!(e&&e.accessToken===void 0))return e?{...e,...Xy(e)}:await this.getPersistedSession()}setTransientSession(e){this.transientSession=e&&Promise.resolve(e),this._copilotTokenManager.resetToken()}getAuthAuthority(){return new URL(this.getConfiguredUrls().serverUrl).hostname}};function EDe(t){if(t.GH_COPILOT_TOKEN&&!/=/.test(t.GH_COPILOT_TOKEN))return{...Xy({apiUrl:t.GH_COPILOT_API_URL,serverUrl:t.GH_COPILOT_SERVER_URL}),login:"<GH_COPILOT_TOKEN-user>",accessToken:t.GH_COPILOT_TOKEN};if(t.GITHUB_COPILOT_TOKEN)return{...Xy({apiUrl:t.GITHUB_COPILOT_API_URL,serverUrl:t.GITHUB_COPILOT_SERVER_URL}),login:"<GITHUB_COPILOT_TOKEN-user>",accessToken:t.GITHUB_COPILOT_TOKEN};if(t.CODESPACES==="true"&&t.GITHUB_TOKEN)return{...Xy({apiUrl:t.GITHUB_API_URL,serverUrl:t.GITHUB_SERVER_URL}),login:t.GITHUB_USER||"<codespaces-user>",accessToken:t.GITHUB_TOKEN}}o(EDe,"getSessionFromEnv");u();var xDe=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],$0e="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",z0e="https://gh.io/copilot-network-errors",tg=class{constructor(){this.notifiedErrorCodes=[]}static{o(this,"UserErrorNotifier")}notifyUser(e,r){if(!(r instanceof Error))return;let n=r;n.code&&xDe.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(e,n))}async displayCertificateErrorNotification(e,r){new Kr("certificates").error(e,`${$0e} Please visit ${z0e} to learn more. Original cause:`,r);let n={title:"Learn more"};return e.get(sx).showWarningMessage($0e,n).then(i=>{if(i?.title===n.title)return e.get(x4).open(z0e)})}didNotifyBefore(e){return this.notifiedErrorCodes.indexOf(e)!==-1}};u();var Cs=class{static{o(this,"StatusReporter")}#e=0;#t="Normal";#i;#n;#r=!0;get busy(){return this.#e>0}withProgress(e){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),e().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(e,r,n){this.#t===e&&this.#i===r&&!n&&!this.#n&&!this.#r||(this.#t=e,this.#i=r,this.#n=n,this.#r=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(e,r){this.forceStatus("Error",e,r)}setWarning(e){this.#t!=="Error"&&this.forceStatus("Warning",e)}setInactive(e){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",e)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let e={kind:this.#t,message:this.#i,busy:this.busy,command:this.#n};this.didChange(e)}};var RH=class extends wm{constructor(r){super(r.message??`${r.failureKind}`);this.result=r}static{o(this,"TokenResultError")}},vo=class{constructor(e,r=!1){this.ctx=e;this.primed=r;this.token=void 0;this.tokenPromise=void 0}static{o(this,"CopilotTokenManager")}async getGitHubSession(){return await this.ctx.get($9).getSession()}primeToken(){this.primed=!0;try{return this.getToken().then(()=>!0,()=>!1)}catch{return Promise.resolve(!1)}}async fetchTokenResult(e){return await this.ctx.get(V9).fetchTokenResult(this.ctx,e,this.token)}async getTokenResult(){if(!this.primed){let e=new Error("Token requested before initialization");if(j0e(this.ctx))throw e;cx.exception(this.ctx,e,".getToken")}if(!this.tokenPromise&&(!this.token||this.token?.needsRefresh())){let e=this.getGitHubSession().then(async i=>i?await this.fetchTokenResult(i):{failureKind:"NotSignedIn"}),r=this.ctx.get(Cs),n=e.then(i=>{if(this.tokenPromise!==n)return i;if(this.tokenPromise=void 0,i.copilotToken)this.token=i.copilotToken,this.ctx.get(Cs).forceNormal();else switch(i.failureKind){case"NotSignedIn":r.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":r.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":r.setError(i.message||"No access to Copilot found.");break}return i},i=>{throw this.tokenPromise!==n||(this.tokenPromise=void 0,r.setWarning(String(i)),this.ctx.get(tg).notifyUser(this.ctx,i)),i});this.tokenPromise=n}return this.token&&!this.token.isExpired()?{copilotToken:this.token}:await this.tokenPromise}async getToken(){let e=await this.getTokenResult();if(e.copilotToken)return e.copilotToken;throw new RH(e)}resetToken(e){e!==void 0?(nr(this.ctx,"auth.reset_token_"+e),cx.debug(this.ctx,`Resetting copilot token on HTTP error ${e}`)):cx.debug(this.ctx,"Resetting copilot token"),this.token=void 0,this.tokenPromise=void 0}};u();var Zy=class{static{o(this,"Clock")}now(){return new Date}};u();u();var rf=class t{static{o(this,"ExpConfig")}constructor(e,r,n){this.variables=e,this.assignmentContext=r,this.features=n}static createFallbackConfig(e,r){return J0e(e,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new t({},"","")}addToTelemetry(e){e.properties["VSCode.ABExp.Features"]=this.features,e.properties["abexp.assignmentcontext"]=this.assignmentContext}};u();var eC=class{static{o(this,"ExpConfigMaker")}},z9=class extends eC{constructor(r={}){super();this.defaultFilters=r}static{o(this,"ExpConfigFromTAS")}async fetchExperiments(r,n,i){let s=r.get(ys),a=Object.keys(i).length===0?this.defaultFilters:i,c=new URL("telemetry",n.telemetry).href,l;try{l=await s.fetch(c,{method:"GET",headers:a,timeout:5e3})}catch(A){return rf.createFallbackConfig(r,`Error fetching ExP config: ${String(A)}`)}if(!l.ok)return rf.createFallbackConfig(r,`ExP responded with ${l.status}`);let f;try{f=await l.json()}catch(A){if(A instanceof SyntaxError)return Td(r,A,"fetchExperiments"),rf.createFallbackConfig(r,"ExP responded with invalid JSON");throw A}let d=f.Configs.find(A=>A.Id==="vscode")??{Id:"vscode",Parameters:{}},h=Object.entries(d.Parameters).map(([A,m])=>A+(m?"":"cf"));return new rf(d.Parameters,f.AssignmentContext,h.join(";"))}};u();var _d="X-Copilot-RelatedPluginVersion-",kH=(H=>(H.Market="X-MSEdge-Market",H.CorpNet="X-FD-Corpnet",H.Build="X-VSCode-Build",H.ApplicationVersion="X-VSCode-AppVersion",H.TargetPopulation="X-VSCode-TargetPopulation",H.ClientId="X-MSEdge-ClientId",H.ExtensionName="X-VSCode-ExtensionName",H.ExtensionVersion="X-VSCode-ExtensionVersion",H.ExtensionRelease="X-VSCode-ExtensionRelease",H.Language="X-VSCode-Language",H.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",H.CopilotEngine="X-Copilot-Engine",H.CopilotOverrideEngine="X-Copilot-OverrideEngine",H.CopilotRepository="X-Copilot-Repository",H.CopilotFileType="X-Copilot-FileType",H.CopilotUserKind="X-Copilot-UserKind",H.CopilotDogfood="X-Copilot-Dogfood",H.CopilotCustomModel="X-Copilot-CustomModel",H.CopilotOrgs="X-Copilot-Orgs",H.CopilotCustomModelNames="X-Copilot-CustomModelNames",H.CopilotTrackingId="X-Copilot-CopilotTrackingId",H.CopilotClientVersion="X-Copilot-ClientVersion",H.CopilotRelatedPluginVersionCppTools=_d+"msvscodecpptools",H.CopilotRelatedPluginVersionCMakeTools=_d+"msvscodecmaketools",H.CopilotRelatedPluginVersionMakefileTools=_d+"msvscodemakefiletools",H.CopilotRelatedPluginVersionCSharpDevKit=_d+"msdotnettoolscsdevkit",H.CopilotRelatedPluginVersionPython=_d+"mspythonpython",H.CopilotRelatedPluginVersionPylance=_d+"mspythonvscodepylance",H.CopilotRelatedPluginVersionJavaPack=_d+"vscjavavscodejavapack",H.CopilotRelatedPluginVersionTypescript=_d+"vscodetypescriptlanguagefeatures",H.CopilotRelatedPluginVersionTypescriptNext=_d+"msvscodevscodetypescriptnext",H.CopilotRelatedPluginVersionCSharp=_d+"msdotnettoolscsharp",H))(kH||{});var bDe={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},tC=class t{constructor(e){this.filters=e;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{o(this,"FilterSettings")}extends(e){for(let[r,n]of Object.entries(e.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(e){for(let[r,n]of Object.entries(this.filters)){let i=bDe[r];i!==void 0&&(e.properties[i]=n)}}stringify(){let e=Object.keys(this.filters);return e.sort(),e.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(e,r){return new t({...this.filters,[e]:r})}};u();u();var j9=class{constructor(e){this.prefix=e}static{o(this,"GranularityImplementation")}getCurrentAndUpComingValues(e){let r=this.getValue(e),n=this.getUpcomingValues(e);return[r,n]}},DH=class extends j9{static{o(this,"ConstantGranularity")}getValue(e){return this.prefix}getUpcomingValues(e){return[]}},X0e=o(t=>new DH(t),"DEFAULT_GRANULARITY"),K9=class extends j9{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}static{o(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),s=this.getUpcomingByCallBucketStrings();for(let a of i)for(let c of s)n.push(this.prefix+a+c);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var Z0e="X-Copilot-ClientTimeBucket",J9=class{constructor(e,r){this.specs=new Map;this.prefix=e,this.clock=r,this.defaultGranularity=X0e(e)}static{o(this,"GranularityDirectory")}selectGranularity(e){for(let[r,n]of this.specs.entries())if(e.extends(r))return n;return this.defaultGranularity}update(e,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(e);else{let i=new K9(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(e,i)}}extendFilters(e){let r=this.selectGranularity(e),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:e.withChange(Z0e,n),otherFilterSettingsToPrefetch:i.map(s=>e.withChange(Z0e,s))}}};u();u();u();u();u();u();u();var Z9="4.11.0",rC="04b07795-8ddb-461a-bbee-02f9e1bf7b46",ece="common",X9;(function(t){t.AzureChina="https://login.chinacloudapi.cn",t.AzureGermany="https://login.microsoftonline.de",t.AzureGovernment="https://login.microsoftonline.us",t.AzurePublicCloud="https://login.microsoftonline.com"})(X9||(X9={}));var b4=X9.AzurePublicCloud,tce="login.microsoftonline.com",rce=["*"],nce="cae",ice="nocae",oce="msal.cache";var NH;var sce,eR,QH;function ace(){return eR!==void 0&&QH!==void 0}o(ace,"hasVSCodePlugin");function vDe(t){let e={cache:{},broker:{...t.brokerOptions,isEnabled:t.brokerOptions?.enabled??!1,enableMsaPassthrough:t.brokerOptions?.legacyEnableMsaPassthrough??!1}};if(t.tokenCachePersistenceOptions?.enabled){if(NH===void 0)throw new Error(["Persistent token caching was requested, but no persistence provider was configured.","You must install the identity-cache-persistence plugin package (`npm install --save @azure/identity-cache-persistence`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(cachePersistencePlugin)` before using `tokenCachePersistenceOptions`."].join(" "));let r=t.tokenCachePersistenceOptions.name||oce;e.cache.cachePlugin=NH({name:`${r}.${ice}`,...t.tokenCachePersistenceOptions}),e.cache.cachePluginCae=NH({name:`${r}.${nce}`,...t.tokenCachePersistenceOptions})}if(t.brokerOptions?.enabled)if(t.isVSCodeCredential){if(QH===void 0)throw new Error(["Visual Studio Code Credential was requested, but no plugin was configured or no authentication record was found.","You must install the identity-vscode plugin package (`npm install --save @azure/identity-vscode`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(vsCodePlugin)` before using `enableBroker`."].join(" "));e.broker.nativeBrokerPlugin=QH.broker}else{if(sce===void 0)throw new Error(["Broker for WAM was requested to be enabled, but no native broker was configured.","You must install the identity-broker plugin package (`npm install --save @azure/identity-broker`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(brokerPlugin)` before using `enableBroker`."].join(" "));e.broker.nativeBrokerPlugin=sce.broker}return e}o(vDe,"generatePluginConfiguration");var cce={generatePluginConfiguration:vDe};u();u();u();function TDe(t){return t&&typeof t.error=="string"&&typeof t.error_description=="string"}o(TDe,"isErrorResponse");var uce="CredentialUnavailableError",Lt=class extends Error{static{o(this,"CredentialUnavailableError")}constructor(e,r){super(e,r),this.name=uce}},tR="AuthenticationError",rg=class extends Error{static{o(this,"AuthenticationError")}statusCode;errorResponse;constructor(e,r,n){let i={error:"unknown",errorDescription:"An unknown error occurred and no additional details are available."};if(TDe(r))i=lce(r);else if(typeof r=="string")try{let s=JSON.parse(r);i=lce(s)}catch{e===400?i={error:"invalid_request",errorDescription:`The service indicated that the request was invalid.

${r}`}:i={error:"unknown_error",errorDescription:`An unknown error has occurred. Response body:

${r}`}}else i={error:"unknown_error",errorDescription:"An unknown error occurred and no additional details are available."};super(`${i.error} Status code: ${e}
More details:
${i.errorDescription},`,n),this.statusCode=e,this.errorResponse=i,this.name=tR}},fce="AggregateAuthenticationError",v4=class extends Error{static{o(this,"AggregateAuthenticationError")}errors;constructor(e,r){let n=e.join(`
`);super(`${r}
${n}`),this.errors=e,this.name=fce}};function lce(t){return{error:t.error,errorDescription:t.error_description,correlationId:t.correlation_id,errorCodes:t.error_codes,timestamp:t.timestamp,traceId:t.trace_id}}o(lce,"convertOAuthErrorResponseToErrorResponse");var Hl=class extends Error{static{o(this,"AuthenticationRequiredError")}scopes;getTokenOptions;constructor(e){super(e.message,e.cause?{cause:e.cause}:void 0),this.scopes=e.scopes,this.getTokenOptions=e.getTokenOptions,this.name="AuthenticationRequiredError"}};u();u();u();u();var dce=require("node:os"),hce=yt(require("node:util"),1),Ace=yt(require("node:process"),1);function pce(t,...e){Ace.stderr.write(`${hce.default.format(t,...e)}${dce.EOL}`)}o(pce,"log");var mce=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,gce,PH=[],FH=[],rR=[];mce&&MH(mce);var yce=Object.assign(t=>Cce(t),{enable:MH,enabled:LH,disable:_De,log:pce});function MH(t){gce=t,PH=[],FH=[];let e=/\*/g,r=t.split(",").map(n=>n.trim().replace(e,".*?"));for(let n of r)n.startsWith("-")?FH.push(new RegExp(`^${n.substr(1)}$`)):PH.push(new RegExp(`^${n}$`));for(let n of rR)n.enabled=LH(n.namespace)}o(MH,"enable");function LH(t){if(t.endsWith("*"))return!0;for(let e of FH)if(e.test(t))return!1;for(let e of PH)if(e.test(t))return!0;return!1}o(LH,"enabled");function _De(){let t=gce||"";return MH(""),t}o(_De,"disable");function Cce(t){let e=Object.assign(r,{enabled:LH(t),destroy:SDe,log:yce.log,namespace:t,extend:wDe});function r(...n){e.enabled&&(n.length>0&&(n[0]=`${t} ${n[0]}`),e.log(...n))}return o(r,"debug"),rR.push(e),e}o(Cce,"createDebugger");function SDe(){let t=rR.indexOf(this);return t>=0?(rR.splice(t,1),!0):!1}o(SDe,"destroy");function wDe(t){let e=Cce(`${this.namespace}:${t}`);return e.log=this.log,e}o(wDe,"extend");var fx=yce;var Ice=new Set,nR=typeof process<"u"&&process.env&&process.env.AZURE_LOG_LEVEL||void 0,oR,OH=fx("azure");OH.log=(...t)=>{fx.log(...t)};var UH=["verbose","info","warning","error"];nR&&(vce(nR)?BDe(nR):console.error(`AZURE_LOG_LEVEL set to unknown log level '${nR}'; logging is not enabled. Acceptable values: ${UH.join(", ")}.`));function BDe(t){if(t&&!vce(t))throw new Error(`Unknown log level '${t}'. Acceptable values: ${UH.join(",")}`);oR=t;let e=[];for(let r of Ice)bce(r)&&e.push(r.namespace);fx.enable(e.join(","))}o(BDe,"setLogLevel");function sR(){return oR}o(sR,"getLogLevel");var Ece={verbose:400,info:300,warning:200,error:100};function ng(t){let e=OH.extend(t);return xce(OH,e),{error:iR(e,"error"),warning:iR(e,"warning"),info:iR(e,"info"),verbose:iR(e,"verbose")}}o(ng,"createClientLogger");function xce(t,e){e.log=(...r)=>{t.log(...r)}}o(xce,"patchLogMethod");function iR(t,e){let r=Object.assign(t.extend(e),{level:e});if(xce(t,r),bce(r)){let n=fx.disable();fx.enable(n+","+r.namespace)}return Ice.add(r),r}o(iR,"createLogger");function bce(t){return!!(oR&&Ece[t.level]<=Ece[oR])}o(bce,"shouldEnable");function vce(t){return UH.includes(t)}o(vce,"isAzureLogLevel");var Gc=ng("identity");function aR(t){return t.reduce((e,r)=>(process.env[r]?e.assigned.push(r):e.missing.push(r),e),{missing:[],assigned:[]})}o(aR,"processEnvVars");function ks(t){return`SUCCESS. Scopes: ${Array.isArray(t)?t.join(", "):t}.`}o(ks,"formatSuccess");function Fn(t,e){let r="ERROR.";return t?.length&&(r+=` Scopes: ${Array.isArray(t)?t.join(", "):t}.`),`${r} Error message: ${typeof e=="string"?e:e.message}.`}o(Fn,"formatError");function Tce(t,e,r=Gc){let n=e?`${e.fullTitle} ${t}`:t;function i(l){r.info(`${n} =>`,l)}o(i,"info");function s(l){r.warning(`${n} =>`,l)}o(s,"warning");function a(l){r.verbose(`${n} =>`,l)}o(a,"verbose");function c(l){r.error(`${n} =>`,l)}return o(c,"error"),{title:t,fullTitle:n,info:i,warning:s,verbose:a,error:c}}o(Tce,"credentialLoggerInstance");function Rr(t,e=Gc){let r=Tce(t,void 0,e);return{...r,parent:e,getToken:Tce("=> getToken()",r,e)}}o(Rr,"credentialLogger");u();u();u();u();var dx={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function _ce(t={}){let e=new HH(t.parentContext);return t.span&&(e=e.setValue(dx.span,t.span)),t.namespace&&(e=e.setValue(dx.namespace,t.namespace)),e}o(_ce,"createTracingContext");var HH=class t{static{o(this,"TracingContextImpl")}constructor(e){this._contextMap=e instanceof t?new Map(e._contextMap):new Map}setValue(e,r){let n=new t(this);return n._contextMap.set(e,r),n}getValue(e){return this._contextMap.get(e)}deleteValue(e){let r=new t(this);return r._contextMap.delete(e),r}};u();var wce=yt(Sce(),1),lR=wce.state;function RDe(){return{end:o(()=>{},"end"),isRecording:o(()=>!1,"isRecording"),recordException:o(()=>{},"recordException"),setAttribute:o(()=>{},"setAttribute"),setStatus:o(()=>{},"setStatus"),addEvent:o(()=>{},"addEvent")}}o(RDe,"createDefaultTracingSpan");function kDe(){return{createRequestHeaders:o(()=>({}),"createRequestHeaders"),parseTraceparentHeader:o(()=>{},"parseTraceparentHeader"),startSpan:o((t,e)=>({span:RDe(),tracingContext:_ce({parentContext:e.tracingContext})}),"startSpan"),withContext(t,e,...r){return e(...r)}}}o(kDe,"createDefaultInstrumenter");function T4(){return lR.instrumenterImplementation||(lR.instrumenterImplementation=kDe()),lR.instrumenterImplementation}o(T4,"getInstrumenter");u();function _4(t){let{namespace:e,packageName:r,packageVersion:n}=t;function i(f,d,h){var A;let m=T4().startSpan(f,Object.assign(Object.assign({},h),{packageName:r,packageVersion:n,tracingContext:(A=d?.tracingOptions)===null||A===void 0?void 0:A.tracingContext})),y=m.tracingContext,x=m.span;y.getValue(dx.namespace)||(y=y.setValue(dx.namespace,e)),x.setAttribute("az.namespace",y.getValue(dx.namespace));let _=Object.assign({},d,{tracingOptions:Object.assign(Object.assign({},d?.tracingOptions),{tracingContext:y})});return{span:x,updatedOptions:_}}o(i,"startSpan");async function s(f,d,h,A){let{span:m,updatedOptions:y}=i(f,d,A);try{let x=await a(y.tracingOptions.tracingContext,()=>Promise.resolve(h(y,m)));return m.setStatus({status:"success"}),x}catch(x){throw m.setStatus({status:"error",error:x}),x}finally{m.end()}}o(s,"withSpan");function a(f,d,...h){return T4().withContext(f,d,...h)}o(a,"withContext");function c(f){return T4().parseTraceparentHeader(f)}o(c,"parseTraceparentHeader");function l(f){return T4().createRequestHeaders(f)}return o(l,"createRequestHeaders"),{startSpan:i,withSpan:s,withContext:a,parseTraceparentHeader:c,createRequestHeaders:l}}o(_4,"createTracingClient");var hi=_4({namespace:"Microsoft.AAD",packageName:"@azure/identity",packageVersion:Z9});var qH=Rr("ChainedTokenCredential"),S4=class{static{o(this,"ChainedTokenCredential")}_sources=[];constructor(...e){this._sources=e}async getToken(e,r={}){let{token:n}=await this.getTokenInternal(e,r);return n}async getTokenInternal(e,r={}){let n=null,i,s=[];return hi.withSpan("ChainedTokenCredential.getToken",r,async a=>{for(let c=0;c<this._sources.length&&n===null;c++)try{n=await this._sources[c].getToken(e,a),i=this._sources[c]}catch(l){if(l.name==="CredentialUnavailableError"||l.name==="AuthenticationRequiredError")s.push(l);else throw qH.getToken.info(Fn(e,l)),l}if(!n&&s.length>0){let c=new v4(s,"ChainedTokenCredential authentication failed.");throw qH.getToken.info(Fn(e,c)),c}if(qH.getToken.info(`Result for ${i.constructor.name}: ${ks(e)}`),n===null)throw new Lt("Failed to retrieve a valid token");return{token:n,successfulCredential:i}})}};u();u();u();u();var jc={};Eo(jc,{AuthError:()=>Qr,AuthErrorCodes:()=>mx,AuthErrorMessage:()=>VH,AzureCloudInstance:()=>gA,ClientApplication:()=>vg,ClientAssertion:()=>TA,ClientAuthError:()=>fg,ClientAuthErrorCodes:()=>Ti,ClientAuthErrorMessage:()=>YH,ClientConfigurationError:()=>xx,ClientConfigurationErrorCodes:()=>Ix,ClientConfigurationErrorMessage:()=>JH,ClientCredentialClient:()=>Tg,ConfidentialClientApplication:()=>Vx,CryptoProvider:()=>Nd,DeviceCodeClient:()=>Hx,DistributedCachePlugin:()=>O7,InteractionRequiredAuthError:()=>Yc,InteractionRequiredAuthErrorCodes:()=>NR,InteractionRequiredAuthErrorMessage:()=>nG,LogLevel:()=>To,Logger:()=>Vc,ManagedIdentityApplication:()=>Wx,ManagedIdentitySourceNames:()=>_r,OnBehalfOfClient:()=>Gx,PromptValue:()=>og,ProtocolMode:()=>ja,PublicClientApplication:()=>qx,ResponseMode:()=>Sd,ServerError:()=>y0,TokenCache:()=>Rx,TokenCacheContext:()=>$c,UsernamePasswordClient:()=>Ux,internals:()=>iG,version:()=>af});u();var iG={};Eo(iG,{Deserializer:()=>bA,Serializer:()=>ig});u();u();var ig=class{static{o(this,"Serializer")}static serializeJSONBlob(e){return JSON.stringify(e)}static serializeAccounts(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,realm:i.realm,local_account_id:i.localAccountId,username:i.username,authority_type:i.authorityType,name:i.name,client_info:i.clientInfo,last_modification_time:i.lastModificationTime,last_modification_app:i.lastModificationApp,tenantProfiles:i.tenantProfiles?.map(s=>JSON.stringify(s))}}),r}static serializeIdTokens(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,credential_type:i.credentialType,client_id:i.clientId,secret:i.secret,realm:i.realm}}),r}static serializeAccessTokens(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,credential_type:i.credentialType,client_id:i.clientId,secret:i.secret,realm:i.realm,target:i.target,cached_at:i.cachedAt,expires_on:i.expiresOn,extended_expires_on:i.extendedExpiresOn,refresh_on:i.refreshOn,key_id:i.keyId,token_type:i.tokenType,requestedClaims:i.requestedClaims,requestedClaimsHash:i.requestedClaimsHash,userAssertionHash:i.userAssertionHash}}),r}static serializeRefreshTokens(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,credential_type:i.credentialType,client_id:i.clientId,secret:i.secret,family_id:i.familyId,target:i.target,realm:i.realm}}),r}static serializeAppMetadata(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={client_id:i.clientId,environment:i.environment,family_id:i.familyId}}),r}static serializeAllCache(e){return{Account:this.serializeAccounts(e.accounts),IdToken:this.serializeIdTokens(e.idTokens),AccessToken:this.serializeAccessTokens(e.accessTokens),RefreshToken:this.serializeRefreshTokens(e.refreshTokens),AppMetadata:this.serializeAppMetadata(e.appMetadata)}}};u();u();u();u();u();u();u();u();u();var Pe={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Nr={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},ec=[Pe.OPENID_SCOPE,Pe.PROFILE_SCOPE,Pe.OFFLINE_ACCESS_SCOPE],GH=[...ec,Pe.EMAIL_SCOPE],Fi={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"};var tc={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},nC={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},og={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},uR={PLAIN:"plain",S256:"S256"},hx={CODE:"code",IDTOKEN_TOKEN:"id_token token",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"};var Sd={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},rc={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},iC={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Mo={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},qn={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"};var w4="appmetadata",Bce="client_info",dA="1",Ax={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},p0={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Ds={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},_n={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},wd={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},B4={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},R4={username:"username",password:"password"},oC={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},fR={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},ki={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"};var px=300,xa={BASE64:"base64",HEX:"hex",UTF8:"utf-8"};var mx={};Eo(mx,{postRequestFailed:()=>D4,unexpectedError:()=>k4});u();var k4="unexpected_error",D4="post_request_failed";var dR={[k4]:"Unexpected error in authentication.",[D4]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},VH={unexpectedError:{code:k4,desc:dR[k4]},postRequestFailed:{code:D4,desc:dR[D4]}},Qr=class t extends Error{static{o(this,"AuthError")}constructor(e,r,n){let i=r?`${e}: ${r}`:e;super(i),Object.setPrototypeOf(this,t.prototype),this.errorCode=e||Pe.EMPTY_STRING,this.errorMessage=r||Pe.EMPTY_STRING,this.subError=n||Pe.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}};function WH(t,e){return new Qr(t,e?`${dR[t]} ${e}`:dR[t])}o(WH,"createAuthError");var Ti={};Eo(Ti,{authTimeNotFound:()=>hA,authorizationCodeMissingFromServerResponse:()=>EC,bindingKeyNotRemoved:()=>G4,cannotAppendScopeSet:()=>gC,cannotRemoveEmptyScope:()=>mC,clientInfoDecodingError:()=>sg,clientInfoEmptyError:()=>sC,deviceCodeExpired:()=>F4,deviceCodePollingCancelled:()=>P4,deviceCodeUnknownError:()=>M4,emptyInputScopeSet:()=>lg,endSessionEndpointNotSupported:()=>IC,endpointResolutionError:()=>m0,hashNotDeserialized:()=>uC,invalidAssertion:()=>U4,invalidCacheEnvironment:()=>pA,invalidCacheRecord:()=>yC,invalidClientCredential:()=>H4,invalidState:()=>nf,keyIdMissing:()=>xC,maxAgeTranspired:()=>hC,methodNotImplemented:()=>on,missingTenantIdError:()=>Y4,multipleMatchingAccounts:()=>Q4,multipleMatchingAppMetadata:()=>AC,multipleMatchingTokens:()=>N4,nestedAppAuthBridgeDisabled:()=>$4,networkError:()=>cC,noAccountFound:()=>L4,noAccountInSilentRequest:()=>AA,noCryptoObject:()=>ug,noNetworkConnectivity:()=>V4,nonceMismatch:()=>dC,nullOrEmptyToken:()=>aC,openIdConfigError:()=>lC,requestCannotBeMade:()=>pC,stateMismatch:()=>fC,stateNotFound:()=>cg,tokenClaimsCnfRequiredForSignedJwt:()=>CC,tokenParsingError:()=>ag,tokenRefreshRequired:()=>mA,unexpectedCredentialType:()=>O4,userCanceled:()=>W4,userTimeoutReached:()=>q4});u();var sg="client_info_decoding_error",sC="client_info_empty_error",ag="token_parsing_error",aC="null_or_empty_token",m0="endpoints_resolution_error",cC="network_error",lC="openid_config_error",uC="hash_not_deserialized",nf="invalid_state",fC="state_mismatch",cg="state_not_found",dC="nonce_mismatch",hA="auth_time_not_found",hC="max_age_transpired",N4="multiple_matching_tokens",Q4="multiple_matching_accounts",AC="multiple_matching_appMetadata",pC="request_cannot_be_made",mC="cannot_remove_empty_scope",gC="cannot_append_scopeset",lg="empty_input_scopeset",P4="device_code_polling_cancelled",F4="device_code_expired",M4="device_code_unknown_error",AA="no_account_in_silent_request",yC="invalid_cache_record",pA="invalid_cache_environment",L4="no_account_found",ug="no_crypto_object",O4="unexpected_credential_type",U4="invalid_assertion",H4="invalid_client_credential",mA="token_refresh_required",q4="user_timeout_reached",CC="token_claims_cnf_required_for_signedjwt",EC="authorization_code_missing_from_server_response",G4="binding_key_not_removed",IC="end_session_endpoint_not_supported",xC="key_id_missing",V4="no_network_connectivity",W4="user_canceled",Y4="missing_tenant_id_error",on="method_not_implemented",$4="nested_app_auth_bridge_disabled";var Pr={[sg]:"The client info could not be parsed/decoded correctly",[sC]:"The client info was empty",[ag]:"Token cannot be parsed",[aC]:"The token is null or empty",[m0]:"Endpoints cannot be resolved",[cC]:"Network request failed",[lC]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[uC]:"The hash parameters could not be deserialized",[nf]:"State was not the expected format",[fC]:"State mismatch error",[cg]:"State not found",[dC]:"Nonce mismatch error",[hA]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[hC]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[N4]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[Q4]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[AC]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[pC]:"Token request cannot be made without authorization code or refresh token.",[mC]:"Cannot remove null or empty scope from ScopeSet",[gC]:"Cannot append ScopeSet",[lg]:"Empty input ScopeSet cannot be processed",[P4]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[F4]:"Device code is expired.",[M4]:"Device code stopped polling for unknown reasons.",[AA]:"Please pass an account object, silent flow is not supported without account information",[yC]:"Cache record object was null or undefined.",[pA]:"Invalid environment when attempting to create cache entry",[L4]:"No account found in cache for given key.",[ug]:"No crypto object detected.",[O4]:"Unexpected credential type.",[U4]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[H4]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[mA]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[q4]:"User defined timeout for device code polling reached",[CC]:"Cannot generate a POP jwt if the token_claims are not populated",[EC]:"Server response does not contain an authorization code to proceed",[G4]:"Could not remove the credential's binding key from storage.",[IC]:"The provided authority does not support logout",[xC]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[V4]:"No network connectivity. Check your internet connection.",[W4]:"User cancelled the flow.",[Y4]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[on]:"This method has not been implemented",[$4]:"The nested app auth bridge is disabled"},YH={clientInfoDecodingError:{code:sg,desc:Pr[sg]},clientInfoEmptyError:{code:sC,desc:Pr[sC]},tokenParsingError:{code:ag,desc:Pr[ag]},nullOrEmptyToken:{code:aC,desc:Pr[aC]},endpointResolutionError:{code:m0,desc:Pr[m0]},networkError:{code:cC,desc:Pr[cC]},unableToGetOpenidConfigError:{code:lC,desc:Pr[lC]},hashNotDeserialized:{code:uC,desc:Pr[uC]},invalidStateError:{code:nf,desc:Pr[nf]},stateMismatchError:{code:fC,desc:Pr[fC]},stateNotFoundError:{code:cg,desc:Pr[cg]},nonceMismatchError:{code:dC,desc:Pr[dC]},authTimeNotFoundError:{code:hA,desc:Pr[hA]},maxAgeTranspired:{code:hC,desc:Pr[hC]},multipleMatchingTokens:{code:N4,desc:Pr[N4]},multipleMatchingAccounts:{code:Q4,desc:Pr[Q4]},multipleMatchingAppMetadata:{code:AC,desc:Pr[AC]},tokenRequestCannotBeMade:{code:pC,desc:Pr[pC]},removeEmptyScopeError:{code:mC,desc:Pr[mC]},appendScopeSetError:{code:gC,desc:Pr[gC]},emptyInputScopeSetError:{code:lg,desc:Pr[lg]},DeviceCodePollingCancelled:{code:P4,desc:Pr[P4]},DeviceCodeExpired:{code:F4,desc:Pr[F4]},DeviceCodeUnknownError:{code:M4,desc:Pr[M4]},NoAccountInSilentRequest:{code:AA,desc:Pr[AA]},invalidCacheRecord:{code:yC,desc:Pr[yC]},invalidCacheEnvironment:{code:pA,desc:Pr[pA]},noAccountFound:{code:L4,desc:Pr[L4]},noCryptoObj:{code:ug,desc:Pr[ug]},unexpectedCredentialType:{code:O4,desc:Pr[O4]},invalidAssertion:{code:U4,desc:Pr[U4]},invalidClientCredential:{code:H4,desc:Pr[H4]},tokenRefreshRequired:{code:mA,desc:Pr[mA]},userTimeoutReached:{code:q4,desc:Pr[q4]},tokenClaimsRequired:{code:CC,desc:Pr[CC]},noAuthorizationCodeFromServer:{code:EC,desc:Pr[EC]},bindingKeyNotRemovedError:{code:G4,desc:Pr[G4]},logoutNotSupported:{code:IC,desc:Pr[IC]},keyIdMissing:{code:xC,desc:Pr[xC]},noNetworkConnectivity:{code:V4,desc:Pr[V4]},userCanceledError:{code:W4,desc:Pr[W4]},missingTenantIdError:{code:Y4,desc:Pr[Y4]},nestedAppAuthBridgeDisabled:{code:$4,desc:Pr[$4]}},fg=class t extends Qr{static{o(this,"ClientAuthError")}constructor(e,r){super(e,r?`${Pr[e]}: ${r}`:Pr[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,t.prototype)}};function je(t,e){return new fg(t,e)}o(je,"createClientAuthError");var gx={createNewGuid:o(()=>{throw je(on)},"createNewGuid"),base64Decode:o(()=>{throw je(on)},"base64Decode"),base64Encode:o(()=>{throw je(on)},"base64Encode"),base64UrlEncode:o(()=>{throw je(on)},"base64UrlEncode"),encodeKid:o(()=>{throw je(on)},"encodeKid"),async getPublicKeyThumbprint(){throw je(on)},async removeTokenBindingKey(){throw je(on)},async clearKeystore(){throw je(on)},async signJwt(){throw je(on)},async hashString(){throw je(on)}};u();var To;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(To||(To={}));var Vc=class t{static{o(this,"Logger")}constructor(e,r,n){this.level=To.Info;let i=o(()=>{},"defaultLoggerCallback"),s=e||t.createDefaultLoggerOptions();this.localCallback=s.loggerCallback||i,this.piiLoggingEnabled=s.piiLoggingEnabled||!1,this.level=typeof s.logLevel=="number"?s.logLevel:To.Info,this.correlationId=s.correlationId||Pe.EMPTY_STRING,this.packageName=r||Pe.EMPTY_STRING,this.packageVersion=n||Pe.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:o(()=>{},"loggerCallback"),piiLoggingEnabled:!1,logLevel:To.Info}}clone(e,r,n){return new t({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,r)}logMessage(e,r){if(r.logLevel>this.level||!this.piiLoggingEnabled&&r.containsPii)return;let s=`${`[${new Date().toUTCString()}] : [${r.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${To[r.logLevel]} - ${e}`;this.executeCallback(r.logLevel,s,r.containsPii||!1)}executeCallback(e,r,n){this.localCallback&&this.localCallback(e,r,n)}error(e,r){this.logMessage(e,{logLevel:To.Error,containsPii:!1,correlationId:r||Pe.EMPTY_STRING})}errorPii(e,r){this.logMessage(e,{logLevel:To.Error,containsPii:!0,correlationId:r||Pe.EMPTY_STRING})}warning(e,r){this.logMessage(e,{logLevel:To.Warning,containsPii:!1,correlationId:r||Pe.EMPTY_STRING})}warningPii(e,r){this.logMessage(e,{logLevel:To.Warning,containsPii:!0,correlationId:r||Pe.EMPTY_STRING})}info(e,r){this.logMessage(e,{logLevel:To.Info,containsPii:!1,correlationId:r||Pe.EMPTY_STRING})}infoPii(e,r){this.logMessage(e,{logLevel:To.Info,containsPii:!0,correlationId:r||Pe.EMPTY_STRING})}verbose(e,r){this.logMessage(e,{logLevel:To.Verbose,containsPii:!1,correlationId:r||Pe.EMPTY_STRING})}verbosePii(e,r){this.logMessage(e,{logLevel:To.Verbose,containsPii:!0,correlationId:r||Pe.EMPTY_STRING})}trace(e,r){this.logMessage(e,{logLevel:To.Trace,containsPii:!1,correlationId:r||Pe.EMPTY_STRING})}tracePii(e,r){this.logMessage(e,{logLevel:To.Trace,containsPii:!0,correlationId:r||Pe.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}};u();var hR="@azure/msal-common",yx="15.8.1";u();var gA={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};u();var Ns={};Eo(Ns,{createAccessTokenEntity:()=>jH,createIdTokenEntity:()=>zH,createRefreshTokenEntity:()=>KH,generateAppMetadataKey:()=>VDe,generateAuthorityMetadataExpiresAt:()=>mR,generateCredentialKey:()=>K4,isAccessTokenEntity:()=>QDe,isAppMetadataEntity:()=>WDe,isAuthorityMetadataEntity:()=>YDe,isAuthorityMetadataExpired:()=>gR,isCredentialEntity:()=>pR,isIdTokenEntity:()=>PDe,isRefreshTokenEntity:()=>FDe,isServerTelemetryEntity:()=>qDe,isThrottlingEntity:()=>GDe,updateAuthorityEndpointMetadata:()=>Ex,updateCloudDiscoveryMetadata:()=>J4});u();var AR={};Eo(AR,{checkMaxAge:()=>z4,extractTokenClaims:()=>yA,getJWSPayload:()=>Rce});u();function yA(t,e){let r=Rce(t);try{let n=e(r);return JSON.parse(n)}catch{throw je(ag)}}o(yA,"extractTokenClaims");function Rce(t){if(!t)throw je(aC);let r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw je(ag);return r[2]}o(Rce,"getJWSPayload");function z4(t,e){if(e===0||Date.now()-3e5>t+e)throw je(hC)}o(z4,"checkMaxAge");var Ki={};Eo(Ki,{delay:()=>NDe,isTokenExpired:()=>Cx,nowSeconds:()=>Wc,toDateFromSeconds:()=>j4,toSecondsFromDate:()=>DDe,wasClockTurnedBack:()=>$H});u();function Wc(){return Math.round(new Date().getTime()/1e3)}o(Wc,"nowSeconds");function DDe(t){return t.getTime()/1e3}o(DDe,"toSecondsFromDate");function j4(t){return t?new Date(Number(t)*1e3):new Date}o(j4,"toDateFromSeconds");function Cx(t,e){let r=Number(t)||0;return Wc()+e>r}o(Cx,"isTokenExpired");function $H(t){return Number(t)>Wc()}o($H,"wasClockTurnedBack");function NDe(t,e){return new Promise(r=>setTimeout(()=>r(e),t))}o(NDe,"delay");function K4(t){return[MDe(t),LDe(t),ODe(t),UDe(t),HDe(t)].join(Mo.CACHE_KEY_SEPARATOR).toLowerCase()}o(K4,"generateCredentialKey");function zH(t,e,r,n,i){return{credentialType:qn.ID_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r,realm:i}}o(zH,"createIdTokenEntity");function jH(t,e,r,n,i,s,a,c,l,f,d,h,A,m,y){let x={homeAccountId:t,credentialType:qn.ACCESS_TOKEN,secret:r,cachedAt:Wc().toString(),expiresOn:a.toString(),extendedExpiresOn:c.toString(),environment:e,clientId:n,realm:i,target:s,tokenType:d||_n.BEARER};if(h&&(x.userAssertionHash=h),f&&(x.refreshOn=f.toString()),m&&(x.requestedClaims=m,x.requestedClaimsHash=y),x.tokenType?.toLowerCase()!==_n.BEARER.toLowerCase())switch(x.credentialType=qn.ACCESS_TOKEN_WITH_AUTH_SCHEME,x.tokenType){case _n.POP:let _=yA(r,l);if(!_?.cnf?.kid)throw je(CC);x.keyId=_.cnf.kid;break;case _n.SSH:x.keyId=A}return x}o(jH,"createAccessTokenEntity");function KH(t,e,r,n,i,s,a){let c={credentialType:qn.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r};return s&&(c.userAssertionHash=s),i&&(c.familyId=i),a&&(c.expiresOn=a.toString()),c}o(KH,"createRefreshTokenEntity");function pR(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}o(pR,"isCredentialEntity");function QDe(t){return t?pR(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===qn.ACCESS_TOKEN||t.credentialType===qn.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}o(QDe,"isAccessTokenEntity");function PDe(t){return t?pR(t)&&t.hasOwnProperty("realm")&&t.credentialType===qn.ID_TOKEN:!1}o(PDe,"isIdTokenEntity");function FDe(t){return t?pR(t)&&t.credentialType===qn.REFRESH_TOKEN:!1}o(FDe,"isRefreshTokenEntity");function MDe(t){return[t.homeAccountId,t.environment].join(Mo.CACHE_KEY_SEPARATOR).toLowerCase()}o(MDe,"generateAccountId");function LDe(t){let e=t.credentialType===qn.REFRESH_TOKEN&&t.familyId||t.clientId;return[t.credentialType,e,t.realm||""].join(Mo.CACHE_KEY_SEPARATOR).toLowerCase()}o(LDe,"generateCredentialId");function ODe(t){return(t.target||"").toLowerCase()}o(ODe,"generateTarget");function UDe(t){return(t.requestedClaimsHash||"").toLowerCase()}o(UDe,"generateClaimsHash");function HDe(t){return t.tokenType&&t.tokenType.toLowerCase()!==_n.BEARER.toLowerCase()?t.tokenType.toLowerCase():""}o(HDe,"generateScheme");function qDe(t,e){let r=t.indexOf(Ds.CACHE_KEY)===0,n=!0;return e&&(n=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),r&&n}o(qDe,"isServerTelemetryEntity");function GDe(t,e){let r=!1;t&&(r=t.indexOf(wd.THROTTLING_PREFIX)===0);let n=!0;return e&&(n=e.hasOwnProperty("throttleTime")),r&&n}o(GDe,"isThrottlingEntity");function VDe({environment:t,clientId:e}){return[w4,t,e].join(Mo.CACHE_KEY_SEPARATOR).toLowerCase()}o(VDe,"generateAppMetadataKey");function WDe(t,e){return e?t.indexOf(w4)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}o(WDe,"isAppMetadataEntity");function YDe(t,e){return e?t.indexOf(Ax.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}o(YDe,"isAuthorityMetadataEntity");function mR(){return Wc()+Ax.REFRESH_TIME_SECONDS}o(mR,"generateAuthorityMetadataExpiresAt");function Ex(t,e,r){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=r,t.jwks_uri=e.jwks_uri}o(Ex,"updateAuthorityEndpointMetadata");function J4(t,e,r){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=r}o(J4,"updateCloudDiscoveryMetadata");function gR(t){return t.expiresAt<=Wc()}o(gR,"isAuthorityMetadataExpired");u();u();var Ix={};Eo(Ix,{authorityMismatch:()=>o_,authorityUriInsecure:()=>vC,cannotAllowPlatformBroker:()=>i_,cannotSetOIDCOptions:()=>n_,claimsRequestParsingError:()=>X4,emptyInputScopesError:()=>_C,invalidAuthenticationHeader:()=>r_,invalidAuthorityMetadata:()=>RC,invalidClaims:()=>dg,invalidCloudDiscoveryMetadata:()=>hg,invalidCodeChallengeMethod:()=>Z4,logoutRequestEmpty:()=>wC,missingNonceAuthenticationHeader:()=>t_,missingSshJwk:()=>CA,missingSshKid:()=>e_,pkceParamsMissing:()=>BC,redirectUriEmpty:()=>bC,tokenRequestEmpty:()=>SC,untrustedAuthority:()=>kC,urlEmptyError:()=>TC,urlParseError:()=>Bd});u();var bC="redirect_uri_empty",X4="claims_request_parsing_error",vC="authority_uri_insecure",Bd="url_parse_error",TC="empty_url_error",_C="empty_input_scopes_error",dg="invalid_claims",SC="token_request_empty",wC="logout_request_empty",Z4="invalid_code_challenge_method",BC="pkce_params_missing",hg="invalid_cloud_discovery_metadata",RC="invalid_authority_metadata",kC="untrusted_authority",CA="missing_ssh_jwk",e_="missing_ssh_kid",t_="missing_nonce_authentication_header",r_="invalid_authentication_header",n_="cannot_set_OIDCOptions",i_="cannot_allow_platform_broker",o_="authority_mismatch";var Lo={[bC]:"A redirect URI is required for all calls, and none has been set.",[X4]:"Could not parse the given claims request object.",[vC]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Bd]:"URL could not be parsed into appropriate segments.",[TC]:"URL was empty or null.",[_C]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[dg]:"Given claims parameter must be a stringified JSON object.",[SC]:"Token request was empty and not found in cache.",[wC]:"The logout request was null or undefined.",[Z4]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[BC]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[hg]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[RC]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[kC]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[CA]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[e_]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[t_]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[r_]:"Invalid authentication header provided",[n_]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[i_]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[o_]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},JH={redirectUriNotSet:{code:bC,desc:Lo[bC]},claimsRequestParsingError:{code:X4,desc:Lo[X4]},authorityUriInsecure:{code:vC,desc:Lo[vC]},urlParseError:{code:Bd,desc:Lo[Bd]},urlEmptyError:{code:TC,desc:Lo[TC]},emptyScopesError:{code:_C,desc:Lo[_C]},invalidClaimsRequest:{code:dg,desc:Lo[dg]},tokenRequestEmptyError:{code:SC,desc:Lo[SC]},logoutRequestEmptyError:{code:wC,desc:Lo[wC]},invalidCodeChallengeMethod:{code:Z4,desc:Lo[Z4]},invalidCodeChallengeParams:{code:BC,desc:Lo[BC]},invalidCloudDiscoveryMetadata:{code:hg,desc:Lo[hg]},invalidAuthorityMetadata:{code:RC,desc:Lo[RC]},untrustedAuthority:{code:kC,desc:Lo[kC]},missingSshJwk:{code:CA,desc:Lo[CA]},missingSshKid:{code:e_,desc:Lo[e_]},missingNonceAuthenticationHeader:{code:t_,desc:Lo[t_]},invalidAuthenticationHeader:{code:r_,desc:Lo[r_]},cannotSetOIDCOptions:{code:n_,desc:Lo[n_]},cannotAllowPlatformBroker:{code:i_,desc:Lo[i_]},authorityMismatch:{code:o_,desc:Lo[o_]}},xx=class t extends Qr{static{o(this,"ClientConfigurationError")}constructor(e){super(e,Lo[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,t.prototype)}};function _i(t){return new xx(t)}o(_i,"createClientConfigurationError");u();var uo=class{static{o(this,"StringUtils")}static isEmptyObj(e){if(e)try{let r=JSON.parse(e);return Object.keys(r).length===0}catch{}return!0}static startsWith(e,r){return e.indexOf(r)===0}static endsWith(e,r){return e.length>=r.length&&e.lastIndexOf(r)===e.length-r.length}static queryStringToObject(e){let r={},n=e.split("&"),i=o(s=>decodeURIComponent(s.replace(/\+/g," ")),"decode");return n.forEach(s=>{if(s.trim()){let[a,c]=s.split(/=(.+)/g,2);a&&c&&(r[i(a)]=i(c))}}),r}static trimArrayEntries(e){return e.map(r=>r.trim())}static removeEmptyStringsFromArray(e){return e.filter(r=>!!r)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,r){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(r)}};var Es=class t{static{o(this,"ScopeSet")}constructor(e){let r=e?uo.trimArrayEntries([...e]):[],n=r?uo.removeEmptyStringsFromArray(r):[];if(!n||!n.length)throw _i(_C);this.scopes=new Set,n.forEach(i=>this.scopes.add(i))}static fromString(e){let n=(e||Pe.EMPTY_STRING).split(" ");return new t(n)}static createSearchScopes(e){let r=new t(e);return r.containsOnlyOIDCScopes()?r.removeScope(Pe.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}containsScope(e){let r=this.printScopesLowerCase().split(" "),n=new t(r);return e?n.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(r=>this.containsScope(r))}containsOnlyOIDCScopes(){let e=0;return GH.forEach(r=>{this.containsScope(r)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(r=>this.appendScope(r))}catch{throw je(gC)}}removeScope(e){if(!e)throw je(mC);this.scopes.delete(e.trim())}removeOIDCScopes(){GH.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw je(lg);let r=new Set;return e.scopes.forEach(n=>r.add(n.toLowerCase())),this.scopes.forEach(n=>r.add(n.toLowerCase())),r}intersectingScopeSets(e){if(!e)throw je(lg);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let r=this.unionScopeSets(e),n=e.getScopeCount(),i=this.getScopeCount();return r.size<i+n}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(r=>e.push(r)),e}printScopes(){return this.scopes?this.asArray().join(" "):Pe.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}};u();u();function bx(t,e){if(!t)throw je(sC);try{let r=e(t);return JSON.parse(r)}catch{throw je(sg)}}o(bx,"buildClientInfo");function Rd(t){if(!t)throw je(sg);let e=t.split(Mo.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?Pe.EMPTY_STRING:e[1]}}o(Rd,"buildClientInfoFromHomeAccountId");u();function kce(t,e){return!!t&&!!e&&t===e.split(".")[1]}o(kce,"tenantIdMatchesHomeTenant");function s_(t,e,r,n){if(n){let{oid:i,sub:s,tid:a,name:c,tfp:l,acr:f}=n,d=a||l||f||"";return{tenantId:d,localAccountId:i||s||"",name:c,isHomeTenant:kce(d,t)}}else return{tenantId:r,localAccountId:e,isHomeTenant:kce(r,t)}}o(s_,"buildTenantProfile");function yR(t,e,r,n){let i=t;if(e){let{isHomeTenant:s,...a}=e;i={...t,...a}}if(r){let{isHomeTenant:s,...a}=s_(t.homeAccountId,t.localAccountId,t.tenantId,r);return i={...i,...a,idTokenClaims:r,idToken:n},i}return i}o(yR,"updateAccountTenantProfileData");u();var ql={Default:0,Adfs:1,Dsts:2,Ciam:3};u();function CR(t){return t&&(t.tid||t.tfp||t.acr)||null}o(CR,"getTenantIdFromIdTokenClaims");u();var ja={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};var ba=class t{static{o(this,"AccountEntity")}generateAccountId(){return[this.homeAccountId,this.environment].join(Mo.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return t.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){let r=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",r||e.tenantId||""].join(Mo.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,r,n){let i=new t;r.authorityType===ql.Adfs?i.authorityType=iC.ADFS_ACCOUNT_TYPE:r.protocolMode===ja.OIDC?i.authorityType=iC.GENERIC_ACCOUNT_TYPE:i.authorityType=iC.MSSTS_ACCOUNT_TYPE;let s;e.clientInfo&&n&&(s=bx(e.clientInfo,n)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;let a=e.environment||r&&r.getPreferredCache();if(!a)throw je(pA);i.environment=a,i.realm=s?.utid||CR(e.idTokenClaims)||"",i.localAccountId=s?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let c=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,l=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(i.username=c||l||"",i.name=e.idTokenClaims?.name||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{let f=s_(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[f]}return i}static createFromAccountInfo(e,r,n){let i=new t;return i.authorityType=e.authorityType||iC.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=r,i.msGraphHost=n,i.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),i}static generateHomeAccountId(e,r,n,i,s){if(!(r===ql.Adfs||r===ql.Dsts)){if(e)try{let a=bx(e,i.base64Decode);if(a.uid&&a.utid)return`${a.uid}.${a.utid}`}catch{}n.warning("No client info in response")}return s?.sub||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,r,n){if(!e||!r)return!1;let i=!0;if(n){let s=e.idTokenClaims||{},a=r.idTokenClaims||{};i=s.iat===a.iat&&s.nonce===a.nonce}return e.homeAccountId===r.homeAccountId&&e.localAccountId===r.localAccountId&&e.username===r.username&&e.tenantId===r.tenantId&&e.environment===r.environment&&e.nativeAccountId===r.nativeAccountId&&i}};u();u();var va={};Eo(va,{getDeserializedResponse:()=>XH,mapToQueryString:()=>kd,stripLeadingHashOrQuery:()=>Dce});u();function Dce(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}o(Dce,"stripLeadingHashOrQuery");function XH(t){if(!t||t.indexOf("=")<0)return null;try{let e=Dce(t),r=Object.fromEntries(new URLSearchParams(e));if(r.code||r.ear_jwe||r.error||r.error_description||r.state)return r}catch{throw je(uC)}return null}o(XH,"getDeserializedResponse");function kd(t,e=!0,r){let n=new Array;return t.forEach((i,s)=>{!e&&r&&s in r?n.push(`${s}=${i}`):n.push(`${s}=${encodeURIComponent(i)}`)}),n.join("&")}o(kd,"mapToQueryString");var sn=class t{static{o(this,"UrlString")}get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw _i(TC);e.includes("#")||(this._urlString=t.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let r=e.toLowerCase();return uo.endsWith(r,"?")?r=r.slice(0,-1):uo.endsWith(r,"?/")&&(r=r.slice(0,-2)),uo.endsWith(r,"/")||(r+="/"),r}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw _i(Bd)}if(!e.HostNameAndPort||!e.PathSegments)throw _i(Bd);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw _i(vC)}static appendQueryString(e,r){return r?e.indexOf("?")<0?`${e}?${r}`:`${e}&${r}`:e}static removeHashFromUrl(e){return t.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let r=this.getUrlComponents(),n=r.PathSegments;return e&&n.length!==0&&(n[0]===tc.COMMON||n[0]===tc.ORGANIZATIONS)&&(n[0]=e),t.constructAuthorityUriFromObject(r)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),r=this.urlString.match(e);if(!r)throw _i(Bd);let n={Protocol:r[1],HostNameAndPort:r[4],AbsolutePath:r[5],QueryString:r[7]},i=n.AbsolutePath.split("/");return i=i.filter(s=>s&&s.length>0),n.PathSegments=i,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){let r=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(r);if(!n)throw _i(Bd);return n[2]}static getAbsoluteUrl(e,r){if(e[0]===Pe.FORWARD_SLASH){let i=new t(r).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new t(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!XH(e)}};var Qce={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},ZH=Qce.endpointMetadata,eq=Qce.instanceDiscoveryMetadata,tq=new Set;eq.metadata.forEach(t=>{t.aliases.forEach(e=>{tq.add(e)})});function Pce(t,e){let r,n=t.canonicalAuthority;if(n){let i=new sn(n).getUrlComponents().HostNameAndPort;r=Nce(i,t.cloudDiscoveryMetadata?.metadata,p0.CONFIG,e)||Nce(i,eq.metadata,p0.HARDCODED_VALUES,e)||t.knownAuthorities}return r||[]}o(Pce,"getAliasesFromStaticSources");function Nce(t,e,r,n){if(n?.trace(`getAliasesFromMetadata called with source: ${r}`),t&&e){let i=a_(e,t);if(i)return n?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${r}, returning aliases`),i.aliases;n?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${r}`)}return null}o(Nce,"getAliasesFromMetadata");function Fce(t){return a_(eq.metadata,t)}o(Fce,"getCloudDiscoveryMetadataFromHardcodedValues");function a_(t,e){for(let r=0;r<t.length;r++){let n=t[r];if(n.aliases.includes(e))return n}return null}o(a_,"getCloudDiscoveryMetadataFromNetworkResponse");u();u();var rq="cache_quota_exceeded",ER="cache_error_unknown";var nq={[rq]:"Exceeded cache storage capacity.",[ER]:"Unexpected error occurred when using cache storage."},c_=class t extends Qr{static{o(this,"CacheError")}constructor(e,r){let n=r||(nq[e]?nq[e]:nq[ER]);super(`${e}: ${n}`),Object.setPrototypeOf(this,t.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}};function Mce(t){return t instanceof Error?t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||t.message.includes("exceeded the quota")?new c_(rq):new c_(t.name,t.message):new c_(ER)}o(Mce,"createCacheError");var Ag=class{static{o(this,"CacheManager")}constructor(e,r,n,i,s){this.clientId=e,this.cryptoImpl=r,this.commonLogger=n.clone(hR,yx),this.staticAuthorityOptions=s,this.performanceClient=i}getAllAccounts(e,r){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,r),r,e)}getAccountInfoFilteredBy(e,r){let n=this.getAllAccounts(e,r);return n.length>1?n.sort(s=>s.idTokenClaims?-1:1)[0]:n.length===1?n[0]:null}getBaseAccountInfo(e,r){let n=this.getAccountsFilteredBy(e,r);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(e,r,n){return e.flatMap(i=>this.getTenantProfilesFromAccountEntity(i,r,n?.tenantId,n))}getTenantedAccountInfoByFilter(e,r,n,i,s){let a=null,c;if(s&&!this.tenantProfileMatchesFilter(n,s))return null;let l=this.getIdToken(e,i,r,n.tenantId);return l&&(c=yA(l.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(c,s))?null:(a=yR(e,n,c,l?.secret),a)}getTenantProfilesFromAccountEntity(e,r,n,i){let s=e.getAccountInfo(),a=s.tenantProfiles||new Map,c=this.getTokenKeys();if(n){let f=a.get(n);if(f)a=new Map([[n,f]]);else return[]}let l=[];return a.forEach(f=>{let d=this.getTenantedAccountInfoByFilter(s,c,f,r,i);d&&l.push(d)}),l}tenantProfileMatchesFilter(e,r){return!(r.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,r.localAccountId)||r.name&&e.name!==r.name||r.isHomeTenant!==void 0&&e.isHomeTenant!==r.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,r){return!(r&&(r.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,r.localAccountId)||r.loginHint&&!this.matchLoginHintFromTokenClaims(e,r.loginHint)||r.username&&!this.matchUsername(e.preferred_username,r.username)||r.name&&!this.matchName(e,r.name)||r.sid&&!this.matchSid(e,r.sid)))}async saveCacheRecord(e,r,n){if(!e)throw je(yC);try{e.account&&await this.setAccount(e.account,r),e.idToken&&n?.idToken!==!1&&await this.setIdTokenCredential(e.idToken,r),e.accessToken&&n?.accessToken!==!1&&await this.saveAccessToken(e.accessToken,r),e.refreshToken&&n?.refreshToken!==!1&&await this.setRefreshTokenCredential(e.refreshToken,r),e.appMetadata&&this.setAppMetadata(e.appMetadata,r)}catch(i){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),i instanceof Qr?i:Mce(i)}}async saveAccessToken(e,r){let n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},i=this.getTokenKeys(),s=Es.fromString(e.target);i.accessToken.forEach(a=>{if(!this.accessTokenKeyMatchesFilter(a,n,!1))return;let c=this.getAccessTokenCredential(a,r);c&&this.credentialMatchesFilter(c,n)&&Es.fromString(c.target).intersectingScopeSets(s)&&this.removeAccessToken(a,r)}),await this.setAccessTokenCredential(e,r)}getAccountsFilteredBy(e,r){let n=this.getAccountKeys(),i=[];return n.forEach(s=>{if(!this.isAccountKey(s,e.homeAccountId))return;let a=this.getAccount(s,r);if(!a||e.homeAccountId&&!this.matchHomeAccountId(a,e.homeAccountId)||e.username&&!this.matchUsername(a.username,e.username)||e.environment&&!this.matchEnvironment(a,e.environment)||e.realm&&!this.matchRealm(a,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(a,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(a,e.authorityType))return;let c={localAccountId:e?.localAccountId,name:e?.name},l=a.tenantProfiles?.filter(f=>this.tenantProfileMatchesFilter(f,c));l&&l.length===0||i.push(a)}),i}isAccountKey(e,r,n){return!(e.split(Mo.CACHE_KEY_SEPARATOR).length<3||r&&!e.toLowerCase().includes(r.toLowerCase())||n&&!e.toLowerCase().includes(n.toLowerCase()))}isCredentialKey(e){if(e.split(Mo.CACHE_KEY_SEPARATOR).length<6)return!1;let r=e.toLowerCase();if(r.indexOf(qn.ID_TOKEN.toLowerCase())===-1&&r.indexOf(qn.ACCESS_TOKEN.toLowerCase())===-1&&r.indexOf(qn.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&r.indexOf(qn.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(r.indexOf(qn.REFRESH_TOKEN.toLowerCase())>-1){let n=`${qn.REFRESH_TOKEN}${Mo.CACHE_KEY_SEPARATOR}${this.clientId}${Mo.CACHE_KEY_SEPARATOR}`,i=`${qn.REFRESH_TOKEN}${Mo.CACHE_KEY_SEPARATOR}${dA}${Mo.CACHE_KEY_SEPARATOR}`;if(r.indexOf(n.toLowerCase())===-1&&r.indexOf(i.toLowerCase())===-1)return!1}else if(r.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,r){return!(r.clientId&&!this.matchClientId(e,r.clientId)||r.userAssertionHash&&!this.matchUserAssertionHash(e,r.userAssertionHash)||typeof r.homeAccountId=="string"&&!this.matchHomeAccountId(e,r.homeAccountId)||r.environment&&!this.matchEnvironment(e,r.environment)||r.realm&&!this.matchRealm(e,r.realm)||r.credentialType&&!this.matchCredentialType(e,r.credentialType)||r.familyId&&!this.matchFamilyId(e,r.familyId)||r.target&&!this.matchTarget(e,r.target)||(r.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==r.requestedClaimsHash||e.credentialType===qn.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(r.tokenType&&!this.matchTokenType(e,r.tokenType)||r.tokenType===_n.SSH&&r.keyId&&!this.matchKeyId(e,r.keyId)))}getAppMetadataFilteredBy(e){let r=this.getKeys(),n={};return r.forEach(i=>{if(!this.isAppMetadata(i))return;let s=this.getAppMetadata(i);s&&(e.environment&&!this.matchEnvironment(s,e.environment)||e.clientId&&!this.matchClientId(s,e.clientId)||(n[i]=s))}),n}getAuthorityMetadataByAlias(e){let r=this.getAuthorityMetadataKeys(),n=null;return r.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;let s=this.getAuthorityMetadata(i);s&&s.aliases.indexOf(e)!==-1&&(n=s)}),n}removeAllAccounts(e){this.getAccountKeys().forEach(n=>{this.removeAccount(n,e)})}removeAccount(e,r){let n=this.getAccount(e,r);n&&(this.removeAccountContext(n,r),this.removeItem(e,r))}removeAccountContext(e,r){let n=this.getTokenKeys(),i=e.generateAccountId();n.idToken.forEach(s=>{s.indexOf(i)===0&&this.removeIdToken(s,r)}),n.accessToken.forEach(s=>{s.indexOf(i)===0&&this.removeAccessToken(s,r)}),n.refreshToken.forEach(s=>{s.indexOf(i)===0&&this.removeRefreshToken(s,r)})}removeAccessToken(e,r){let n=this.getAccessTokenCredential(e,r);if(this.removeItem(e,r),this.performanceClient.incrementFields({accessTokensRemoved:1},r),!n||n.credentialType.toLowerCase()!==qn.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||n.tokenType!==_n.POP)return;let i=n.keyId;i&&this.cryptoImpl.removeTokenBindingKey(i).catch(()=>{this.commonLogger.error(`Failed to remove token binding key ${i}`,r),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},r)})}removeAppMetadata(e){return this.getKeys().forEach(n=>{this.isAppMetadata(n)&&this.removeItem(n,e)}),!0}readAccountFromCache(e,r){let n=ba.generateAccountCacheKey(e);return this.getAccount(n,r)}getIdToken(e,r,n,i,s){this.commonLogger.trace("CacheManager - getIdToken called");let a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:qn.ID_TOKEN,clientId:this.clientId,realm:i},c=this.getIdTokensByFilter(a,r,n),l=c.size;if(l<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(l>1){let f=c;if(!i){let d=new Map;c.forEach((A,m)=>{A.realm===e.tenantId&&d.set(m,A)});let h=d.size;if(h<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),c.values().next().value;if(h===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),d.values().next().value;f=d}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),f.forEach((d,h)=>{this.removeIdToken(h,r)}),s&&r&&s.addFields({multiMatchedID:c.size},r),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),c.values().next().value}getIdTokensByFilter(e,r,n){let i=n&&n.idToken||this.getTokenKeys().idToken,s=new Map;return i.forEach(a=>{if(!this.idTokenKeyMatchesFilter(a,{clientId:this.clientId,...e}))return;let c=this.getIdTokenCredential(a,r);c&&this.credentialMatchesFilter(c,e)&&s.set(a,c)}),s}idTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}removeIdToken(e,r){this.removeItem(e,r)}removeRefreshToken(e,r){this.removeItem(e,r)}getAccessToken(e,r,n,i){let s=r.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",s);let a=Es.createSearchScopes(r.scopes),c=r.authenticationScheme||_n.BEARER,l=c&&c.toLowerCase()!==_n.BEARER.toLowerCase()?qn.ACCESS_TOKEN_WITH_AUTH_SCHEME:qn.ACCESS_TOKEN,f={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:i||e.tenantId,target:a,tokenType:c,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},d=n&&n.accessToken||this.getTokenKeys().accessToken,h=[];d.forEach(m=>{if(this.accessTokenKeyMatchesFilter(m,f,!0)){let y=this.getAccessTokenCredential(m,s);y&&this.credentialMatchesFilter(y,f)&&h.push(y)}});let A=h.length;return A<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",s),null):A>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",s),h.forEach(m=>{this.removeAccessToken(K4(m),s)}),this.performanceClient.addFields({multiMatchedAT:h.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",s),h[0])}accessTokenKeyMatchesFilter(e,r,n){let i=e.toLowerCase();if(r.clientId&&i.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&i.indexOf(r.homeAccountId.toLowerCase())===-1||r.realm&&i.indexOf(r.realm.toLowerCase())===-1||r.requestedClaimsHash&&i.indexOf(r.requestedClaimsHash.toLowerCase())===-1)return!1;if(r.target){let s=r.target.asArray();for(let a=0;a<s.length;a++){if(n&&!i.includes(s[a].toLowerCase()))return!1;if(!n&&i.includes(s[a].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,r){let n=this.getTokenKeys(),i=[];return n.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,e,!0))return;let a=this.getAccessTokenCredential(s,r);a&&this.credentialMatchesFilter(a,e)&&i.push(a)}),i}getRefreshToken(e,r,n,i,s){this.commonLogger.trace("CacheManager - getRefreshToken called");let a=r?dA:void 0,c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:qn.REFRESH_TOKEN,clientId:this.clientId,familyId:a},l=i&&i.refreshToken||this.getTokenKeys().refreshToken,f=[];l.forEach(h=>{if(this.refreshTokenKeyMatchesFilter(h,c)){let A=this.getRefreshTokenCredential(h,n);A&&this.credentialMatchesFilter(A,c)&&f.push(A)}});let d=f.length;return d<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(d>1&&s&&n&&s.addFields({multiMatchedRT:d},n),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),f[0])}refreshTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.familyId&&n.indexOf(r.familyId.toLowerCase())===-1||!r.familyId&&r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){let r={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(r),i=Object.keys(n).map(a=>n[a]),s=i.length;if(s<1)return null;if(s>1)throw je(AC);return i[0]}isAppMetadataFOCI(e){let r=this.readAppMetadataFromCache(e);return!!(r&&r.familyId===dA)}matchHomeAccountId(e,r){return typeof e.homeAccountId=="string"&&r===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,r){let n=e.oid||e.sub;return r===n}matchLocalAccountIdFromTenantProfile(e,r){return e.localAccountId===r}matchName(e,r){return r.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,r){return!!(e&&typeof e=="string"&&r?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,r){return!!(e.userAssertionHash&&r===e.userAssertionHash)}matchEnvironment(e,r){if(this.staticAuthorityOptions){let i=Pce(this.staticAuthorityOptions,this.commonLogger);if(i.includes(r)&&i.includes(e.environment))return!0}let n=this.getAuthorityMetadataByAlias(r);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,r){return e.credentialType&&r.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,r){return!!(e.clientId&&r===e.clientId)}matchFamilyId(e,r){return!!(e.familyId&&r===e.familyId)}matchRealm(e,r){return e.realm?.toLowerCase()===r.toLowerCase()}matchNativeAccountId(e,r){return!!(e.nativeAccountId&&r===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,r){return e.login_hint===r||e.preferred_username===r||e.upn===r}matchSid(e,r){return e.sid===r}matchAuthorityType(e,r){return!!(e.authorityType&&r.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,r){return e.credentialType!==qn.ACCESS_TOKEN&&e.credentialType!==qn.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Es.fromString(e.target).containsScopeSet(r)}matchTokenType(e,r){return!!(e.tokenType&&e.tokenType===r)}matchKeyId(e,r){return!!(e.keyId&&e.keyId===r)}isAppMetadata(e){return e.indexOf(w4)!==-1}isAuthorityMetadata(e){return e.indexOf(Ax.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Ax.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,r){for(let n in r)e[n]=r[n];return e}},l_=class extends Ag{static{o(this,"DefaultStorageClass")}async setAccount(){throw je(on)}getAccount(){throw je(on)}async setIdTokenCredential(){throw je(on)}getIdTokenCredential(){throw je(on)}async setAccessTokenCredential(){throw je(on)}getAccessTokenCredential(){throw je(on)}async setRefreshTokenCredential(){throw je(on)}getRefreshTokenCredential(){throw je(on)}setAppMetadata(){throw je(on)}getAppMetadata(){throw je(on)}setServerTelemetry(){throw je(on)}getServerTelemetry(){throw je(on)}setAuthorityMetadata(){throw je(on)}getAuthorityMetadata(){throw je(on)}getAuthorityMetadataKeys(){throw je(on)}setThrottlingCache(){throw je(on)}getThrottlingCache(){throw je(on)}removeItem(){throw je(on)}getKeys(){throw je(on)}getAccountKeys(){throw je(on)}getTokenKeys(){throw je(on)}};u();u();var De={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},vMt=new Map([[De.AcquireTokenByCode,"ATByCode"],[De.AcquireTokenByRefreshToken,"ATByRT"],[De.AcquireTokenSilent,"ATS"],[De.AcquireTokenSilentAsync,"ATSAsync"],[De.AcquireTokenPopup,"ATPopup"],[De.AcquireTokenRedirect,"ATRedirect"],[De.CryptoOptsGetPublicKeyThumbprint,"CryptoGetPKThumb"],[De.CryptoOptsSignJwt,"CryptoSignJwt"],[De.SilentCacheClientAcquireToken,"SltCacheClientAT"],[De.SilentIframeClientAcquireToken,"SltIframeClientAT"],[De.SilentRefreshClientAcquireToken,"SltRClientAT"],[De.SsoSilent,"SsoSlt"],[De.StandardInteractionClientGetDiscoveredAuthority,"StdIntClientGetDiscAuth"],[De.FetchAccountIdWithNativeBroker,"FetchAccIdWithNtvBroker"],[De.NativeInteractionClientAcquireToken,"NtvIntClientAT"],[De.BaseClientCreateTokenRequestHeaders,"BaseClientCreateTReqHead"],[De.NetworkClientSendPostRequestAsync,"NetClientSendPost"],[De.RefreshTokenClientExecutePostToTokenEndpoint,"RTClientExecPost"],[De.AuthorizationCodeClientExecutePostToTokenEndpoint,"AuthCodeClientExecPost"],[De.BrokerHandhshake,"BrokerHandshake"],[De.AcquireTokenByRefreshTokenInBroker,"ATByRTInBroker"],[De.AcquireTokenByBroker,"ATByBroker"],[De.RefreshTokenClientExecuteTokenRequest,"RTClientExecTReq"],[De.RefreshTokenClientAcquireToken,"RTClientAT"],[De.RefreshTokenClientAcquireTokenWithCachedRefreshToken,"RTClientATWithCachedRT"],[De.RefreshTokenClientAcquireTokenByRefreshToken,"RTClientATByRT"],[De.RefreshTokenClientCreateTokenRequestBody,"RTClientCreateTReqBody"],[De.AcquireTokenFromCache,"ATFromCache"],[De.SilentFlowClientAcquireCachedToken,"SltFlowClientATCached"],[De.SilentFlowClientGenerateResultFromCacheRecord,"SltFlowClientGenResFromCache"],[De.AcquireTokenBySilentIframe,"ATBySltIframe"],[De.InitializeBaseRequest,"InitBaseReq"],[De.InitializeSilentRequest,"InitSltReq"],[De.InitializeClientApplication,"InitClientApplication"],[De.InitializeCache,"InitCache"],[De.ImportExistingCache,"importCache"],[De.SetUserData,"setUserData"],[De.LocalStorageUpdated,"localStorageUpdated"],[De.SilentIframeClientTokenHelper,"SIClientTHelper"],[De.SilentHandlerInitiateAuthRequest,"SHandlerInitAuthReq"],[De.SilentHandlerMonitorIframeForHash,"SltHandlerMonitorIframeForHash"],[De.SilentHandlerLoadFrame,"SHandlerLoadFrame"],[De.SilentHandlerLoadFrameSync,"SHandlerLoadFrameSync"],[De.StandardInteractionClientCreateAuthCodeClient,"StdIntClientCreateAuthCodeClient"],[De.StandardInteractionClientGetClientConfiguration,"StdIntClientGetClientConf"],[De.StandardInteractionClientInitializeAuthorizationRequest,"StdIntClientInitAuthReq"],[De.GetAuthCodeUrl,"GetAuthCodeUrl"],[De.HandleCodeResponseFromServer,"HandleCodeResFromServer"],[De.HandleCodeResponse,"HandleCodeResp"],[De.HandleResponseEar,"HandleRespEar"],[De.HandleResponseCode,"HandleRespCode"],[De.HandleResponsePlatformBroker,"HandleRespPlatBroker"],[De.UpdateTokenEndpointAuthority,"UpdTEndpointAuth"],[De.AuthClientAcquireToken,"AuthClientAT"],[De.AuthClientExecuteTokenRequest,"AuthClientExecTReq"],[De.AuthClientCreateTokenRequestBody,"AuthClientCreateTReqBody"],[De.PopTokenGenerateCnf,"PopTGenCnf"],[De.PopTokenGenerateKid,"PopTGenKid"],[De.HandleServerTokenResponse,"HandleServerTRes"],[De.DeserializeResponse,"DeserializeRes"],[De.AuthorityFactoryCreateDiscoveredInstance,"AuthFactCreateDiscInst"],[De.AuthorityResolveEndpointsAsync,"AuthResolveEndpointsAsync"],[De.AuthorityResolveEndpointsFromLocalSources,"AuthResolveEndpointsFromLocal"],[De.AuthorityGetCloudDiscoveryMetadataFromNetwork,"AuthGetCDMetaFromNet"],[De.AuthorityUpdateCloudDiscoveryMetadata,"AuthUpdCDMeta"],[De.AuthorityGetEndpointMetadataFromNetwork,"AuthUpdCDMetaFromNet"],[De.AuthorityUpdateEndpointMetadata,"AuthUpdEndpointMeta"],[De.AuthorityUpdateMetadataWithRegionalInformation,"AuthUpdMetaWithRegInfo"],[De.RegionDiscoveryDetectRegion,"RegDiscDetectReg"],[De.RegionDiscoveryGetRegionFromIMDS,"RegDiscGetRegFromIMDS"],[De.RegionDiscoveryGetCurrentVersion,"RegDiscGetCurrentVer"],[De.AcquireTokenByCodeAsync,"ATByCodeAsync"],[De.GetEndpointMetadataFromNetwork,"GetEndpointMetaFromNet"],[De.GetCloudDiscoveryMetadataFromNetworkMeasurement,"GetCDMetaFromNet"],[De.HandleRedirectPromiseMeasurement,"HandleRedirectPromise"],[De.HandleNativeRedirectPromiseMeasurement,"HandleNtvRedirectPromise"],[De.UpdateCloudDiscoveryMetadataMeasurement,"UpdateCDMeta"],[De.UsernamePasswordClientAcquireToken,"UserPassClientAT"],[De.NativeMessageHandlerHandshake,"NtvMsgHandlerHandshake"],[De.NativeGenerateAuthResult,"NtvGenAuthRes"],[De.RemoveHiddenIframe,"RemoveHiddenIframe"],[De.ClearTokensAndKeysWithClaims,"ClearTAndKeysWithClaims"],[De.CacheManagerGetRefreshToken,"CacheManagerGetRT"],[De.GeneratePkceCodes,"GenPkceCodes"],[De.GenerateCodeVerifier,"GenCodeVerifier"],[De.GenerateCodeChallengeFromVerifier,"GenCodeChallengeFromVerifier"],[De.Sha256Digest,"Sha256Digest"],[De.GetRandomValues,"GetRandomValues"],[De.GenerateHKDF,"genHKDF"],[De.GenerateBaseKey,"genBaseKey"],[De.Base64Decode,"b64Decode"],[De.UrlEncodeArr,"urlEncArr"],[De.Encrypt,"encrypt"],[De.Decrypt,"decrypt"],[De.GenerateEarKey,"genEarKey"],[De.DecryptEarResponse,"decryptEarResp"]]),Lce={NotStarted:0,InProgress:1,Completed:2};var IR=class{static{o(this,"StubPerformanceMeasurement")}startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}},DC=class{static{o(this,"StubPerformanceClient")}generateId(){return"callback-id"}startMeasurement(e,r){return{end:o(()=>null,"end"),discard:o(()=>{},"discard"),add:o(()=>{},"add"),increment:o(()=>{},"increment"),event:{eventId:this.generateId(),status:Lce.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:r||""},measurement:new IR}}startPerformanceMeasurement(){return new IR}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}};var $De={tokenRenewalOffsetSeconds:px,preventCorsPreflight:!1},zDe={loggerCallback:o(()=>{},"loggerCallback"),piiLoggingEnabled:!1,logLevel:To.Info,correlationId:Pe.EMPTY_STRING},jDe={claimsBasedCachingEnabled:!1},KDe={async sendGetRequestAsync(){throw je(on)},async sendPostRequestAsync(){throw je(on)}},JDe={sku:Pe.SKU,version:yx,cpu:Pe.EMPTY_STRING,os:Pe.EMPTY_STRING},XDe={clientSecret:Pe.EMPTY_STRING,clientAssertion:void 0},ZDe={azureCloudInstance:gA.None,tenant:`${Pe.DEFAULT_COMMON_TENANT}`},eNe={application:{appName:"",appVersion:""}};function Oce({authOptions:t,systemOptions:e,loggerOptions:r,cacheOptions:n,storageInterface:i,networkInterface:s,cryptoInterface:a,clientCredentials:c,libraryInfo:l,telemetry:f,serverTelemetryManager:d,persistencePlugin:h,serializableCache:A}){let m={...zDe,...r};return{authOptions:tNe(t),systemOptions:{...$De,...e},loggerOptions:m,cacheOptions:{...jDe,...n},storageInterface:i||new l_(t.clientId,gx,new Vc(m),new DC),networkInterface:s||KDe,cryptoInterface:a||gx,clientCredentials:c||XDe,libraryInfo:{...JDe,...l},telemetry:{...eNe,...f},serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:A||null}}o(Oce,"buildClientConfiguration");function tNe(t){return{clientCapabilities:[],azureCloudOptions:ZDe,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}o(tNe,"buildAuthOptions");function xR(t){return t.authOptions.authority.options.protocolMode===ja.OIDC}o(xR,"isOidcProtocolMode");u();var g0={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};var vt={};Eo(vt,{addApplicationTelemetry:()=>d_,addAuthorizationCode:()=>zq,addBrokerParameters:()=>xA,addCcsOid:()=>EA,addCcsUpn:()=>pg,addClaims:()=>LC,addClientAssertion:()=>p_,addClientAssertionType:()=>m_,addClientCapabilitiesToClaims:()=>Uce,addClientId:()=>FC,addClientInfo:()=>UC,addClientSecret:()=>A_,addCodeChallengeParams:()=>mNe,addCodeVerifier:()=>Kq,addCorrelationId:()=>OC,addDeviceCode:()=>gNe,addDomainHint:()=>Wq,addEARParameters:()=>xNe,addExtraQueryParameters:()=>IA,addGrantType:()=>g_,addIdTokenHint:()=>Vq,addInstanceAware:()=>y_,addLibraryInfo:()=>f_,addLoginHint:()=>Tx,addLogoutHint:()=>Jq,addNativeBroker:()=>pNe,addNonce:()=>$q,addOboAssertion:()=>yNe,addPassword:()=>INe,addPopToken:()=>C_,addPostLogoutRedirectUri:()=>Gq,addPrompt:()=>Yq,addRedirectUri:()=>MC,addRefreshToken:()=>jq,addRequestTokenUse:()=>CNe,addResponseMode:()=>qq,addResponseType:()=>ANe,addScopes:()=>PC,addServerTelemetry:()=>I_,addSid:()=>wR,addSshJwk:()=>E_,addState:()=>h_,addThrottling:()=>x_,addUsername:()=>ENe,instrumentBrokerParams:()=>QC});u();var NC={};Eo(NC,{ACCESS_TOKEN:()=>iNe,BROKER_CLIENT_ID:()=>u_,BROKER_REDIRECT_URI:()=>SR,CCS_HEADER:()=>dNe,CLAIMS:()=>aq,CLIENT_ASSERTION:()=>kq,CLIENT_ASSERTION_TYPE:()=>Dq,CLIENT_ID:()=>Dd,CLIENT_INFO:()=>lNe,CLIENT_REQUEST_ID:()=>gq,CLIENT_SECRET:()=>Rq,CODE:()=>hq,CODE_CHALLENGE:()=>Aq,CODE_CHALLENGE_METHOD:()=>pq,CODE_VERIFIER:()=>mq,DEVICE_CODE:()=>Bq,DOMAIN_HINT:()=>Oq,EAR_JWE_CRYPTO:()=>Hq,EAR_JWK:()=>Uq,ERROR:()=>rNe,ERROR_DESCRIPTION:()=>nNe,EXPIRES_IN:()=>sNe,FOCI:()=>fNe,GRANT_TYPE:()=>sq,ID_TOKEN:()=>oNe,ID_TOKEN_HINT:()=>wq,INSTANCE_AWARE:()=>vx,LOGIN_HINT:()=>Lq,LOGOUT_HINT:()=>Fq,NATIVE_BROKER:()=>Pq,NONCE:()=>fq,OBO_ASSERTION:()=>Nq,ON_BEHALF_OF:()=>uNe,POST_LOGOUT_URI:()=>Sq,PROMPT:()=>dq,REDIRECT_URI:()=>bR,REFRESH_TOKEN:()=>lq,REFRESH_TOKEN_EXPIRES_IN:()=>aNe,REQUESTED_TOKEN_USE:()=>Qq,REQ_CNF:()=>TR,RESPONSE_MODE:()=>oq,RESPONSE_TYPE:()=>iq,RETURN_SPA_CODE:()=>_R,SCOPE:()=>cq,SESSION_STATE:()=>cNe,SID:()=>Mq,STATE:()=>uq,TOKEN_TYPE:()=>vR,X_APP_NAME:()=>Tq,X_APP_VER:()=>_q,X_CLIENT_CPU:()=>Iq,X_CLIENT_CURR_TELEM:()=>xq,X_CLIENT_EXTRA_SKU:()=>hNe,X_CLIENT_LAST_TELEM:()=>bq,X_CLIENT_OS:()=>Eq,X_CLIENT_SKU:()=>yq,X_CLIENT_VER:()=>Cq,X_MS_LIB_CAPABILITY:()=>vq});u();var Dd="client_id",bR="redirect_uri",iq="response_type",oq="response_mode",sq="grant_type",aq="claims",cq="scope",rNe="error",nNe="error_description",iNe="access_token",oNe="id_token",lq="refresh_token",sNe="expires_in",aNe="refresh_token_expires_in",uq="state",fq="nonce",dq="prompt",cNe="session_state",lNe="client_info",hq="code",Aq="code_challenge",pq="code_challenge_method",mq="code_verifier",gq="client-request-id",yq="x-client-SKU",Cq="x-client-VER",Eq="x-client-OS",Iq="x-client-CPU",xq="x-client-current-telemetry",bq="x-client-last-telemetry",vq="x-ms-lib-capability",Tq="x-app-name",_q="x-app-ver",Sq="post_logout_redirect_uri",wq="id_token_hint",Bq="device_code",Rq="client_secret",kq="client_assertion",Dq="client_assertion_type",vR="token_type",TR="req_cnf",Nq="assertion",Qq="requested_token_use",uNe="on_behalf_of",fNe="foci",dNe="X-AnchorMailbox",_R="return_spa_code",Pq="nativebroker",Fq="logout_hint",Mq="sid",Lq="login_hint",Oq="domain_hint",hNe="x-client-xtra-sku",u_="brk_client_id",SR="brk_redirect_uri",vx="instance_aware",Uq="ear_jwk",Hq="ear_jwe_crypto";function QC(t,e,r){if(!e)return;let n=t.get(Dd);n&&t.has(u_)&&r?.addFields({embeddedClientId:n,embeddedRedirectUri:t.get(bR)},e)}o(QC,"instrumentBrokerParams");function ANe(t,e){t.set(iq,e)}o(ANe,"addResponseType");function qq(t,e){t.set(oq,e||Sd.QUERY)}o(qq,"addResponseMode");function pNe(t){t.set(Pq,"1")}o(pNe,"addNativeBroker");function PC(t,e,r=!0,n=ec){r&&!n.includes("openid")&&!e.includes("openid")&&n.push("openid");let i=r?[...e||[],...n]:e||[],s=new Es(i);t.set(cq,s.printScopes())}o(PC,"addScopes");function FC(t,e){t.set(Dd,e)}o(FC,"addClientId");function MC(t,e){t.set(bR,e)}o(MC,"addRedirectUri");function Gq(t,e){t.set(Sq,e)}o(Gq,"addPostLogoutRedirectUri");function Vq(t,e){t.set(wq,e)}o(Vq,"addIdTokenHint");function Wq(t,e){t.set(Oq,e)}o(Wq,"addDomainHint");function Tx(t,e){t.set(Lq,e)}o(Tx,"addLoginHint");function pg(t,e){t.set(Fi.CCS_HEADER,`UPN:${e}`)}o(pg,"addCcsUpn");function EA(t,e){t.set(Fi.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}o(EA,"addCcsOid");function wR(t,e){t.set("sid",e)}o(wR,"addSid");function LC(t,e,r){let n=Uce(e,r);try{JSON.parse(n)}catch{throw _i(dg)}t.set(aq,n)}o(LC,"addClaims");function OC(t,e){t.set(gq,e)}o(OC,"addCorrelationId");function f_(t,e){t.set(yq,e.sku),t.set(Cq,e.version),e.os&&t.set(Eq,e.os),e.cpu&&t.set(Iq,e.cpu)}o(f_,"addLibraryInfo");function d_(t,e){e?.appName&&t.set(Tq,e.appName),e?.appVersion&&t.set(_q,e.appVersion)}o(d_,"addApplicationTelemetry");function Yq(t,e){t.set(dq,e)}o(Yq,"addPrompt");function h_(t,e){e&&t.set(uq,e)}o(h_,"addState");function $q(t,e){t.set(fq,e)}o($q,"addNonce");function mNe(t,e,r){if(e&&r)t.set(Aq,e),t.set(pq,r);else throw _i(BC)}o(mNe,"addCodeChallengeParams");function zq(t,e){t.set(hq,e)}o(zq,"addAuthorizationCode");function gNe(t,e){t.set(Bq,e)}o(gNe,"addDeviceCode");function jq(t,e){t.set(lq,e)}o(jq,"addRefreshToken");function Kq(t,e){t.set(mq,e)}o(Kq,"addCodeVerifier");function A_(t,e){t.set(Rq,e)}o(A_,"addClientSecret");function p_(t,e){e&&t.set(kq,e)}o(p_,"addClientAssertion");function m_(t,e){e&&t.set(Dq,e)}o(m_,"addClientAssertionType");function yNe(t,e){t.set(Nq,e)}o(yNe,"addOboAssertion");function CNe(t,e){t.set(Qq,e)}o(CNe,"addRequestTokenUse");function g_(t,e){t.set(sq,e)}o(g_,"addGrantType");function UC(t){t.set(Bce,"1")}o(UC,"addClientInfo");function y_(t){t.has(vx)||t.set(vx,"true")}o(y_,"addInstanceAware");function IA(t,e){Object.entries(e).forEach(([r,n])=>{!t.has(r)&&n&&t.set(r,n)})}o(IA,"addExtraQueryParameters");function Uce(t,e){let r;if(!t)r={};else try{r=JSON.parse(t)}catch{throw _i(dg)}return e&&e.length>0&&(r.hasOwnProperty(nC.ACCESS_TOKEN)||(r[nC.ACCESS_TOKEN]={}),r[nC.ACCESS_TOKEN][nC.XMS_CC]={values:e}),JSON.stringify(r)}o(Uce,"addClientCapabilitiesToClaims");function ENe(t,e){t.set(R4.username,e)}o(ENe,"addUsername");function INe(t,e){t.set(R4.password,e)}o(INe,"addPassword");function C_(t,e){e&&(t.set(vR,_n.POP),t.set(TR,e))}o(C_,"addPopToken");function E_(t,e){e&&(t.set(vR,_n.SSH),t.set(TR,e))}o(E_,"addSshJwk");function I_(t,e){t.set(xq,e.generateCurrentRequestHeaderValue()),t.set(bq,e.generateLastRequestHeaderValue())}o(I_,"addServerTelemetry");function x_(t){t.set(vq,wd.X_MS_LIB_CAPABILITY_VALUE)}o(x_,"addThrottling");function Jq(t,e){t.set(Fq,e)}o(Jq,"addLogoutHint");function xA(t,e,r){t.has(u_)||t.set(u_,e),t.has(SR)||t.set(SR,r)}o(xA,"addBrokerParameters");function xNe(t,e){t.set(Uq,encodeURIComponent(e)),t.set(Hq,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}o(xNe,"addEARParameters");var RR={};Eo(RR,{createDiscoveredInstance:()=>Zq});u();u();u();function Hce(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}o(Hce,"isOpenIdConfigResponse");u();function qce(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}o(qce,"isCloudInstanceDiscoveryResponse");u();function Gce(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}o(Gce,"isCloudInstanceDiscoveryErrorResponse");u();u();var Vce=o((t,e,r,n,i)=>(...s)=>{r.trace(`Executing function ${e}`);let a=n?.startMeasurement(e,i);if(i){let c=e+"CallCount";n?.incrementFields({[c]:1},i)}try{let c=t(...s);return a?.end({success:!0}),r.trace(`Returning result from ${e}`),c}catch(c){r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(c))}catch{r.trace("Unable to print error message.")}throw a?.end({success:!1},c),c}},"invoke"),Sn=o((t,e,r,n,i)=>(...s)=>{r.trace(`Executing function ${e}`);let a=n?.startMeasurement(e,i);if(i){let c=e+"CallCount";n?.incrementFields({[c]:1},i)}return n?.setPreQueueTime(e,i),t(...s).then(c=>(r.trace(`Returning result from ${e}`),a?.end({success:!0}),c)).catch(c=>{r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(c))}catch{r.trace("Unable to print error message.")}throw a?.end({success:!1},c),c})},"invokeAsync");var b_=class t{static{o(this,"RegionDiscovery")}constructor(e,r,n,i){this.networkInterface=e,this.logger=r,this.performanceClient=n,this.correlationId=i}async detectRegion(e,r){this.performanceClient?.addQueueMeasurement(De.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)r.region_source=oC.ENVIRONMENT_VARIABLE;else{let i=t.IMDS_OPTIONS;try{let s=await Sn(this.getRegionFromIMDS.bind(this),De.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(Pe.IMDS_VERSION,i);if(s.status===Nr.SUCCESS&&(n=s.body,r.region_source=oC.IMDS),s.status===Nr.BAD_REQUEST){let a=await Sn(this.getCurrentVersion.bind(this),De.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(i);if(!a)return r.region_source=oC.FAILED_AUTO_DETECTION,null;let c=await Sn(this.getRegionFromIMDS.bind(this),De.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,i);c.status===Nr.SUCCESS&&(n=c.body,r.region_source=oC.IMDS)}}catch{return r.region_source=oC.FAILED_AUTO_DETECTION,null}}return n||(r.region_source=oC.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,r){return this.performanceClient?.addQueueMeasurement(De.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${Pe.IMDS_ENDPOINT}?api-version=${e}&format=text`,r,Pe.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(De.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let r=await this.networkInterface.sendGetRequestAsync(`${Pe.IMDS_ENDPOINT}?format=json`,e);return r.status===Nr.BAD_REQUEST&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}};b_.IMDS_OPTIONS={headers:{Metadata:"true"}};var of=class t{static{o(this,"Authority")}constructor(e,r,n,i,s,a,c,l){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=r,this.cacheManager=n,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=s,this.performanceClient=c,this.correlationId=a,this.managedIdentity=l||!1,this.regionDiscovery=new b_(r,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(Pe.CIAM_AUTH_URL))return ql.Ciam;let r=e.PathSegments;if(r.length)switch(r[0].toLowerCase()){case Pe.ADFS:return ql.Adfs;case Pe.DSTS:return ql.Dsts}return ql.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new sn(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw je(m0)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw je(m0)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw je(m0)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw je(IC);return this.replacePath(this.metadata.end_session_endpoint)}else throw je(m0)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw je(m0)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw je(m0)}canReplaceTenant(e){return e.PathSegments.length===1&&!t.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===ql.Default&&this.protocolMode!==ja.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let r=e,i=new sn(this.metadata.canonical_authority).getUrlComponents(),s=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((c,l)=>{let f=s[l];if(l===0&&this.canReplaceTenant(i)){let d=new sn(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];f!==d&&(this.logger.verbose(`Replacing tenant domain name ${f} with id ${d}`),f=d)}c!==f&&(r=r.replace(`/${f}/`,`/${c}/`))}),this.replaceTenant(r)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===ql.Adfs||this.protocolMode===ja.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(De.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),r=await Sn(this.updateCloudDiscoveryMetadata.bind(this),De.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let n=await Sn(this.updateEndpointMetadata.bind(this),De.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,r,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:r,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:mR(),jwks_uri:""}),e}updateCachedMetadata(e,r,n){r!==p0.CACHE&&n?.source!==p0.CACHE&&(e.expiresAt=mR(),e.canonical_authority=this.canonicalAuthority);let i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(De.AuthorityUpdateEndpointMetadata,this.correlationId);let r=this.updateEndpointMetadataFromLocalSources(e);if(r){if(r.source===p0.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&r.metadata){let i=await Sn(this.updateMetadataWithRegionalInformation.bind(this),De.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r.metadata);Ex(e,i,!1),e.canonical_authority=this.canonicalAuthority}return r.source}let n=await Sn(this.getEndpointMetadataFromNetwork.bind(this),De.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await Sn(this.updateMetadataWithRegionalInformation.bind(this),De.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),Ex(e,n,!0),p0.NETWORK;throw je(lC,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let r=this.getEndpointMetadataFromConfig();if(r)return this.logger.verbose("Found endpoint metadata in authority configuration"),Ex(e,r,!1),{source:p0.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let i=this.getEndpointMetadataFromHardcodedValues();if(i)return Ex(e,i,!1),{source:p0.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let n=gR(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:p0.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new sn(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw _i(RC)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(De.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e={},r=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${r}`);try{let n=await this.networkInterface.sendGetRequestAsync(r,e);return Hce(n.body)?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in ZH?ZH[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(De.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let r=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(r){if(r!==Pe.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=fR.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=r,t.replaceWithRegionalInformation(e,r);let n=await Sn(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),De.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=fR.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,t.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=fR.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(De.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let r=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(r)return r;let n=await Sn(this.getCloudDiscoveryMetadataFromNetwork.bind(this),De.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return J4(e,n,!0),p0.NETWORK;throw _i(kC)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||Pe.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||Pe.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||Pe.NOT_APPLICABLE}`);let r=this.getCloudDiscoveryMetadataFromConfig();if(r)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),J4(e,r,!1),p0.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{let i=Fce(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),J4(e,i,!1),p0.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let n=gR(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),p0.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===ql.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=a_(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),r)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),r;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),_i(hg)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(De.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${Pe.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,r={},n=null;try{let i=await this.networkInterface.sendGetRequestAsync(e,r),s,a;if(qce(i.body))s=i.body,a=s.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${s.tenant_discovery_endpoint}`);else if(Gce(i.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${i.status}`),s=i.body,s.error===Pe.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${s.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${s.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=a_(a,this.hostnameAndPort)}catch(i){if(i instanceof Qr)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${i.errorCode}
Error Description: ${i.errorMessage}`);else{let s=i;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${s.name}
Error Description: ${s.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(r=>r&&sn.getDomainFromUrl(r).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,r){let n;if(r&&r.azureCloudInstance!==gA.None){let i=r.tenant?r.tenant:Pe.DEFAULT_COMMON_TENANT;n=`${r.azureCloudInstance}/${i}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return Pe.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw je(m0)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return tq.has(e)}static isPublicCloudAuthority(e){return Pe.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,r,n){let i=new sn(e);i.validateAsUri();let s=i.getUrlComponents(),a=`${r}.${s.HostNameAndPort}`;this.isPublicCloudAuthority(s.HostNameAndPort)&&(a=`${r}.${Pe.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let c=sn.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:a}).urlString;return n?`${c}?${n}`:c}static replaceWithRegionalInformation(e,r){let n={...e};return n.authorization_endpoint=t.buildRegionalAuthorityString(n.authorization_endpoint,r),n.token_endpoint=t.buildRegionalAuthorityString(n.token_endpoint,r),n.end_session_endpoint&&(n.end_session_endpoint=t.buildRegionalAuthorityString(n.end_session_endpoint,r)),n}static transformCIAMAuthority(e){let r=e,i=new sn(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(Pe.CIAM_AUTH_URL)){let s=i.HostNameAndPort.split(".")[0];r=`${r}${s}${Pe.AAD_TENANT_DOMAIN_SUFFIX}`}return r}};of.reservedTenantDomains=new Set(["{tenant}","{tenantid}",tc.COMMON,tc.CONSUMERS,tc.ORGANIZATIONS]);function Wce(t){let n=new sn(t).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case tc.COMMON:case tc.ORGANIZATIONS:case tc.CONSUMERS:return;default:return n}}o(Wce,"getTenantFromAuthorityString");function BR(t){return t.endsWith(Pe.FORWARD_SLASH)?t:`${t}${Pe.FORWARD_SLASH}`}o(BR,"formatAuthorityUri");function Xq(t){let e=t.cloudDiscoveryMetadata,r;if(e)try{r=JSON.parse(e)}catch{throw _i(hg)}return{canonicalAuthority:t.authority?BR(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:r}}o(Xq,"buildStaticAuthorityOptions");async function Zq(t,e,r,n,i,s,a){a?.addQueueMeasurement(De.AuthorityFactoryCreateDiscoveredInstance,s);let c=of.transformCIAMAuthority(BR(t)),l=new of(c,e,r,n,i,s,a);try{return await Sn(l.resolveEndpointsAsync.bind(l),De.AuthorityResolveEndpointsAsync,i,a,s)(),l}catch{throw je(m0)}}o(Zq,"createDiscoveredInstance");u();u();var y0=class t extends Qr{static{o(this,"ServerError")}constructor(e,r,n,i,s){super(e,r,n),this.name="ServerError",this.errorNo=i,this.status=s,Object.setPrototypeOf(this,t.prototype)}};u();function _x(t,e,r){return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:r,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||e.tokenBodyParameters?.clientId}}o(_x,"getRequestThumbprint");var v_=class t{static{o(this,"ThrottlingUtils")}static generateThrottlingStorageKey(e){return`${wd.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,r,n){let i=t.generateThrottlingStorageKey(r),s=e.getThrottlingCache(i);if(s){if(s.throttleTime<Date.now()){e.removeItem(i,n);return}throw new y0(s.errorCodes?.join(" ")||Pe.EMPTY_STRING,s.errorMessage,s.subError)}}static postProcess(e,r,n,i){if(t.checkResponseStatus(n)||t.checkResponseForRetryAfter(n)){let s={throttleTime:t.calculateThrottleTime(parseInt(n.headers[Fi.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(t.generateThrottlingStorageKey(r),s,i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Fi.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){let r=e<=0?0:e,n=Date.now()/1e3;return Math.floor(Math.min(n+(r||wd.DEFAULT_THROTTLE_TIME_SECONDS),n+wd.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,r,n,i){let s=_x(r,n,i),a=this.generateThrottlingStorageKey(s);e.removeItem(a,n.correlationId)}};u();var kR=class t extends Qr{static{o(this,"NetworkError")}constructor(e,r,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,t.prototype),this.name="NetworkError",this.error=e,this.httpStatus=r,this.responseHeaders=n}};var Ta=class{static{o(this,"BaseClient")}constructor(e,r){this.config=Oce(e),this.logger=new Vc(this.config.loggerOptions,hR,yx),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r}createTokenRequestHeaders(e){let r={};if(r[Fi.CONTENT_TYPE]=Pe.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case g0.HOME_ACCOUNT_ID:try{let n=Rd(e.credential);r[Fi.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case g0.UPN:r[Fi.CCS_HEADER]=`UPN: ${e.credential}`;break}return r}async executePostToTokenEndpoint(e,r,n,i,s,a){a&&this.performanceClient?.addQueueMeasurement(a,s);let c=await this.sendPostRequest(i,e,{body:r,headers:n},s);return this.config.serverTelemetryManager&&c.status<500&&c.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),c}async sendPostRequest(e,r,n,i){v_.preProcess(this.cacheManager,e,i);let s;try{s=await Sn(this.networkClient.sendPostRequestAsync.bind(this.networkClient),De.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(r,n);let a=s.headers||{};this.performanceClient?.addFields({refreshTokenSize:s.body.refresh_token?.length||0,httpVerToken:a[Fi.X_MS_HTTP_VERSION]||"",requestId:a[Fi.X_MS_REQUEST_ID]||""},i)}catch(a){if(a instanceof kR){let c=a.responseHeaders;throw c&&this.performanceClient?.addFields({httpVerToken:c[Fi.X_MS_HTTP_VERSION]||"",requestId:c[Fi.X_MS_REQUEST_ID]||"",contentTypeHeader:c[Fi.CONTENT_TYPE]||void 0,contentLengthHeader:c[Fi.CONTENT_LENGTH]||void 0,httpStatus:a.httpStatus},i),a.error}throw a instanceof Qr?a:je(cC)}return v_.postProcess(this.cacheManager,e,s,i),s}async updateAuthority(e,r){this.performanceClient?.addQueueMeasurement(De.UpdateTokenEndpointAuthority,r);let n=`https://${e}/${this.authority.tenant}/`,i=await Zq(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,r,this.performanceClient);this.authority=i}createTokenQueryParameters(e){let r=new Map;return e.embeddedClientId&&xA(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&IA(r,e.tokenQueryParameters),OC(r,e.correlationId),QC(r,e.correlationId,this.performanceClient),kd(r)}};u();u();var NR={};Eo(NR,{badToken:()=>gg,consentRequired:()=>tG,interactionRequired:()=>eG,loginRequired:()=>rG,nativeAccountUnavailable:()=>T_,noTokensFound:()=>mg,refreshTokenExpired:()=>__,uxNotAllowed:()=>DR});u();var mg="no_tokens_found",T_="native_account_unavailable",__="refresh_token_expired",DR="ux_not_allowed",eG="interaction_required",tG="consent_required",rG="login_required",gg="bad_token";var Yce=[eG,tG,rG,gg,DR],bNe=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],QR={[mg]:"No refresh token found in the cache. Please sign-in.",[T_]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[__]:"Refresh token has expired.",[gg]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[DR]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."},nG={noTokensFoundError:{code:mg,desc:QR[mg]},native_account_unavailable:{code:T_,desc:QR[T_]},bad_token:{code:gg,desc:QR[gg]}},Yc=class t extends Qr{static{o(this,"InteractionRequiredAuthError")}constructor(e,r,n,i,s,a,c,l){super(e,r,n),Object.setPrototypeOf(this,t.prototype),this.timestamp=i||Pe.EMPTY_STRING,this.traceId=s||Pe.EMPTY_STRING,this.correlationId=a||Pe.EMPTY_STRING,this.claims=c||Pe.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=l}};function PR(t,e,r){let n=!!t&&Yce.indexOf(t)>-1,i=!!r&&bNe.indexOf(r)>-1,s=!!e&&Yce.some(a=>e.indexOf(a)>-1);return n||s||i}o(PR,"isInteractionRequiredError");function FR(t){return new Yc(t,QR[t])}o(FR,"createInteractionRequiredAuthError");u();var MR=class t{static{o(this,"ProtocolUtils")}static setRequestState(e,r,n){let i=t.generateLibraryState(e,n);return r?`${i}${Pe.RESOURCE_DELIM}${r}`:i}static generateLibraryState(e,r){if(!e)throw je(ug);let n={id:e.createNewGuid()};r&&(n.meta=r);let i=JSON.stringify(n);return e.base64Encode(i)}static parseRequestState(e,r){if(!e)throw je(ug);if(!r)throw je(nf);try{let n=r.split(Pe.RESOURCE_DELIM),i=n[0],s=n.length>1?n.slice(1).join(Pe.RESOURCE_DELIM):Pe.EMPTY_STRING,a=e.base64Decode(i),c=JSON.parse(a);return{userRequestState:s||Pe.EMPTY_STRING,libraryState:c}}catch{throw je(nf)}}};u();var vNe={SW:"sw"},yg=class{static{o(this,"PopTokenGenerator")}constructor(e,r){this.cryptoUtils=e,this.performanceClient=r}async generateCnf(e,r){this.performanceClient?.addQueueMeasurement(De.PopTokenGenerateCnf,e.correlationId);let n=await Sn(this.generateKid.bind(this),De.PopTokenGenerateCnf,r,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:i}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(De.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:vNe.SW}}async signPopToken(e,r,n){return this.signPayload(e,r,n)}async signPayload(e,r,n,i){let{resourceRequestMethod:s,resourceRequestUri:a,shrClaims:c,shrNonce:l,shrOptions:f}=n,h=(a?new sn(a):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Wc(),m:s?.toUpperCase(),u:h?.HostNameAndPort,nonce:l||this.cryptoUtils.createNewGuid(),p:h?.AbsolutePath,q:h?.QueryString?[[],h.QueryString]:void 0,client_claims:c||void 0,...i},r,f,n.correlationId)}};u();var $c=class{static{o(this,"TokenCacheContext")}constructor(e,r){this.cache=e,this.hasChanged=r}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}};var ns=class t{static{o(this,"ResponseHandler")}constructor(e,r,n,i,s,a,c){this.clientId=e,this.cacheStorage=r,this.cryptoObj=n,this.logger=i,this.serializableCache=s,this.persistencePlugin=a,this.performanceClient=c}validateTokenResponse(e,r){if(e.error||e.error_description||e.suberror){let n=`Error(s): ${e.error_codes||Pe.NOT_AVAILABLE} - Timestamp: ${e.timestamp||Pe.NOT_AVAILABLE} - Description: ${e.error_description||Pe.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||Pe.NOT_AVAILABLE} - Trace ID: ${e.trace_id||Pe.NOT_AVAILABLE}`,i=e.error_codes?.length?e.error_codes[0]:void 0,s=new y0(e.error,n,e.suberror,i,e.status);if(r&&e.status&&e.status>=Nr.SERVER_ERROR_RANGE_START&&e.status<=Nr.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${s}`);return}else if(r&&e.status&&e.status>=Nr.CLIENT_ERROR_RANGE_START&&e.status<=Nr.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${s}`);return}throw PR(e.error,e.error_description,e.suberror)?new Yc(e.error,e.error_description,e.suberror,e.timestamp||Pe.EMPTY_STRING,e.trace_id||Pe.EMPTY_STRING,e.correlation_id||Pe.EMPTY_STRING,e.claims||Pe.EMPTY_STRING,i):s}}async handleServerTokenResponse(e,r,n,i,s,a,c,l,f){this.performanceClient?.addQueueMeasurement(De.HandleServerTokenResponse,e.correlation_id);let d;if(e.id_token){if(d=yA(e.id_token||Pe.EMPTY_STRING,this.cryptoObj.base64Decode),s&&s.nonce&&d.nonce!==s.nonce)throw je(dC);if(i.maxAge||i.maxAge===0){let y=d.auth_time;if(!y)throw je(hA);z4(y,i.maxAge)}}this.homeAccountIdentifier=ba.generateHomeAccountId(e.client_info||Pe.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,d);let h;s&&s.state&&(h=MR.parseRequestState(this.cryptoObj,s.state)),e.key_id=e.key_id||i.sshKid||void 0;let A=this.generateCacheRecord(e,r,n,i,d,a,s),m;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),m=new $c(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(m)),c&&!l&&A.account){let y=A.account.generateAccountKey();if(!this.cacheStorage.getAccount(y,i.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await t.generateAuthenticationResult(this.cryptoObj,r,A,!1,i,d,h,void 0,f)}await this.cacheStorage.saveCacheRecord(A,i.correlationId,i.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&m&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(m))}return t.generateAuthenticationResult(this.cryptoObj,r,A,!1,i,d,h,e,f)}generateCacheRecord(e,r,n,i,s,a,c){let l=r.getPreferredCache();if(!l)throw je(pA);let f=CR(s),d,h;e.id_token&&s&&(d=zH(this.homeAccountIdentifier,l,e.id_token,this.clientId,f||""),h=$ce(this.cacheStorage,r,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i.correlationId,s,e.client_info,l,f,c,void 0,this.logger));let A=null;if(e.access_token){let x=e.scope?Es.fromString(e.scope):new Es(i.scopes||[]),_=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,T=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,S=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,k=n+_,N=k+T,P=S&&S>0?n+S:void 0;A=jH(this.homeAccountIdentifier,l,e.access_token,this.clientId,f||r.tenant||"",x.printScopes(),k,N,this.cryptoObj.base64Decode,P,e.token_type,a,e.key_id,i.claims,i.requestedClaimsHash)}let m=null;if(e.refresh_token){let x;if(e.refresh_token_expires_in){let _=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;x=n+_}m=KH(this.homeAccountIdentifier,l,e.refresh_token,this.clientId,e.foci,a,x)}let y=null;return e.foci&&(y={clientId:this.clientId,environment:l,familyId:e.foci}),{account:h,idToken:d,accessToken:A,refreshToken:m,appMetadata:y}}static async generateAuthenticationResult(e,r,n,i,s,a,c,l,f){let d=Pe.EMPTY_STRING,h=[],A=null,m,y,x=Pe.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===_n.POP&&!s.popKid){let k=new yg(e),{secret:N,keyId:P}=n.accessToken;if(!P)throw je(xC);d=await k.signPopToken(N,P,s)}else d=n.accessToken.secret;h=Es.fromString(n.accessToken.target).asArray(),A=j4(n.accessToken.expiresOn),m=j4(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(y=j4(n.accessToken.refreshOn))}n.appMetadata&&(x=n.appMetadata.familyId===dA?dA:"");let _=a?.oid||a?.sub||"",T=a?.tid||"";l?.spa_accountid&&n.account&&(n.account.nativeAccountId=l?.spa_accountid);let S=n.account?yR(n.account.getAccountInfo(),void 0,a,n.idToken?.secret):null;return{authority:r.canonicalAuthority,uniqueId:_,tenantId:T,scopes:h,account:S,idToken:n?.idToken?.secret||"",idTokenClaims:a||{},accessToken:d,fromCache:i,expiresOn:A,extExpiresOn:m,refreshOn:y,correlationId:s.correlationId,requestId:f||Pe.EMPTY_STRING,familyId:x,tokenType:n.accessToken?.tokenType||Pe.EMPTY_STRING,state:c?c.userRequestState:Pe.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||Pe.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||Pe.EMPTY_STRING,code:l?.spa_code,fromNativeBroker:!1}}};function $ce(t,e,r,n,i,s,a,c,l,f,d,h){h?.verbose("setCachedAccount called");let m=t.getAccountKeys().find(S=>S.startsWith(r)),y=null;m&&(y=t.getAccount(m,i));let x=y||ba.createAccount({homeAccountId:r,idTokenClaims:s,clientInfo:a,environment:c,cloudGraphHostName:f?.cloud_graph_host_name,msGraphHost:f?.msgraph_host,nativeAccountId:d},e,n),_=x.tenantProfiles||[],T=l||x.realm;if(T&&!_.find(S=>S.tenantId===T)){let S=s_(r,x.localAccountId,T,s);_.push(S)}return x.tenantProfiles=_,x}o($ce,"buildAccountToCache");u();async function C0(t,e,r){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:r})}o(C0,"getClientAssertion");var S_=class extends Ta{static{o(this,"AuthorizationCodeClient")}constructor(e,r){super(e,r),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,r){if(this.performanceClient?.addQueueMeasurement(De.AuthClientAcquireToken,e.correlationId),!e.code)throw je(pC);let n=Wc(),i=await Sn(this.executeTokenRequest.bind(this),De.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),s=i.headers?.[Fi.X_MS_REQUEST_ID],a=new ns(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return a.validateTokenResponse(i.body),Sn(a.handleServerTokenResponse.bind(a),De.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,n,e,r,void 0,void 0,void 0,s)}getLogoutUri(e){if(!e)throw _i(wC);let r=this.createLogoutUrlQueryString(e);return sn.appendQueryString(this.authority.endSessionEndpoint,r)}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(De.AuthClientExecuteTokenRequest,r.correlationId);let n=this.createTokenQueryParameters(r),i=sn.appendQueryString(e.tokenEndpoint,n),s=await Sn(this.createTokenRequestBody.bind(this),De.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,r.correlationId)(r),a;if(r.clientInfo)try{let f=bx(r.clientInfo,this.cryptoUtils.base64Decode);a={credential:`${f.uid}${Mo.CLIENT_INFO_SEPARATOR}${f.utid}`,type:g0.HOME_ACCOUNT_ID}}catch(f){this.logger.verbose("Could not parse client info for CCS Header: "+f)}let c=this.createTokenRequestHeaders(a||r.ccsCredential),l=_x(this.config.authOptions.clientId,r);return Sn(this.executePostToTokenEndpoint.bind(this),De.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,r.correlationId)(i,s,c,l,r.correlationId,De.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(De.AuthClientCreateTokenRequestBody,e.correlationId);let r=new Map;if(FC(r,e.embeddedClientId||e.tokenBodyParameters?.[Dd]||this.config.authOptions.clientId),this.includeRedirectUri)MC(r,e.redirectUri);else if(!e.redirectUri)throw _i(bC);if(PC(r,e.scopes,!0,this.oidcDefaultScopes),zq(r,e.code),f_(r,this.config.libraryInfo),d_(r,this.config.telemetry.application),x_(r),this.serverTelemetryManager&&!xR(this.config)&&I_(r,this.serverTelemetryManager),e.codeVerifier&&Kq(r,e.codeVerifier),this.config.clientCredentials.clientSecret&&A_(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let i=this.config.clientCredentials.clientAssertion;p_(r,await C0(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),m_(r,i.assertionType)}if(g_(r,rc.AUTHORIZATION_CODE_GRANT),UC(r),e.authenticationScheme===_n.POP){let i=new yg(this.cryptoUtils,this.performanceClient),s;e.popKid?s=this.cryptoUtils.encodeKid(e.popKid):s=(await Sn(i.generateCnf.bind(i),De.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,C_(r,s)}else if(e.authenticationScheme===_n.SSH)if(e.sshJwk)E_(r,e.sshJwk);else throw _i(CA);(!uo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&LC(r,e.claims,this.config.authOptions.clientCapabilities);let n;if(e.clientInfo)try{let i=bx(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${i.uid}${Mo.CLIENT_INFO_SEPARATOR}${i.utid}`,type:g0.HOME_ACCOUNT_ID}}catch(i){this.logger.verbose("Could not parse client info for CCS Header: "+i)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case g0.HOME_ACCOUNT_ID:try{let i=Rd(n.credential);EA(r,i)}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case g0.UPN:pg(r,n.credential);break}return e.embeddedClientId&&xA(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&IA(r,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[_R])&&IA(r,{[_R]:"1"}),QC(r,e.correlationId,this.performanceClient),kd(r)}createLogoutUrlQueryString(e){let r=new Map;return e.postLogoutRedirectUri&&Gq(r,e.postLogoutRedirectUri),e.correlationId&&OC(r,e.correlationId),e.idTokenHint&&Vq(r,e.idTokenHint),e.state&&h_(r,e.state),e.logoutHint&&Jq(r,e.logoutHint),e.extraQueryParameters&&IA(r,e.extraQueryParameters),this.config.authOptions.instanceAware&&y_(r),kd(r,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}};u();var TNe=300,HC=class extends Ta{static{o(this,"RefreshTokenClient")}constructor(e,r){super(e,r)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(De.RefreshTokenClientAcquireToken,e.correlationId);let r=Wc(),n=await Sn(this.executeTokenRequest.bind(this),De.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=n.headers?.[Fi.X_MS_REQUEST_ID],s=new ns(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return s.validateTokenResponse(n.body),Sn(s.handleServerTokenResponse.bind(s),De.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,r,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){if(!e)throw _i(SC);if(this.performanceClient?.addQueueMeasurement(De.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw je(AA);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Sn(this.acquireTokenWithCachedRefreshToken.bind(this),De.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(n){let i=n instanceof Yc&&n.errorCode===mg,s=n instanceof y0&&n.errorCode===B4.INVALID_GRANT_ERROR&&n.subError===B4.CLIENT_MISMATCH_ERROR;if(i||s)return Sn(this.acquireTokenWithCachedRefreshToken.bind(this),De.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw n}return Sn(this.acquireTokenWithCachedRefreshToken.bind(this),De.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,r){this.performanceClient?.addQueueMeasurement(De.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let n=Vce(this.cacheManager.getRefreshToken.bind(this.cacheManager),De.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,r,e.correlationId,void 0,this.performanceClient);if(!n)throw FR(mg);if(n.expiresOn&&Cx(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||TNe))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),FR(__);let i={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||_n.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:g0.HOME_ACCOUNT_ID}};try{return await Sn(this.acquireToken.bind(this),De.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(s){if(s instanceof Yc&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),s.subError===gg)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let a=K4(n);this.cacheManager.removeRefreshToken(a,e.correlationId)}throw s}}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(De.RefreshTokenClientExecuteTokenRequest,e.correlationId);let n=this.createTokenQueryParameters(e),i=sn.appendQueryString(r.tokenEndpoint,n),s=await Sn(this.createTokenRequestBody.bind(this),De.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),c=_x(this.config.authOptions.clientId,e);return Sn(this.executePostToTokenEndpoint.bind(this),De.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,s,a,c,e.correlationId,De.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(De.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let r=new Map;if(FC(r,e.embeddedClientId||e.tokenBodyParameters?.[Dd]||this.config.authOptions.clientId),e.redirectUri&&MC(r,e.redirectUri),PC(r,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),g_(r,rc.REFRESH_TOKEN_GRANT),UC(r),f_(r,this.config.libraryInfo),d_(r,this.config.telemetry.application),x_(r),this.serverTelemetryManager&&!xR(this.config)&&I_(r,this.serverTelemetryManager),jq(r,e.refreshToken),this.config.clientCredentials.clientSecret&&A_(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let n=this.config.clientCredentials.clientAssertion;p_(r,await C0(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),m_(r,n.assertionType)}if(e.authenticationScheme===_n.POP){let n=new yg(this.cryptoUtils,this.performanceClient),i;e.popKid?i=this.cryptoUtils.encodeKid(e.popKid):i=(await Sn(n.generateCnf.bind(n),De.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,C_(r,i)}else if(e.authenticationScheme===_n.SSH)if(e.sshJwk)E_(r,e.sshJwk);else throw _i(CA);if((!uo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&LC(r,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case g0.HOME_ACCOUNT_ID:try{let n=Rd(e.ccsCredential.credential);EA(r,n)}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case g0.UPN:pg(r,e.ccsCredential.credential);break}return e.embeddedClientId&&xA(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&IA(r,e.tokenBodyParameters),QC(r,e.correlationId,this.performanceClient),kd(r)}};u();var w_=class extends Ta{static{o(this,"SilentFlowClient")}constructor(e,r){super(e,r)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(De.SilentFlowClientAcquireCachedToken,e.correlationId);let r=ki.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!uo.isEmptyObj(e.claims))throw this.setCacheOutcome(ki.FORCE_REFRESH_OR_CLAIMS,e.correlationId),je(mA);if(!e.account)throw je(AA);let n=e.account.tenantId||Wce(e.authority),i=this.cacheManager.getTokenKeys(),s=this.cacheManager.getAccessToken(e.account,e,i,n);if(s){if($H(s.cachedAt)||Cx(s.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(ki.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),je(mA);s.refreshOn&&Cx(s.refreshOn,0)&&(r=ki.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(ki.NO_CACHED_ACCESS_TOKEN,e.correlationId),je(mA);let a=e.authority||this.authority.getPreferredCache(),c={account:this.cacheManager.readAccountFromCache(e.account,e.correlationId),accessToken:s,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,i,n,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(r,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Sn(this.generateResultFromCacheRecord.bind(this),De.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(c,e),r]}setCacheOutcome(e,r){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},r),e!==ki.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,r){this.performanceClient?.addQueueMeasurement(De.SilentFlowClientGenerateResultFromCacheRecord,r.correlationId);let n;if(e.idToken&&(n=yA(e.idToken.secret,this.config.cryptoInterface.base64Decode)),r.maxAge||r.maxAge===0){let i=n?.auth_time;if(!i)throw je(hA);z4(i,r.maxAge)}return ns.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,r,n)}};var B_={};Eo(B_,{getAuthorizationCodePayload:()=>wNe,getAuthorizeUrl:()=>SNe,getStandardAuthorizeRequestParameters:()=>_Ne,validateAuthorizationResponse:()=>zce});u();function _Ne(t,e,r,n){let i=e.correlationId,s=new Map;FC(s,e.embeddedClientId||e.extraQueryParameters?.[Dd]||t.clientId);let a=[...e.scopes||[],...e.extraScopesToConsent||[]];if(PC(s,a,!0,t.authority.options.OIDCOptions?.defaultScopes),MC(s,e.redirectUri),OC(s,i),qq(s,e.responseMode),UC(s),e.prompt&&(Yq(s,e.prompt),n?.addFields({prompt:e.prompt},i)),e.domainHint&&(Wq(s,e.domainHint),n?.addFields({domainHintFromRequest:!0},i)),e.prompt!==og.SELECT_ACCOUNT)if(e.sid&&e.prompt===og.NONE)r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),wR(s,e.sid),n?.addFields({sidFromRequest:!0},i);else if(e.account){let c=RNe(e.account),l=kNe(e.account);if(l&&e.domainHint&&(r.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),l=null),l){r.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),Tx(s,l),n?.addFields({loginHintFromClaim:!0},i);try{let f=Rd(e.account.homeAccountId);EA(s,f)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(c&&e.prompt===og.NONE){r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),wR(s,c),n?.addFields({sidFromClaim:!0},i);try{let f=Rd(e.account.homeAccountId);EA(s,f)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)r.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),Tx(s,e.loginHint),pg(s,e.loginHint),n?.addFields({loginHintFromRequest:!0},i);else if(e.account.username){r.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),Tx(s,e.account.username),n?.addFields({loginHintFromUpn:!0},i);try{let f=Rd(e.account.homeAccountId);EA(s,f)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(r.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),Tx(s,e.loginHint),pg(s,e.loginHint),n?.addFields({loginHintFromRequest:!0},i));else r.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&$q(s,e.nonce),e.state&&h_(s,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&LC(s,e.claims,t.clientCapabilities),e.embeddedClientId&&xA(s,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(vx))&&y_(s),s}o(_Ne,"getStandardAuthorizeRequestParameters");function SNe(t,e,r,n){let i=kd(e,r,n);return sn.appendQueryString(t.authorizationEndpoint,i)}o(SNe,"getAuthorizeUrl");function wNe(t,e){if(zce(t,e),!t.code)throw je(EC);return t}o(wNe,"getAuthorizationCodePayload");function zce(t,e){if(!t.state||!e)throw t.state?je(cg,"Cached State"):je(cg,"Server State");let r,n;try{r=decodeURIComponent(t.state)}catch{throw je(nf,t.state)}try{n=decodeURIComponent(e)}catch{throw je(nf,t.state)}if(r!==n)throw je(fC);if(t.error||t.error_description||t.suberror){let i=BNe(t);throw PR(t.error,t.error_description,t.suberror)?new Yc(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",i):new y0(t.error||"",t.error_description,t.suberror,i)}}o(zce,"validateAuthorizationResponse");function BNe(t){let e="code=",r=t.error_uri?.lastIndexOf(e);return r&&r>=0?t.error_uri?.substring(r+e.length):void 0}o(BNe,"parseServerErrorNo");function RNe(t){return t.idTokenClaims?.sid||null}o(RNe,"extractAccountSid");function kNe(t){return t.idTokenClaims?.login_hint||null}o(kNe,"extractLoginHint");u();var jce=",",Kce="|";function DNe(t){let{skus:e,libraryName:r,libraryVersion:n,extensionName:i,extensionVersion:s}=t,a=new Map([[0,[r,n]],[2,[i,s]]]),c=[];if(e?.length){if(c=e.split(jce),c.length<4)return e}else c=Array.from({length:4},()=>Kce);return a.forEach((l,f)=>{l.length===2&&l[0]?.length&&l[1]?.length&&NNe({skuArr:c,index:f,skuName:l[0],skuVersion:l[1]})}),c.join(jce)}o(DNe,"makeExtraSkuString");function NNe(t){let{skuArr:e,index:r,skuName:n,skuVersion:i}=t;r>=e.length||(e[r]=[n,i].join(Kce))}o(NNe,"setSku");var qC=class t{static{o(this,"ServerTelemetryManager")}constructor(e,r){this.cacheOutcome=ki.NOT_APPLICABLE,this.cacheManager=r,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||Pe.EMPTY_STRING,this.wrapperVer=e.wrapperVer||Pe.EMPTY_STRING,this.telemetryCacheKey=Ds.CACHE_KEY+Mo.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${Ds.VALUE_SEPARATOR}${this.cacheOutcome}`,r=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&r.push(`broker_error=${n}`);let i=r.join(Ds.VALUE_SEPARATOR),s=this.getRegionDiscoveryFields(),a=[e,s].join(Ds.VALUE_SEPARATOR);return[Ds.SCHEMA_VERSION,a,i].join(Ds.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*r).join(Ds.VALUE_SEPARATOR),i=e.errors.slice(0,r).join(Ds.VALUE_SEPARATOR),s=e.errors.length,a=r<s?Ds.OVERFLOW_TRUE:Ds.OVERFLOW_FALSE,c=[s,a].join(Ds.VALUE_SEPARATOR);return[Ds.SCHEMA_VERSION,e.cacheHits,n,i,c].join(Ds.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let r=this.getLastRequests();r.errors.length>=Ds.MAX_CACHED_ERRORS&&(r.failedRequests.shift(),r.failedRequests.shift(),r.errors.shift()),r.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Qr?e.subError?r.errors.push(e.subError):e.errorCode?r.errors.push(e.errorCode):r.errors.push(e.toString()):r.errors.push(e.toString()):r.errors.push(Ds.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){let e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.errors.length;if(r===n)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{let i={failedRequests:e.failedRequests.slice(r*2),errors:e.errors.slice(r),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i,this.correlationId)}}static maxErrorsToSend(e){let r,n=0,i=0,s=e.errors.length;for(r=0;r<s;r++){let a=e.failedRequests[2*r]||Pe.EMPTY_STRING,c=e.failedRequests[2*r+1]||Pe.EMPTY_STRING,l=e.errors[r]||Pe.EMPTY_STRING;if(i+=a.toString().length+c.toString().length+l.length+3,i<Ds.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||Pe.EMPTY_STRING),e.push(this.regionSource||Pe.EMPTY_STRING),e.push(this.regionOutcome||Pe.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let r=this.getLastRequests();r.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return DNe(e)}};var bA=class{static{o(this,"Deserializer")}static deserializeJSONBlob(e){return e?JSON.parse(e):{}}static deserializeAccounts(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n],s={homeAccountId:i.home_account_id,environment:i.environment,realm:i.realm,localAccountId:i.local_account_id,username:i.username,authorityType:i.authority_type,name:i.name,clientInfo:i.client_info,lastModificationTime:i.last_modification_time,lastModificationApp:i.last_modification_app,tenantProfiles:i.tenantProfiles?.map(c=>JSON.parse(c))},a=new ba;Ag.toObject(a,s),r[n]=a}),r}static deserializeIdTokens(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n],s={homeAccountId:i.home_account_id,environment:i.environment,credentialType:i.credential_type,clientId:i.client_id,secret:i.secret,realm:i.realm};r[n]=s}),r}static deserializeAccessTokens(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n],s={homeAccountId:i.home_account_id,environment:i.environment,credentialType:i.credential_type,clientId:i.client_id,secret:i.secret,realm:i.realm,target:i.target,cachedAt:i.cached_at,expiresOn:i.expires_on,extendedExpiresOn:i.extended_expires_on,refreshOn:i.refresh_on,keyId:i.key_id,tokenType:i.token_type,requestedClaims:i.requestedClaims,requestedClaimsHash:i.requestedClaimsHash,userAssertionHash:i.userAssertionHash};r[n]=s}),r}static deserializeRefreshTokens(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n],s={homeAccountId:i.home_account_id,environment:i.environment,credentialType:i.credential_type,clientId:i.client_id,secret:i.secret,familyId:i.family_id,target:i.target,realm:i.realm};r[n]=s}),r}static deserializeAppMetadata(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n];r[n]={clientId:i.client_id,environment:i.environment,familyId:i.family_id}}),r}static deserializeAllCache(e){return{accounts:e.Account?this.deserializeAccounts(e.Account):{},idTokens:e.IdToken?this.deserializeIdTokens(e.IdToken):{},accessTokens:e.AccessToken?this.deserializeAccessTokens(e.AccessToken):{},refreshTokens:e.RefreshToken?this.deserializeRefreshTokens(e.RefreshToken):{},appMetadata:e.AppMetadata?this.deserializeAppMetadata(e.AppMetadata):{}}}};u();u();var Jce="system_assigned_managed_identity",ONe="managed_identity",oG=`https://login.microsoftonline.com/${ONe}/`,nc={AUTHORIZATION_HEADER_NAME:"Authorization",METADATA_HEADER_NAME:"Metadata",APP_SERVICE_SECRET_HEADER_NAME:"X-IDENTITY-HEADER",ML_AND_SF_SECRET_HEADER_NAME:"secret"},Is={API_VERSION:"api-version",RESOURCE:"resource",SHA256_TOKEN_TO_REFRESH:"token_sha256_to_refresh",XMS_CC:"xms_cc"},yr={AZURE_POD_IDENTITY_AUTHORITY_HOST:"AZURE_POD_IDENTITY_AUTHORITY_HOST",DEFAULT_IDENTITY_CLIENT_ID:"DEFAULT_IDENTITY_CLIENT_ID",IDENTITY_ENDPOINT:"IDENTITY_ENDPOINT",IDENTITY_HEADER:"IDENTITY_HEADER",IDENTITY_SERVER_THUMBPRINT:"IDENTITY_SERVER_THUMBPRINT",IMDS_ENDPOINT:"IMDS_ENDPOINT",MSI_ENDPOINT:"MSI_ENDPOINT",MSI_SECRET:"MSI_SECRET"},_r={APP_SERVICE:"AppService",AZURE_ARC:"AzureArc",CLOUD_SHELL:"CloudShell",DEFAULT_TO_IMDS:"DefaultToImds",IMDS:"Imds",MACHINE_LEARNING:"MachineLearning",SERVICE_FABRIC:"ServiceFabric"},_o={SYSTEM_ASSIGNED:"system-assigned",USER_ASSIGNED_CLIENT_ID:"user-assigned-client-id",USER_ASSIGNED_RESOURCE_ID:"user-assigned-resource-id",USER_ASSIGNED_OBJECT_ID:"user-assigned-object-id"},Ji={GET:"get",POST:"post"},LR={SUCCESS_RANGE_START:Nr.SUCCESS_RANGE_START,SUCCESS_RANGE_END:Nr.SUCCESS_RANGE_END,SERVER_ERROR:Nr.SERVER_ERROR},Xce="REGION_NAME",Zce="MSAL_FORCE_REGION",ele=32,tle={SHA256:"sha256"},OR={CV_CHARSET:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~"},Qs={MSAL_SKU:"msal.js.node",JWT_BEARER_ASSERTION_TYPE:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer",AUTHORIZATION_PENDING:"authorization_pending",HTTP_PROTOCOL:"http://",LOCALHOST:"localhost"},vA={acquireTokenSilent:62,acquireTokenByUsernamePassword:371,acquireTokenByDeviceCode:671,acquireTokenByClientCredential:771,acquireTokenByCode:871,acquireTokenByRefreshToken:872},Gl={RSA_256:"RS256",PSS_256:"PS256",X5T_256:"x5t#S256",X5T:"x5t",X5C:"x5c",AUDIENCE:"aud",EXPIRATION_TIME:"exp",ISSUER:"iss",SUBJECT:"sub",NOT_BEFORE:"nbf",JWT_ID:"jti"},UR={INTERVAL_MS:100,TIMEOUT_MS:5e3},rle=4096;u();u();u();u();var Sx=class{static{o(this,"NetworkUtils")}static getNetworkResponse(e,r,n){return{headers:e,body:r,status:n}}static urlToHttpOptions(e){let r={protocol:e.protocol,hostname:e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||""}${e.search||""}`,href:e.href};return e.port!==""&&(r.port=Number(e.port)),(e.username||e.password)&&(r.auth=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`),r}};var HR=yt(require("http"),1),sG=yt(require("https"),1);var wx=class{static{o(this,"HttpClient")}constructor(e,r){this.proxyUrl=e||"",this.customAgentOptions=r||{}}async sendGetRequestAsync(e,r,n){return this.proxyUrl?nle(e,this.proxyUrl,Ji.GET,r,this.customAgentOptions,n):ile(e,Ji.GET,r,this.customAgentOptions,n)}async sendPostRequestAsync(e,r){return this.proxyUrl?nle(e,this.proxyUrl,Ji.POST,r,this.customAgentOptions):ile(e,Ji.POST,r,this.customAgentOptions)}},nle=o((t,e,r,n,i,s)=>{let a=new URL(t),c=new URL(e),l=n?.headers||{},f={host:c.hostname,port:c.port,method:"CONNECT",path:a.hostname,headers:l};i&&Object.keys(i).length&&(f.agent=new HR.default.Agent(i));let d="";if(r===Ji.POST){let A=n?.body||"";d=`Content-Type: application/x-www-form-urlencoded\r
Content-Length: ${A.length}\r
\r
${A}`}else s&&(f.timeout=s);let h=`${r.toUpperCase()} ${a.href} HTTP/1.1\r
Host: ${a.host}\r
Connection: close\r
`+d+`\r
`;return new Promise((A,m)=>{let y=HR.default.request(f);s&&y.on("timeout",()=>{y.destroy(),m(new Error("Request time out"))}),y.end(),y.on("connect",(x,_)=>{let T=x?.statusCode||LR.SERVER_ERROR;(T<LR.SUCCESS_RANGE_START||T>LR.SUCCESS_RANGE_END)&&(y.destroy(),_.destroy(),m(new Error(`Error connecting to proxy. Http status code: ${x.statusCode}. Http status message: ${x?.statusMessage||"Unknown"}`))),_.write(h);let S=[];_.on("data",k=>{S.push(k)}),_.on("end",()=>{let N=Buffer.concat([...S]).toString().split(`\r
`),P=parseInt(N[0].split(" ")[1]),L=N[0].split(" ").slice(2).join(" "),Y=N[N.length-1],te=N.slice(1,N.length-2),ne=new Map;te.forEach(Ie=>{let fe=Ie.split(new RegExp(/:\s(.*)/s)),X=fe[0],H=fe[1];try{let Z=JSON.parse(H);Z&&typeof Z=="object"&&(H=Z)}catch{}ne.set(X,H)});let W=Object.fromEntries(ne),$=Sx.getNetworkResponse(W,ole(P,L,W,Y),P);(P<Nr.SUCCESS_RANGE_START||P>Nr.SUCCESS_RANGE_END)&&$.body.error!==Qs.AUTHORIZATION_PENDING&&y.destroy(),A($)}),_.on("error",k=>{y.destroy(),_.destroy(),m(new Error(k.toString()))})}),y.on("error",x=>{y.destroy(),m(new Error(x.toString()))})})},"networkRequestViaProxy"),ile=o((t,e,r,n,i)=>{let s=e===Ji.POST,a=r?.body||"",c=new URL(t),l=r?.headers||{},f={method:e,headers:l,...Sx.urlToHttpOptions(c)};return n&&Object.keys(n).length&&(f.agent=new sG.default.Agent(n)),s?f.headers={...f.headers,"Content-Length":a.length}:i&&(f.timeout=i),new Promise((d,h)=>{let A;f.protocol==="http:"?A=HR.default.request(f):A=sG.default.request(f),s&&A.write(a),i&&A.on("timeout",()=>{A.destroy(),h(new Error("Request time out"))}),A.end(),A.on("response",m=>{let y=m.headers,x=m.statusCode,_=m.statusMessage,T=[];m.on("data",S=>{T.push(S)}),m.on("end",()=>{let S=Buffer.concat([...T]).toString(),k=y,N=Sx.getNetworkResponse(k,ole(x,_,k,S),x);(x<Nr.SUCCESS_RANGE_START||x>Nr.SUCCESS_RANGE_END)&&N.body.error!==Qs.AUTHORIZATION_PENDING&&A.destroy(),d(N)})}),A.on("error",m=>{A.destroy(),h(new Error(m.toString()))})})},"networkRequestViaHttps"),ole=o((t,e,r,n)=>{let i;try{i=JSON.parse(n)}catch{let a,c;t>=Nr.CLIENT_ERROR_RANGE_START&&t<=Nr.CLIENT_ERROR_RANGE_END?(a="client_error",c="A client"):t>=Nr.SERVER_ERROR_RANGE_START&&t<=Nr.SERVER_ERROR_RANGE_END?(a="server_error",c="A server"):(a="unknown_error",c="An unknown"),i={error:a,error_description:`${c} error occured.
Http status code: ${t}
Http status message: ${e||"Unknown"}
Headers: ${JSON.stringify(r)}`}}return i},"parseBody");u();u();u();var qR="invalid_file_extension",GR="invalid_file_path",Cg="invalid_managed_identity_id_type",VR="invalid_secret",sle="missing_client_id",ale="network_unavailable",WR="platform_not_supported",YR="unable_to_create_azure_arc",$R="unable_to_create_cloud_shell",zR="unable_to_create_source",R_="unable_to_read_secret_file",cle="user_assigned_not_available_at_runtime",jR="www_authenticate_header_missing",KR="www_authenticate_header_unsupported_format",GC={[yr.AZURE_POD_IDENTITY_AUTHORITY_HOST]:"azure_pod_identity_authority_host_url_malformed",[yr.IDENTITY_ENDPOINT]:"identity_endpoint_url_malformed",[yr.IMDS_ENDPOINT]:"imds_endpoint_url_malformed",[yr.MSI_ENDPOINT]:"msi_endpoint_url_malformed"};var UNe={[qR]:"The file path in the WWW-Authenticate header does not contain a .key file.",[GR]:"The file path in the WWW-Authenticate header is not in a valid Windows or Linux Format.",[Cg]:"More than one ManagedIdentityIdType was provided.",[VR]:"The secret in the file on the file path in the WWW-Authenticate header is greater than 4096 bytes.",[WR]:"The platform is not supported by Azure Arc. Azure Arc only supports Windows and Linux.",[sle]:"A ManagedIdentityId id was not provided.",[GC.AZURE_POD_IDENTITY_AUTHORITY_HOST]:`The Managed Identity's '${yr.AZURE_POD_IDENTITY_AUTHORITY_HOST}' environment variable is malformed.`,[GC.IDENTITY_ENDPOINT]:`The Managed Identity's '${yr.IDENTITY_ENDPOINT}' environment variable is malformed.`,[GC.IMDS_ENDPOINT]:`The Managed Identity's '${yr.IMDS_ENDPOINT}' environment variable is malformed.`,[GC.MSI_ENDPOINT]:`The Managed Identity's '${yr.MSI_ENDPOINT}' environment variable is malformed.`,[ale]:"Authentication unavailable. The request to the managed identity endpoint timed out.",[YR]:"Azure Arc Managed Identities can only be system assigned.",[$R]:"Cloud Shell Managed Identities can only be system assigned.",[zR]:"Unable to create a Managed Identity source based on environment variables.",[R_]:"Unable to read the secret file.",[cle]:"Service Fabric user assigned managed identity ClientId or ResourceId is not configurable at runtime.",[jR]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is missing.",[KR]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is in an unsupported format."},aG=class t extends Qr{static{o(this,"ManagedIdentityError")}constructor(e){super(e,UNe[e]),this.name="ManagedIdentityError",Object.setPrototypeOf(this,t.prototype)}};function is(t){return new aG(t)}o(is,"createManagedIdentityError");var JR=class{static{o(this,"ManagedIdentityId")}get id(){return this._id}set id(e){this._id=e}get idType(){return this._idType}set idType(e){this._idType=e}constructor(e){let r=e?.userAssignedClientId,n=e?.userAssignedResourceId,i=e?.userAssignedObjectId;if(r){if(n||i)throw is(Cg);this.id=r,this.idType=_o.USER_ASSIGNED_CLIENT_ID}else if(n){if(r||i)throw is(Cg);this.id=n,this.idType=_o.USER_ASSIGNED_RESOURCE_ID}else if(i){if(r||n)throw is(Cg);this.id=i,this.idType=_o.USER_ASSIGNED_OBJECT_ID}else this.id=Jce,this.idType=_o.SYSTEM_ASSIGNED}};u();var Js={invalidLoopbackAddressType:{code:"invalid_loopback_server_address_type",desc:"Loopback server address is not type string. This is unexpected."},unableToLoadRedirectUri:{code:"unable_to_load_redirectUrl",desc:"Loopback server callback was invoked without a url. This is unexpected."},noAuthCodeInResponse:{code:"no_auth_code_in_response",desc:"No auth code found in the server response. Please check your network trace to determine what happened."},noLoopbackServerExists:{code:"no_loopback_server_exists",desc:"No loopback server exists yet."},loopbackServerAlreadyExists:{code:"loopback_server_already_exists",desc:"Loopback server already exists. Cannot create another."},loopbackServerTimeout:{code:"loopback_server_timeout",desc:"Timed out waiting for auth code listener to be registered."},stateNotFoundError:{code:"state_not_found",desc:"State not found. Please verify that the request originated from msal."},thumbprintMissing:{code:"thumbprint_missing_from_client_certificate",desc:"Client certificate does not contain a SHA-1 or SHA-256 thumbprint."}},ic=class t extends Qr{static{o(this,"NodeAuthError")}constructor(e,r){super(e,r),this.name="NodeAuthError"}static createInvalidLoopbackAddressTypeError(){return new t(Js.invalidLoopbackAddressType.code,`${Js.invalidLoopbackAddressType.desc}`)}static createUnableToLoadRedirectUrlError(){return new t(Js.unableToLoadRedirectUri.code,`${Js.unableToLoadRedirectUri.desc}`)}static createNoAuthCodeInResponseError(){return new t(Js.noAuthCodeInResponse.code,`${Js.noAuthCodeInResponse.desc}`)}static createNoLoopbackServerExistsError(){return new t(Js.noLoopbackServerExists.code,`${Js.noLoopbackServerExists.desc}`)}static createLoopbackServerAlreadyExistsError(){return new t(Js.loopbackServerAlreadyExists.code,`${Js.loopbackServerAlreadyExists.desc}`)}static createLoopbackServerTimeoutError(){return new t(Js.loopbackServerTimeout.code,`${Js.loopbackServerTimeout.desc}`)}static createStateNotFoundError(){return new t(Js.stateNotFoundError.code,Js.stateNotFoundError.desc)}static createThumbprintMissingError(){return new t(Js.thumbprintMissing.code,Js.thumbprintMissing.desc)}};var HNe={clientId:Pe.EMPTY_STRING,authority:Pe.DEFAULT_AUTHORITY,clientSecret:Pe.EMPTY_STRING,clientAssertion:Pe.EMPTY_STRING,clientCertificate:{thumbprint:Pe.EMPTY_STRING,thumbprintSha256:Pe.EMPTY_STRING,privateKey:Pe.EMPTY_STRING,x5c:Pe.EMPTY_STRING},knownAuthorities:[],cloudDiscoveryMetadata:Pe.EMPTY_STRING,authorityMetadata:Pe.EMPTY_STRING,clientCapabilities:[],protocolMode:ja.AAD,azureCloudOptions:{azureCloudInstance:gA.None,tenant:Pe.EMPTY_STRING},skipAuthorityMetadataCache:!1,encodeExtraQueryParams:!1},qNe={claimsBasedCachingEnabled:!1},cG={loggerCallback:o(()=>{},"loggerCallback"),piiLoggingEnabled:!1,logLevel:To.Info},GNe={loggerOptions:cG,networkClient:new wx,proxyUrl:Pe.EMPTY_STRING,customAgentOptions:{},disableInternalRetries:!1},VNe={application:{appName:Pe.EMPTY_STRING,appVersion:Pe.EMPTY_STRING}};function lle({auth:t,broker:e,cache:r,system:n,telemetry:i}){let s={...GNe,networkClient:new wx(n?.proxyUrl,n?.customAgentOptions),loggerOptions:n?.loggerOptions||cG,disableInternalRetries:n?.disableInternalRetries||!1};if(t.clientCertificate&&!t.clientCertificate.thumbprint&&!t.clientCertificate.thumbprintSha256)throw ic.createStateNotFoundError();return{auth:{...HNe,...t},broker:{...e},cache:{...qNe,...r},system:{...s,...n},telemetry:{...VNe,...i}}}o(lle,"buildAppConfiguration");function ule({clientCapabilities:t,managedIdentityIdParams:e,system:r}){let n=new JR(e),i=r?.loggerOptions||cG,s;return r?.networkClient?s=r.networkClient:s=new wx(r?.proxyUrl,r?.customAgentOptions),{clientCapabilities:t||[],managedIdentityId:n,system:{loggerOptions:i,networkClient:s},disableInternalRetries:r?.disableInternalRetries||!1}}o(ule,"buildManagedIdentityConfiguration");u();u();u();u();var fle=yt(require("crypto"));var ZR=new Uint8Array(256),XR=ZR.length;function lG(){return XR>ZR.length-16&&(fle.default.randomFillSync(ZR),XR=0),ZR.slice(XR,XR+=16)}o(lG,"rng");u();u();u();var dle=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function WNe(t){return typeof t=="string"&&dle.test(t)}o(WNe,"validate");var hle=WNe;var _a=[];for(let t=0;t<256;++t)_a.push((t+256).toString(16).substr(1));function YNe(t,e=0){let r=(_a[t[e+0]]+_a[t[e+1]]+_a[t[e+2]]+_a[t[e+3]]+"-"+_a[t[e+4]]+_a[t[e+5]]+"-"+_a[t[e+6]]+_a[t[e+7]]+"-"+_a[t[e+8]]+_a[t[e+9]]+"-"+_a[t[e+10]]+_a[t[e+11]]+_a[t[e+12]]+_a[t[e+13]]+_a[t[e+14]]+_a[t[e+15]]).toLowerCase();if(!hle(r))throw TypeError("Stringified UUID is invalid");return r}o(YNe,"stringify");var Ale=YNe;u();function $Ne(t,e,r){t=t||{};let n=t.random||(t.rng||lG)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return Ale(n)}o($Ne,"v4");var uG=$Ne;var Bx=class{static{o(this,"GuidGenerator")}generateGuid(){return uG()}isGuid(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}};u();var zc=class t{static{o(this,"EncodingUtils")}static base64Encode(e,r){return Buffer.from(e,r).toString(xa.BASE64)}static base64EncodeUrl(e,r){return t.base64Encode(e,r).replace(/=/g,Pe.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")}static base64Decode(e){return Buffer.from(e,xa.BASE64).toString("utf8")}static base64DecodeUrl(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4;)r+="=";return t.base64Decode(r)}};u();u();var ple=yt(require("crypto"),1);var Eg=class{static{o(this,"HashUtils")}sha256(e){return ple.default.createHash(tle.SHA256).update(e).digest()}};var mle=yt(require("crypto"),1);var e7=class{static{o(this,"PkceGenerator")}constructor(){this.hashUtils=new Eg}async generatePkceCodes(){let e=this.generateCodeVerifier(),r=this.generateCodeChallengeFromVerifier(e);return{verifier:e,challenge:r}}generateCodeVerifier(){let e=[],r=256-256%OR.CV_CHARSET.length;for(;e.length<=ele;){let i=mle.default.randomBytes(1)[0];if(i>=r)continue;let s=i%OR.CV_CHARSET.length;e.push(OR.CV_CHARSET[s])}let n=e.join(Pe.EMPTY_STRING);return zc.base64EncodeUrl(n)}generateCodeChallengeFromVerifier(e){return zc.base64EncodeUrl(this.hashUtils.sha256(e).toString(xa.BASE64),xa.BASE64)}};var Nd=class{static{o(this,"CryptoProvider")}constructor(){this.pkceGenerator=new e7,this.guidGenerator=new Bx,this.hashUtils=new Eg}base64UrlEncode(){throw new Error("Method not implemented.")}encodeKid(){throw new Error("Method not implemented.")}createNewGuid(){return this.guidGenerator.generateGuid()}base64Encode(e){return zc.base64Encode(e)}base64Decode(e){return zc.base64Decode(e)}generatePkceCodes(){return this.pkceGenerator.generatePkceCodes()}getPublicKeyThumbprint(){throw new Error("Method not implemented.")}removeTokenBindingKey(){throw new Error("Method not implemented.")}clearKeystore(){throw new Error("Method not implemented.")}signJwt(){throw new Error("Method not implemented.")}async hashString(e){return zc.base64EncodeUrl(this.hashUtils.sha256(e).toString(xa.BASE64),xa.BASE64)}};u();u();var Ig=class extends Ag{static{o(this,"NodeStorage")}constructor(e,r,n,i){super(r,n,e,new DC,i),this.cache={},this.changeEmitters=[],this.logger=e}registerChangeEmitter(e){this.changeEmitters.push(e)}emitChange(){this.changeEmitters.forEach(e=>e.call(null))}cacheToInMemoryCache(e){let r={accounts:{},idTokens:{},accessTokens:{},refreshTokens:{},appMetadata:{}};for(let n in e){let i=e[n];if(typeof i=="object")if(i instanceof ba)r.accounts[n]=i;else if(Ns.isIdTokenEntity(i))r.idTokens[n]=i;else if(Ns.isAccessTokenEntity(i))r.accessTokens[n]=i;else if(Ns.isRefreshTokenEntity(i))r.refreshTokens[n]=i;else if(Ns.isAppMetadataEntity(n,i))r.appMetadata[n]=i;else continue}return r}inMemoryCacheToCache(e){let r=this.getCache();return r={...r,...e.accounts,...e.idTokens,...e.accessTokens,...e.refreshTokens,...e.appMetadata},r}getInMemoryCache(){return this.logger.trace("Getting in-memory cache"),this.cacheToInMemoryCache(this.getCache())}setInMemoryCache(e){this.logger.trace("Setting in-memory cache");let r=this.inMemoryCacheToCache(e);this.setCache(r),this.emitChange()}getCache(){return this.logger.trace("Getting cache key-value store"),this.cache}setCache(e){this.logger.trace("Setting cache key value store"),this.cache=e,this.emitChange()}getItem(e){return this.logger.tracePii(`Item key: ${e}`),this.getCache()[e]}setItem(e,r){this.logger.tracePii(`Item key: ${e}`);let n=this.getCache();n[e]=r,this.setCache(n)}getAccountKeys(){let e=this.getInMemoryCache();return Object.keys(e.accounts)}getTokenKeys(){let e=this.getInMemoryCache();return{idToken:Object.keys(e.idTokens),accessToken:Object.keys(e.accessTokens),refreshToken:Object.keys(e.refreshTokens)}}getAccount(e){return this.getItem(e)?Object.assign(new ba,this.getItem(e)):null}async setAccount(e){let r=e.generateAccountKey();this.setItem(r,e)}getIdTokenCredential(e){let r=this.getItem(e);return Ns.isIdTokenEntity(r)?r:null}async setIdTokenCredential(e){let r=Ns.generateCredentialKey(e);this.setItem(r,e)}getAccessTokenCredential(e){let r=this.getItem(e);return Ns.isAccessTokenEntity(r)?r:null}async setAccessTokenCredential(e){let r=Ns.generateCredentialKey(e);this.setItem(r,e)}getRefreshTokenCredential(e){let r=this.getItem(e);return Ns.isRefreshTokenEntity(r)?r:null}async setRefreshTokenCredential(e){let r=Ns.generateCredentialKey(e);this.setItem(r,e)}getAppMetadata(e){let r=this.getItem(e);return Ns.isAppMetadataEntity(e,r)?r:null}setAppMetadata(e){let r=Ns.generateAppMetadataKey(e);this.setItem(r,e)}getServerTelemetry(e){let r=this.getItem(e);return r&&Ns.isServerTelemetryEntity(e,r)?r:null}setServerTelemetry(e,r){this.setItem(e,r)}getAuthorityMetadata(e){let r=this.getItem(e);return r&&Ns.isAuthorityMetadataEntity(e,r)?r:null}getAuthorityMetadataKeys(){return this.getKeys().filter(e=>this.isAuthorityMetadata(e))}setAuthorityMetadata(e,r){this.setItem(e,r)}getThrottlingCache(e){let r=this.getItem(e);return r&&Ns.isThrottlingEntity(e,r)?r:null}setThrottlingCache(e,r){this.setItem(e,r)}removeItem(e){this.logger.tracePii(`Item key: ${e}`);let r=!1,n=this.getCache();return n[e]&&(delete n[e],r=!0),r&&(this.setCache(n),this.emitChange()),r}removeOutdatedAccount(e){this.removeItem(e)}containsKey(e){return this.getKeys().includes(e)}getKeys(){this.logger.trace("Retrieving all cache keys");let e=this.getCache();return[...Object.keys(e)]}clear(){this.logger.trace("Clearing cache entries created by MSAL"),this.getKeys().forEach(r=>{this.removeItem(r)}),this.emitChange()}static generateInMemoryCache(e){return bA.deserializeAllCache(bA.deserializeJSONBlob(e))}static generateJsonCache(e){return ig.serializeAllCache(e)}updateCredentialCacheKey(e,r){let n=Ns.generateCredentialKey(r);if(e!==n){let i=this.getItem(e);if(i)return this.removeItem(e),this.setItem(n,i),this.logger.verbose(`Updated an outdated ${r.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${r.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}};u();var k_={Account:{},IdToken:{},AccessToken:{},RefreshToken:{},AppMetadata:{}},Rx=class{static{o(this,"TokenCache")}constructor(e,r,n){this.cacheHasChanged=!1,this.storage=e,this.storage.registerChangeEmitter(this.handleChangeEvent.bind(this)),n&&(this.persistence=n),this.logger=r}hasChanged(){return this.cacheHasChanged}serialize(){this.logger.trace("Serializing in-memory cache");let e=ig.serializeAllCache(this.storage.getInMemoryCache());return this.cacheSnapshot?(this.logger.trace("Reading cache snapshot from disk"),e=this.mergeState(JSON.parse(this.cacheSnapshot),e)):this.logger.trace("No cache snapshot to merge"),this.cacheHasChanged=!1,JSON.stringify(e)}deserialize(e){if(this.logger.trace("Deserializing JSON to in-memory cache"),this.cacheSnapshot=e,this.cacheSnapshot){this.logger.trace("Reading cache snapshot from disk");let r=bA.deserializeAllCache(this.overlayDefaults(JSON.parse(this.cacheSnapshot)));this.storage.setInMemoryCache(r)}else this.logger.trace("No cache snapshot to deserialize")}getKVStore(){return this.storage.getCache()}getCacheSnapshot(){let e=Ig.generateInMemoryCache(this.cacheSnapshot);return this.storage.inMemoryCacheToCache(e)}async getAllAccounts(e=new Nd().createNewGuid()){this.logger.trace("getAllAccounts called");let r;try{return this.persistence&&(r=new $c(this,!1),await this.persistence.beforeCacheAccess(r)),this.storage.getAllAccounts({},e)}finally{this.persistence&&r&&await this.persistence.afterCacheAccess(r)}}async getAccountByHomeId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.homeAccountId===e)[0]||null}async getAccountByLocalId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.localAccountId===e)[0]||null}async removeAccount(e,r){this.logger.trace("removeAccount called");let n;try{this.persistence&&(n=new $c(this,!0),await this.persistence.beforeCacheAccess(n)),this.storage.removeAccount(ba.generateAccountCacheKey(e),r||new Bx().generateGuid())}finally{this.persistence&&n&&await this.persistence.afterCacheAccess(n)}}async overwriteCache(){if(!this.persistence){this.logger.info("No persistence layer specified, cache cannot be overwritten");return}this.logger.info("Overwriting in-memory cache with persistent cache"),this.storage.clear();let e=new $c(this,!1);await this.persistence.beforeCacheAccess(e);let r=this.getCacheSnapshot();this.storage.setCache(r),await this.persistence.afterCacheAccess(e)}handleChangeEvent(){this.cacheHasChanged=!0}mergeState(e,r){this.logger.trace("Merging in-memory cache with cache snapshot");let n=this.mergeRemovals(e,r);return this.mergeUpdates(n,r)}mergeUpdates(e,r){return Object.keys(r).forEach(n=>{let i=r[n];if(!e.hasOwnProperty(n))i!==null&&(e[n]=i);else{let s=i!==null,a=typeof i=="object",c=!Array.isArray(i),l=typeof e[n]<"u"&&e[n]!==null;s&&a&&c&&l?this.mergeUpdates(e[n],i):e[n]=i}}),e}mergeRemovals(e,r){this.logger.trace("Remove updated entries in cache");let n=e.Account?this.mergeRemovalsDict(e.Account,r.Account):e.Account,i=e.AccessToken?this.mergeRemovalsDict(e.AccessToken,r.AccessToken):e.AccessToken,s=e.RefreshToken?this.mergeRemovalsDict(e.RefreshToken,r.RefreshToken):e.RefreshToken,a=e.IdToken?this.mergeRemovalsDict(e.IdToken,r.IdToken):e.IdToken,c=e.AppMetadata?this.mergeRemovalsDict(e.AppMetadata,r.AppMetadata):e.AppMetadata;return{...e,Account:n,AccessToken:i,RefreshToken:s,IdToken:a,AppMetadata:c}}mergeRemovalsDict(e,r){let n={...e};return Object.keys(e).forEach(i=>{(!r||!r.hasOwnProperty(i))&&delete n[i]}),n}overlayDefaults(e){return this.logger.trace("Overlaying input cache with the default cache"),{Account:{...k_.Account,...e.Account},IdToken:{...k_.IdToken,...e.IdToken},AccessToken:{...k_.AccessToken,...e.AccessToken},RefreshToken:{...k_.RefreshToken,...e.RefreshToken},AppMetadata:{...k_.AppMetadata,...e.AppMetadata}}}};u();var Yde=yt(Wde(),1);var TA=class t{static{o(this,"ClientAssertion")}static fromAssertion(e){let r=new t;return r.jwt=e,r}static fromCertificate(e,r,n){let i=new t;return i.privateKey=r,i.thumbprint=e,i.useSha256=!1,n&&(i.publicCertificate=this.parseCertificate(n)),i}static fromCertificateWithSha256Thumbprint(e,r,n){let i=new t;return i.privateKey=r,i.thumbprint=e,i.useSha256=!0,n&&(i.publicCertificate=this.parseCertificate(n)),i}getJwt(e,r,n){if(this.privateKey&&this.thumbprint)return this.jwt&&!this.isExpired()&&r===this.issuer&&n===this.jwtAudience?this.jwt:this.createJwt(e,r,n);if(this.jwt)return this.jwt;throw je(Ti.invalidAssertion)}createJwt(e,r,n){this.issuer=r,this.jwtAudience=n;let i=Ki.nowSeconds();this.expirationTime=i+600;let a={alg:this.useSha256?Gl.PSS_256:Gl.RSA_256},c=this.useSha256?Gl.X5T_256:Gl.X5T;Object.assign(a,{[c]:zc.base64EncodeUrl(this.thumbprint,xa.HEX)}),this.publicCertificate&&Object.assign(a,{[Gl.X5C]:this.publicCertificate});let l={[Gl.AUDIENCE]:this.jwtAudience,[Gl.EXPIRATION_TIME]:this.expirationTime,[Gl.ISSUER]:this.issuer,[Gl.SUBJECT]:this.issuer,[Gl.NOT_BEFORE]:i,[Gl.JWT_ID]:e.createNewGuid()};return this.jwt=Yde.default.sign(l,this.privateKey,{header:a}),this.jwt}isExpired(){return this.expirationTime<Ki.nowSeconds()}static parseCertificate(e){let r=/-----BEGIN CERTIFICATE-----\r*\n(.+?)\r*\n-----END CERTIFICATE-----/gs,n=[],i;for(;(i=r.exec(e))!==null;)n.push(i[1].replace(/\r*\n/g,Pe.EMPTY_STRING));return n}};u();var k7="@azure/msal-node",af="3.6.3";u();var Ux=class extends Ta{static{o(this,"UsernamePasswordClient")}constructor(e){super(e)}async acquireToken(e){this.logger.info("in acquireToken call in username-password client");let r=Ki.nowSeconds(),n=await this.executeTokenRequest(this.authority,e),i=new ns(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(n.body),i.handleServerTokenResponse(n.body,this.authority,r,e)}async executeTokenRequest(e,r){let n=this.createTokenQueryParameters(r),i=sn.appendQueryString(e.tokenEndpoint,n),s=await this.createTokenRequestBody(r),a=this.createTokenRequestHeaders({credential:r.username,type:g0.UPN}),c={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid};return this.executePostToTokenEndpoint(i,s,a,c,r.correlationId)}async createTokenRequestBody(e){let r=new Map;vt.addClientId(r,this.config.authOptions.clientId),vt.addUsername(r,e.username),vt.addPassword(r,e.password),vt.addScopes(r,e.scopes),vt.addResponseType(r,hx.IDTOKEN_TOKEN),vt.addGrantType(r,rc.RESOURCE_OWNER_PASSWORD_GRANT),vt.addClientInfo(r),vt.addLibraryInfo(r,this.config.libraryInfo),vt.addApplicationTelemetry(r,this.config.telemetry.application),vt.addThrottling(r),this.serverTelemetryManager&&vt.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();vt.addCorrelationId(r,n),this.config.clientCredentials.clientSecret&&vt.addClientSecret(r,this.config.clientCredentials.clientSecret);let i=this.config.clientCredentials.clientAssertion;return i&&(vt.addClientAssertion(r,await C0(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),vt.addClientAssertionType(r,i.assertionType)),(!uo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&vt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.username&&vt.addCcsUpn(r,e.username),va.mapToQueryString(r)}};u();function $de(t,e,r,n){let i=B_.getStandardAuthorizeRequestParameters({...t.auth,authority:e,redirectUri:r.redirectUri||""},r,n);return vt.addLibraryInfo(i,{sku:Qs.MSAL_SKU,version:af,cpu:process.arch||"",os:process.platform||""}),t.auth.protocolMode!==ja.OIDC&&vt.addApplicationTelemetry(i,t.telemetry.application),vt.addResponseType(i,hx.CODE),r.codeChallenge&&r.codeChallengeMethod&&vt.addCodeChallengeParams(i,r.codeChallenge,r.codeChallengeMethod),vt.addExtraQueryParameters(i,r.extraQueryParameters||{}),B_.getAuthorizeUrl(e,i,t.auth.encodeExtraQueryParams,r.extraQueryParameters)}o($de,"getAuthCodeRequestUrl");var vg=class{static{o(this,"ClientApplication")}constructor(e){this.config=lle(e),this.cryptoProvider=new Nd,this.logger=new Vc(this.config.system.loggerOptions,k7,af),this.storage=new Ig(this.logger,this.config.auth.clientId,this.cryptoProvider,Xq(this.config.auth)),this.tokenCache=new Rx(this.storage,this.logger,this.config.cache.cachePlugin)}async getAuthCodeUrl(e){this.logger.info("getAuthCodeUrl called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),responseMode:e.responseMode||Sd.QUERY,authenticationScheme:_n.BEARER,state:e.state||"",nonce:e.nonce||""},n=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions);return $de(this.config,n,r,this.logger)}async acquireTokenByCode(e,r){this.logger.info("acquireTokenByCode called"),e.state&&r&&(this.logger.info("acquireTokenByCode - validating state"),this.validateState(e.state,r.state||""),r={...r,state:""});let n={...e,...await this.initializeBaseRequest(e),authenticationScheme:_n.BEARER},i=this.initializeServerTelemetryManager(vA.acquireTokenByCode,n.correlationId);try{let s=await this.createAuthority(n.authority,n.correlationId,void 0,e.azureCloudOptions),a=await this.buildOauthClientConfiguration(s,n.correlationId,n.redirectUri,i),c=new S_(a);return this.logger.verbose("Auth code client created",n.correlationId),await c.acquireToken(n,r)}catch(s){throw s instanceof Qr&&s.setCorrelationId(n.correlationId),i.cacheFailedRequest(s),s}}async acquireTokenByRefreshToken(e){this.logger.info("acquireTokenByRefreshToken called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),authenticationScheme:_n.BEARER},n=this.initializeServerTelemetryManager(vA.acquireTokenByRefreshToken,r.correlationId);try{let i=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),s=await this.buildOauthClientConfiguration(i,r.correlationId,r.redirectUri||"",n),a=new HC(s);return this.logger.verbose("Refresh token client created",r.correlationId),await a.acquireToken(r)}catch(i){throw i instanceof Qr&&i.setCorrelationId(r.correlationId),n.cacheFailedRequest(i),i}}async acquireTokenSilent(e){let r={...e,...await this.initializeBaseRequest(e),forceRefresh:e.forceRefresh||!1},n=this.initializeServerTelemetryManager(vA.acquireTokenSilent,r.correlationId,r.forceRefresh);try{let i=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),s=await this.buildOauthClientConfiguration(i,r.correlationId,r.redirectUri||"",n),a=new w_(s);this.logger.verbose("Silent flow client created",r.correlationId);try{return await this.tokenCache.overwriteCache(),await this.acquireCachedTokenSilent(r,a,s)}catch(c){if(c instanceof fg&&c.errorCode===Ti.tokenRefreshRequired)return new HC(s).acquireTokenByRefreshToken(r);throw c}}catch(i){throw i instanceof Qr&&i.setCorrelationId(r.correlationId),n.cacheFailedRequest(i),i}}async acquireCachedTokenSilent(e,r,n){let[i,s]=await r.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...ec]});if(s===ki.PROACTIVELY_REFRESHED){this.logger.info("ClientApplication:acquireCachedTokenSilent - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");let a=new HC(n);try{await a.acquireTokenByRefreshToken(e)}catch{}}return i}async acquireTokenByUsernamePassword(e){this.logger.info("acquireTokenByUsernamePassword called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)},n=this.initializeServerTelemetryManager(vA.acquireTokenByUsernamePassword,r.correlationId);try{let i=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),s=await this.buildOauthClientConfiguration(i,r.correlationId,"",n),a=new Ux(s);return this.logger.verbose("Username password client created",r.correlationId),await a.acquireToken(r)}catch(i){throw i instanceof Qr&&i.setCorrelationId(r.correlationId),n.cacheFailedRequest(i),i}}getTokenCache(){return this.logger.info("getTokenCache called"),this.tokenCache}validateState(e,r){if(!e)throw ic.createStateNotFoundError();if(e!==r)throw je(Ti.stateMismatch)}getLogger(){return this.logger}setLogger(e){this.logger=e}async buildOauthClientConfiguration(e,r,n,i){return this.logger.verbose("buildOauthClientConfiguration called",r),this.logger.info(`Building oauth client configuration with the following authority: ${e.tokenEndpoint}.`,r),i?.updateRegionDiscoveryMetadata(e.regionDiscoveryMetadata),{authOptions:{clientId:this.config.auth.clientId,authority:e,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:n},loggerOptions:{logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:r},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.cryptoProvider,networkInterface:this.config.system.networkClient,storageInterface:this.storage,serverTelemetryManager:i,clientCredentials:{clientSecret:this.clientSecret,clientAssertion:await this.getClientAssertion(e)},libraryInfo:{sku:Qs.MSAL_SKU,version:af,cpu:process.arch||Pe.EMPTY_STRING,os:process.platform||Pe.EMPTY_STRING},telemetry:this.config.telemetry,persistencePlugin:this.config.cache.cachePlugin,serializableCache:this.tokenCache}}async getClientAssertion(e){return this.developerProvidedClientAssertion&&(this.clientAssertion=TA.fromAssertion(await C0(this.developerProvidedClientAssertion,this.config.auth.clientId,e.tokenEndpoint))),this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,e.tokenEndpoint),assertionType:Qs.JWT_BEARER_ASSERTION_TYPE}}async initializeBaseRequest(e){return this.logger.verbose("initializeRequestScopes called",e.correlationId),e.authenticationScheme&&e.authenticationScheme===_n.POP&&this.logger.verbose("Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request",e.correlationId),e.authenticationScheme=_n.BEARER,this.config.cache.claimsBasedCachingEnabled&&e.claims&&!uo.isEmptyObj(e.claims)&&(e.requestedClaimsHash=await this.cryptoProvider.hashString(e.claims)),{...e,scopes:[...e&&e.scopes||[],...ec],correlationId:e&&e.correlationId||this.cryptoProvider.createNewGuid(),authority:e.authority||this.config.auth.authority}}initializeServerTelemetryManager(e,r,n){let i={clientId:this.config.auth.clientId,correlationId:r,apiId:e,forceRefresh:n||!1};return new qC(i,this.storage)}async createAuthority(e,r,n,i){this.logger.verbose("createAuthority called",r);let s=of.generateAuthority(e,i||this.config.auth.azureCloudOptions),a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:n,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};return RR.createDiscoveredInstance(s,this.config.system.networkClient,this.storage,a,this.logger,r)}clearCache(){this.storage.clear()}};u();var zde=yt(require("http"),1);var D7=class{static{o(this,"LoopbackClient")}async listenForAuthCode(e,r){if(this.server)throw ic.createLoopbackServerAlreadyExistsError();return new Promise((n,i)=>{this.server=zde.default.createServer((s,a)=>{let c=s.url;if(c){if(c===Pe.FORWARD_SLASH){a.end(e||"Auth code was successfully acquired. You can close this window now.");return}}else{a.end(r||"Error occurred loading redirectUrl"),i(ic.createUnableToLoadRedirectUrlError());return}let l=this.getRedirectUri(),f=new URL(c,l),d=va.getDeserializedResponse(f.search)||{};d.code&&(a.writeHead(Nr.REDIRECT,{location:l}),a.end()),d.error&&a.end(r||`Error occurred: ${d.error}`),n(d)}),this.server.listen(0,"127.0.0.1")})}getRedirectUri(){if(!this.server||!this.server.listening)throw ic.createNoLoopbackServerExistsError();let e=this.server.address();if(!e||typeof e=="string"||!e.port)throw this.closeServer(),ic.createInvalidLoopbackAddressTypeError();let r=e&&e.port;return`${Qs.HTTP_PROTOCOL}${Qs.LOCALHOST}:${r}`}closeServer(){this.server&&(this.server.close(),typeof this.server.closeAllConnections=="function"&&this.server.closeAllConnections(),this.server.unref(),this.server=void 0)}};u();var Hx=class extends Ta{static{o(this,"DeviceCodeClient")}constructor(e){super(e)}async acquireToken(e){let r=await this.getDeviceCode(e);e.deviceCodeCallback(r);let n=Ki.nowSeconds(),i=await this.acquireTokenWithDeviceCode(e,r),s=new ns(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return s.validateTokenResponse(i),s.handleServerTokenResponse(i,this.authority,n,e)}async getDeviceCode(e){let r=this.createExtraQueryParameters(e),n=sn.appendQueryString(this.authority.deviceCodeEndpoint,r),i=this.createQueryString(e),s=this.createTokenRequestHeaders(),a={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return this.executePostRequestToDeviceCodeEndpoint(n,i,s,a,e.correlationId)}createExtraQueryParameters(e){let r=new Map;return e.extraQueryParameters&&vt.addExtraQueryParameters(r,e.extraQueryParameters),va.mapToQueryString(r)}async executePostRequestToDeviceCodeEndpoint(e,r,n,i,s){let{body:{user_code:a,device_code:c,verification_uri:l,expires_in:f,interval:d,message:h}}=await this.sendPostRequest(i,e,{body:r,headers:n},s);return{userCode:a,deviceCode:c,verificationUri:l,expiresIn:f,interval:d,message:h}}createQueryString(e){let r=new Map;return vt.addScopes(r,e.scopes),vt.addClientId(r,this.config.authOptions.clientId),e.extraQueryParameters&&vt.addExtraQueryParameters(r,e.extraQueryParameters),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&vt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),va.mapToQueryString(r)}continuePolling(e,r,n){if(n)throw this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),je(Ti.deviceCodePollingCancelled);if(r&&r<e&&Ki.nowSeconds()>r)throw this.logger.error(`User defined timeout for device code polling reached. The timeout was set for ${r}`),je(Ti.userTimeoutReached);if(Ki.nowSeconds()>e)throw r&&this.logger.verbose(`User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ${r}`),this.logger.error(`Device code expired. Expiration time of device code was ${e}`),je(Ti.deviceCodeExpired);return!0}async acquireTokenWithDeviceCode(e,r){let n=this.createTokenQueryParameters(e),i=sn.appendQueryString(this.authority.tokenEndpoint,n),s=this.createTokenRequestBody(e,r),a=this.createTokenRequestHeaders(),c=e.timeout?Ki.nowSeconds()+e.timeout:void 0,l=Ki.nowSeconds()+r.expiresIn,f=r.interval*1e3;for(;this.continuePolling(l,c,e.cancel);){let d={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},h=await this.executePostToTokenEndpoint(i,s,a,d,e.correlationId);if(h.body&&h.body.error)if(h.body.error===Pe.AUTHORIZATION_PENDING)this.logger.info("Authorization pending. Continue polling."),await Ki.delay(f);else throw this.logger.info("Unexpected error in polling from the server"),WH(mx.postRequestFailed,h.body.error);else return this.logger.verbose("Authorization completed successfully. Polling stopped."),h.body}throw this.logger.error("Polling stopped for unknown reasons."),je(Ti.deviceCodeUnknownError)}createTokenRequestBody(e,r){let n=new Map;vt.addScopes(n,e.scopes),vt.addClientId(n,this.config.authOptions.clientId),vt.addGrantType(n,rc.DEVICE_CODE_GRANT),vt.addDeviceCode(n,r.deviceCode);let i=e.correlationId||this.config.cryptoInterface.createNewGuid();return vt.addCorrelationId(n,i),vt.addClientInfo(n),vt.addLibraryInfo(n,this.config.libraryInfo),vt.addApplicationTelemetry(n,this.config.telemetry.application),vt.addThrottling(n),this.serverTelemetryManager&&vt.addServerTelemetry(n,this.serverTelemetryManager),(!uo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&vt.addClaims(n,e.claims,this.config.authOptions.clientCapabilities),va.mapToQueryString(n)}};var qx=class extends vg{static{o(this,"PublicClientApplication")}constructor(e){super(e),this.config.broker.nativeBrokerPlugin&&(this.config.broker.nativeBrokerPlugin.isBrokerAvailable?(this.nativeBrokerPlugin=this.config.broker.nativeBrokerPlugin,this.nativeBrokerPlugin.setLogger(this.config.system.loggerOptions)):this.logger.warning("NativeBroker implementation was provided but the broker is unavailable.")),this.skus=qC.makeExtraSkuString({libraryName:Qs.MSAL_SKU,libraryVersion:af})}async acquireTokenByDeviceCode(e){this.logger.info("acquireTokenByDeviceCode called",e.correlationId);let r=Object.assign(e,await this.initializeBaseRequest(e)),n=this.initializeServerTelemetryManager(vA.acquireTokenByDeviceCode,r.correlationId);try{let i=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),s=await this.buildOauthClientConfiguration(i,r.correlationId,"",n),a=new Hx(s);return this.logger.verbose("Device code client created",r.correlationId),await a.acquireToken(r)}catch(i){throw i instanceof Qr&&i.setCorrelationId(r.correlationId),n.cacheFailedRequest(i),i}}async acquireTokenInteractive(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();this.logger.trace("acquireTokenInteractive called",r);let{openBrowser:n,successTemplate:i,errorTemplate:s,windowHandle:a,loopbackClient:c,...l}=e;if(this.nativeBrokerPlugin){let y={...l,clientId:this.config.auth.clientId,scopes:e.scopes||ec,redirectUri:`${Qs.HTTP_PROTOCOL}${Qs.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...l.extraQueryParameters,...l.tokenQueryParameters,[NC.X_CLIENT_EXTRA_SKU]:this.skus},accountId:l.account?.nativeAccountId};return this.nativeBrokerPlugin.acquireTokenInteractive(y,a)}let{verifier:f,challenge:d}=await this.cryptoProvider.generatePkceCodes(),h=c||new D7,A={},m=null;try{let y=h.listenForAuthCode(i,s).then(N=>{A=N}).catch(N=>{m=N}),x=await this.waitForRedirectUri(h),_={...l,correlationId:r,scopes:e.scopes||ec,redirectUri:x,responseMode:Sd.QUERY,codeChallenge:d,codeChallengeMethod:uR.S256},T=await this.getAuthCodeUrl(_);if(await n(T),await y,m)throw m;if(A.error)throw new y0(A.error,A.error_description,A.suberror);if(!A.code)throw ic.createNoAuthCodeInResponseError();let S=A.client_info,k={code:A.code,codeVerifier:f,clientInfo:S||Pe.EMPTY_STRING,..._};return await this.acquireTokenByCode(k)}finally{h.closeServer()}}async acquireTokenSilent(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();if(this.logger.trace("acquireTokenSilent called",r),this.nativeBrokerPlugin){let n={...e,clientId:this.config.auth.clientId,scopes:e.scopes||ec,redirectUri:`${Qs.HTTP_PROTOCOL}${Qs.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...e.tokenQueryParameters,[NC.X_CLIENT_EXTRA_SKU]:this.skus},accountId:e.account.nativeAccountId,forceRefresh:e.forceRefresh||!1};return this.nativeBrokerPlugin.acquireTokenSilent(n)}return super.acquireTokenSilent(e)}async signOut(e){if(this.nativeBrokerPlugin&&e.account.nativeAccountId){let r={clientId:this.config.auth.clientId,accountId:e.account.nativeAccountId,correlationId:e.correlationId||this.cryptoProvider.createNewGuid()};await this.nativeBrokerPlugin.signOut(r)}await this.getTokenCache().removeAccount(e.account,e.correlationId)}async getAllAccounts(){if(this.nativeBrokerPlugin){let e=this.cryptoProvider.createNewGuid();return this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId,e)}return this.getTokenCache().getAllAccounts()}async waitForRedirectUri(e){return new Promise((r,n)=>{let i=0,s=setInterval(()=>{if(UR.TIMEOUT_MS/UR.INTERVAL_MS<i){clearInterval(s),n(ic.createLoopbackServerTimeoutError());return}try{let a=e.getRedirectUri();clearInterval(s),r(a);return}catch(a){if(a instanceof Qr&&a.errorCode===Js.noLoopbackServerExists.code){i++;return}clearInterval(s),n(a);return}},UR.INTERVAL_MS)})}};u();u();var Tg=class extends Ta{static{o(this,"ClientCredentialClient")}constructor(e,r){super(e),this.appTokenProvider=r}async acquireToken(e){if(e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority);let[r,n]=await this.getCachedAuthenticationResult(e,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);return r?(n===ki.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.executeTokenRequest(e,this.authority,!0)),r):this.executeTokenRequest(e,this.authority)}async getCachedAuthenticationResult(e,r,n,i,s,a){let c=r,l=r,f=ki.NOT_APPLICABLE,d;c.serializableCache&&c.persistencePlugin&&(d=new $c(c.serializableCache,!1),await c.persistencePlugin.beforeCacheAccess(d));let h=this.readAccessTokenFromCache(i,l.managedIdentityId?.id||c.authOptions.clientId,new Es(e.scopes||[]),s,e.correlationId);return c.serializableCache&&c.persistencePlugin&&d&&await c.persistencePlugin.afterCacheAccess(d),h?Ki.isTokenExpired(h.expiresOn,c.systemOptions?.tokenRenewalOffsetSeconds||px)?(a?.setCacheOutcome(ki.CACHED_ACCESS_TOKEN_EXPIRED),[null,ki.CACHED_ACCESS_TOKEN_EXPIRED]):(h.refreshOn&&Ki.isTokenExpired(h.refreshOn.toString(),0)&&(f=ki.PROACTIVELY_REFRESHED,a?.setCacheOutcome(ki.PROACTIVELY_REFRESHED)),[await ns.generateAuthenticationResult(n,i,{account:null,idToken:null,accessToken:h,refreshToken:null,appMetadata:null},!0,e),f]):(a?.setCacheOutcome(ki.NO_CACHED_ACCESS_TOKEN),[null,ki.NO_CACHED_ACCESS_TOKEN])}readAccessTokenFromCache(e,r,n,i,s){let a={homeAccountId:Pe.EMPTY_STRING,environment:e.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:qn.ACCESS_TOKEN,clientId:r,realm:e.tenant,target:Es.createSearchScopes(n.asArray())},c=i.getAccessTokensByFilter(a,s);if(c.length<1)return null;if(c.length>1)throw je(Ti.multipleMatchingTokens);return c[0]}async executeTokenRequest(e,r,n){let i,s;if(this.appTokenProvider){this.logger.info("Using appTokenProvider extensibility.");let l={correlationId:e.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:e.scopes,claims:e.claims};s=Ki.nowSeconds();let f=await this.appTokenProvider(l);i={access_token:f.accessToken,expires_in:f.expiresInSeconds,refresh_in:f.refreshInSeconds,token_type:_n.BEARER}}else{let l=this.createTokenQueryParameters(e),f=sn.appendQueryString(r.tokenEndpoint,l),d=await this.createTokenRequestBody(e),h=this.createTokenRequestHeaders(),A={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};this.logger.info("Sending token request to endpoint: "+r.tokenEndpoint),s=Ki.nowSeconds();let m=await this.executePostToTokenEndpoint(f,d,h,A,e.correlationId);i=m.body,i.status=m.status}let a=new ns(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(i,n),await a.handleServerTokenResponse(i,this.authority,s,e)}async createTokenRequestBody(e){let r=new Map;vt.addClientId(r,this.config.authOptions.clientId),vt.addScopes(r,e.scopes,!1),vt.addGrantType(r,rc.CLIENT_CREDENTIALS_GRANT),vt.addLibraryInfo(r,this.config.libraryInfo),vt.addApplicationTelemetry(r,this.config.telemetry.application),vt.addThrottling(r),this.serverTelemetryManager&&vt.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();vt.addCorrelationId(r,n),this.config.clientCredentials.clientSecret&&vt.addClientSecret(r,this.config.clientCredentials.clientSecret);let i=e.clientAssertion||this.config.clientCredentials.clientAssertion;return i&&(vt.addClientAssertion(r,await C0(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),vt.addClientAssertionType(r,i.assertionType)),(!uo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&vt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),va.mapToQueryString(r)}};u();var Gx=class extends Ta{static{o(this,"OnBehalfOfClient")}constructor(e){super(e)}async acquireToken(e){if(this.scopeSet=new Es(e.scopes||[]),this.userAssertionHash=await this.cryptoUtils.hashString(e.oboAssertion),e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority,this.userAssertionHash);try{return await this.getCachedAuthenticationResult(e)}catch{return await this.executeTokenRequest(e,this.authority,this.userAssertionHash)}}async getCachedAuthenticationResult(e){let r=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,e);if(r){if(Ki.isTokenExpired(r.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.serverTelemetryManager?.setCacheOutcome(ki.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`),je(Ti.tokenRefreshRequired)}else throw this.serverTelemetryManager?.setCacheOutcome(ki.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),je(Ti.tokenRefreshRequired);let n=this.readIdTokenFromCacheForOBO(r.homeAccountId,e.correlationId),i,s=null;if(n){i=AR.extractTokenClaims(n.secret,zc.base64Decode);let a=i.oid||i.sub,c={homeAccountId:n.homeAccountId,environment:n.environment,tenantId:n.realm,username:Pe.EMPTY_STRING,localAccountId:a||Pe.EMPTY_STRING};s=this.cacheManager.readAccountFromCache(c,e.correlationId)}return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),ns.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:s,accessToken:r,idToken:n,refreshToken:null,appMetadata:null},!0,e,i)}readIdTokenFromCacheForOBO(e,r){let n={homeAccountId:e,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:qn.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},i=this.cacheManager.getIdTokensByFilter(n,r);return Object.values(i).length<1?null:Object.values(i)[0]}readAccessTokenFromCacheForOBO(e,r){let n=r.authenticationScheme||_n.BEARER,s={credentialType:n&&n.toLowerCase()!==_n.BEARER.toLowerCase()?qn.ACCESS_TOKEN_WITH_AUTH_SCHEME:qn.ACCESS_TOKEN,clientId:e,target:Es.createSearchScopes(this.scopeSet.asArray()),tokenType:n,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash,userAssertionHash:this.userAssertionHash},a=this.cacheManager.getAccessTokensByFilter(s,r.correlationId),c=a.length;if(c<1)return null;if(c>1)throw je(Ti.multipleMatchingTokens);return a[0]}async executeTokenRequest(e,r,n){let i=this.createTokenQueryParameters(e),s=sn.appendQueryString(r.tokenEndpoint,i),a=await this.createTokenRequestBody(e),c=this.createTokenRequestHeaders(),l={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},f=Ki.nowSeconds(),d=await this.executePostToTokenEndpoint(s,a,c,l,e.correlationId),h=new ns(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return h.validateTokenResponse(d.body),await h.handleServerTokenResponse(d.body,this.authority,f,e,void 0,n)}async createTokenRequestBody(e){let r=new Map;vt.addClientId(r,this.config.authOptions.clientId),vt.addScopes(r,e.scopes),vt.addGrantType(r,rc.JWT_BEARER),vt.addClientInfo(r),vt.addLibraryInfo(r,this.config.libraryInfo),vt.addApplicationTelemetry(r,this.config.telemetry.application),vt.addThrottling(r),this.serverTelemetryManager&&vt.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();vt.addCorrelationId(r,n),vt.addRequestTokenUse(r,NC.ON_BEHALF_OF),vt.addOboAssertion(r,e.oboAssertion),this.config.clientCredentials.clientSecret&&vt.addClientSecret(r,this.config.clientCredentials.clientSecret);let i=this.config.clientCredentials.clientAssertion;return i&&(vt.addClientAssertion(r,await C0(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),vt.addClientAssertionType(r,i.assertionType)),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&vt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),va.mapToQueryString(r)}};var Vx=class extends vg{static{o(this,"ConfidentialClientApplication")}constructor(e){super(e);let r=!!this.config.auth.clientSecret,n=!!this.config.auth.clientAssertion,i=(!!this.config.auth.clientCertificate?.thumbprint||!!this.config.auth.clientCertificate?.thumbprintSha256)&&!!this.config.auth.clientCertificate?.privateKey;if(!this.appTokenProvider){if(r&&n||n&&i||r&&i)throw je(Ti.invalidClientCredential);if(this.config.auth.clientSecret){this.clientSecret=this.config.auth.clientSecret;return}if(this.config.auth.clientAssertion){this.developerProvidedClientAssertion=this.config.auth.clientAssertion;return}if(i)this.clientAssertion=this.config.auth.clientCertificate.thumbprintSha256?TA.fromCertificateWithSha256Thumbprint(this.config.auth.clientCertificate.thumbprintSha256,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c):TA.fromCertificate(this.config.auth.clientCertificate.thumbprint,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c);else throw je(Ti.invalidClientCredential);this.appTokenProvider=void 0}}SetAppTokenProvider(e){this.appTokenProvider=e}async acquireTokenByClientCredential(e){this.logger.info("acquireTokenByClientCredential called",e.correlationId);let r;e.clientAssertion&&(r={assertion:await C0(e.clientAssertion,this.config.auth.clientId),assertionType:Qs.JWT_BEARER_ASSERTION_TYPE});let n=await this.initializeBaseRequest(e),i={...n,scopes:n.scopes.filter(A=>!ec.includes(A))},s={...e,...i,clientAssertion:r},c=new sn(s.authority).getUrlComponents().PathSegments[0];if(Object.values(tc).includes(c))throw je(Ti.missingTenantIdError);let l=process.env[Zce],f;s.azureRegion!=="DisableMsalForceRegion"&&(!s.azureRegion&&l?f=l:f=s.azureRegion);let d={azureRegion:f,environmentRegion:process.env[Xce]},h=this.initializeServerTelemetryManager(vA.acquireTokenByClientCredential,s.correlationId,s.skipCache);try{let A=await this.createAuthority(s.authority,s.correlationId,d,e.azureCloudOptions),m=await this.buildOauthClientConfiguration(A,s.correlationId,"",h),y=new Tg(m,this.appTokenProvider);return this.logger.verbose("Client credential client created",s.correlationId),await y.acquireToken(s)}catch(A){throw A instanceof Qr&&A.setCorrelationId(s.correlationId),h.cacheFailedRequest(A),A}}async acquireTokenOnBehalfOf(e){this.logger.info("acquireTokenOnBehalfOf called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)};try{let n=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),i=await this.buildOauthClientConfiguration(n,r.correlationId,"",void 0),s=new Gx(i);return this.logger.verbose("On behalf of client created",r.correlationId),await s.acquireToken(r)}catch(n){throw n instanceof Qr&&n.setCorrelationId(r.correlationId),n}}};u();u();u();u();u();function jde(t){if(typeof t!="string")return!1;let e=new Date(t);return!isNaN(e.getTime())&&e.toISOString()===t}o(jde,"isIso8601");u();var N7=class{static{o(this,"HttpClientWithRetries")}constructor(e,r,n){this.httpClientNoRetries=e,this.retryPolicy=r,this.logger=n}async sendNetworkRequestAsyncHelper(e,r,n){return e===Ji.GET?this.httpClientNoRetries.sendGetRequestAsync(r,n):this.httpClientNoRetries.sendPostRequestAsync(r,n)}async sendNetworkRequestAsync(e,r,n){let i=await this.sendNetworkRequestAsyncHelper(e,r,n);"isNewRequest"in this.retryPolicy&&(this.retryPolicy.isNewRequest=!0);let s=0;for(;await this.retryPolicy.pauseForRetry(i.status,s,this.logger,i.headers[Fi.RETRY_AFTER]);)i=await this.sendNetworkRequestAsyncHelper(e,r,n),s++;return i}async sendGetRequestAsync(e,r){return this.sendNetworkRequestAsync(Ji.GET,e,r)}async sendPostRequestAsync(e,r){return this.sendNetworkRequestAsync(Ji.POST,e,r)}};var $C={MANAGED_IDENTITY_CLIENT_ID_2017:"clientid",MANAGED_IDENTITY_CLIENT_ID:"client_id",MANAGED_IDENTITY_OBJECT_ID:"object_id",MANAGED_IDENTITY_RESOURCE_ID_IMDS:"msi_res_id",MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS:"mi_res_id"},x0=class{static{o(this,"BaseManagedIdentitySource")}constructor(e,r,n,i,s){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=i,this.disableInternalRetries=s}async getServerTokenResponseAsync(e,r,n,i){return this.getServerTokenResponse(e)}getServerTokenResponse(e){let r,n;return e.body.expires_on&&(jde(e.body.expires_on)&&(e.body.expires_on=new Date(e.body.expires_on).getTime()/1e3),n=e.body.expires_on-Ki.nowSeconds(),n>2*3600&&(r=n/2)),{status:e.status,access_token:e.body.access_token,expires_in:n,scope:e.body.resource,token_type:e.body.token_type,refresh_in:r,correlation_id:e.body.correlation_id||e.body.correlationId,error:typeof e.body.error=="string"?e.body.error:e.body.error?.code,error_description:e.body.message||(typeof e.body.error=="string"?e.body.error_description:e.body.error?.message),error_codes:e.body.error_codes,timestamp:e.body.timestamp,trace_id:e.body.trace_id}}async acquireTokenWithManagedIdentity(e,r,n,i){let s=this.createRequest(e.resource,r);if(e.revokedTokenSha256Hash&&(this.logger.info(`[Managed Identity] The following claims are present in the request: ${e.claims}`),s.queryParameters[Is.SHA256_TOKEN_TO_REFRESH]=e.revokedTokenSha256Hash),e.clientCapabilities?.length){let m=e.clientCapabilities.toString();this.logger.info(`[Managed Identity] The following client capabilities are present in the request: ${m}`),s.queryParameters[Is.XMS_CC]=m}let a=s.headers;a[Fi.CONTENT_TYPE]=Pe.URL_FORM_CONTENT_TYPE;let c={headers:a};Object.keys(s.bodyParameters).length&&(c.body=s.computeParametersBodyString());let l=this.disableInternalRetries?this.networkClient:new N7(this.networkClient,s.retryPolicy,this.logger),f=Ki.nowSeconds(),d;try{s.httpMethod===Ji.POST?d=await l.sendPostRequestAsync(s.computeUri(),c):d=await l.sendGetRequestAsync(s.computeUri(),c)}catch(m){throw m instanceof Qr?m:je(Ti.networkError)}let h=new ns(r.id,this.nodeStorage,this.cryptoProvider,this.logger,null,null),A=await this.getServerTokenResponseAsync(d,l,s,c);return h.validateTokenResponse(A,i),h.handleServerTokenResponse(A,n,f,e)}getManagedIdentityUserAssignedIdQueryParameterKey(e,r,n){switch(e){case _o.USER_ASSIGNED_CLIENT_ID:return this.logger.info(`[Managed Identity] [API version ${n?"2017+":"2019+"}] Adding user assigned client id to the request.`),n?$C.MANAGED_IDENTITY_CLIENT_ID_2017:$C.MANAGED_IDENTITY_CLIENT_ID;case _o.USER_ASSIGNED_RESOURCE_ID:return this.logger.info("[Managed Identity] Adding user assigned resource id to the request."),r?$C.MANAGED_IDENTITY_RESOURCE_ID_IMDS:$C.MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS;case _o.USER_ASSIGNED_OBJECT_ID:return this.logger.info("[Managed Identity] Adding user assigned object id to the request."),$C.MANAGED_IDENTITY_OBJECT_ID;default:throw is(Cg)}}};x0.getValidatedEnvVariableUrlString=(t,e,r,n)=>{try{return new sn(e).urlString}catch{throw n.info(`[Managed Identity] ${r} managed identity is unavailable because the '${t}' environment variable is malformed.`),is(GC[t])}};u();u();u();var Q7=class{static{o(this,"LinearRetryStrategy")}calculateDelay(e,r){if(!e)return r;let n=Math.round(parseFloat(e)*1e3);return isNaN(n)&&(n=new Date(e).valueOf()-new Date().valueOf()),Math.max(r,n)}};var XOe=3,ZOe=1e3,eUe=[Nr.NOT_FOUND,Nr.REQUEST_TIMEOUT,Nr.TOO_MANY_REQUESTS,Nr.SERVER_ERROR,Nr.SERVICE_UNAVAILABLE,Nr.GATEWAY_TIMEOUT],P7=class t{static{o(this,"DefaultManagedIdentityRetryPolicy")}constructor(){this.linearRetryStrategy=new Q7}static get DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS(){return ZOe}async pauseForRetry(e,r,n,i){if(eUe.includes(e)&&r<XOe){let s=this.linearRetryStrategy.calculateDelay(i,t.DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS);return n.verbose(`Retrying request in ${s}ms (retry attempt: ${r+1})`),await new Promise(a=>setTimeout(a,s)),!0}return!1}};var sc=class{static{o(this,"ManagedIdentityRequestParameters")}constructor(e,r,n){this.httpMethod=e,this._baseEndpoint=r,this.headers={},this.bodyParameters={},this.queryParameters={},this.retryPolicy=n||new P7}computeUri(){let e=new Map;this.queryParameters&&vt.addExtraQueryParameters(e,this.queryParameters);let r=va.mapToQueryString(e);return sn.appendQueryString(this._baseEndpoint,r)}computeParametersBodyString(){let e=new Map;return this.bodyParameters&&vt.addExtraQueryParameters(e,this.bodyParameters),va.mapToQueryString(e)}};var tUe="2019-08-01",G_=class t extends x0{static{o(this,"AppService")}constructor(e,r,n,i,s,a,c){super(e,r,n,i,s),this.identityEndpoint=a,this.identityHeader=c}static getEnvironmentVariables(){let e=process.env[yr.IDENTITY_ENDPOINT],r=process.env[yr.IDENTITY_HEADER];return[e,r]}static tryCreate(e,r,n,i,s){let[a,c]=t.getEnvironmentVariables();if(!a||!c)return e.info(`[Managed Identity] ${_r.APP_SERVICE} managed identity is unavailable because one or both of the '${yr.IDENTITY_HEADER}' and '${yr.IDENTITY_ENDPOINT}' environment variables are not defined.`),null;let l=t.getValidatedEnvVariableUrlString(yr.IDENTITY_ENDPOINT,a,_r.APP_SERVICE,e);return e.info(`[Managed Identity] Environment variables validation passed for ${_r.APP_SERVICE} managed identity. Endpoint URI: ${l}. Creating ${_r.APP_SERVICE} managed identity.`),new t(e,r,n,i,s,a,c)}createRequest(e,r){let n=new sc(Ji.GET,this.identityEndpoint);return n.headers[nc.APP_SERVICE_SECRET_HEADER_NAME]=this.identityHeader,n.queryParameters[Is.API_VERSION]=tUe,n.queryParameters[Is.RESOURCE]=e,r.idType!==_o.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}};u();var _A=require("fs"),Zde=yt(require("path"),1);var rUe="2019-11-01",Kde="http://127.0.0.1:40342/metadata/identity/oauth2/token",Jde="N/A: himds executable exists",Xde={win32:`${process.env.ProgramData}\\AzureConnectedMachineAgent\\Tokens\\`,linux:"/var/opt/azcmagent/tokens/"},nUe={win32:`${process.env.ProgramFiles}\\AzureConnectedMachineAgent\\himds.exe`,linux:"/opt/azcmagent/bin/himds"},V_=class t extends x0{static{o(this,"AzureArc")}constructor(e,r,n,i,s,a){super(e,r,n,i,s),this.identityEndpoint=a}static getEnvironmentVariables(){let e=process.env[yr.IDENTITY_ENDPOINT],r=process.env[yr.IMDS_ENDPOINT];if(!e||!r){let n=nUe[process.platform];try{(0,_A.accessSync)(n,_A.constants.F_OK|_A.constants.R_OK),e=Kde,r=Jde}catch{}}return[e,r]}static tryCreate(e,r,n,i,s,a){let[c,l]=t.getEnvironmentVariables();if(!c||!l)return e.info(`[Managed Identity] ${_r.AZURE_ARC} managed identity is unavailable through environment variables because one or both of '${yr.IDENTITY_ENDPOINT}' and '${yr.IMDS_ENDPOINT}' are not defined. ${_r.AZURE_ARC} managed identity is also unavailable through file detection.`),null;if(l===Jde)e.info(`[Managed Identity] ${_r.AZURE_ARC} managed identity is available through file detection. Defaulting to known ${_r.AZURE_ARC} endpoint: ${Kde}. Creating ${_r.AZURE_ARC} managed identity.`);else{let f=t.getValidatedEnvVariableUrlString(yr.IDENTITY_ENDPOINT,c,_r.AZURE_ARC,e);f.endsWith("/")&&f.slice(0,-1),t.getValidatedEnvVariableUrlString(yr.IMDS_ENDPOINT,l,_r.AZURE_ARC,e),e.info(`[Managed Identity] Environment variables validation passed for ${_r.AZURE_ARC} managed identity. Endpoint URI: ${f}. Creating ${_r.AZURE_ARC} managed identity.`)}if(a.idType!==_o.SYSTEM_ASSIGNED)throw is(YR);return new t(e,r,n,i,s,c)}createRequest(e){let r=new sc(Ji.GET,this.identityEndpoint.replace("localhost","127.0.0.1"));return r.headers[nc.METADATA_HEADER_NAME]="true",r.queryParameters[Is.API_VERSION]=rUe,r.queryParameters[Is.RESOURCE]=e,r}async getServerTokenResponseAsync(e,r,n,i){let s;if(e.status===Nr.UNAUTHORIZED){let a=e.headers["www-authenticate"];if(!a)throw is(jR);if(!a.includes("Basic realm="))throw is(KR);let c=a.split("Basic realm=")[1];if(!Xde.hasOwnProperty(process.platform))throw is(WR);let l=Xde[process.platform],f=Zde.default.basename(c);if(!f.endsWith(".key"))throw is(qR);if(l+f!==c)throw is(GR);let d;try{d=await(0,_A.statSync)(c).size}catch{throw is(R_)}if(d>rle)throw is(VR);let h;try{h=(0,_A.readFileSync)(c,xa.UTF8)}catch{throw is(R_)}let A=`Basic ${h}`;this.logger.info("[Managed Identity] Adding authorization header to the request."),n.headers[nc.AUTHORIZATION_HEADER_NAME]=A;try{s=await r.sendGetRequestAsync(n.computeUri(),i)}catch(m){throw m instanceof Qr?m:je(Ti.networkError)}}return this.getServerTokenResponse(s||e)}};u();var W_=class t extends x0{static{o(this,"CloudShell")}constructor(e,r,n,i,s,a){super(e,r,n,i,s),this.msiEndpoint=a}static getEnvironmentVariables(){return[process.env[yr.MSI_ENDPOINT]]}static tryCreate(e,r,n,i,s,a){let[c]=t.getEnvironmentVariables();if(!c)return e.info(`[Managed Identity] ${_r.CLOUD_SHELL} managed identity is unavailable because the '${yr.MSI_ENDPOINT} environment variable is not defined.`),null;let l=t.getValidatedEnvVariableUrlString(yr.MSI_ENDPOINT,c,_r.CLOUD_SHELL,e);if(e.info(`[Managed Identity] Environment variable validation passed for ${_r.CLOUD_SHELL} managed identity. Endpoint URI: ${l}. Creating ${_r.CLOUD_SHELL} managed identity.`),a.idType!==_o.SYSTEM_ASSIGNED)throw is($R);return new t(e,r,n,i,s,c)}createRequest(e){let r=new sc(Ji.POST,this.msiEndpoint);return r.headers[nc.METADATA_HEADER_NAME]="true",r.bodyParameters[Is.RESOURCE]=e,r}};u();u();u();var F7=class{static{o(this,"ExponentialRetryStrategy")}constructor(e,r,n){this.minExponentialBackoff=e,this.maxExponentialBackoff=r,this.exponentialDeltaBackoff=n}calculateDelay(e){return e===0?this.minExponentialBackoff:Math.min(Math.pow(2,e-1)*this.exponentialDeltaBackoff,this.maxExponentialBackoff)}};var iUe=[Nr.NOT_FOUND,Nr.REQUEST_TIMEOUT,Nr.GONE,Nr.TOO_MANY_REQUESTS],oUe=3,sUe=7,aUe=1e3,cUe=4e3,lUe=2e3,uUe=10*1e3,M7=class t{static{o(this,"ImdsRetryPolicy")}constructor(){this.exponentialRetryStrategy=new F7(t.MIN_EXPONENTIAL_BACKOFF_MS,t.MAX_EXPONENTIAL_BACKOFF_MS,t.EXPONENTIAL_DELTA_BACKOFF_MS)}static get MIN_EXPONENTIAL_BACKOFF_MS(){return aUe}static get MAX_EXPONENTIAL_BACKOFF_MS(){return cUe}static get EXPONENTIAL_DELTA_BACKOFF_MS(){return lUe}static get HTTP_STATUS_GONE_RETRY_AFTER_MS(){return uUe}set isNewRequest(e){this._isNewRequest=e}async pauseForRetry(e,r,n){if(this._isNewRequest&&(this._isNewRequest=!1,this.maxRetries=e===Nr.GONE?sUe:oUe),(iUe.includes(e)||e>=Nr.SERVER_ERROR_RANGE_START&&e<=Nr.SERVER_ERROR_RANGE_END&&r<this.maxRetries)&&r<this.maxRetries){let i=e===Nr.GONE?t.HTTP_STATUS_GONE_RETRY_AFTER_MS:this.exponentialRetryStrategy.calculateDelay(r);return n.verbose(`Retrying request in ${i}ms (retry attempt: ${r+1})`),await new Promise(s=>setTimeout(s,i)),!0}return!1}};var ehe="/metadata/identity/oauth2/token",fUe=`http://169.254.169.254${ehe}`,dUe="2018-02-01",L7=class t extends x0{static{o(this,"Imds")}constructor(e,r,n,i,s,a){super(e,r,n,i,s),this.identityEndpoint=a}static tryCreate(e,r,n,i,s){let a;return process.env[yr.AZURE_POD_IDENTITY_AUTHORITY_HOST]?(e.info(`[Managed Identity] Environment variable ${yr.AZURE_POD_IDENTITY_AUTHORITY_HOST} for ${_r.IMDS} returned endpoint: ${process.env[yr.AZURE_POD_IDENTITY_AUTHORITY_HOST]}`),a=t.getValidatedEnvVariableUrlString(yr.AZURE_POD_IDENTITY_AUTHORITY_HOST,`${process.env[yr.AZURE_POD_IDENTITY_AUTHORITY_HOST]}${ehe}`,_r.IMDS,e)):(e.info(`[Managed Identity] Unable to find ${yr.AZURE_POD_IDENTITY_AUTHORITY_HOST} environment variable for ${_r.IMDS}, using the default endpoint.`),a=fUe),new t(e,r,n,i,s,a)}createRequest(e,r){let n=new sc(Ji.GET,this.identityEndpoint);return n.headers[nc.METADATA_HEADER_NAME]="true",n.queryParameters[Is.API_VERSION]=dUe,n.queryParameters[Is.RESOURCE]=e,r.idType!==_o.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType,!0)]=r.id),n.retryPolicy=new M7,n}};u();var hUe="2019-07-01-preview",Y_=class t extends x0{static{o(this,"ServiceFabric")}constructor(e,r,n,i,s,a,c){super(e,r,n,i,s),this.identityEndpoint=a,this.identityHeader=c}static getEnvironmentVariables(){let e=process.env[yr.IDENTITY_ENDPOINT],r=process.env[yr.IDENTITY_HEADER],n=process.env[yr.IDENTITY_SERVER_THUMBPRINT];return[e,r,n]}static tryCreate(e,r,n,i,s,a){let[c,l,f]=t.getEnvironmentVariables();if(!c||!l||!f)return e.info(`[Managed Identity] ${_r.SERVICE_FABRIC} managed identity is unavailable because one or all of the '${yr.IDENTITY_HEADER}', '${yr.IDENTITY_ENDPOINT}' or '${yr.IDENTITY_SERVER_THUMBPRINT}' environment variables are not defined.`),null;let d=t.getValidatedEnvVariableUrlString(yr.IDENTITY_ENDPOINT,c,_r.SERVICE_FABRIC,e);return e.info(`[Managed Identity] Environment variables validation passed for ${_r.SERVICE_FABRIC} managed identity. Endpoint URI: ${d}. Creating ${_r.SERVICE_FABRIC} managed identity.`),a.idType!==_o.SYSTEM_ASSIGNED&&e.warning(`[Managed Identity] ${_r.SERVICE_FABRIC} user assigned managed identity is configured in the cluster, not during runtime. See also: https://learn.microsoft.com/en-us/azure/service-fabric/configure-existing-cluster-enable-managed-identity-token-service.`),new t(e,r,n,i,s,c,l)}createRequest(e,r){let n=new sc(Ji.GET,this.identityEndpoint);return n.headers[nc.ML_AND_SF_SECRET_HEADER_NAME]=this.identityHeader,n.queryParameters[Is.API_VERSION]=hUe,n.queryParameters[Is.RESOURCE]=e,r.idType!==_o.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}};u();var AUe="2017-09-01",pUe=`Only client id is supported for user-assigned managed identity in ${_r.MACHINE_LEARNING}.`,$_=class t extends x0{static{o(this,"MachineLearning")}constructor(e,r,n,i,s,a,c){super(e,r,n,i,s),this.msiEndpoint=a,this.secret=c}static getEnvironmentVariables(){let e=process.env[yr.MSI_ENDPOINT],r=process.env[yr.MSI_SECRET];return[e,r]}static tryCreate(e,r,n,i,s){let[a,c]=t.getEnvironmentVariables();if(!a||!c)return e.info(`[Managed Identity] ${_r.MACHINE_LEARNING} managed identity is unavailable because one or both of the '${yr.MSI_ENDPOINT}' and '${yr.MSI_SECRET}' environment variables are not defined.`),null;let l=t.getValidatedEnvVariableUrlString(yr.MSI_ENDPOINT,a,_r.MACHINE_LEARNING,e);return e.info(`[Managed Identity] Environment variables validation passed for ${_r.MACHINE_LEARNING} managed identity. Endpoint URI: ${l}. Creating ${_r.MACHINE_LEARNING} managed identity.`),new t(e,r,n,i,s,a,c)}createRequest(e,r){let n=new sc(Ji.GET,this.msiEndpoint);if(n.headers[nc.METADATA_HEADER_NAME]="true",n.headers[nc.ML_AND_SF_SECRET_HEADER_NAME]=this.secret,n.queryParameters[Is.API_VERSION]=AUe,n.queryParameters[Is.RESOURCE]=e,r.idType===_o.SYSTEM_ASSIGNED)n.queryParameters[$C.MANAGED_IDENTITY_CLIENT_ID_2017]=process.env[yr.DEFAULT_IDENTITY_CLIENT_ID];else if(r.idType===_o.USER_ASSIGNED_CLIENT_ID)n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType,!1,!0)]=r.id;else throw new Error(pUe);return n}};var z_=class t{static{o(this,"ManagedIdentityClient")}constructor(e,r,n,i,s){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=i,this.disableInternalRetries=s}async sendManagedIdentityTokenRequest(e,r,n,i){return t.identitySource||(t.identitySource=this.selectManagedIdentitySource(this.logger,this.nodeStorage,this.networkClient,this.cryptoProvider,this.disableInternalRetries,r)),t.identitySource.acquireTokenWithManagedIdentity(e,r,n,i)}allEnvironmentVariablesAreDefined(e){return Object.values(e).every(r=>r!==void 0)}getManagedIdentitySource(){return t.sourceName=this.allEnvironmentVariablesAreDefined(Y_.getEnvironmentVariables())?_r.SERVICE_FABRIC:this.allEnvironmentVariablesAreDefined(G_.getEnvironmentVariables())?_r.APP_SERVICE:this.allEnvironmentVariablesAreDefined($_.getEnvironmentVariables())?_r.MACHINE_LEARNING:this.allEnvironmentVariablesAreDefined(W_.getEnvironmentVariables())?_r.CLOUD_SHELL:this.allEnvironmentVariablesAreDefined(V_.getEnvironmentVariables())?_r.AZURE_ARC:_r.DEFAULT_TO_IMDS,t.sourceName}selectManagedIdentitySource(e,r,n,i,s,a){let c=Y_.tryCreate(e,r,n,i,s,a)||G_.tryCreate(e,r,n,i,s)||$_.tryCreate(e,r,n,i,s)||W_.tryCreate(e,r,n,i,s,a)||V_.tryCreate(e,r,n,i,s,a)||L7.tryCreate(e,r,n,i,s);if(!c)throw is(zR);return c}};var mUe=[_r.SERVICE_FABRIC],Wx=class t{static{o(this,"ManagedIdentityApplication")}constructor(e){this.config=ule(e||{}),this.logger=new Vc(this.config.system.loggerOptions,k7,af);let r={canonicalAuthority:Pe.DEFAULT_AUTHORITY};t.nodeStorage||(t.nodeStorage=new Ig(this.logger,this.config.managedIdentityId.id,gx,r)),this.networkClient=this.config.system.networkClient,this.cryptoProvider=new Nd;let n={protocolMode:ja.AAD,knownAuthorities:[oG],cloudDiscoveryMetadata:"",authorityMetadata:""};this.fakeAuthority=new of(oG,this.networkClient,t.nodeStorage,n,this.logger,this.cryptoProvider.createNewGuid(),void 0,!0),this.fakeClientCredentialClient=new Tg({authOptions:{clientId:this.config.managedIdentityId.id,authority:this.fakeAuthority}}),this.managedIdentityClient=new z_(this.logger,t.nodeStorage,this.networkClient,this.cryptoProvider,this.config.disableInternalRetries),this.hashUtils=new Eg}async acquireToken(e){if(!e.resource)throw _i(Ix.urlEmptyError);let r={forceRefresh:e.forceRefresh,resource:e.resource.replace("/.default",""),scopes:[e.resource.replace("/.default","")],authority:this.fakeAuthority.canonicalAuthority,correlationId:this.cryptoProvider.createNewGuid(),claims:e.claims,clientCapabilities:this.config.clientCapabilities};if(r.forceRefresh)return this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority);let[n,i]=await this.fakeClientCredentialClient.getCachedAuthenticationResult(r,this.config,this.cryptoProvider,this.fakeAuthority,t.nodeStorage);if(r.claims){let s=this.managedIdentityClient.getManagedIdentitySource();if(n&&mUe.includes(s)){let a=this.hashUtils.sha256(n.accessToken).toString(xa.HEX);r.revokedTokenSha256Hash=a}return this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority)}return n?(i===ki.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority,!0)),n):this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority)}async acquireTokenFromManagedIdentity(e,r,n,i){return this.managedIdentityClient.sendManagedIdentityTokenRequest(e,r,n,i)}getManagedIdentitySource(){return z_.sourceName||this.managedIdentityClient.getManagedIdentitySource()}};u();var O7=class{static{o(this,"DistributedCachePlugin")}constructor(e,r){this.client=e,this.partitionManager=r}async beforeCacheAccess(e){let r=await this.partitionManager.getKey(),n=await this.client.get(r);e.tokenCache.deserialize(n)}async afterCacheAccess(e){if(e.cacheHasChanged){let r=e.tokenCache.getKVStore(),n=Object.values(r).filter(s=>ba.isAccountEntity(s)),i;if(n.length>0){let s=n[0];i=await this.partitionManager.extractKey(s)}else i=await this.partitionManager.getKey();await this.client.set(i,e.tokenCache.serialize())}}};u();u();u();u();u();function j_(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}o(j_,"getRandomIntegerInclusive");function K_(t,e){let r=e.retryDelayInMs*Math.pow(2,t),n=Math.min(e.maxRetryDelayInMs,r);return{retryAfterInMs:n/2+j_(0,n/2)}}o(K_,"calculateRetryDelay");u();function Yx(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}o(Yx,"isObject");u();function zC(t){if(Yx(t)){let e=typeof t.name=="string",r=typeof t.message=="string";return e&&r}return!1}o(zC,"isError");u();u();var the=require("node:crypto");var ZG,gUe=typeof((ZG=globalThis?.crypto)===null||ZG===void 0?void 0:ZG.randomUUID)=="function"?globalThis.crypto.randomUUID.bind(globalThis.crypto):the.randomUUID;function $x(){return gUe()}o($x,"randomUUID");u();var eV,tV,rV,nV,rhe=typeof window<"u"&&typeof window.document<"u",nhe=typeof self=="object"&&typeof self?.importScripts=="function"&&(((eV=self.constructor)===null||eV===void 0?void 0:eV.name)==="DedicatedWorkerGlobalScope"||((tV=self.constructor)===null||tV===void 0?void 0:tV.name)==="ServiceWorkerGlobalScope"||((rV=self.constructor)===null||rV===void 0?void 0:rV.name)==="SharedWorkerGlobalScope"),ihe=typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u",ohe=typeof Bun<"u"&&typeof Bun.version<"u",_g=typeof globalThis.process<"u"&&!!globalThis.process.version&&!!(!((nV=globalThis.process.versions)===null||nV===void 0)&&nV.node);var she=typeof navigator<"u"&&navigator?.product==="ReactNative";u();function ac(t,e){return Buffer.from(t,e)}o(ac,"stringToUint8Array");u();var iV="REDACTED",yUe=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],CUe=["api-version"],cf=class{static{o(this,"Sanitizer")}constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:r=[]}={}){e=yUe.concat(e),r=CUe.concat(r),this.allowedHeaderNames=new Set(e.map(n=>n.toLowerCase())),this.allowedQueryParameters=new Set(r.map(n=>n.toLowerCase()))}sanitize(e){let r=new Set;return JSON.stringify(e,(n,i)=>{if(i instanceof Error)return Object.assign(Object.assign({},i),{name:i.name,message:i.message});if(n==="headers")return this.sanitizeHeaders(i);if(n==="url")return this.sanitizeUrl(i);if(n==="query")return this.sanitizeQuery(i);if(n==="body")return;if(n==="response")return;if(n==="operationSpec")return;if(Array.isArray(i)||Yx(i)){if(r.has(i))return"[Circular]";r.add(i)}return i},2)}sanitizeUrl(e){if(typeof e!="string"||e===null||e==="")return e;let r=new URL(e);if(!r.search)return e;for(let[n]of r.searchParams)this.allowedQueryParameters.has(n.toLowerCase())||r.searchParams.set(n,iV);return r.toString()}sanitizeHeaders(e){let r={};for(let n of Object.keys(e))this.allowedHeaderNames.has(n.toLowerCase())?r[n]=e[n]:r[n]=iV;return r}sanitizeQuery(e){if(typeof e!="object"||e===null)return e;let r={};for(let n of Object.keys(e))this.allowedQueryParameters.has(n.toLowerCase())?r[n]=e[n]:r[n]=iV;return r}};u();u();u();u();var jC=class extends Error{static{o(this,"AbortError")}constructor(e){super(e),this.name="AbortError"}};function sV(t,e){let{cleanupBeforeAbort:r,abortSignal:n,abortErrorMsg:i}=e??{};return new Promise((s,a)=>{function c(){a(new jC(i??"The operation was aborted."))}o(c,"rejectOnAbort");function l(){n?.removeEventListener("abort",f)}o(l,"removeListeners");function f(){r?.(),l(),c()}if(o(f,"onAbort"),n?.aborted)return c();try{t(d=>{l(),s(d)},d=>{l(),a(d)})}catch(d){a(d)}n?.addEventListener("abort",f)})}o(sV,"createAbortablePromise");u();var vUe="The delay was aborted.";function aV(t,e){let r,{abortSignal:n,abortErrorMsg:i}=e??{};return sV(s=>{r=setTimeout(s,t)},{cleanupBeforeAbort:o(()=>clearTimeout(r),"cleanupBeforeAbort"),abortSignal:n,abortErrorMsg:i??vUe})}o(aV,"delay");u();function zx(t){if(zC(t))return t.message;{let e;try{typeof t=="object"&&t?e=JSON.stringify(t):e=String(t)}catch{e="[unable to stringify input]"}return`Unknown error ${e}`}}o(zx,"getErrorMessage");u();function ahe(t,e){return K_(t,e)}o(ahe,"calculateRetryDelay");function U7(t){return zC(t)}o(U7,"isError");var H7=_g,jx=_g;u();var J_=Rr("IdentityUtils"),che="1.0";function KC(t,e,r){let n=o(i=>(J_.getToken.info(i),new Hl({scopes:Array.isArray(t)?t:[t],getTokenOptions:r,message:i})),"error");if(!e)throw n("No response");if(!e.expiresOn)throw n('Response had no "expiresOn" property.');if(!e.accessToken)throw n('Response had no "accessToken" property.')}o(KC,"ensureValidMsalToken");function cV(t){let e=t?.authorityHost;return!e&&jx&&(e=process.env.AZURE_AUTHORITY_HOST),e??b4}o(cV,"getAuthorityHost");function lV(t,e){return e||(e=b4),new RegExp(`${t}/?$`).test(e)?e:e.endsWith("/")?e+t:`${e}/${t}`}o(lV,"getAuthority");function lhe(t,e,r){return t==="adfs"&&e||r?[e]:[]}o(lhe,"getKnownAuthorities");var q7=o((t,e=H7?"Node":"Browser")=>(r,n,i)=>{if(!i)switch(r){case jc.LogLevel.Error:t.info(`MSAL ${e} V2 error: ${n}`);return;case jc.LogLevel.Info:t.info(`MSAL ${e} V2 info message: ${n}`);return;case jc.LogLevel.Verbose:t.info(`MSAL ${e} V2 verbose message: ${n}`);return;case jc.LogLevel.Warning:t.info(`MSAL ${e} V2 warning: ${n}`);return}},"defaultLoggerCallback");function G7(t){switch(t){case"error":return jc.LogLevel.Error;case"info":return jc.LogLevel.Info;case"verbose":return jc.LogLevel.Verbose;case"warning":return jc.LogLevel.Warning;default:return jc.LogLevel.Info}}o(G7,"getMSALLogLevel");function JC(t,e,r){if(e.name==="AuthError"||e.name==="ClientAuthError"||e.name==="BrowserAuthError"){let n=e;switch(n.errorCode){case"endpoints_resolution_error":return J_.info(Fn(t,e.message)),new Lt(e.message);case"device_code_polling_cancelled":return new jC("The authentication has been aborted by the caller.");case"consent_required":case"interaction_required":case"login_required":J_.info(Fn(t,`Authentication returned errorCode ${n.errorCode}`));break;default:J_.info(Fn(t,`Failed to acquire token: ${e.message}`));break}}return e.name==="ClientConfigurationError"||e.name==="BrowserConfigurationAuthError"||e.name==="AbortError"||e.name==="AuthenticationError"?e:e.name==="NativeAuthError"?(J_.info(Fn(t,`Error from the native broker: ${e.message} with status code: ${e.statusCode}`)),e):new Hl({scopes:t,getTokenOptions:r,message:e.message})}o(JC,"handleMsalError");function uhe(t){return{localAccountId:t.homeAccountId,environment:t.authority,username:t.username,homeAccountId:t.homeAccountId,tenantId:t.tenantId}}o(uhe,"publicToMsal");function fhe(t,e){return{authority:e.environment??tce,homeAccountId:e.homeAccountId,tenantId:e.tenantId||ece,username:e.username,clientId:t,version:che}}o(fhe,"msalToPublic");function uV(t){let e=JSON.parse(t);if(e.version&&e.version!==che)throw Error("Unsupported AuthenticationRecord version");return e}o(uV,"deserializeAuthenticationRecord");u();u();u();u();u();u();function _Ue(t,e){return e!=="Composite"&&e!=="Dictionary"&&(typeof t=="string"||typeof t=="number"||typeof t=="boolean"||e?.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i)!==null||t===void 0||t===null)}o(_Ue,"isPrimitiveBody");function SUe(t){let e=Object.assign(Object.assign({},t.headers),t.body);return t.hasNullableType&&Object.getOwnPropertyNames(e).length===0?t.shouldWrapBody?{body:null}:null:t.shouldWrapBody?Object.assign(Object.assign({},t.headers),{body:t.body}):e}o(SUe,"handleNullableResponseAndWrappableBody");function fV(t,e){var r,n;let i=t.parsedHeaders;if(t.request.method==="HEAD")return Object.assign(Object.assign({},i),{body:t.parsedBody});let s=e&&e.bodyMapper,a=!!s?.nullable,c=s?.type.name;if(c==="Stream")return Object.assign(Object.assign({},i),{blobBody:t.blobBody,readableStreamBody:t.readableStreamBody});let l=c==="Composite"&&s.type.modelProperties||{},f=Object.keys(l).some(d=>l[d].serializedName==="");if(c==="Sequence"||f){let d=(r=t.parsedBody)!==null&&r!==void 0?r:[];for(let h of Object.keys(l))l[h].serializedName&&(d[h]=(n=t.parsedBody)===null||n===void 0?void 0:n[h]);if(i)for(let h of Object.keys(i))d[h]=i[h];return a&&!t.parsedBody&&!i&&Object.getOwnPropertyNames(l).length===0?null:d}return SUe({body:t.parsedBody,headers:i,hasNullableType:a,shouldWrapBody:_Ue(t.parsedBody,c)})}o(fV,"flattenResponse");var Fd={Base64Url:"Base64Url",Boolean:"Boolean",ByteArray:"ByteArray",Composite:"Composite",Date:"Date",DateTime:"DateTime",DateTimeRfc1123:"DateTimeRfc1123",Dictionary:"Dictionary",Enum:"Enum",Number:"Number",Object:"Object",Sequence:"Sequence",String:"String",Stream:"Stream",TimeSpan:"TimeSpan",UnixTime:"UnixTime"};u();u();u();u();u();var Md=class extends Error{static{o(this,"AbortError")}constructor(e){super(e),this.name="AbortError"}};u();u();u();var dhe=require("node:os"),hhe=yt(require("node:util"),1),Ahe=yt(require("node:process"),1);function phe(t,...e){Ahe.stderr.write(`${hhe.default.format(t,...e)}${dhe.EOL}`)}o(phe,"log");var mhe=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,ghe,dV=[],hV=[],W7=[];mhe&&AV(mhe);var yhe=Object.assign(t=>Che(t),{enable:AV,enabled:pV,disable:wUe,log:phe});function AV(t){ghe=t,dV=[],hV=[];let e=/\*/g,r=t.split(",").map(n=>n.trim().replace(e,".*?"));for(let n of r)n.startsWith("-")?hV.push(new RegExp(`^${n.substr(1)}$`)):dV.push(new RegExp(`^${n}$`));for(let n of W7)n.enabled=pV(n.namespace)}o(AV,"enable");function pV(t){if(t.endsWith("*"))return!0;for(let e of hV)if(e.test(t))return!1;for(let e of dV)if(e.test(t))return!0;return!1}o(pV,"enabled");function wUe(){let t=ghe||"";return AV(""),t}o(wUe,"disable");function Che(t){let e=Object.assign(r,{enabled:pV(t),destroy:BUe,log:yhe.log,namespace:t,extend:RUe});function r(...n){e.enabled&&(n.length>0&&(n[0]=`${t} ${n[0]}`),e.log(...n))}return o(r,"debug"),W7.push(e),e}o(Che,"createDebugger");function BUe(){let t=W7.indexOf(this);return t>=0?(W7.splice(t,1),!0):!1}o(BUe,"destroy");function RUe(t){let e=Che(`${this.namespace}:${t}`);return e.log=this.log,e}o(RUe,"extend");var Kx=yhe;var mV=["verbose","info","warning","error"],Ehe={verbose:400,info:300,warning:200,error:100};function Ihe(t,e){e.log=(...r)=>{t.log(...r)}}o(Ihe,"patchLogMethod");function xhe(t){return mV.includes(t)}o(xhe,"isTypeSpecRuntimeLogLevel");function kUe(t){let e=new Set,r=typeof process<"u"&&process.env&&process.env[t.logLevelEnvVarName]||void 0,n,i=Kx(t.namespace);i.log=(...d)=>{Kx.log(...d)};function s(d){if(d&&!xhe(d))throw new Error(`Unknown log level '${d}'. Acceptable values: ${mV.join(",")}`);n=d;let h=[];for(let A of e)a(A)&&h.push(A.namespace);Kx.enable(h.join(","))}o(s,"contextSetLogLevel"),r&&(xhe(r)?s(r):console.error(`${t.logLevelEnvVarName} set to unknown log level '${r}'; logging is not enabled. Acceptable values: ${mV.join(", ")}.`));function a(d){return!!(n&&Ehe[d.level]<=Ehe[n])}o(a,"shouldEnable");function c(d,h){let A=Object.assign(d.extend(h),{level:h});if(Ihe(d,A),a(A)){let m=Kx.disable();Kx.enable(m+","+A.namespace)}return e.add(A),A}o(c,"createLogger");function l(){return n}o(l,"contextGetLogLevel");function f(d){let h=i.extend(d);return Ihe(i,h),{error:c(h,"error"),warning:c(h,"warning"),info:c(h,"info"),verbose:c(h,"verbose")}}return o(f,"contextCreateClientLogger"),{setLogLevel:s,getLogLevel:l,createClientLogger:f,logger:i}}o(kUe,"createLoggerContext");var bhe=kUe({logLevelEnvVarName:"TYPESPEC_RUNTIME_LOG_LEVEL",namespace:"typeSpecRuntime"}),DUe=bhe.logger;function Z_(t){return bhe.createClientLogger(t)}o(Z_,"createClientLogger");u();function Y7(t){return t.toLowerCase()}o(Y7,"normalizeName");function*NUe(t){for(let e of t.values())yield[e.name,e.value]}o(NUe,"headerIterator");var gV=class{static{o(this,"HttpHeadersImpl")}constructor(e){if(this._headersMap=new Map,e)for(let r of Object.keys(e))this.set(r,e[r])}set(e,r){this._headersMap.set(Y7(e),{name:e,value:String(r).trim()})}get(e){var r;return(r=this._headersMap.get(Y7(e)))===null||r===void 0?void 0:r.value}has(e){return this._headersMap.has(Y7(e))}delete(e){this._headersMap.delete(Y7(e))}toJSON(e={}){let r={};if(e.preserveCase)for(let n of this._headersMap.values())r[n.name]=n.value;else for(let[n,i]of this._headersMap)r[n]=i.value;return r}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return NUe(this._headersMap)}};function Kc(t){return new gV(t)}o(Kc,"createHttpHeaders");u();u();u();var yV=class{static{o(this,"PipelineRequestImpl")}constructor(e){var r,n,i,s,a,c,l;this.url=e.url,this.body=e.body,this.headers=(r=e.headers)!==null&&r!==void 0?r:Kc(),this.method=(n=e.method)!==null&&n!==void 0?n:"GET",this.timeout=(i=e.timeout)!==null&&i!==void 0?i:0,this.multipartBody=e.multipartBody,this.formData=e.formData,this.disableKeepAlive=(s=e.disableKeepAlive)!==null&&s!==void 0?s:!1,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=(a=e.withCredentials)!==null&&a!==void 0?a:!1,this.abortSignal=e.abortSignal,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||$x(),this.allowInsecureConnection=(c=e.allowInsecureConnection)!==null&&c!==void 0?c:!1,this.enableBrowserStreams=(l=e.enableBrowserStreams)!==null&&l!==void 0?l:!1,this.requestOverrides=e.requestOverrides,this.authSchemes=e.authSchemes}};function $7(t){return new yV(t)}o($7,"createPipelineRequest");u();var vhe=new Set(["Deserialize","Serialize","Retry","Sign"]),CV=class t{static{o(this,"HttpPipeline")}constructor(e){var r;this._policies=[],this._policies=(r=e?.slice(0))!==null&&r!==void 0?r:[],this._orderedPolicies=void 0}addPolicy(e,r={}){if(r.phase&&r.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(r.phase&&!vhe.has(r.phase))throw new Error(`Invalid phase name: ${r.phase}`);if(r.afterPhase&&!vhe.has(r.afterPhase))throw new Error(`Invalid afterPhase name: ${r.afterPhase}`);this._policies.push({policy:e,options:r}),this._orderedPolicies=void 0}removePolicy(e){let r=[];return this._policies=this._policies.filter(n=>e.name&&n.policy.name===e.name||e.phase&&n.options.phase===e.phase?(r.push(n.policy),!1):!0),this._orderedPolicies=void 0,r}sendRequest(e,r){return this.getOrderedPolicies().reduceRight((s,a)=>c=>a.sendRequest(c,s),s=>e.sendRequest(s))(r)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new t(this._policies)}static create(){return new t}orderPolicies(){let e=[],r=new Map;function n(y){return{name:y,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}o(n,"createPhase");let i=n("Serialize"),s=n("None"),a=n("Deserialize"),c=n("Retry"),l=n("Sign"),f=[i,s,a,c,l];function d(y){return y==="Retry"?c:y==="Serialize"?i:y==="Deserialize"?a:y==="Sign"?l:s}o(d,"getPhase");for(let y of this._policies){let x=y.policy,_=y.options,T=x.name;if(r.has(T))throw new Error("Duplicate policy names not allowed in pipeline");let S={policy:x,dependsOn:new Set,dependants:new Set};_.afterPhase&&(S.afterPhase=d(_.afterPhase),S.afterPhase.hasAfterPolicies=!0),r.set(T,S),d(_.phase).policies.add(S)}for(let y of this._policies){let{policy:x,options:_}=y,T=x.name,S=r.get(T);if(!S)throw new Error(`Missing node for policy ${T}`);if(_.afterPolicies)for(let k of _.afterPolicies){let N=r.get(k);N&&(S.dependsOn.add(N),N.dependants.add(S))}if(_.beforePolicies)for(let k of _.beforePolicies){let N=r.get(k);N&&(N.dependsOn.add(S),S.dependants.add(N))}}function h(y){y.hasRun=!0;for(let x of y.policies)if(!(x.afterPhase&&(!x.afterPhase.hasRun||x.afterPhase.policies.size))&&x.dependsOn.size===0){e.push(x.policy);for(let _ of x.dependants)_.dependsOn.delete(x);r.delete(x.policy.name),y.policies.delete(x)}}o(h,"walkPhase");function A(){for(let y of f){if(h(y),y.policies.size>0&&y!==s){s.hasRun||h(s);return}y.hasAfterPolicies&&h(s)}}o(A,"walkPhases");let m=0;for(;r.size>0;){m++;let y=e.length;if(A(),e.length<=y&&m>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}};function z7(){return CV.create()}o(z7,"createEmptyPipeline");u();u();var The=require("node:util"),_he=The.inspect.custom;var QUe=new cf,Sa=class t extends Error{static{o(this,"RestError")}constructor(e,r={}){super(e),this.name="RestError",this.code=r.code,this.statusCode=r.statusCode,Object.defineProperty(this,"request",{value:r.request,enumerable:!1}),Object.defineProperty(this,"response",{value:r.response,enumerable:!1}),Object.defineProperty(this,_he,{value:o(()=>`RestError: ${this.message} 
 ${QUe.sanitize(Object.assign(Object.assign({},this),{request:this.request,response:this.response}))}`,"value"),enumerable:!1}),Object.setPrototypeOf(this,t.prototype)}};Sa.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";Sa.PARSE_ERROR="PARSE_ERROR";function j7(t){return t instanceof Sa?!0:zC(t)&&t.name==="RestError"}o(j7,"isRestError");u();u();var Jx=yt(require("node:http"),1),Xx=yt(require("node:https"),1),J7=yt(require("node:zlib"),1),whe=require("node:stream");u();var $l=Z_("ts-http-runtime");var PUe={};function e3(t){return t&&typeof t.pipe=="function"}o(e3,"isReadableStream");function She(t){return t.readable===!1?Promise.resolve():new Promise(e=>{let r=o(()=>{e(),t.removeListener("close",r),t.removeListener("end",r),t.removeListener("error",r)},"handler");t.on("close",r),t.on("end",r),t.on("error",r)})}o(She,"isStreamComplete");function Bhe(t){return t&&typeof t.byteLength=="number"}o(Bhe,"isArrayBuffer");var K7=class extends whe.Transform{static{o(this,"ReportTransform")}_transform(e,r,n){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),n()}catch(i){n(i)}}constructor(e){super(),this.loadedBytes=0,this.progressCallback=e}},EV=class{static{o(this,"NodeHttpClient")}constructor(){this.cachedHttpsAgents=new WeakMap}async sendRequest(e){var r,n,i;let s=new AbortController,a;if(e.abortSignal){if(e.abortSignal.aborted)throw new Md("The operation was aborted. Request has already been canceled.");a=o(A=>{A.type==="abort"&&s.abort()},"abortListener"),e.abortSignal.addEventListener("abort",a)}let c;e.timeout>0&&(c=setTimeout(()=>{let A=new cf;$l.info(`request to '${A.sanitizeUrl(e.url)}' timed out. canceling...`),s.abort()},e.timeout));let l=e.headers.get("Accept-Encoding"),f=l?.includes("gzip")||l?.includes("deflate"),d=typeof e.body=="function"?e.body():e.body;if(d&&!e.headers.has("Content-Length")){let A=OUe(d);A!==null&&e.headers.set("Content-Length",A)}let h;try{if(d&&e.onUploadProgress){let T=e.onUploadProgress,S=new K7(T);S.on("error",k=>{$l.error("Error in upload progress",k)}),e3(d)?d.pipe(S):S.end(d),d=S}let A=await this.makeRequest(e,s,d);c!==void 0&&clearTimeout(c);let m=FUe(A),x={status:(r=A.statusCode)!==null&&r!==void 0?r:0,headers:m,request:e};if(e.method==="HEAD")return A.resume(),x;h=f?MUe(A,m):A;let _=e.onDownloadProgress;if(_){let T=new K7(_);T.on("error",S=>{$l.error("Error in download progress",S)}),h.pipe(T),h=T}return!((n=e.streamResponseStatusCodes)===null||n===void 0)&&n.has(Number.POSITIVE_INFINITY)||!((i=e.streamResponseStatusCodes)===null||i===void 0)&&i.has(x.status)?x.readableStreamBody=h:x.bodyAsText=await LUe(h),x}finally{if(e.abortSignal&&a){let A=Promise.resolve();e3(d)&&(A=She(d));let m=Promise.resolve();e3(h)&&(m=She(h)),Promise.all([A,m]).then(()=>{var y;a&&((y=e.abortSignal)===null||y===void 0||y.removeEventListener("abort",a))}).catch(y=>{$l.warning("Error when cleaning up abortListener on httpRequest",y)})}}}makeRequest(e,r,n){var i;let s=new URL(e.url),a=s.protocol!=="https:";if(a&&!e.allowInsecureConnection)throw new Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);let c=(i=e.agent)!==null&&i!==void 0?i:this.getOrCreateAgent(e,a),l=Object.assign({agent:c,hostname:s.hostname,path:`${s.pathname}${s.search}`,port:s.port,method:e.method,headers:e.headers.toJSON({preserveCase:!0})},e.requestOverrides);return new Promise((f,d)=>{let h=a?Jx.request(l,f):Xx.request(l,f);h.once("error",A=>{var m;d(new Sa(A.message,{code:(m=A.code)!==null&&m!==void 0?m:Sa.REQUEST_SEND_ERROR,request:e}))}),r.signal.addEventListener("abort",()=>{let A=new Md("The operation was aborted. Rejecting from abort signal callback while making request.");h.destroy(A),d(A)}),n&&e3(n)?n.pipe(h):n?typeof n=="string"||Buffer.isBuffer(n)?h.end(n):Bhe(n)?h.end(ArrayBuffer.isView(n)?Buffer.from(n.buffer):Buffer.from(n)):($l.error("Unrecognized body type",n),d(new Sa("Unrecognized body type"))):h.end()})}getOrCreateAgent(e,r){var n;let i=e.disableKeepAlive;if(r)return i?Jx.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new Jx.Agent({keepAlive:!0})),this.cachedHttpAgent);{if(i&&!e.tlsSettings)return Xx.globalAgent;let s=(n=e.tlsSettings)!==null&&n!==void 0?n:PUe,a=this.cachedHttpsAgents.get(s);return a&&a.options.keepAlive===!i||($l.info("No cached TLS Agent exist, creating a new Agent"),a=new Xx.Agent(Object.assign({keepAlive:!i},s)),this.cachedHttpsAgents.set(s,a)),a}}};function FUe(t){let e=Kc();for(let r of Object.keys(t.headers)){let n=t.headers[r];Array.isArray(n)?n.length>0&&e.set(r,n[0]):n&&e.set(r,n)}return e}o(FUe,"getResponseHeaders");function MUe(t,e){let r=e.get("Content-Encoding");if(r==="gzip"){let n=J7.createGunzip();return t.pipe(n),n}else if(r==="deflate"){let n=J7.createInflate();return t.pipe(n),n}return t}o(MUe,"getDecodedResponseStream");function LUe(t){return new Promise((e,r)=>{let n=[];t.on("data",i=>{Buffer.isBuffer(i)?n.push(i):n.push(Buffer.from(i))}),t.on("end",()=>{e(Buffer.concat(n).toString("utf8"))}),t.on("error",i=>{i&&i?.name==="AbortError"?r(i):r(new Sa(`Error reading response as text: ${i.message}`,{code:Sa.PARSE_ERROR}))})})}o(LUe,"streamToText");function OUe(t){return t?Buffer.isBuffer(t)?t.length:e3(t)?null:Bhe(t)?t.byteLength:typeof t=="string"?Buffer.from(t).length:null:0}o(OUe,"getBodyLength");function Rhe(){return new EV}o(Rhe,"createNodeHttpClient");function X7(){return Rhe()}o(X7,"createDefaultHttpClient");u();u();u();u();var IV="logPolicy";function Z7(t={}){var e;let r=(e=t.logger)!==null&&e!==void 0?e:$l.info,n=new cf({additionalAllowedHeaderNames:t.additionalAllowedHeaderNames,additionalAllowedQueryParameters:t.additionalAllowedQueryParameters});return{name:IV,async sendRequest(i,s){if(!r.enabled)return s(i);r(`Request: ${n.sanitize(i)}`);let a=await s(i);return r(`Response status code: ${a.status}`),r(`Headers: ${n.sanitize(a.headers)}`),a}}}o(Z7,"logPolicy");u();var xV="redirectPolicy",khe=["GET","HEAD"];function ek(t={}){let{maxRetries:e=20}=t;return{name:xV,async sendRequest(r,n){let i=await n(r);return Dhe(n,i,e)}}}o(ek,"redirectPolicy");async function Dhe(t,e,r,n=0){let{request:i,status:s,headers:a}=e,c=a.get("location");if(c&&(s===300||s===301&&khe.includes(i.method)||s===302&&khe.includes(i.method)||s===303&&i.method==="POST"||s===307)&&n<r){let l=new URL(c,i.url);i.url=l.toString(),s===303&&(i.method="GET",i.headers.delete("Content-Length"),delete i.body),i.headers.delete("Authorization");let f=await t(i);return Dhe(t,f,r,n+1)}return e}o(Dhe,"handleRedirect");u();u();u();function Nhe(){return"User-Agent"}o(Nhe,"getHeaderName");u();function Qhe(){return Nhe()}o(Qhe,"getUserAgentHeaderName");var Atr=Qhe();u();var bV="decompressResponsePolicy";function tk(){return{name:bV,async sendRequest(t,e){return t.method!=="HEAD"&&t.headers.set("Accept-Encoding","gzip,deflate"),e(t)}}}o(tk,"decompressResponsePolicy");u();u();u();u();var UUe="The operation was aborted.";function Phe(t,e,r){return new Promise((n,i)=>{let s,a,c=o(()=>i(new Md(r?.abortErrorMsg?r?.abortErrorMsg:UUe)),"rejectOnAbort"),l=o(()=>{r?.abortSignal&&a&&r.abortSignal.removeEventListener("abort",a)},"removeListeners");if(a=o(()=>(s&&clearTimeout(s),l(),c()),"onAborted"),r?.abortSignal&&r.abortSignal.aborted)return c();s=setTimeout(()=>{l(),n(e)},t),r?.abortSignal&&r.abortSignal.addEventListener("abort",a)})}o(Phe,"delay");function Fhe(t,e){let r=t.headers.get(e);if(!r)return;let n=Number(r);if(!Number.isNaN(n))return n}o(Fhe,"parseHeaderValueAsNumber");var vV="Retry-After",HUe=["retry-after-ms","x-ms-retry-after-ms",vV];function Mhe(t){if(t&&[429,503].includes(t.status))try{for(let i of HUe){let s=Fhe(t,i);if(s===0||s)return s*(i===vV?1e3:1)}let e=t.headers.get(vV);if(!e)return;let n=Date.parse(e)-Date.now();return Number.isFinite(n)?Math.max(0,n):void 0}catch{return}}o(Mhe,"getRetryAfterInMs");function Lhe(t){return Number.isFinite(Mhe(t))}o(Lhe,"isThrottlingRetryResponse");function TV(){return{name:"throttlingRetryStrategy",retry({response:t}){let e=Mhe(t);return Number.isFinite(e)?{retryAfterInMs:e}:{skipStrategy:!0}}}}o(TV,"throttlingRetryStrategy");var qUe=1e3,GUe=1e3*64;function rk(t={}){var e,r;let n=(e=t.retryDelayInMs)!==null&&e!==void 0?e:qUe,i=(r=t.maxRetryDelayInMs)!==null&&r!==void 0?r:GUe;return{name:"exponentialRetryStrategy",retry({retryCount:s,response:a,responseError:c}){let l=WUe(c),f=l&&t.ignoreSystemErrors,d=VUe(a),h=d&&t.ignoreHttpStatusCodes;return a&&(Lhe(a)||!d)||h||f?{skipStrategy:!0}:c&&!l&&!d?{errorToThrow:c}:K_(s,{retryDelayInMs:n,maxRetryDelayInMs:i})}}}o(rk,"exponentialRetryStrategy");function VUe(t){return!!(t&&t.status!==void 0&&(t.status>=500||t.status===408)&&t.status!==501&&t.status!==505)}o(VUe,"isExponentialRetryResponse");function WUe(t){return t?t.code==="ETIMEDOUT"||t.code==="ESOCKETTIMEDOUT"||t.code==="ECONNREFUSED"||t.code==="ECONNRESET"||t.code==="ENOENT"||t.code==="ENOTFOUND":!1}o(WUe,"isSystemError");u();var YUe=Z_("ts-http-runtime retryPolicy"),$Ue="retryPolicy";function Sg(t,e={maxRetries:3}){let r=e.logger||YUe;return{name:$Ue,async sendRequest(n,i){var s,a;let c,l,f=-1;e:for(;;){f+=1,c=void 0,l=void 0;try{r.info(`Retry ${f}: Attempting to send request`,n.requestId),c=await i(n),r.info(`Retry ${f}: Received a response from request`,n.requestId)}catch(d){if(r.error(`Retry ${f}: Received an error from request`,n.requestId),l=d,!d||l.name!=="RestError")throw d;c=l.response}if(!((s=n.abortSignal)===null||s===void 0)&&s.aborted)throw r.error(`Retry ${f}: Request aborted.`),new Md;if(f>=((a=e.maxRetries)!==null&&a!==void 0?a:3)){if(r.info(`Retry ${f}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),l)throw l;if(c)return c;throw new Error("Maximum retries reached with no response or error to throw")}r.info(`Retry ${f}: Processing ${t.length} retry strategies.`);t:for(let d of t){let h=d.logger||r;h.info(`Retry ${f}: Processing retry strategy ${d.name}.`);let A=d.retry({retryCount:f,response:c,responseError:l});if(A.skipStrategy){h.info(`Retry ${f}: Skipped.`);continue t}let{errorToThrow:m,retryAfterInMs:y,redirectTo:x}=A;if(m)throw h.error(`Retry ${f}: Retry strategy ${d.name} throws error:`,m),m;if(y||y===0){h.info(`Retry ${f}: Retry strategy ${d.name} retries after ${y}`),await Phe(y,void 0,{abortSignal:n.abortSignal});continue e}if(x){h.info(`Retry ${f}: Retry strategy ${d.name} redirects to ${x}`),n.url=x;continue e}}if(l)throw r.info("None of the retry strategies could work with the received error. Throwing it."),l;if(c)return r.info("None of the retry strategies could work with the received response. Returning it."),c}}}}o(Sg,"retryPolicy");var _V="defaultRetryPolicy";function nk(t={}){var e;return{name:_V,sendRequest:Sg([TV(),rk(t)],{maxRetries:(e=t.maxRetries)!==null&&e!==void 0?e:3}).sendRequest}}o(nk,"defaultRetryPolicy");u();var SV="formDataPolicy";function zUe(t){var e;let r={};for(let[n,i]of t.entries())(e=r[n])!==null&&e!==void 0||(r[n]=[]),r[n].push(i);return r}o(zUe,"formDataToFormDataMap");function ik(){return{name:SV,async sendRequest(t,e){if(_g&&typeof FormData<"u"&&t.body instanceof FormData&&(t.formData=zUe(t.body),t.body=void 0),t.formData){let r=t.headers.get("Content-Type");r&&r.indexOf("application/x-www-form-urlencoded")!==-1?t.body=jUe(t.formData):await KUe(t.formData,t),t.formData=void 0}return e(t)}}}o(ik,"formDataPolicy");function jUe(t){let e=new URLSearchParams;for(let[r,n]of Object.entries(t))if(Array.isArray(n))for(let i of n)e.append(r,i.toString());else e.append(r,n.toString());return e.toString()}o(jUe,"wwwFormUrlEncode");async function KUe(t,e){let r=e.headers.get("Content-Type");if(r&&!r.startsWith("multipart/form-data"))return;e.headers.set("Content-Type",r??"multipart/form-data");let n=[];for(let[i,s]of Object.entries(t))for(let a of Array.isArray(s)?s:[s])if(typeof a=="string")n.push({headers:Kc({"Content-Disposition":`form-data; name="${i}"`}),body:ac(a,"utf-8")});else{if(a==null||typeof a!="object")throw new Error(`Unexpected value for key ${i}: ${a}. Value should be serialized to string first.`);{let c=a.name||"blob",l=Kc();l.set("Content-Disposition",`form-data; name="${i}"; filename="${c}"`),l.set("Content-Type",a.type||"application/octet-stream"),n.push({headers:l,body:a})}}e.multipartBody={parts:n}}o(KUe,"prepareFormData");u();var dAe=yt(oAe(),1),hAe=yt(cAe(),1);var VHe="HTTPS_PROXY",WHe="HTTP_PROXY",YHe="ALL_PROXY",$He="NO_PROXY",PV="proxyPolicy",lAe=[],AAe=!1,zHe=new Map;function fk(t){if(process.env[t])return process.env[t];if(process.env[t.toLowerCase()])return process.env[t.toLowerCase()]}o(fk,"getEnvironmentValue");function jHe(){if(!process)return;let t=fk(VHe),e=fk(YHe),r=fk(WHe);return t||e||r}o(jHe,"loadEnvironmentProxyValue");function KHe(t,e,r){if(e.length===0)return!1;let n=new URL(t).hostname;if(r?.has(n))return r.get(n);let i=!1;for(let s of e)s[0]==="."?(n.endsWith(s)||n.length===s.length-1&&n===s.slice(1))&&(i=!0):n===s&&(i=!0);return r?.set(n,i),i}o(KHe,"isBypassed");function JHe(){let t=fk($He);return AAe=!0,t?t.split(",").map(e=>e.trim()).filter(e=>e.length):[]}o(JHe,"loadNoProxy");function XHe(){let t=jHe();return t?new URL(t):void 0}o(XHe,"getDefaultProxySettingsInternal");function uAe(t){let e;try{e=new URL(t.host)}catch{throw new Error(`Expecting a valid host string in proxy settings, but found "${t.host}".`)}return e.port=String(t.port),t.username&&(e.username=t.username),t.password&&(e.password=t.password),e}o(uAe,"getUrlFromProxySettings");function fAe(t,e,r){if(t.agent)return;let i=new URL(t.url).protocol!=="https:";t.tlsSettings&&$l.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");let s=t.headers.toJSON();i?(e.httpProxyAgent||(e.httpProxyAgent=new hAe.HttpProxyAgent(r,{headers:s})),t.agent=e.httpProxyAgent):(e.httpsProxyAgent||(e.httpsProxyAgent=new dAe.HttpsProxyAgent(r,{headers:s})),t.agent=e.httpsProxyAgent)}o(fAe,"setProxyAgentOnRequest");function dk(t,e){AAe||lAe.push(...JHe());let r=t?uAe(t):XHe(),n={};return{name:PV,async sendRequest(i,s){var a;return!i.proxySettings&&r&&!KHe(i.url,(a=e?.customNoProxyList)!==null&&a!==void 0?a:lAe,e?.customNoProxyList?void 0:zHe)?fAe(i,n,r):i.proxySettings&&fAe(i,n,uAe(i.proxySettings)),s(i)}}}o(dk,"proxyPolicy");u();var FV="agentPolicy";function hk(t){return{name:FV,sendRequest:o(async(e,r)=>(e.agent||(e.agent=t),r(e)),"sendRequest")}}o(hk,"agentPolicy");u();var MV="tlsPolicy";function Ak(t){return{name:MV,sendRequest:o(async(e,r)=>(e.tlsSettings||(e.tlsSettings=t),r(e)),"sendRequest")}}o(Ak,"tlsPolicy");u();u();function pk(t){return typeof t.stream=="function"}o(pk,"isBlob");u();u();function pAe(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:o(function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}},"next")};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}o(pAe,"__values");function Ud(t){return this instanceof Ud?(this.v=t,this):new Ud(t)}o(Ud,"__await");function LV(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(y){return Promise.resolve(y).then(m,h)}}function c(m,y){n[m]&&(i[m]=function(x){return new Promise(function(_,T){s.push([m,x,_,T])>1||l(m,x)})},y&&(i[m]=y(i[m])))}function l(m,y){try{f(n[m](y))}catch(x){A(s[0][3],x)}}function f(m){m.value instanceof Ud?Promise.resolve(m.value.v).then(d,h):A(s[0][2],m)}function d(m){l("next",m)}function h(m){l("throw",m)}function A(m,y){m(y),s.shift(),s.length&&l(s[0][0],s[0][1])}}o(LV,"__asyncGenerator");function mAe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof pAe=="function"?pAe(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(c,l){a=t[s](a),i(c,l,a.done,a.value)})}}function i(s,a,c,l){Promise.resolve(l).then(function(f){s({value:f,done:c})},a)}}o(mAe,"__asyncValues");var mk=require("stream");function gAe(){return LV(this,arguments,o(function*(){let e=this.getReader();try{for(;;){let{done:r,value:n}=yield Ud(e.read());if(r)return yield Ud(void 0);yield yield Ud(n)}}finally{e.releaseLock()}},"streamAsyncIterator_1"))}o(gAe,"streamAsyncIterator");function ZHe(t){t[Symbol.asyncIterator]||(t[Symbol.asyncIterator]=gAe.bind(t)),t.values||(t.values=gAe.bind(t))}o(ZHe,"makeAsyncIterable");function yAe(t){return t instanceof ReadableStream?(ZHe(t),mk.Readable.fromWeb(t)):t}o(yAe,"ensureNodeStream");function eqe(t){return t instanceof Uint8Array?mk.Readable.from(Buffer.from(t)):pk(t)?yAe(t.stream()):yAe(t)}o(eqe,"toStream");async function CAe(t){return function(){let e=t.map(r=>typeof r=="function"?r():r).map(eqe);return mk.Readable.from(function(){return LV(this,arguments,function*(){var r,n,i,s;for(let f of e)try{for(var a=!0,c=(n=void 0,mAe(f)),l;l=yield Ud(c.next()),r=l.done,!r;a=!0)s=l.value,a=!1,yield yield Ud(s)}catch(d){n={error:d}}finally{try{!a&&!r&&(i=c.return)&&(yield Ud(i.call(c)))}finally{if(n)throw n.error}}})}())}}o(CAe,"concat");function tqe(){return`----AzSDKFormBoundary${$x()}`}o(tqe,"generateBoundary");function rqe(t){let e="";for(let[r,n]of t)e+=`${r}: ${n}\r
`;return e}o(rqe,"encodeHeaders");function nqe(t){return t instanceof Uint8Array?t.byteLength:pk(t)?t.size===-1?void 0:t.size:void 0}o(nqe,"getLength");function iqe(t){let e=0;for(let r of t){let n=nqe(r);if(n===void 0)return;e+=n}return e}o(iqe,"getTotalLength");async function oqe(t,e,r){let n=[ac(`--${r}`,"utf-8"),...e.flatMap(s=>[ac(`\r
`,"utf-8"),ac(rqe(s.headers),"utf-8"),ac(`\r
`,"utf-8"),s.body,ac(`\r
--${r}`,"utf-8")]),ac(`--\r
\r
`,"utf-8")],i=iqe(n);i&&t.headers.set("Content-Length",i),t.body=await CAe(n)}o(oqe,"buildRequestBody");var r3="multipartPolicy",sqe=70,aqe=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?");function cqe(t){if(t.length>sqe)throw new Error(`Multipart boundary "${t}" exceeds maximum length of 70 characters`);if(Array.from(t).some(e=>!aqe.has(e)))throw new Error(`Multipart boundary "${t}" contains invalid characters`)}o(cqe,"assertValidBoundary");function gk(){return{name:r3,async sendRequest(t,e){var r;if(!t.multipartBody)return e(t);if(t.body)throw new Error("multipartBody and regular body cannot be set at the same time");let n=t.multipartBody.boundary,i=(r=t.headers.get("Content-Type"))!==null&&r!==void 0?r:"multipart/mixed",s=i.match(/^(multipart\/[^ ;]+)(?:; *boundary=(.+))?$/);if(!s)throw new Error(`Got multipart request body, but content-type header was not multipart: ${i}`);let[,a,c]=s;if(c&&n&&c!==n)throw new Error(`Multipart boundary was specified as ${c} in the header, but got ${n} in the request body`);return n??(n=c),n?cqe(n):n=tqe(),t.headers.set("Content-Type",`${a}; boundary=${n}`),await oqe(t,t.multipartBody.parts,n),t.multipartBody=void 0,e(t)}}}o(gk,"multipartPolicy");u();u();u();u();u();u();u();u();u();u();u();u();function yk(){return z7()}o(yk,"createEmptyPipeline");u();u();u();var Hd=ng("core-rest-pipeline");u();u();u();u();function UV(t={}){return Z7(Object.assign({logger:Hd.info},t))}o(UV,"logPolicy");u();function HV(t={}){return ek(t)}o(HV,"redirectPolicy");u();u();u();var tb=yt(require("node:os"),1),Ck=yt(require("node:process"),1);function EAe(){return"User-Agent"}o(EAe,"getHeaderName");async function IAe(t){if(Ck&&Ck.versions){let e=Ck.versions;e.bun?t.set("Bun",e.bun):e.deno?t.set("Deno",e.deno):e.node&&t.set("Node",e.node)}t.set("OS",`(${tb.arch()}-${tb.type()}-${tb.release()})`)}o(IAe,"setPlatformSpecificData");u();var Ek="1.22.0";function gqe(t){let e=[];for(let[r,n]of t){let i=n?`${r}/${n}`:r;e.push(i)}return e.join(" ")}o(gqe,"getUserAgentString");function xAe(){return EAe()}o(xAe,"getUserAgentHeaderName");async function Ik(t){let e=new Map;e.set("core-rest-pipeline",Ek),await IAe(e);let r=gqe(e);return t?`${t} ${r}`:r}o(Ik,"getUserAgentValue");var bAe=xAe(),vAe="userAgentPolicy";function qV(t={}){let e=Ik(t.userAgentPrefix);return{name:vAe,async sendRequest(r,n){return r.headers.has(bAe)||r.headers.set(bAe,await e),n(r)}}}o(qV,"userAgentPolicy");u();u();var TAe=Symbol("rawContent");function GV(t){return typeof t[TAe]=="function"}o(GV,"hasRawContent");function _Ae(t){return GV(t)?t[TAe]():t}o(_Ae,"getRawContent");var xk=r3;function VV(){let t=gk();return{name:xk,sendRequest:o(async(e,r)=>{if(e.multipartBody)for(let n of e.multipartBody.parts)GV(n.body)&&(n.body=_Ae(n.body));return t.sendRequest(e,r)},"sendRequest")}}o(VV,"multipartPolicy");u();function WV(){return tk()}o(WV,"decompressResponsePolicy");u();function YV(t={}){return nk(t)}o(YV,"defaultRetryPolicy");u();function $V(){return ik()}o($V,"formDataPolicy");u();function zV(t,e){return dk(t,e)}o(zV,"proxyPolicy");u();var SAe="setClientRequestIdPolicy";function jV(t="x-ms-client-request-id"){return{name:SAe,async sendRequest(e,r){return e.headers.has(t)||e.headers.set(t,e.requestId),r(e)}}}o(jV,"setClientRequestIdPolicy");u();function KV(t){return hk(t)}o(KV,"agentPolicy");u();function JV(t){return Ak(t)}o(JV,"tlsPolicy");u();u();var rb=Sa;function n3(t){return j7(t)}o(n3,"isRestError");var wAe="tracingPolicy";function XV(t={}){let e=Ik(t.userAgentPrefix),r=new cf({additionalAllowedQueryParameters:t.additionalAllowedQueryParameters}),n=yqe();return{name:wAe,async sendRequest(i,s){var a;if(!n)return s(i);let c=await e,l={"http.url":r.sanitizeUrl(i.url),"http.method":i.method,"http.user_agent":c,requestId:i.requestId};c&&(l["http.user_agent"]=c);let{span:f,tracingContext:d}=(a=Cqe(n,i,l))!==null&&a!==void 0?a:{};if(!f||!d)return s(i);try{let h=await n.withContext(d,s,i);return Iqe(f,h),h}catch(h){throw Eqe(f,h),h}}}}o(XV,"tracingPolicy");function yqe(){try{return _4({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:Ek})}catch(t){Hd.warning(`Error when creating the TracingClient: ${zx(t)}`);return}}o(yqe,"tryCreateTracingClient");function Cqe(t,e,r){try{let{span:n,updatedOptions:i}=t.startSpan(`HTTP ${e.method}`,{tracingOptions:e.tracingOptions},{spanKind:"client",spanAttributes:r});if(!n.isRecording()){n.end();return}let s=t.createRequestHeaders(i.tracingOptions.tracingContext);for(let[a,c]of Object.entries(s))e.headers.set(a,c);return{span:n,tracingContext:i.tracingOptions.tracingContext}}catch(n){Hd.warning(`Skipping creating a tracing span due to an error: ${zx(n)}`);return}}o(Cqe,"tryCreateSpan");function Eqe(t,e){try{t.setStatus({status:"error",error:U7(e)?e:void 0}),n3(e)&&e.statusCode&&t.setAttribute("http.status_code",e.statusCode),t.end()}catch(r){Hd.warning(`Skipping tracing span processing due to an error: ${zx(r)}`)}}o(Eqe,"tryProcessError");function Iqe(t,e){try{t.setAttribute("http.status_code",e.status);let r=e.headers.get("x-ms-request-id");r&&t.setAttribute("serviceRequestId",r),e.status>=400&&t.setStatus({status:"error"}),t.end()}catch(r){Hd.warning(`Skipping tracing span processing due to an error: ${zx(r)}`)}}o(Iqe,"tryProcessResponse");u();u();function bk(t){if(t instanceof AbortSignal)return{abortSignal:t};if(t.aborted)return{abortSignal:AbortSignal.abort(t.reason)};let e=new AbortController,r=!0;function n(){r&&(t.removeEventListener("abort",i),r=!1)}o(n,"cleanup");function i(){e.abort(t.reason),n()}return o(i,"listener"),t.addEventListener("abort",i),{abortSignal:e.signal,cleanup:n}}o(bk,"wrapAbortSignalLike");var xqe="wrapAbortSignalLikePolicy";function BAe(){return{name:xqe,sendRequest:o(async(t,e)=>{if(!t.abortSignal)return e(t);let{abortSignal:r,cleanup:n}=bk(t.abortSignal);t.abortSignal=r;try{return await e(t)}finally{n?.()}},"sendRequest")}}o(BAe,"wrapAbortSignalLikePolicy");function ZV(t){var e;let r=yk();return jx&&(t.agent&&r.addPolicy(KV(t.agent)),t.tlsOptions&&r.addPolicy(JV(t.tlsOptions)),r.addPolicy(zV(t.proxyOptions)),r.addPolicy(WV())),r.addPolicy(BAe()),r.addPolicy($V(),{beforePolicies:[xk]}),r.addPolicy(qV(t.userAgentOptions)),r.addPolicy(jV((e=t.telemetryOptions)===null||e===void 0?void 0:e.clientRequestIdHeaderName)),r.addPolicy(VV(),{afterPhase:"Deserialize"}),r.addPolicy(YV(t.retryOptions),{phase:"Retry"}),r.addPolicy(XV(Object.assign(Object.assign({},t.userAgentOptions),t.loggingOptions)),{afterPhase:"Retry"}),jx&&r.addPolicy(HV(t.redirectOptions),{afterPhase:"Retry"}),r.addPolicy(UV(t.loggingOptions),{afterPhase:"Sign"}),r}o(ZV,"createPipelineFromOptions");u();function eW(){let t=X7();return{async sendRequest(e){let{abortSignal:r,cleanup:n}=e.abortSignal?bk(e.abortSignal):{};try{return e.abortSignal=r,await t.sendRequest(e)}finally{n?.()}}}}o(eW,"createDefaultHttpClient");u();function Bg(t){return Kc(t)}o(Bg,"createHttpHeaders");u();function lf(t){return $7(t)}o(lf,"createPipelineRequest");u();u();u();u();var vqe=ng("core-rest-pipeline retryPolicy");function tW(t,e={maxRetries:3}){return Sg(t,Object.assign({logger:vqe},e))}o(tW,"retryPolicy");u();u();var Tqe={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};async function _qe(t,e,r){async function n(){if(Date.now()<r)try{return await t()}catch{return null}else{let s=await t();if(s===null)throw new Error("Failed to refresh access token.");return s}}o(n,"tryGetAccessToken");let i=await n();for(;i===null;)await aV(e),i=await n();return i}o(_qe,"beginRefresh");function rW(t,e){let r=null,n=null,i,s=Object.assign(Object.assign({},Tqe),e),a={get isRefreshing(){return r!==null},get shouldRefresh(){var l;return a.isRefreshing?!1:n?.refreshAfterTimestamp&&n.refreshAfterTimestamp<Date.now()?!0:((l=n?.expiresOnTimestamp)!==null&&l!==void 0?l:0)-s.refreshWindowInMs<Date.now()},get mustRefresh(){return n===null||n.expiresOnTimestamp-s.forcedRefreshWindowInMs<Date.now()}};function c(l,f){var d;return a.isRefreshing||(r=_qe(o(()=>t.getToken(l,f),"tryGetAccessToken"),s.retryIntervalInMs,(d=n?.expiresOnTimestamp)!==null&&d!==void 0?d:Date.now()).then(A=>(r=null,n=A,i=f.tenantId,n)).catch(A=>{throw r=null,n=null,i=void 0,A})),r}return o(c,"refresh"),async(l,f)=>{let d=!!f.claims,h=i!==f.tenantId;return d&&(n=null),h||d||a.mustRefresh?c(l,f):(a.shouldRefresh&&c(l,f),n)}}o(rW,"createTokenCycler");var NAe="bearerTokenAuthenticationPolicy";async function vk(t,e){try{return[await e(t),void 0]}catch(r){if(n3(r)&&r.response)return[r.response,r];throw r}}o(vk,"trySendRequest");async function Sqe(t){let{scopes:e,getAccessToken:r,request:n}=t,i={abortSignal:n.abortSignal,tracingOptions:n.tracingOptions,enableCae:!0},s=await r(e,i);s&&t.request.headers.set("Authorization",`Bearer ${s.token}`)}o(Sqe,"defaultAuthorizeRequest");function RAe(t){return t.status===401&&t.headers.has("WWW-Authenticate")}o(RAe,"isChallengeResponse");async function kAe(t,e){var r;let{scopes:n}=t,i=await t.getAccessToken(n,{enableCae:!0,claims:e});return i?(t.request.headers.set("Authorization",`${(r=i.tokenType)!==null&&r!==void 0?r:"Bearer"} ${i.token}`),!0):!1}o(kAe,"authorizeRequestOnCaeChallenge");function Tk(t){var e,r,n;let{credential:i,scopes:s,challengeCallbacks:a}=t,c=t.logger||Hd,l={authorizeRequest:(r=(e=a?.authorizeRequest)===null||e===void 0?void 0:e.bind(a))!==null&&r!==void 0?r:Sqe,authorizeRequestOnChallenge:(n=a?.authorizeRequestOnChallenge)===null||n===void 0?void 0:n.bind(a)},f=i?rW(i):()=>Promise.resolve(null);return{name:NAe,async sendRequest(d,h){if(!d.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");await l.authorizeRequest({scopes:Array.isArray(s)?s:[s],request:d,getAccessToken:f,logger:c});let A,m,y;if([A,m]=await vk(d,h),RAe(A)){let x=DAe(A.headers.get("WWW-Authenticate"));if(x){let _;try{_=atob(x)}catch{return c.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${x}`),A}y=await kAe({scopes:Array.isArray(s)?s:[s],response:A,request:d,getAccessToken:f,logger:c},_),y&&([A,m]=await vk(d,h))}else if(l.authorizeRequestOnChallenge&&(y=await l.authorizeRequestOnChallenge({scopes:Array.isArray(s)?s:[s],request:d,response:A,getAccessToken:f,logger:c}),y&&([A,m]=await vk(d,h)),RAe(A)&&(x=DAe(A.headers.get("WWW-Authenticate")),x))){let _;try{_=atob(x)}catch{return c.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${x}`),A}y=await kAe({scopes:Array.isArray(s)?s:[s],response:A,request:d,getAccessToken:f,logger:c},_),y&&([A,m]=await vk(d,h))}}if(m)throw m;return A}}}o(Tk,"bearerTokenAuthenticationPolicy");function wqe(t){let e=/(\w+)\s+((?:\w+=(?:"[^"]*"|[^,]*),?\s*)+)/g,r=/(\w+)="([^"]*)"/g,n=[],i;for(;(i=e.exec(t))!==null;){let s=i[1],a=i[2],c={},l;for(;(l=r.exec(a))!==null;)c[l[1]]=l[2];n.push({scheme:s,params:c})}return n}o(wqe,"parseChallenges");function DAe(t){var e;return t?(e=wqe(t).find(n=>n.scheme==="Bearer"&&n.params.claims&&n.params.error==="insufficient_claims"))===null||e===void 0?void 0:e.params.claims:void 0}o(DAe,"getCaeChallengeClaims");u();u();u();u();u();u();var PAe=yt(QAe(),1),nW=PAe.state;function Rg(t,e,r){let n=e.parameterPath,i=e.mapper,s;if(typeof n=="string"&&(n=[n]),Array.isArray(n)){if(n.length>0)if(i.isConstant)s=i.defaultValue;else{let a=FAe(t,n);!a.propertyFound&&r&&(a=FAe(r,n));let c=!1;a.propertyFound||(c=i.required||n[0]==="options"&&n.length===2),s=c?i.defaultValue:a.propertyValue}}else{i.required&&(s={});for(let a in n){let c=i.type.modelProperties[a],l=n[a],f=Rg(t,{parameterPath:l,mapper:c},r);f!==void 0&&(s||(s={}),s[a]=f)}}return s}o(Rg,"getOperationArgumentValueFromParameter");function FAe(t,e){let r={propertyFound:!1},n=0;for(;n<e.length;++n){let i=e[n];if(t&&i in t)t=t[i];else break}return n===e.length&&(r.propertyValue=t,r.propertyFound=!0),r}o(FAe,"getPropertyFromParameterPath");var MAe=Symbol.for("@azure/core-client original request");function Bqe(t){return MAe in t}o(Bqe,"hasOriginalRequest");function SA(t){if(Bqe(t))return SA(t[MAe]);let e=nW.operationRequestMap.get(t);return e||(e={},nW.operationRequestMap.set(t,e)),e}o(SA,"getOperationRequestInfo");var Rqe=["application/json","text/json"],kqe=["application/xml","application/atom+xml"],LAe="deserializationPolicy";function iW(t={}){var e,r,n,i,s,a,c;let l=(r=(e=t.expectedContentTypes)===null||e===void 0?void 0:e.json)!==null&&r!==void 0?r:Rqe,f=(i=(n=t.expectedContentTypes)===null||n===void 0?void 0:n.xml)!==null&&i!==void 0?i:kqe,d=t.parseXML,h=t.serializerOptions,A={xml:{rootName:(s=h?.xml.rootName)!==null&&s!==void 0?s:"",includeRoot:(a=h?.xml.includeRoot)!==null&&a!==void 0?a:!1,xmlCharKey:(c=h?.xml.xmlCharKey)!==null&&c!==void 0?c:"_"}};return{name:LAe,async sendRequest(m,y){let x=await y(m);return Qqe(l,f,x,A,d)}}}o(iW,"deserializationPolicy");function Dqe(t){let e,r=t.request,n=SA(r),i=n?.operationSpec;return i&&(n?.operationResponseGetter?e=n?.operationResponseGetter(i,t):e=i.responses[t.status]),e}o(Dqe,"getOperationResponseMap");function Nqe(t){let e=t.request,r=SA(e),n=r?.shouldDeserialize,i;return n===void 0?i=!0:typeof n=="boolean"?i=n:i=n(t),i}o(Nqe,"shouldDeserializeResponse");async function Qqe(t,e,r,n,i){let s=await Mqe(t,e,r,n,i);if(!Nqe(s))return s;let a=SA(s.request),c=a?.operationSpec;if(!c||!c.responses)return s;let l=Dqe(s),{error:f,shouldReturnResponse:d}=Fqe(s,c,l,n);if(f)throw f;if(d)return s;if(l){if(l.bodyMapper){let h=s.parsedBody;c.isXML&&l.bodyMapper.type.name===Fd.Sequence&&(h=typeof h=="object"?h[l.bodyMapper.xmlElementName]:[]);try{s.parsedBody=c.serializer.deserialize(l.bodyMapper,h,"operationRes.parsedBody",n)}catch(A){throw new rb(`Error ${A} occurred in deserializing the responseBody - ${s.bodyAsText}`,{statusCode:s.status,request:s.request,response:s})}}else c.httpMethod==="HEAD"&&(s.parsedBody=r.status>=200&&r.status<300);l.headersMapper&&(s.parsedHeaders=c.serializer.deserialize(l.headersMapper,s.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:!0}))}return s}o(Qqe,"deserializeResponseBody");function Pqe(t){let e=Object.keys(t.responses);return e.length===0||e.length===1&&e[0]==="default"}o(Pqe,"isOperationSpecEmpty");function Fqe(t,e,r,n){var i;let s=200<=t.status&&t.status<300;if(Pqe(e)?s:!!r)if(r){if(!r.isError)return{error:null,shouldReturnResponse:!1}}else return{error:null,shouldReturnResponse:!1};let c=r??e.responses.default,l=!((i=t.request.streamResponseStatusCodes)===null||i===void 0)&&i.has(t.status)?`Unexpected status code: ${t.status}`:t.bodyAsText,f=new rb(l,{statusCode:t.status,request:t.request,response:t});if(!c)throw f;let d=c.bodyMapper,h=c.headersMapper;try{if(t.parsedBody){let A=t.parsedBody,m;if(d){let x=A;if(e.isXML&&d.type.name===Fd.Sequence){x=[];let _=d.xmlElementName;typeof A=="object"&&_&&(x=A[_])}m=e.serializer.deserialize(d,x,"error.response.parsedBody",n)}let y=A.error||m||A;f.code=y.code,y.message&&(f.message=y.message),d&&(f.response.parsedBody=m)}t.headers&&h&&(f.response.parsedHeaders=e.serializer.deserialize(h,t.headers.toJSON(),"operationRes.parsedHeaders"))}catch(A){f.message=`Error "${A.message}" occurred in deserializing the responseBody - "${t.bodyAsText}" for the default response.`}return{error:f,shouldReturnResponse:!1}}o(Fqe,"handleErrorResponse");async function Mqe(t,e,r,n,i){var s;if(!(!((s=r.request.streamResponseStatusCodes)===null||s===void 0)&&s.has(r.status))&&r.bodyAsText){let a=r.bodyAsText,c=r.headers.get("Content-Type")||"",l=c?c.split(";").map(f=>f.toLowerCase()):[];try{if(l.length===0||l.some(f=>t.indexOf(f)!==-1))return r.parsedBody=JSON.parse(a),r;if(l.some(f=>e.indexOf(f)!==-1)){if(!i)throw new Error("Parsing XML not supported.");let f=await i(a,n.xml);return r.parsedBody=f,r}}catch(f){let d=`Error "${f}" occurred while parsing the response body - ${r.bodyAsText}.`,h=f.code||rb.PARSE_ERROR;throw new rb(d,{code:h,statusCode:r.status,request:r.request,response:r})}}return r}o(Mqe,"parse");u();u();function OAe(t){let e=new Set;for(let r in t.responses){let n=t.responses[r];n.bodyMapper&&n.bodyMapper.type.name===Fd.Stream&&e.add(Number(r))}return e}o(OAe,"getStreamingResponseStatusCodes");function qd(t){let{parameterPath:e,mapper:r}=t,n;return typeof e=="string"?n=e:Array.isArray(e)?n=e.join("."):n=r.serializedName,n}o(qd,"getPathStringFromParameter");var UAe="serializationPolicy";function oW(t={}){let e=t.stringifyXML;return{name:UAe,async sendRequest(r,n){let i=SA(r),s=i?.operationSpec,a=i?.operationArguments;return s&&a&&(Lqe(r,a,s),Oqe(r,a,s,e)),n(r)}}}o(oW,"serializationPolicy");function Lqe(t,e,r){var n,i;if(r.headerParameters)for(let a of r.headerParameters){let c=Rg(e,a);if(c!=null||a.mapper.required){c=r.serializer.serialize(a.mapper,c,qd(a));let l=a.mapper.headerCollectionPrefix;if(l)for(let f of Object.keys(c))t.headers.set(l+f,c[f]);else t.headers.set(a.mapper.serializedName||qd(a),c)}}let s=(i=(n=e.options)===null||n===void 0?void 0:n.requestOptions)===null||i===void 0?void 0:i.customHeaders;if(s)for(let a of Object.keys(s))t.headers.set(a,s[a])}o(Lqe,"serializeHeaders");function Oqe(t,e,r,n=function(){throw new Error("XML serialization unsupported!")}){var i,s,a,c,l;let f=(i=e.options)===null||i===void 0?void 0:i.serializerOptions,d={xml:{rootName:(s=f?.xml.rootName)!==null&&s!==void 0?s:"",includeRoot:(a=f?.xml.includeRoot)!==null&&a!==void 0?a:!1,xmlCharKey:(c=f?.xml.xmlCharKey)!==null&&c!==void 0?c:"_"}},h=d.xml.xmlCharKey;if(r.requestBody&&r.requestBody.mapper){t.body=Rg(e,r.requestBody);let A=r.requestBody.mapper,{required:m,serializedName:y,xmlName:x,xmlElementName:_,xmlNamespace:T,xmlNamespacePrefix:S,nullable:k}=A,N=A.type.name;try{if(t.body!==void 0&&t.body!==null||k&&t.body===null||m){let P=qd(r.requestBody);t.body=r.serializer.serialize(A,t.body,P,d);let L=N===Fd.Stream;if(r.isXML){let Y=S?`xmlns:${S}`:"xmlns",te=Uqe(T,Y,N,t.body,d);N===Fd.Sequence?t.body=n(Hqe(te,_||x||y,Y,T),{rootName:x||y,xmlCharKey:h}):L||(t.body=n(te,{rootName:x||y,xmlCharKey:h}))}else{if(N===Fd.String&&(!((l=r.contentType)===null||l===void 0)&&l.match("text/plain")||r.mediaType==="text"))return;L||(t.body=JSON.stringify(t.body))}}}catch(P){throw new Error(`Error "${P.message}" occurred in serializing the payload - ${JSON.stringify(y,void 0,"  ")}.`)}}else if(r.formDataParameters&&r.formDataParameters.length>0){t.formData={};for(let A of r.formDataParameters){let m=Rg(e,A);if(m!=null){let y=A.mapper.serializedName||qd(A);t.formData[y]=r.serializer.serialize(A.mapper,m,qd(A),d)}}}}o(Oqe,"serializeRequestBody");function Uqe(t,e,r,n,i){if(t&&!["Composite","Sequence","Dictionary"].includes(r)){let s={};return s[i.xml.xmlCharKey]=n,s["$"]={[e]:t},s}return n}o(Uqe,"getXmlValueWithNamespace");function Hqe(t,e,r,n){if(Array.isArray(t)||(t=[t]),!r||!n)return{[e]:t};let i={[e]:t};return i["$"]={[r]:n},i}o(Hqe,"prepareXMLRootList");function sW(t={}){let e=ZV(t??{});return t.credentialOptions&&e.addPolicy(Tk({credential:t.credentialOptions.credential,scopes:t.credentialOptions.credentialScopes})),e.addPolicy(oW(t.serializationOptions),{phase:"Serialize"}),e.addPolicy(iW(t.deserializationOptions),{phase:"Deserialize"}),e}o(sW,"createClientPipeline");u();var aW;function HAe(){return aW||(aW=eW()),aW}o(HAe,"getCachedDefaultHttpClient");u();var qqe={CSV:",",SSV:" ",Multi:"Multi",TSV:"	",Pipes:"|"};function GAe(t,e,r,n){let i=Gqe(e,r,n),s=!1,a=qAe(t,i);if(e.path){let f=qAe(e.path,i);e.path==="/{nextLink}"&&f.startsWith("/")&&(f=f.substring(1)),Vqe(f)?(a=f,s=!0):a=Wqe(a,f)}let{queryParams:c,sequenceParams:l}=Yqe(e,r,n);return a=zqe(a,c,l,s),a}o(GAe,"getRequestUrl");function qAe(t,e){let r=t;for(let[n,i]of e)r=r.split(n).join(i);return r}o(qAe,"replaceAll");function Gqe(t,e,r){var n;let i=new Map;if(!((n=t.urlParameters)===null||n===void 0)&&n.length)for(let s of t.urlParameters){let a=Rg(e,s,r),c=qd(s);a=t.serializer.serialize(s.mapper,a,c),s.skipEncoding||(a=encodeURIComponent(a)),i.set(`{${s.mapper.serializedName||c}}`,a)}return i}o(Gqe,"calculateUrlReplacements");function Vqe(t){return t.includes("://")}o(Vqe,"isAbsoluteUrl");function Wqe(t,e){if(!e)return t;let r=new URL(t),n=r.pathname;n.endsWith("/")||(n=`${n}/`),e.startsWith("/")&&(e=e.substring(1));let i=e.indexOf("?");if(i!==-1){let s=e.substring(0,i),a=e.substring(i+1);n=n+s,a&&(r.search=r.search?`${r.search}&${a}`:a)}else n=n+e;return r.pathname=n,r.toString()}o(Wqe,"appendPath");function Yqe(t,e,r){var n;let i=new Map,s=new Set;if(!((n=t.queryParameters)===null||n===void 0)&&n.length)for(let a of t.queryParameters){a.mapper.type.name==="Sequence"&&a.mapper.serializedName&&s.add(a.mapper.serializedName);let c=Rg(e,a,r);if(c!=null||a.mapper.required){c=t.serializer.serialize(a.mapper,c,qd(a));let l=a.collectionFormat?qqe[a.collectionFormat]:"";if(Array.isArray(c)&&(c=c.map(f=>f??"")),a.collectionFormat==="Multi"&&c.length===0)continue;Array.isArray(c)&&(a.collectionFormat==="SSV"||a.collectionFormat==="TSV")&&(c=c.join(l)),a.skipEncoding||(Array.isArray(c)?c=c.map(f=>encodeURIComponent(f)):c=encodeURIComponent(c)),Array.isArray(c)&&(a.collectionFormat==="CSV"||a.collectionFormat==="Pipes")&&(c=c.join(l)),i.set(a.mapper.serializedName||qd(a),c)}}return{queryParams:i,sequenceParams:s}}o(Yqe,"calculateQueryParameters");function $qe(t){let e=new Map;if(!t||t[0]!=="?")return e;t=t.slice(1);let r=t.split("&");for(let n of r){let[i,s]=n.split("=",2),a=e.get(i);a?Array.isArray(a)?a.push(s):e.set(i,[a,s]):e.set(i,s)}return e}o($qe,"simpleParseQueryParams");function zqe(t,e,r,n=!1){if(e.size===0)return t;let i=new URL(t),s=$qe(i.search);for(let[c,l]of e){let f=s.get(c);if(Array.isArray(f))if(Array.isArray(l)){f.push(...l);let d=new Set(f);s.set(c,Array.from(d))}else f.push(l);else f?(Array.isArray(l)?l.unshift(f):r.has(c)&&s.set(c,[f,l]),n||s.set(c,l)):s.set(c,l)}let a=[];for(let[c,l]of s)if(typeof l=="string")a.push(`${c}=${l}`);else if(Array.isArray(l))for(let f of l)a.push(`${c}=${f}`);else a.push(`${c}=${l}`);return i.search=a.length?`?${a.join("&")}`:"",i.toString()}o(zqe,"appendQueryParams");u();var cW=ng("core-client");var i3=class{static{o(this,"ServiceClient")}constructor(e={}){var r,n;if(this._requestContentType=e.requestContentType,this._endpoint=(r=e.endpoint)!==null&&r!==void 0?r:e.baseUri,e.baseUri&&cW.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=e.allowInsecureConnection,this._httpClient=e.httpClient||HAe(),this.pipeline=e.pipeline||jqe(e),!((n=e.additionalPolicies)===null||n===void 0)&&n.length)for(let{policy:i,position:s}of e.additionalPolicies){let a=s==="perRetry"?"Sign":void 0;this.pipeline.addPolicy(i,{afterPhase:a})}}async sendRequest(e){return this.pipeline.sendRequest(this._httpClient,e)}async sendOperationRequest(e,r){let n=r.baseUrl||this._endpoint;if(!n)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");let i=GAe(n,r,e,this),s=lf({url:i});s.method=r.httpMethod;let a=SA(s);a.operationSpec=r,a.operationArguments=e;let c=r.contentType||this._requestContentType;c&&r.requestBody&&s.headers.set("Content-Type",c);let l=e.options;if(l){let f=l.requestOptions;f&&(f.timeout&&(s.timeout=f.timeout),f.onUploadProgress&&(s.onUploadProgress=f.onUploadProgress),f.onDownloadProgress&&(s.onDownloadProgress=f.onDownloadProgress),f.shouldDeserialize!==void 0&&(a.shouldDeserialize=f.shouldDeserialize),f.allowInsecureConnection&&(s.allowInsecureConnection=!0)),l.abortSignal&&(s.abortSignal=l.abortSignal),l.tracingOptions&&(s.tracingOptions=l.tracingOptions)}this._allowInsecureConnection&&(s.allowInsecureConnection=!0),s.streamResponseStatusCodes===void 0&&(s.streamResponseStatusCodes=OAe(r));try{let f=await this.sendRequest(s),d=fV(f,r.responses[f.status]);return l?.onResponse&&l.onResponse(f,d),d}catch(f){if(typeof f=="object"&&f?.response){let d=f.response,h=fV(d,r.responses[f.statusCode]||r.responses.default);f.details=h,l?.onResponse&&l.onResponse(d,h,f)}throw f}}};function jqe(t){let e=Kqe(t),r=t.credential&&e?{credentialScopes:e,credential:t.credential}:void 0;return sW(Object.assign(Object.assign({},t),{credentialOptions:r}))}o(jqe,"createDefaultPipeline");function Kqe(t){if(t.credentialScopes)return t.credentialScopes;if(t.endpoint)return`${t.endpoint}/.default`;if(t.baseUri)return`${t.baseUri}/.default`;if(t.credential&&!t.credentialScopes)throw new Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}o(Kqe,"getCredentialScopes");u();u();u();function VAe(t){return t==="adfs"?"oauth2/token":"oauth2/v2.0/token"}o(VAe,"getIdentityTokenEndpointSuffix");u();var WAe="/.default",YAe="Specifying a `clientId` or `resourceId` is not supported by the Service Fabric managed identity environment. The managed identity configuration is determined by the Service Fabric cluster resource configuration. See https://aka.ms/servicefabricmi for more information";function o3(t){let e="";if(Array.isArray(t)){if(t.length!==1)return;e=t[0]}else typeof t=="string"&&(e=t);return e.endsWith(WAe)?e.substr(0,e.lastIndexOf(WAe)):e}o(o3,"mapScopesToResource");function $Ae(t){if(typeof t.expires_on=="number")return t.expires_on*1e3;if(typeof t.expires_on=="string"){let e=+t.expires_on;if(!isNaN(e))return e*1e3;let r=Date.parse(t.expires_on);if(!isNaN(r))return r}if(typeof t.expires_in=="number")return Date.now()+t.expires_in*1e3;throw new Error(`Failed to parse token expiration from body. expires_in="${t.expires_in}", expires_on="${t.expires_on}"`)}o($Ae,"parseExpirationTimestamp");function zAe(t){if(t.refresh_on){if(typeof t.refresh_on=="number")return t.refresh_on*1e3;if(typeof t.refresh_on=="string"){let e=+t.refresh_on;if(!isNaN(e))return e*1e3;let r=Date.parse(t.refresh_on);if(!isNaN(r))return r}throw new Error(`Failed to parse refresh_on from body. refresh_on="${t.refresh_on}"`)}else return}o(zAe,"parseRefreshTimestamp");var s3="noCorrelationId";function Jqe(t){let e=t?.authorityHost;return H7&&(e=e??process.env.AZURE_AUTHORITY_HOST),e??b4}o(Jqe,"getIdentityClientAuthorityHost");var kg=class extends i3{static{o(this,"IdentityClient")}authorityHost;allowLoggingAccountIdentifiers;abortControllers;allowInsecureConnection=!1;tokenCredentialOptions;constructor(e){let r=`azsdk-js-identity/${Z9}`,n=e?.userAgentOptions?.userAgentPrefix?`${e.userAgentOptions.userAgentPrefix} ${r}`:`${r}`,i=Jqe(e);if(!i.startsWith("https:"))throw new Error("The authorityHost address must use the 'https' protocol.");super({requestContentType:"application/json; charset=utf-8",retryOptions:{maxRetries:3},...e,userAgentOptions:{userAgentPrefix:n},baseUri:i}),this.authorityHost=i,this.abortControllers=new Map,this.allowLoggingAccountIdentifiers=e?.loggingOptions?.allowLoggingAccountIdentifiers,this.tokenCredentialOptions={...e},e?.allowInsecureConnection&&(this.allowInsecureConnection=e.allowInsecureConnection)}async sendTokenRequest(e){Gc.info(`IdentityClient: sending token request to [${e.url}]`);let r=await this.sendRequest(e);if(r.bodyAsText&&(r.status===200||r.status===201)){let n=JSON.parse(r.bodyAsText);if(!n.access_token)return null;this.logIdentifiers(r);let i={accessToken:{token:n.access_token,expiresOnTimestamp:$Ae(n),refreshAfterTimestamp:zAe(n),tokenType:"Bearer"},refreshToken:n.refresh_token};return Gc.info(`IdentityClient: [${e.url}] token acquired, expires on ${i.accessToken.expiresOnTimestamp}`),i}else{let n=new rg(r.status,r.bodyAsText);throw Gc.warning(`IdentityClient: authentication error. HTTP status: ${r.status}, ${n.errorResponse.errorDescription}`),n}}async refreshAccessToken(e,r,n,i,s,a={}){if(i===void 0)return null;Gc.info(`IdentityClient: refreshing access token with client ID: ${r}, scopes: ${n} started`);let c={grant_type:"refresh_token",client_id:r,refresh_token:i,scope:n};s!==void 0&&(c.client_secret=s);let l=new URLSearchParams(c);return hi.withSpan("IdentityClient.refreshAccessToken",a,async f=>{try{let d=VAe(e),h=lf({url:`${this.authorityHost}/${e}/${d}`,method:"POST",body:l.toString(),abortSignal:a.abortSignal,headers:Bg({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),tracingOptions:f.tracingOptions}),A=await this.sendTokenRequest(h);return Gc.info(`IdentityClient: refreshed token for client ID: ${r}`),A}catch(d){if(d.name===tR&&d.errorResponse.error==="interaction_required")return Gc.info(`IdentityClient: interaction required for client ID: ${r}`),null;throw Gc.warning(`IdentityClient: failed refreshing token for client ID: ${r}: ${d}`),d}})}generateAbortSignal(e){let r=new AbortController,n=this.abortControllers.get(e)||[];n.push(r),this.abortControllers.set(e,n);let i=r.signal.onabort;return r.signal.onabort=(...s)=>{this.abortControllers.set(e,void 0),i&&i.apply(r.signal,s)},r.signal}abortRequests(e){let r=e||s3,n=[...this.abortControllers.get(r)||[],...this.abortControllers.get(s3)||[]];if(n.length){for(let i of n)i.abort();this.abortControllers.set(r,void 0)}}getCorrelationId(e){let r=e?.body?.split("&").map(n=>n.split("=")).find(([n])=>n==="client-request-id");return r&&r.length&&r[1]||s3}async sendGetRequestAsync(e,r){let n=lf({url:e,method:"GET",body:r?.body,allowInsecureConnection:this.allowInsecureConnection,headers:Bg(r?.headers),abortSignal:this.generateAbortSignal(s3)}),i=await this.sendRequest(n);return this.logIdentifiers(i),{body:i.bodyAsText?JSON.parse(i.bodyAsText):void 0,headers:i.headers.toJSON(),status:i.status}}async sendPostRequestAsync(e,r){let n=lf({url:e,method:"POST",body:r?.body,headers:Bg(r?.headers),allowInsecureConnection:this.allowInsecureConnection,abortSignal:this.generateAbortSignal(this.getCorrelationId(r))}),i=await this.sendRequest(n);return this.logIdentifiers(i),{body:i.bodyAsText?JSON.parse(i.bodyAsText):void 0,headers:i.headers.toJSON(),status:i.status}}getTokenCredentialOptions(){return this.tokenCredentialOptions}logIdentifiers(e){if(!this.allowLoggingAccountIdentifiers||!e.bodyAsText)return;let r="No User Principal Name available";try{let i=(e.parsedBody||JSON.parse(e.bodyAsText)).access_token;if(!i)return;let s=i.split(".")[1],{appid:a,upn:c,tid:l,oid:f}=JSON.parse(Buffer.from(s,"base64").toString("utf8"));Gc.info(`[Authenticated account] Client ID: ${a}. Tenant ID: ${l}. User Principal Name: ${c||r}. Object ID (user): ${f}`)}catch(n){Gc.warning("allowLoggingAccountIdentifiers was set, but we couldn't log the account information. Error:",n.message)}}};u();var lW;(function(t){t.AutoDiscoverRegion="AutoDiscoverRegion",t.USWest="westus",t.USWest2="westus2",t.USCentral="centralus",t.USEast="eastus",t.USEast2="eastus2",t.USNorthCentral="northcentralus",t.USSouthCentral="southcentralus",t.USWestCentral="westcentralus",t.CanadaCentral="canadacentral",t.CanadaEast="canadaeast",t.BrazilSouth="brazilsouth",t.EuropeNorth="northeurope",t.EuropeWest="westeurope",t.UKSouth="uksouth",t.UKWest="ukwest",t.FranceCentral="francecentral",t.FranceSouth="francesouth",t.SwitzerlandNorth="switzerlandnorth",t.SwitzerlandWest="switzerlandwest",t.GermanyNorth="germanynorth",t.GermanyWestCentral="germanywestcentral",t.NorwayWest="norwaywest",t.NorwayEast="norwayeast",t.AsiaEast="eastasia",t.AsiaSouthEast="southeastasia",t.JapanEast="japaneast",t.JapanWest="japanwest",t.AustraliaEast="australiaeast",t.AustraliaSouthEast="australiasoutheast",t.AustraliaCentral="australiacentral",t.AustraliaCentral2="australiacentral2",t.IndiaCentral="centralindia",t.IndiaSouth="southindia",t.IndiaWest="westindia",t.KoreaSouth="koreasouth",t.KoreaCentral="koreacentral",t.UAECentral="uaecentral",t.UAENorth="uaenorth",t.SouthAfricaNorth="southafricanorth",t.SouthAfricaWest="southafricawest",t.ChinaNorth="chinanorth",t.ChinaEast="chinaeast",t.ChinaNorth2="chinanorth2",t.ChinaEast2="chinaeast2",t.GermanyCentral="germanycentral",t.GermanyNorthEast="germanynortheast",t.GovernmentUSVirginia="usgovvirginia",t.GovernmentUSIowa="usgoviowa",t.GovernmentUSArizona="usgovarizona",t.GovernmentUSTexas="usgovtexas",t.GovernmentUSDodEast="usdodeast",t.GovernmentUSDodCentral="usdodcentral"})(lW||(lW={}));function Sk(t){let e=t;return e===void 0&&globalThis.process?.env?.AZURE_REGIONAL_AUTHORITY_NAME!==void 0&&(e=process.env.AZURE_REGIONAL_AUTHORITY_NAME),e===lW.AutoDiscoverRegion?"AUTO_DISCOVER":e}o(Sk,"calculateRegionalAuthority");u();u();function Xqe(t){return`The current credential is not configured to acquire tokens for tenant ${t}. To enable acquiring tokens for this tenant add it to the AdditionallyAllowedTenants on the credential options, or add "*" to AdditionallyAllowedTenants to allow acquiring tokens for any tenant.`}o(Xqe,"createConfigurationErrorMessage");function So(t,e,r=[],n){let i;if(process.env.AZURE_IDENTITY_DISABLE_MULTITENANTAUTH||t==="adfs"?i=t:i=e?.tenantId??t,t&&i!==t&&!r.includes("*")&&!r.some(s=>s.localeCompare(i)===0)){let s=Xqe(i);throw n?.info(s),new Lt(s)}return i}o(So,"processMultiTenantRequest");function Zs(t,e){if(!e.match(/^[0-9a-zA-Z-.]+$/)){let r=new Error("Invalid tenant id provided. You can locate your tenant id by following the instructions listed here: https://learn.microsoft.com/partner-center/find-ids-and-domain-names.");throw t.info(Fn("",r)),r}}o(Zs,"checkTenantId");function nb(t,e,r){return e?(Zs(t,e),e):(r||(r=rC),r!==rC?"common":"organizations")}o(nb,"resolveTenantId");function Oo(t){return!t||t.length===0?[]:t.includes("*")?rce:t}o(Oo,"resolveAdditionallyAllowedTenantIds");var b0=Rr("MsalClient");function pGe(t,e,r={}){let n=nb(r.logger??b0,e,t),i=lV(n,cV(r)),s=new kg({...r.tokenCredentialOptions,authorityHost:i,loggingOptions:r.loggingOptions});return{auth:{clientId:t,authority:i,knownAuthorities:lhe(n,i,r.disableInstanceDiscovery)},system:{networkClient:s,loggerOptions:{loggerCallback:q7(r.logger??b0),logLevel:G7(sR()),piiLoggingEnabled:r.loggingOptions?.enableUnsafeSupportLogging}}}}o(pGe,"generateMsalConfiguration");function Ja(t,e,r={}){let n={msalConfig:pGe(t,e,r),cachedAccount:r.authenticationRecord?uhe(r.authenticationRecord):null,pluginConfiguration:cce.generatePluginConfiguration(r),logger:r.logger??b0},i=new Map;async function s(Y={}){let te=Y.enableCae?"CAE":"default",ne=i.get(te);if(ne)return n.logger.getToken.info("Existing PublicClientApplication found in cache, returning it."),ne;n.logger.getToken.info(`Creating new PublicClientApplication with CAE ${Y.enableCae?"enabled":"disabled"}.`);let pe=Y.enableCae?n.pluginConfiguration.cache.cachePluginCae:n.pluginConfiguration.cache.cachePlugin;return n.msalConfig.auth.clientCapabilities=Y.enableCae?["cp1"]:void 0,ne=new qx({...n.msalConfig,broker:{nativeBrokerPlugin:n.pluginConfiguration.broker.nativeBrokerPlugin},cache:{cachePlugin:await pe}}),i.set(te,ne),ne}o(s,"getPublicApp");let a=new Map;async function c(Y={}){let te=Y.enableCae?"CAE":"default",ne=a.get(te);if(ne)return n.logger.getToken.info("Existing ConfidentialClientApplication found in cache, returning it."),ne;n.logger.getToken.info(`Creating new ConfidentialClientApplication with CAE ${Y.enableCae?"enabled":"disabled"}.`);let pe=Y.enableCae?n.pluginConfiguration.cache.cachePluginCae:n.pluginConfiguration.cache.cachePlugin;return n.msalConfig.auth.clientCapabilities=Y.enableCae?["cp1"]:void 0,ne=new Vx({...n.msalConfig,broker:{nativeBrokerPlugin:n.pluginConfiguration.broker.nativeBrokerPlugin},cache:{cachePlugin:await pe}}),a.set(te,ne),ne}o(c,"getConfidentialApp");async function l(Y,te,ne={}){if(n.cachedAccount===null)throw n.logger.getToken.info("No cached account found in local state."),new Hl({scopes:te});ne.claims&&(n.cachedClaims=ne.claims);let pe={account:n.cachedAccount,scopes:te,claims:n.cachedClaims};n.pluginConfiguration.broker.isEnabled&&(pe.tokenQueryParameters||={},n.pluginConfiguration.broker.enableMsaPassthrough&&(pe.tokenQueryParameters.msal_request_type="consumer_passthrough")),ne.proofOfPossessionOptions&&(pe.shrNonce=ne.proofOfPossessionOptions.nonce,pe.authenticationScheme="pop",pe.resourceRequestMethod=ne.proofOfPossessionOptions.resourceRequestMethod,pe.resourceRequestUri=ne.proofOfPossessionOptions.resourceRequestUrl),n.logger.getToken.info("Attempting to acquire token silently");try{return await Y.acquireTokenSilent(pe)}catch(W){throw JC(te,W,ne)}}o(l,"getTokenSilent");function f(Y){return Y?.tenantId?lV(Y.tenantId,cV(r)):n.msalConfig.auth.authority}o(f,"calculateRequestAuthority");async function d(Y,te,ne,pe){let W=null;try{W=await l(Y,te,ne)}catch($){if($.name!=="AuthenticationRequiredError")throw $;if(ne.disableAutomaticAuthentication)throw new Hl({scopes:te,getTokenOptions:ne,message:"Automatic authentication has been disabled. You may call the authentication() method."})}if(W===null)try{W=await pe()}catch($){throw JC(te,$,ne)}return KC(te,W,ne),n.cachedAccount=W?.account??null,n.logger.getToken.info(ks(te)),{token:W.accessToken,expiresOnTimestamp:W.expiresOn.getTime(),refreshAfterTimestamp:W.refreshOn?.getTime(),tokenType:W.tokenType}}o(d,"withSilentAuthentication");async function h(Y,te,ne={}){n.logger.getToken.info("Attempting to acquire token using client secret"),n.msalConfig.auth.clientSecret=te;let pe=await c(ne);try{let W=await pe.acquireTokenByClientCredential({scopes:Y,authority:f(ne),azureRegion:Sk(),claims:ne?.claims});return KC(Y,W,ne),n.logger.getToken.info(ks(Y)),{token:W.accessToken,expiresOnTimestamp:W.expiresOn.getTime(),refreshAfterTimestamp:W.refreshOn?.getTime(),tokenType:W.tokenType}}catch(W){throw JC(Y,W,ne)}}o(h,"getTokenByClientSecret");async function A(Y,te,ne={}){n.logger.getToken.info("Attempting to acquire token using client assertion"),n.msalConfig.auth.clientAssertion=te;let pe=await c(ne);try{let W=await pe.acquireTokenByClientCredential({scopes:Y,authority:f(ne),azureRegion:Sk(),claims:ne?.claims,clientAssertion:te});return KC(Y,W,ne),n.logger.getToken.info(ks(Y)),{token:W.accessToken,expiresOnTimestamp:W.expiresOn.getTime(),refreshAfterTimestamp:W.refreshOn?.getTime(),tokenType:W.tokenType}}catch(W){throw JC(Y,W,ne)}}o(A,"getTokenByClientAssertion");async function m(Y,te,ne={}){n.logger.getToken.info("Attempting to acquire token using client certificate"),n.msalConfig.auth.clientCertificate=te;let pe=await c(ne);try{let W=await pe.acquireTokenByClientCredential({scopes:Y,authority:f(ne),azureRegion:Sk(),claims:ne?.claims});return KC(Y,W,ne),n.logger.getToken.info(ks(Y)),{token:W.accessToken,expiresOnTimestamp:W.expiresOn.getTime(),refreshAfterTimestamp:W.refreshOn?.getTime(),tokenType:W.tokenType}}catch(W){throw JC(Y,W,ne)}}o(m,"getTokenByClientCertificate");async function y(Y,te,ne={}){n.logger.getToken.info("Attempting to acquire token using device code");let pe=await s(ne);return d(pe,Y,ne,()=>{let W={scopes:Y,cancel:ne?.abortSignal?.aborted??!1,deviceCodeCallback:te,authority:f(ne),claims:ne?.claims},$=pe.acquireTokenByDeviceCode(W);return ne.abortSignal&&ne.abortSignal.addEventListener("abort",()=>{W.cancel=!0}),$})}o(y,"getTokenByDeviceCode");async function x(Y,te,ne,pe={}){n.logger.getToken.info("Attempting to acquire token using username and password");let W=await s(pe);return d(W,Y,pe,()=>{let $={scopes:Y,username:te,password:ne,authority:f(pe),claims:pe?.claims};return W.acquireTokenByUsernamePassword($)})}o(x,"getTokenByUsernamePassword");function _(){if(n.cachedAccount)return fhe(t,n.cachedAccount)}o(_,"getActiveAccount");async function T(Y,te,ne,pe,W={}){n.logger.getToken.info("Attempting to acquire token using authorization code");let $;return pe?(n.msalConfig.auth.clientSecret=pe,$=await c(W)):$=await s(W),d($,Y,W,()=>$.acquireTokenByCode({scopes:Y,redirectUri:te,code:ne,authority:f(W),claims:W?.claims}))}o(T,"getTokenByAuthorizationCode");async function S(Y,te,ne,pe={}){b0.getToken.info("Attempting to acquire token on behalf of another user"),typeof ne=="string"?(b0.getToken.info("Using client secret for on behalf of flow"),n.msalConfig.auth.clientSecret=ne):typeof ne=="function"?(b0.getToken.info("Using client assertion callback for on behalf of flow"),n.msalConfig.auth.clientAssertion=ne):(b0.getToken.info("Using client certificate for on behalf of flow"),n.msalConfig.auth.clientCertificate=ne);let W=await c(pe);try{let $=await W.acquireTokenOnBehalfOf({scopes:Y,authority:f(pe),claims:pe.claims,oboAssertion:te});return KC(Y,$,pe),b0.getToken.info(ks(Y)),{token:$.accessToken,expiresOnTimestamp:$.expiresOn.getTime(),refreshAfterTimestamp:$.refreshOn?.getTime(),tokenType:$.tokenType}}catch($){throw JC(Y,$,pe)}}o(S,"getTokenOnBehalfOf");function k(Y,te){return{openBrowser:o(async ne=>{await(await Promise.resolve().then(()=>(vpe(),bpe))).default(ne,{newInstance:!0})},"openBrowser"),scopes:Y,authority:f(te),claims:te?.claims,loginHint:te?.loginHint,errorTemplate:te?.browserCustomizationOptions?.errorMessage,successTemplate:te?.browserCustomizationOptions?.successMessage,prompt:te?.loginHint?"login":"select_account"}}o(k,"createBaseInteractiveRequest");async function N(Y,te,ne={}){b0.verbose("Authentication will resume through the broker");let pe=await s(ne),W=k(Y,ne);n.pluginConfiguration.broker.parentWindowHandle?W.windowHandle=Buffer.from(n.pluginConfiguration.broker.parentWindowHandle):b0.warning("Parent window handle is not specified for the broker. This may cause unexpected behavior. Please provide the parentWindowHandle."),n.pluginConfiguration.broker.enableMsaPassthrough&&((W.tokenQueryParameters??={}).msal_request_type="consumer_passthrough"),te?(W.prompt="none",b0.verbose("Attempting broker authentication using the default broker account")):b0.verbose("Attempting broker authentication without the default broker account"),ne.proofOfPossessionOptions&&(W.shrNonce=ne.proofOfPossessionOptions.nonce,W.authenticationScheme="pop",W.resourceRequestMethod=ne.proofOfPossessionOptions.resourceRequestMethod,W.resourceRequestUri=ne.proofOfPossessionOptions.resourceRequestUrl);try{return await pe.acquireTokenInteractive(W)}catch($){if(b0.verbose(`Failed to authenticate through the broker: ${$.message}`),ne.disableAutomaticAuthentication)throw new Hl({scopes:Y,getTokenOptions:ne,message:"Cannot silently authenticate with default broker account."});if(te)return N(Y,!1,ne);throw $}}o(N,"getBrokeredTokenInternal");async function P(Y,te,ne={}){b0.getToken.info(`Attempting to acquire token using brokered authentication with useDefaultBrokerAccount: ${te}`);let pe=await N(Y,te,ne);return KC(Y,pe,ne),n.cachedAccount=pe?.account??null,n.logger.getToken.info(ks(Y)),{token:pe.accessToken,expiresOnTimestamp:pe.expiresOn.getTime(),refreshAfterTimestamp:pe.refreshOn?.getTime(),tokenType:pe.tokenType}}o(P,"getBrokeredToken");async function L(Y,te={}){b0.getToken.info("Attempting to acquire token interactively");let ne=await s(te);return d(ne,Y,te,async()=>{let pe=k(Y,te);return n.pluginConfiguration.broker.isEnabled?N(Y,n.pluginConfiguration.broker.useDefaultBrokerAccount??!1,te):(te.proofOfPossessionOptions&&(pe.shrNonce=te.proofOfPossessionOptions.nonce,pe.authenticationScheme="pop",pe.resourceRequestMethod=te.proofOfPossessionOptions.resourceRequestMethod,pe.resourceRequestUri=te.proofOfPossessionOptions.resourceRequestUrl),ne.acquireTokenInteractive(pe))})}return o(L,"getTokenByInteractiveRequest"),{getActiveAccount:_,getBrokeredToken:P,getTokenByClientSecret:h,getTokenByClientAssertion:A,getTokenByClientCertificate:m,getTokenByDeviceCode:y,getTokenByUsernamePassword:x,getTokenByAuthorizationCode:T,getTokenOnBehalfOf:S,getTokenByInteractiveRequest:L}}o(Ja,"createMsalClient");var u3=require("node:crypto");var _pe=require("node:fs/promises");var l3="ClientCertificateCredential",Tpe=Rr(l3),f3=class{static{o(this,"ClientCertificateCredential")}tenantId;additionallyAllowedTenantIds;certificateConfiguration;sendCertificateChain;msalClient;constructor(e,r,n,i={}){if(!e||!r)throw new Error(`${l3}: tenantId and clientId are required parameters.`);this.tenantId=e,this.additionallyAllowedTenantIds=Oo(i?.additionallyAllowedTenants),this.sendCertificateChain=i.sendCertificateChain,this.certificateConfiguration={...typeof n=="string"?{certificatePath:n}:n};let s=this.certificateConfiguration.certificate,a=this.certificateConfiguration.certificatePath;if(!this.certificateConfiguration||!(s||a))throw new Error(`${l3}: Provide either a PEM certificate in string form, or the path to that certificate in the filesystem. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(s&&a)throw new Error(`${l3}: To avoid unexpected behaviors, providing both the contents of a PEM certificate and the path to a PEM certificate is forbidden. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);this.msalClient=Ja(r,e,{...i,logger:Tpe,tokenCredentialOptions:i})}async getToken(e,r={}){return hi.withSpan(`${l3}.getToken`,r,async n=>{n.tenantId=So(this.tenantId,n,this.additionallyAllowedTenantIds,Tpe);let i=Array.isArray(e)?e:[e],s=await this.buildClientCertificate();return this.msalClient.getTokenByClientCertificate(i,s,n)})}async buildClientCertificate(){let e=await mGe(this.certificateConfiguration,this.sendCertificateChain??!1),r;return this.certificateConfiguration.certificatePassword!==void 0?r=(0,u3.createPrivateKey)({key:e.certificateContents,passphrase:this.certificateConfiguration.certificatePassword,format:"pem"}).export({format:"pem",type:"pkcs8"}).toString():r=e.certificateContents,{thumbprint:e.thumbprint,thumbprintSha256:e.thumbprintSha256,privateKey:r,x5c:e.x5c}}};async function mGe(t,e){let r=t.certificate,n=t.certificatePath,i=r||await(0,_pe.readFile)(n,"utf8"),s=e?i:void 0,a=/(-+BEGIN CERTIFICATE-+)(\n\r?|\r\n?)([A-Za-z0-9+/\n\r]+=*)(\n\r?|\r\n?)(-+END CERTIFICATE-+)/g,c=[],l;do l=a.exec(i),l&&c.push(l[3]);while(l);if(c.length===0)throw new Error("The file at the specified path does not contain a PEM-encoded certificate.");let f=(0,u3.createHash)("sha1").update(Buffer.from(c[0],"base64")).digest("hex").toUpperCase(),d=(0,u3.createHash)("sha256").update(Buffer.from(c[0],"base64")).digest("hex").toUpperCase();return{certificateContents:i,thumbprintSha256:d,thumbprint:f,x5c:s}}o(mGe,"parseCertificate");u();u();function Jl(t){return Array.isArray(t)?t:[t]}o(Jl,"ensureScopes");function sb(t,e){if(!t.match(/^[0-9a-zA-Z-_.:/]+$/)){let r=new Error("Invalid scope was specified by the user or calling client");throw e.getToken.info(Fn(t,r)),r}}o(sb,"ensureValidScopeForDevTimeCreds");function Dk(t){return t.replace(/\/.default$/,"")}o(Dk,"getScopeResource");var Spe=Rr("ClientSecretCredential"),d3=class{static{o(this,"ClientSecretCredential")}tenantId;additionallyAllowedTenantIds;msalClient;clientSecret;constructor(e,r,n,i={}){if(!e)throw new Lt("ClientSecretCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");if(!r)throw new Lt("ClientSecretCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");if(!n)throw new Lt("ClientSecretCredential: clientSecret is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");this.clientSecret=n,this.tenantId=e,this.additionallyAllowedTenantIds=Oo(i?.additionallyAllowedTenants),this.msalClient=Ja(r,e,{...i,logger:Spe,tokenCredentialOptions:i})}async getToken(e,r={}){return hi.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=So(this.tenantId,n,this.additionallyAllowedTenantIds,Spe);let i=Jl(e);return this.msalClient.getTokenByClientSecret(i,this.clientSecret,n)})}};u();var gGe=Rr("UsernamePasswordCredential"),h3=class{static{o(this,"UsernamePasswordCredential")}tenantId;additionallyAllowedTenantIds;msalClient;username;password;constructor(e,r,n,i,s={}){if(!e)throw new Lt("UsernamePasswordCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!r)throw new Lt("UsernamePasswordCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!n)throw new Lt("UsernamePasswordCredential: username is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!i)throw new Lt("UsernamePasswordCredential: password is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");this.tenantId=e,this.additionallyAllowedTenantIds=Oo(s?.additionallyAllowedTenants),this.username=n,this.password=i,this.msalClient=Ja(r,this.tenantId,{...s,tokenCredentialOptions:s??{}})}async getToken(e,r={}){return hi.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=So(this.tenantId,n,this.additionallyAllowedTenantIds,gGe);let i=Jl(e);return this.msalClient.getTokenByUsernamePassword(i,this.username,this.password,n)})}};var yGe=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_CLIENT_SECRET","AZURE_CLIENT_CERTIFICATE_PATH","AZURE_CLIENT_CERTIFICATE_PASSWORD","AZURE_USERNAME","AZURE_PASSWORD","AZURE_ADDITIONALLY_ALLOWED_TENANTS","AZURE_CLIENT_SEND_CERTIFICATE_CHAIN"];function CGe(){return(process.env.AZURE_ADDITIONALLY_ALLOWED_TENANTS??"").split(";")}o(CGe,"getAdditionallyAllowedTenants");var Nk="EnvironmentCredential",wA=Rr(Nk);function EGe(){let t=(process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN??"").toLowerCase(),e=t==="true"||t==="1";return wA.verbose(`AZURE_CLIENT_SEND_CERTIFICATE_CHAIN: ${process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN}; sendCertificateChain: ${e}`),e}o(EGe,"getSendCertificateChain");var A3=class{static{o(this,"EnvironmentCredential")}_credential=void 0;constructor(e){let r=aR(yGe).assigned.join(", ");wA.info(`Found the following environment variables: ${r}`);let n=process.env.AZURE_TENANT_ID,i=process.env.AZURE_CLIENT_ID,s=process.env.AZURE_CLIENT_SECRET,a=CGe(),c=EGe(),l={...e,additionallyAllowedTenantIds:a,sendCertificateChain:c};if(n&&Zs(wA,n),n&&i&&s){wA.info(`Invoking ClientSecretCredential with tenant ID: ${n}, clientId: ${i} and clientSecret: [REDACTED]`),this._credential=new d3(n,i,s,l);return}let f=process.env.AZURE_CLIENT_CERTIFICATE_PATH,d=process.env.AZURE_CLIENT_CERTIFICATE_PASSWORD;if(n&&i&&f){wA.info(`Invoking ClientCertificateCredential with tenant ID: ${n}, clientId: ${i} and certificatePath: ${f}`),this._credential=new f3(n,i,{certificatePath:f,certificatePassword:d},l);return}let h=process.env.AZURE_USERNAME,A=process.env.AZURE_PASSWORD;n&&i&&h&&A&&(wA.info(`Invoking UsernamePasswordCredential with tenant ID: ${n}, clientId: ${i} and username: ${h}`),wA.warning("Environment is configured to use username and password authentication. This authentication method is deprecated, as it doesn't support multifactor authentication (MFA). Use a more secure credential. For more details, see https://aka.ms/azsdk/identity/mfa."),this._credential=new h3(n,i,h,A,l))}async getToken(e,r={}){return hi.withSpan(`${Nk}.getToken`,r,async n=>{if(this._credential)try{let i=await this._credential.getToken(e,n);return wA.getToken.info(ks(e)),i}catch(i){let s=new rg(400,{error:`${Nk} authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`,error_description:i.message.toString().split("More details:").join("")});throw wA.getToken.info(Fn(e,s)),s}throw new Lt(`${Nk} is unavailable. No underlying credential could be used. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`)})}};u();u();var IGe=1e3*64,xGe=3e3;function wpe(t){return tW([{name:"imdsRetryPolicy",retry:o(({retryCount:e,response:r})=>{if(r?.status!==404&&r?.status!==410)return{skipStrategy:!0};let n=r?.status===410?Math.max(xGe,t.startDelayInMs):t.startDelayInMs;return ahe(e,{retryDelayInMs:n,maxRetryDelayInMs:IGe})},"retry")}],{maxRetries:t.maxRetries})}o(wpe,"imdsRetryPolicy");u();var BA="ManagedIdentityCredential - IMDS",ZC=Rr(BA),bGe="http://169.254.169.254",vGe="/metadata/identity/oauth2/token";function TGe(t){if(!o3(t))throw new Error(`${BA}: Multiple scopes are not supported.`);let r=new URL(vGe,process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST??bGe),n={Accept:"application/json"};return{url:`${r}`,method:"GET",headers:Bg(n)}}o(TGe,"prepareInvalidRequestOptions");var Bpe={name:"imdsMsi",async isAvailable(t){let{scopes:e,identityClient:r,getTokenOptions:n}=t,i=o3(e);if(!i)return ZC.info(`${BA}: Unavailable. Multiple scopes are not supported.`),!1;if(process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)return!0;if(!r)throw new Error("Missing IdentityClient");let s=TGe(i);return hi.withSpan("ManagedIdentityCredential-pingImdsEndpoint",n??{},async a=>{s.tracingOptions=a.tracingOptions;let c=lf(s);c.timeout=a.requestOptions?.timeout||1e3,c.allowInsecureConnection=!0;let l;try{ZC.info(`${BA}: Pinging the Azure IMDS endpoint`),l=await r.sendRequest(c)}catch(f){return U7(f)&&ZC.verbose(`${BA}: Caught error ${f.name}: ${f.message}`),ZC.info(`${BA}: The Azure IMDS endpoint is unavailable`),!1}return l.status===403&&l.bodyAsText?.includes("unreachable")?(ZC.info(`${BA}: The Azure IMDS endpoint is unavailable`),ZC.info(`${BA}: ${l.bodyAsText}`),!1):(ZC.info(`${BA}: The Azure IMDS endpoint is available`),!0)})}};u();u();u();var Rpe=Rr("ClientAssertionCredential"),ab=class{static{o(this,"ClientAssertionCredential")}msalClient;tenantId;additionallyAllowedTenantIds;getAssertion;options;constructor(e,r,n,i={}){if(!e)throw new Lt("ClientAssertionCredential: tenantId is a required parameter.");if(!r)throw new Lt("ClientAssertionCredential: clientId is a required parameter.");if(!n)throw new Lt("ClientAssertionCredential: clientAssertion is a required parameter.");this.tenantId=e,this.additionallyAllowedTenantIds=Oo(i?.additionallyAllowedTenants),this.options=i,this.getAssertion=n,this.msalClient=Ja(r,e,{...i,logger:Rpe,tokenCredentialOptions:this.options})}async getToken(e,r={}){return hi.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=So(this.tenantId,n,this.additionallyAllowedTenantIds,Rpe);let i=Array.isArray(e)?e:[e];return this.msalClient.getTokenByClientAssertion(i,this.getAssertion,n)})}};var kpe=require("node:fs/promises");var eE="WorkloadIdentityCredential",_Ge=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_FEDERATED_TOKEN_FILE"],p3=Rr(eE),RA=class{static{o(this,"WorkloadIdentityCredential")}client;azureFederatedTokenFileContent=void 0;cacheDate=void 0;federatedTokenFilePath;constructor(e){let r=aR(_Ge).assigned.join(", ");p3.info(`Found the following environment variables: ${r}`);let n=e??{},i=n.tenantId||process.env.AZURE_TENANT_ID,s=n.clientId||process.env.AZURE_CLIENT_ID;if(this.federatedTokenFilePath=n.tokenFilePath||process.env.AZURE_FEDERATED_TOKEN_FILE,i&&Zs(p3,i),!s)throw new Lt(`${eE}: is unavailable. clientId is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_CLIENT_ID".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);if(!i)throw new Lt(`${eE}: is unavailable. tenantId is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_TENANT_ID".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);if(!this.federatedTokenFilePath)throw new Lt(`${eE}: is unavailable. federatedTokenFilePath is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_FEDERATED_TOKEN_FILE".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);p3.info(`Invoking ClientAssertionCredential with tenant ID: ${i}, clientId: ${n.clientId} and federated token path: [REDACTED]`),this.client=new ab(i,s,this.readFileContents.bind(this),e)}async getToken(e,r){if(!this.client){let n=`${eE}: is unavailable. tenantId, clientId, and federatedTokenFilePath are required parameters. 
      In DefaultAzureCredential and ManagedIdentityCredential, these can be provided as environment variables - 
      "AZURE_TENANT_ID",
      "AZURE_CLIENT_ID",
      "AZURE_FEDERATED_TOKEN_FILE". See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`;throw p3.info(n),new Lt(n)}return p3.info("Invoking getToken() of Client Assertion Credential"),this.client.getToken(e,r)}async readFileContents(){if(this.cacheDate!==void 0&&Date.now()-this.cacheDate>=1e3*60*5&&(this.azureFederatedTokenFileContent=void 0),!this.federatedTokenFilePath)throw new Lt(`${eE}: is unavailable. Invalid file path provided ${this.federatedTokenFilePath}.`);if(!this.azureFederatedTokenFileContent){let r=(await(0,kpe.readFile)(this.federatedTokenFilePath,"utf8")).trim();if(r)this.azureFederatedTokenFileContent=r,this.cacheDate=Date.now();else throw new Lt(`${eE}: is unavailable. No content on the file ${this.federatedTokenFilePath}.`)}return this.azureFederatedTokenFileContent}};var Dpe="ManagedIdentityCredential - Token Exchange",SGe=Rr(Dpe),BW={name:"tokenExchangeMsi",async isAvailable(t){let e=process.env,r=!!((t||e.AZURE_CLIENT_ID)&&e.AZURE_TENANT_ID&&process.env.AZURE_FEDERATED_TOKEN_FILE);return r||SGe.info(`${Dpe}: Unavailable. The environment variables needed are: AZURE_CLIENT_ID (or the client ID sent through the parameters), AZURE_TENANT_ID and AZURE_FEDERATED_TOKEN_FILE`),r},async getToken(t,e={}){let{scopes:r,clientId:n}=t,i={};return new RA({clientId:n,tenantId:process.env.AZURE_TENANT_ID,tokenFilePath:process.env.AZURE_FEDERATED_TOKEN_FILE,...i,disableInstanceDiscovery:!0}).getToken(r,e)}};var Zc=Rr("ManagedIdentityCredential"),Pg=class{static{o(this,"ManagedIdentityCredential")}managedIdentityApp;identityClient;clientId;resourceId;objectId;msiRetryConfig={maxRetries:5,startDelayInMs:800,intervalIncrement:2};isAvailableIdentityClient;constructor(e,r){let n;typeof e=="string"?(this.clientId=e,n=r??{}):(this.clientId=e?.clientId,n=e??{}),this.resourceId=n?.resourceId,this.objectId=n?.objectId;let i=[{key:"clientId",value:this.clientId},{key:"resourceId",value:this.resourceId},{key:"objectId",value:this.objectId}].filter(a=>a.value);if(i.length>1)throw new Error(`ManagedIdentityCredential: only one of 'clientId', 'resourceId', or 'objectId' can be provided. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}`);n.allowInsecureConnection=!0,n.retryOptions?.maxRetries!==void 0&&(this.msiRetryConfig.maxRetries=n.retryOptions.maxRetries),this.identityClient=new kg({...n,additionalPolicies:[{policy:wpe(this.msiRetryConfig),position:"perCall"}]}),this.managedIdentityApp=new Wx({managedIdentityIdParams:{userAssignedClientId:this.clientId,userAssignedResourceId:this.resourceId,userAssignedObjectId:this.objectId},system:{disableInternalRetries:!0,networkClient:this.identityClient,loggerOptions:{logLevel:G7(sR()),piiLoggingEnabled:n.loggingOptions?.enableUnsafeSupportLogging,loggerCallback:q7(Zc)}}}),this.isAvailableIdentityClient=new kg({...n,retryOptions:{maxRetries:0}});let s=this.managedIdentityApp.getManagedIdentitySource();if(s==="CloudShell"&&(this.clientId||this.resourceId||this.objectId))throw Zc.warning(`CloudShell MSI detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new Lt("ManagedIdentityCredential: Specifying a user-assigned managed identity is not supported for CloudShell at runtime. When using Managed Identity in CloudShell, omit the clientId, resourceId, and objectId parameters.");if(s==="ServiceFabric"&&(this.clientId||this.resourceId||this.objectId))throw Zc.warning(`Service Fabric detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new Lt(`ManagedIdentityCredential: ${YAe}`);if(Zc.info(`Using ${s} managed identity.`),i.length===1){let{key:a,value:c}=i[0];Zc.info(`${s} with ${a}: ${c}`)}}async getToken(e,r={}){Zc.getToken.info("Using the MSAL provider for Managed Identity.");let n=o3(e);if(!n)throw new Lt(`ManagedIdentityCredential: Multiple scopes are not supported. Scopes: ${JSON.stringify(e)}`);return hi.withSpan("ManagedIdentityCredential.getToken",r,async()=>{try{let i=await BW.isAvailable(this.clientId),s=this.managedIdentityApp.getManagedIdentitySource(),a=s==="DefaultToImds"||s==="Imds";if(Zc.getToken.info(`MSAL Identity source: ${s}`),i){Zc.getToken.info("Using the token exchange managed identity.");let l=await BW.getToken({scopes:e,clientId:this.clientId,identityClient:this.identityClient,retryConfig:this.msiRetryConfig,resourceId:this.resourceId});if(l===null)throw new Lt("Attempted to use the token exchange managed identity, but received a null response.");return l}else if(a&&(Zc.getToken.info("Using the IMDS endpoint to probe for availability."),!await Bpe.isAvailable({scopes:e,clientId:this.clientId,getTokenOptions:r,identityClient:this.isAvailableIdentityClient,resourceId:this.resourceId})))throw new Lt("Attempted to use the IMDS endpoint, but it is not available.");Zc.getToken.info("Calling into MSAL for managed identity token.");let c=await this.managedIdentityApp.acquireToken({resource:n});return this.ensureValidMsalToken(e,c,r),Zc.getToken.info(ks(e)),{expiresOnTimestamp:c.expiresOn.getTime(),token:c.accessToken,refreshAfterTimestamp:c.refreshOn?.getTime(),tokenType:"Bearer"}}catch(i){throw Zc.getToken.error(Fn(e,i)),i.name==="AuthenticationRequiredError"?i:wGe(i)?new Lt(`ManagedIdentityCredential: Network unreachable. Message: ${i.message}`,{cause:i}):new Lt(`ManagedIdentityCredential: Authentication failed. Message ${i.message}`,{cause:i})}})}ensureValidMsalToken(e,r,n){let i=o(s=>(Zc.getToken.info(s),new Hl({scopes:Array.isArray(e)?e:[e],getTokenOptions:n,message:s})),"createError");if(!r)throw i("No response.");if(!r.expiresOn)throw i('Response had no "expiresOn" property.');if(!r.accessToken)throw i('Response had no "accessToken" property.')}};function wGe(t){return!!(t.errorCode==="network_error"||t.code==="ENETUNREACH"||t.code==="EHOSTUNREACH"||(t.statusCode===403||t.code===403)&&t.message.includes("unreachable"))}o(wGe,"isNetworkError");u();var Npe=yt(require("child_process"),1);var kA=Rr("AzureDeveloperCliCredential"),Qpe={getSafeWorkingDir(){if(process.platform==="win32"){let t=process.env.SystemRoot||process.env.SYSTEMROOT;return t||(kA.getToken.warning("The SystemRoot environment variable is not set. This may cause issues when using the Azure Developer CLI credential."),t="C:\\Windows"),t}else return"/bin"},async getAzdAccessToken(t,e,r){let n=[];return e&&(n=["--tenant-id",e]),new Promise((i,s)=>{try{let c=["azd",...["auth","token","--output","json",...t.reduce((l,f)=>l.concat("--scope",f),[]),...n]].join(" ");Npe.default.exec(c,{cwd:Qpe.getSafeWorkingDir(),timeout:r},(l,f,d)=>{i({stdout:f,stderr:d,error:l})})}catch(a){s(a)}})}},m3=class{static{o(this,"AzureDeveloperCliCredential")}tenantId;additionallyAllowedTenantIds;timeout;constructor(e){e?.tenantId&&(Zs(kA,e?.tenantId),this.tenantId=e?.tenantId),this.additionallyAllowedTenantIds=Oo(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getToken(e,r={}){let n=So(this.tenantId,r,this.additionallyAllowedTenantIds);n&&Zs(kA,n);let i;return typeof e=="string"?i=[e]:i=e,kA.getToken.info(`Using the scopes ${e}`),hi.withSpan(`${this.constructor.name}.getToken`,r,async()=>{try{i.forEach(l=>{sb(l,kA)});let s=await Qpe.getAzdAccessToken(i,n,this.timeout),a=s.stderr?.match("not logged in, run `azd login` to login")||s.stderr?.match("not logged in, run `azd auth login` to login");if(s.stderr?.match("azd:(.*)not found")||s.stderr?.startsWith("'azd' is not recognized")||s.error&&s.error.code==="ENOENT"){let l=new Lt("Azure Developer CLI couldn't be found. To mitigate this issue, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw kA.getToken.info(Fn(e,l)),l}if(a){let l=new Lt("Please run 'azd auth login' from a command prompt to authenticate before using this credential. For more information, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw kA.getToken.info(Fn(e,l)),l}try{let l=JSON.parse(s.stdout);return kA.getToken.info(ks(e)),{token:l.token,expiresOnTimestamp:new Date(l.expiresOn).getTime(),tokenType:"Bearer"}}catch(l){throw s.stderr?new Lt(s.stderr):l}}catch(s){let a=s.name==="CredentialUnavailableError"?s:new Lt(s.message||"Unknown error while trying to retrieve the access token");throw kA.getToken.info(Fn(e,a)),a}})}};u();var Ppe=yt(require("child_process"),1);u();function RW(t,e){if(!e.match(/^[0-9a-zA-Z-._ ]+$/)){let r=new Error(`Subscription '${e}' contains invalid characters. If this is the name of a subscription, use its ID instead. You can locate your subscription by following the instructions listed here: https://learn.microsoft.com/azure/azure-portal/get-subscription-tenant-id`);throw t.info(Fn("",r)),r}}o(RW,"checkSubscription");var Xl=Rr("AzureCliCredential"),Fpe={getSafeWorkingDir(){if(process.platform==="win32"){let t=process.env.SystemRoot||process.env.SYSTEMROOT;return t||(Xl.getToken.warning("The SystemRoot environment variable is not set. This may cause issues when using the Azure CLI credential."),t="C:\\Windows"),t}else return"/bin"},async getAzureCliAccessToken(t,e,r,n){let i=[],s=[];return e&&(i=["--tenant",e]),r&&(s=["--subscription",`"${r}"`]),new Promise((a,c)=>{try{let f=["az",...["account","get-access-token","--output","json","--resource",t,...i,...s]].join(" ");Ppe.default.exec(f,{cwd:Fpe.getSafeWorkingDir(),timeout:n},(d,h,A)=>{a({stdout:h,stderr:A,error:d})})}catch(l){c(l)}})}},g3=class{static{o(this,"AzureCliCredential")}tenantId;additionallyAllowedTenantIds;timeout;subscription;constructor(e){e?.tenantId&&(Zs(Xl,e?.tenantId),this.tenantId=e?.tenantId),e?.subscription&&(RW(Xl,e?.subscription),this.subscription=e?.subscription),this.additionallyAllowedTenantIds=Oo(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getToken(e,r={}){let n=So(this.tenantId,r,this.additionallyAllowedTenantIds);n&&Zs(Xl,n),this.subscription&&RW(Xl,this.subscription);let i=typeof e=="string"?e:e[0];return Xl.getToken.info(`Using the scope ${i}`),hi.withSpan(`${this.constructor.name}.getToken`,r,async()=>{try{sb(i,Xl);let s=Dk(i),a=await Fpe.getAzureCliAccessToken(s,n,this.subscription,this.timeout),c=a.stderr?.match("(.*)az login --scope(.*)"),l=a.stderr?.match("(.*)az login(.*)")&&!c;if(a.stderr?.match("az:(.*)not found")||a.stderr?.startsWith("'az' is not recognized")){let d=new Lt("Azure CLI could not be found. Please visit https://aka.ms/azure-cli for installation instructions and then, once installed, authenticate to your Azure account using 'az login'.");throw Xl.getToken.info(Fn(e,d)),d}if(l){let d=new Lt("Please run 'az login' from a command prompt to authenticate before using this credential.");throw Xl.getToken.info(Fn(e,d)),d}try{let d=a.stdout,h=this.parseRawResponse(d);return Xl.getToken.info(ks(e)),h}catch(d){throw a.stderr?new Lt(a.stderr):d}}catch(s){let a=s.name==="CredentialUnavailableError"?s:new Lt(s.message||"Unknown error while trying to retrieve the access token");throw Xl.getToken.info(Fn(e,a)),a}})}parseRawResponse(e){let r=JSON.parse(e),n=r.accessToken,i=Number.parseInt(r.expires_on,10)*1e3;if(!isNaN(i))return Xl.getToken.info("expires_on is available and is valid, using it"),{token:n,expiresOnTimestamp:i,tokenType:"Bearer"};if(i=new Date(r.expiresOn).getTime(),isNaN(i))throw new Lt(`Unexpected response from Azure CLI when getting token. Expected "expiresOn" to be a RFC3339 date string. Got: "${r.expiresOn}"`);return{token:n,expiresOnTimestamp:i,tokenType:"Bearer"}}};u();u();var Mpe=yt(require("node:child_process"),1),Lpe={execFile(t,e,r){return new Promise((n,i)=>{let s=[...e],a=[t,...s].join(" ");Mpe.default.exec(a,r,(c,l,f)=>{Buffer.isBuffer(l)&&(l=l.toString("utf8")),Buffer.isBuffer(f)&&(f=f.toString("utf8")),f||c?i(f?new Error(f):c):n(l)})})}};var DA=Rr("AzurePowerShellCredential"),Upe=process.platform==="win32";function Hpe(t){return Upe?`${t}.exe`:t}o(Hpe,"formatCommand");async function Ope(t,e){let r=[];for(let n of t){let[i,...s]=n,a=await Lpe.execFile(i,s,{encoding:"utf8",timeout:e});r.push(a)}return r}o(Ope,"runCommands");var qpe={login:"Run Connect-AzAccount to login",installed:"The specified module 'Az.Accounts' with version '2.2.0' was not loaded because no valid module file was found in any module directory"},kW={login:"Please run 'Connect-AzAccount' from PowerShell to authenticate before using this credential.",installed:`The 'Az.Account' module >= 2.2.0 is not installed. Install the Azure Az PowerShell module with: "Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force".`,troubleshoot:"To troubleshoot, visit https://aka.ms/azsdk/js/identity/powershellcredential/troubleshoot."},BGe=o(t=>t.message.match(`(.*)${qpe.login}(.*)`),"isLoginError"),RGe=o(t=>t.message.match(qpe.installed),"isNotInstalledError"),DW=[Hpe("pwsh")];Upe&&DW.push(Hpe("powershell"));var y3=class{static{o(this,"AzurePowerShellCredential")}tenantId;additionallyAllowedTenantIds;timeout;constructor(e){e?.tenantId&&(Zs(DA,e?.tenantId),this.tenantId=e?.tenantId),this.additionallyAllowedTenantIds=Oo(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getAzurePowerShellAccessToken(e,r,n){for(let i of[...DW]){try{await Ope([[i,"/?"]],n)}catch{DW.shift();continue}let a=(await Ope([[i,"-NoProfile","-NonInteractive","-Command",`
          $tenantId = "${r??""}"
          $m = Import-Module Az.Accounts -MinimumVersion 2.2.0 -PassThru
          $useSecureString = $m.Version -ge [version]'2.17.0' -and $m.Version -lt [version]'5.0.0'

          $params = @{
            ResourceUrl = "${e}"
          }

          if ($tenantId.Length -gt 0) {
            $params["TenantId"] = $tenantId
          }

          if ($useSecureString) {
            $params["AsSecureString"] = $true
          }

          $token = Get-AzAccessToken @params

          $result = New-Object -TypeName PSObject
          $result | Add-Member -MemberType NoteProperty -Name ExpiresOn -Value $token.ExpiresOn

          if ($token.Token -is [System.Security.SecureString]) {
            if ($PSVersionTable.PSVersion.Major -lt 7) {
              $ssPtr = [System.Runtime.InteropServices.Marshal]::SecureStringToBSTR($token.Token)
              try {
                $result | Add-Member -MemberType NoteProperty -Name Token -Value ([System.Runtime.InteropServices.Marshal]::PtrToStringBSTR($ssPtr))
              }
              finally {
                [System.Runtime.InteropServices.Marshal]::ZeroFreeBSTR($ssPtr)
              }
            }
            else {
              $result | Add-Member -MemberType NoteProperty -Name Token -Value ($token.Token | ConvertFrom-SecureString -AsPlainText)
            }
          }
          else {
            $result | Add-Member -MemberType NoteProperty -Name Token -Value $token.Token
          }

          Write-Output (ConvertTo-Json $result)
          `]]))[0];return kGe(a)}throw new Error("Unable to execute PowerShell. Ensure that it is installed in your system")}async getToken(e,r={}){return hi.withSpan(`${this.constructor.name}.getToken`,r,async()=>{let n=So(this.tenantId,r,this.additionallyAllowedTenantIds),i=typeof e=="string"?e:e[0];n&&Zs(DA,n);try{sb(i,DA),DA.getToken.info(`Using the scope ${i}`);let s=Dk(i),a=await this.getAzurePowerShellAccessToken(s,n,this.timeout);return DA.getToken.info(ks(e)),{token:a.Token,expiresOnTimestamp:new Date(a.ExpiresOn).getTime(),tokenType:"Bearer"}}catch(s){if(RGe(s)){let c=new Lt(kW.installed);throw DA.getToken.info(Fn(i,c)),c}else if(BGe(s)){let c=new Lt(kW.login);throw DA.getToken.info(Fn(i,c)),c}let a=new Lt(`${s}. ${kW.troubleshoot}`);throw DA.getToken.info(Fn(i,a)),a}})}};async function kGe(t){let e=/{[^{}]*}/g,r=t.match(e),n=t;if(r)try{for(let i of r)try{let s=JSON.parse(i);if(s?.Token)return n=n.replace(i,""),n&&DA.getToken.warning(n),s}catch{continue}}catch{throw new Error(`Unable to parse the output of PowerShell. Received output: ${t}`)}throw new Error(`No access token found in the output. Received output: ${t}`)}o(kGe,"parseJsonToken");u();var Gpe=require("node:fs/promises");var DGe="common",NGe="aebc6443-996d-45c2-90f0-388ff96faa56",NW=Rr("VisualStudioCodeCredential"),QGe={adfs:"The VisualStudioCodeCredential does not support authentication with ADFS tenants."};function PGe(t){let e=QGe[t];if(e)throw new Lt(e)}o(PGe,"checkUnsupportedTenant");var C3=class{static{o(this,"VisualStudioCodeCredential")}tenantId;additionallyAllowedTenantIds;msalClient;options;constructor(e){this.options=e||{},e&&e.tenantId?(Zs(NW,e.tenantId),this.tenantId=e.tenantId):this.tenantId=DGe,this.additionallyAllowedTenantIds=Oo(e?.additionallyAllowedTenants),PGe(this.tenantId)}async prepare(e){let r=So(this.tenantId,this.options,this.additionallyAllowedTenantIds,NW)||this.tenantId;if(!ace()||!eR)throw new Lt("Visual Studio Code Authentication is not available. Ensure you have have Azure Resources Extension installed in VS Code, signed into Azure via VS Code, installed the @azure/identity-vscode package, and properly configured the extension.");let n=await this.loadAuthRecord(eR,e);this.msalClient=Ja(NGe,r,{...this.options,isVSCodeCredential:!0,brokerOptions:{enabled:!0,parentWindowHandle:new Uint8Array(0),useDefaultBrokerAccount:!0},authenticationRecord:n})}preparePromise;prepareOnce(e){return this.preparePromise||(this.preparePromise=this.prepare(e)),this.preparePromise}async getToken(e,r){let n=Jl(e);if(await this.prepareOnce(n),!this.msalClient)throw new Lt("Visual Studio Code Authentication failed to initialize. Ensure you have have Azure Resources Extension installed in VS Code, signed into Azure via VS Code, installed the @azure/identity-vscode package, and properly configured the extension.");return this.msalClient.getTokenByInteractiveRequest(n,r||{})}async loadAuthRecord(e,r){try{let n=await(0,Gpe.readFile)(e,{encoding:"utf8"});return uV(n)}catch(n){throw NW.getToken.info(Fn(r,n)),new Lt("Cannot load authentication record in Visual Studio Code. Ensure you have have Azure Resources Extension installed in VS Code, signed into Azure via VS Code, installed the @azure/identity-vscode package, and properly configured the extension.")}}};u();var Qk=Rr("BrokerCredential"),Pk=class{static{o(this,"BrokerCredential")}brokerMsalClient;brokerTenantId;brokerAdditionallyAllowedTenantIds;constructor(e){this.brokerTenantId=nb(Qk,e.tenantId),this.brokerAdditionallyAllowedTenantIds=Oo(e?.additionallyAllowedTenants);let r={...e,tokenCredentialOptions:e,logger:Qk,brokerOptions:{enabled:!0,parentWindowHandle:new Uint8Array(0),useDefaultBrokerAccount:!0}};this.brokerMsalClient=Ja(rC,this.brokerTenantId,r)}async getToken(e,r={}){return hi.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=So(this.brokerTenantId,n,this.brokerAdditionallyAllowedTenantIds,Qk);let i=Jl(e);try{return this.brokerMsalClient.getBrokeredToken(i,!0,{...n,disableAutomaticAuthentication:!0})}catch(s){throw Qk.getToken.info(Fn(i,s)),new Lt("Failed to acquire token using broker authentication",{cause:s})}})}};function Vpe(t={}){return new Pk(t)}o(Vpe,"createDefaultBrokerCredential");function QW(t={}){return new C3(t)}o(QW,"createDefaultVisualStudioCodeCredential");function PW(t={}){t.retryOptions??={maxRetries:5,retryDelayInMs:800};let e=t?.managedIdentityClientId??process.env.AZURE_CLIENT_ID,r=t?.workloadIdentityClientId??e,n=t?.managedIdentityResourceId,i=process.env.AZURE_FEDERATED_TOKEN_FILE,s=t?.tenantId??process.env.AZURE_TENANT_ID;if(n){let a={...t,resourceId:n};return new Pg(a)}if(i&&r){let a={...t,tenantId:s};return new Pg(r,a)}if(e){let a={...t,clientId:e};return new Pg(a)}return new Pg(t)}o(PW,"createDefaultManagedIdentityCredential");function FW(t){let e=t?.managedIdentityClientId??process.env.AZURE_CLIENT_ID,r=t?.workloadIdentityClientId??e,n=process.env.AZURE_FEDERATED_TOKEN_FILE,i=t?.tenantId??process.env.AZURE_TENANT_ID;if(n&&r){let s={...t,tenantId:i,clientId:r,tokenFilePath:n};return new RA(s)}if(i){let s={...t,tenantId:i};return new RA(s)}return new RA(t)}o(FW,"createDefaultWorkloadIdentityCredential");function MW(t={}){return new m3(t)}o(MW,"createDefaultAzureDeveloperCliCredential");function LW(t={}){return new g3(t)}o(LW,"createDefaultAzureCliCredential");function OW(t={}){return new y3(t)}o(OW,"createDefaultAzurePowershellCredential");function UW(t={}){return new A3(t)}o(UW,"createDefaultEnvironmentCredential");var HW=Rr("DefaultAzureCredential"),qW=class{static{o(this,"UnavailableDefaultCredential")}credentialUnavailableErrorMessage;credentialName;constructor(e,r){this.credentialName=e,this.credentialUnavailableErrorMessage=r}getToken(){return HW.getToken.info(`Skipping ${this.credentialName}, reason: ${this.credentialUnavailableErrorMessage}`),Promise.resolve(null)}},cb=class extends S4{static{o(this,"DefaultAzureCredential")}constructor(e){let r=process.env.AZURE_TOKEN_CREDENTIALS?process.env.AZURE_TOKEN_CREDENTIALS.trim().toLowerCase():void 0,n=[QW,LW,OW,MW,Vpe],i=[UW,FW,PW],s=[],a="EnvironmentCredential, WorkloadIdentityCredential, ManagedIdentityCredential, VisualStudioCodeCredential, AzureCliCredential, AzurePowerShellCredential, AzureDeveloperCliCredential";if(r)switch(r){case"dev":s=n;break;case"prod":s=i;break;case"environmentcredential":s=[UW];break;case"workloadidentitycredential":s=[FW];break;case"managedidentitycredential":s=[PW];break;case"visualstudiocodecredential":s=[QW];break;case"azureclicredential":s=[LW];break;case"azurepowershellcredential":s=[OW];break;case"azuredeveloperclicredential":s=[MW];break;default:{let l=`Invalid value for AZURE_TOKEN_CREDENTIALS = ${process.env.AZURE_TOKEN_CREDENTIALS}. Valid values are 'prod' or 'dev' or any of these credentials - ${a}.`;throw HW.warning(l),new Error(l)}}else s=[...i,...n];let c=s.map(l=>{try{return l(e)}catch(f){return HW.warning(`Skipped ${l.name} because of an error creating the credential: ${f}`),new qW(l.name,f.message)}});super(...c)}};u();var GAr=Rr("InteractiveBrowserCredential");u();var ZAr=Rr("DeviceCodeCredential");u();var FGe="AzurePipelinesCredential",lpr=Rr(FGe);u();var Cpr=Rr("AuthorizationCodeCredential");u();var MGe="OnBehalfOfCredential",Bpr=Rr(MGe);u();function LGe(t){let e=t.getCopilotIntegrationId();if(e)return e;switch(t.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}o(LGe,"getIntegrationId");function GW(t){let e={...zy(t),"X-GitHub-Api-Version":X6},r=LGe(t.get(js));return r&&(e["Copilot-Integration-Id"]=r),Z6()&&(e["ces-proxy-target"]=ax.api,e["Copilot-Integration-Id"]="autodev-test"),e}o(GW,"getCapiHeaders");function OGe(t,e,...r){if(Z6()){let n=r.join("/");return n.startsWith("/")&&(n=n.slice(1)),`https://ces-dev1.azurewebsites.net/api/proxy/${n}`}return I4(t,e,"api",...r)}o(OGe,"getCapiUrl");async function VW(t,e,r){r??=await t.get(vo).getToken();let n=OGe(t,r,e),i=r.token;Z6()&&(i=await UGe());let s={Authorization:`Bearer ${i}`,...GW(t)};return await t.get(ys).fetch(new URL(n).href,{method:"GET",headers:s})}o(VW,"fetchCapiUrl");async function UGe(){let e=await new cb().getToken("api://17b0ad65-ed36-4194-bb27-059c567bc41f/.default");if(!e)throw new Error("Failed to retrieve access token");return e.token}o(UGe,"getMsBenchToken");u();var Umr=600*1e3,E3={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Gemini20Pro:"gemini-2.0-pro",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Gpt41:"gpt-4.1",Gpt5:"gpt-5",CopilotBase:"copilot-base",BYOK:"byok",Unknown:"unknown"},Hmr=new Set([E3.O1Ga,E3.O3Mini,E3.O1Mini,E3.Gemini20Pro,E3.Gemini20Flash]);var HGe=J.Object({type:J.Union([J.Literal("chat"),J.Literal("embeddings"),J.Literal("completion")]),tokenizer:J.String(),family:J.String(),object:J.String(),supports:J.Optional(J.Object({tool_calls:J.Optional(J.Boolean()),parallel_tool_calls:J.Optional(J.Boolean()),streaming:J.Optional(J.Boolean()),vision:J.Optional(J.Boolean())})),limits:J.Optional(J.Object({max_inputs:J.Optional(J.Number()),max_prompt_tokens:J.Optional(J.Number()),max_output_tokens:J.Optional(J.Number()),max_context_window_tokens:J.Optional(J.Number())}))}),qGe=J.Object({id:J.String(),name:J.String(),version:J.String(),model_picker_enabled:J.Boolean(),is_chat_default:J.Optional(J.Boolean()),is_chat_fallback:J.Optional(J.Boolean()),capabilities:HGe,billing:J.Optional(J.Object({is_premium:J.Optional(J.Boolean()),multiplier:J.Optional(J.Number())})),object:J.String(),preview:J.Optional(J.Boolean()),isExperimental:J.Optional(J.Boolean()),policy:J.Optional(J.Object({state:J.String(),terms:J.String()}))}),Wpe=J.Object({data:J.Array(qGe)});u();function Ype(t){let e=rs(t,Pt.UserSelectedCompletionModel);return typeof e=="string"&&e.length>0?e:null}o(Ype,"getUserSelectedModelConfiguration");u();u();u();var lb=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{o(this,"CopilotPromptLoadFailure")}};u();var $pe=yt(require("node:fs/promises")),Fk=yt(require("node:path"));async function Mk(t){return await $pe.readFile(WW(t))}o(Mk,"readFile");function WW(t){return Fk.default.resolve(Fk.default.extname(__filename)!==".ts"?__dirname:Fk.default.resolve(__dirname,"../../dist"),t)}o(WW,"locateFile");var ub=yt(ame());var Gk=new Map;function lc(t="o200k_base"){let e=Gk.get(t);return e!==void 0||(e=Gk.get("o200k_base"),e!==void 0)?e:new Mg}o(lc,"getTokenizer");async function iVe(t){if(!t.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let e=await Mk(t),r=new Map,n=[];for(let i=0;i<e.length;i++){if(e[i]!==255||n.length===0){n.push(e[i]);continue}r.set(Uint8Array.from(n),r.size),n=[]}return r.set(Uint8Array.from(n),r.size),r}o(iVe,"parseTikTokenNoIndex");var rY=class t{constructor(e){this._tokenizer=e}static{o(this,"TTokenizer")}static async create(e){try{let r=(0,ub.createTokenizer)(await iVe(`resources/${e}.tiktoken.noindex`),(0,ub.getSpecialTokensByEncoder)(e),(0,ub.getRegexByEncoder)(e),32768);return new t(r)}catch(r){throw r instanceof Error?new lb("Could not load tokenizer",r):r}}tokenize(e){return this._tokenizer.encode(e)}detokenize(e){return this._tokenizer.decode(e)}tokenLength(e){return this.tokenize(e).length}tokenizeStrings(e){return this.tokenize(e).map(n=>this.detokenize([n]))}takeLastTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(e.length,r*n),a=e.slice(-s),c=this.tokenize(a);for(;c.length<r+2&&s<e.length;)s=Math.min(e.length,s+r*i),a=e.slice(-s),c=this.tokenize(a);return c.length<r?{text:e,tokens:c}:(c=c.slice(-r),{text:this.detokenize(c),tokens:c})}takeFirstTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(e.length,r*n),a=e.slice(0,s),c=this.tokenize(a);for(;c.length<r+2&&s<e.length;)s=Math.min(e.length,s+r*i),a=e.slice(0,s),c=this.tokenize(a);return c.length<r?{text:e,tokens:c}:(c=c.slice(0,r),{text:this.detokenize(c),tokens:c})}takeLastLinesTokens(e,r){let{text:n}=this.takeLastTokens(e,r);if(n.length===e.length||e[e.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},nY=class{constructor(){this.hash=o(e=>{let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}static{o(this,"MockTokenizer")}tokenize(e){return this.tokenizeStrings(e).map(this.hash)}detokenize(e){return e.map(r=>r.toString()).join(" ")}tokenizeStrings(e){return e.split(/\b/)}tokenLength(e){return this.tokenizeStrings(e).length}takeLastTokens(e,r){let n=this.tokenizeStrings(e).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(e,r){let n=this.tokenizeStrings(e).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(e,r){let{text:n}=this.takeLastTokens(e,r);if(n.length===e.length||e[e.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},oVe={cl100k_base:{python:3.99,typescript:4.54,typescriptreact:4.58,javascript:4.76,csharp:5.13,java:4.86,cpp:3.85,php:4.1,html:4.57,vue:4.22,go:3.93,dart:5.66,javascriptreact:4.81,css:3.37},o200k_base:{python:4.05,typescript:4.12,typescriptreact:5.01,javascript:4.47,csharp:5.47,java:4.86,cpp:3.8,php:4.35,html:4.86,vue:4.3,go:4.21,dart:5.7,javascriptreact:4.83,css:3.33}},tY=4,Mg=class{constructor(e="o200k_base",r){this.languageId=r;this.tokenizerName=e}static{o(this,"ApproximateTokenizer")}tokenize(e){return this.tokenizeStrings(e).map(r=>{let n=0;for(let i=0;i<r.length;i++)n=n*Math.pow(10,tY)+r.charCodeAt(i);return n})}detokenize(e){return e.map(r=>{let n=[],i=r.toString();for(;i.length>0;){let s=i.slice(-tY),a=String.fromCharCode(parseInt(s));n.unshift(a),i=i.slice(0,-tY)}return n.join("")}).join("")}tokenizeStrings(e){return e.match(/.{1,4}/g)??[]}getEffectiveTokenLength(){return this.tokenizerName&&this.languageId?oVe[this.tokenizerName]?.[this.languageId]??4:4}tokenLength(e){return Math.ceil(e.length/this.getEffectiveTokenLength())}takeLastTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=e.slice(-Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(i,s)=>s)}}takeFirstTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=e.slice(0,Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(i,s)=>s)}}takeLastLinesTokens(e,r){let{text:n}=this.takeLastTokens(e,r);if(n.length===e.length||e[e.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}};async function cme(t){try{let e=await rY.create(t);Gk.set(t,e)}catch{}}o(cme,"setTokenizer");var sVe=(async()=>{Gk.set("mock",new nY),await Promise.all([cme("cl100k_base"),cme("o200k_base")])})();u();u();u();function aVe(t){switch(t.errorType){case Fe.ArrayContains:return"Expected array to contain at least one matching value";case Fe.ArrayMaxContains:return`Expected array to contain no more than ${t.schema.maxContains} matching values`;case Fe.ArrayMinContains:return`Expected array to contain at least ${t.schema.minContains} matching values`;case Fe.ArrayMaxItems:return`Expected array length to be less or equal to ${t.schema.maxItems}`;case Fe.ArrayMinItems:return`Expected array length to be greater or equal to ${t.schema.minItems}`;case Fe.ArrayUniqueItems:return"Expected array elements to be unique";case Fe.Array:return"Expected array";case Fe.AsyncIterator:return"Expected AsyncIterator";case Fe.BigIntExclusiveMaximum:return`Expected bigint to be less than ${t.schema.exclusiveMaximum}`;case Fe.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${t.schema.exclusiveMinimum}`;case Fe.BigIntMaximum:return`Expected bigint to be less or equal to ${t.schema.maximum}`;case Fe.BigIntMinimum:return`Expected bigint to be greater or equal to ${t.schema.minimum}`;case Fe.BigIntMultipleOf:return`Expected bigint to be a multiple of ${t.schema.multipleOf}`;case Fe.BigInt:return"Expected bigint";case Fe.Boolean:return"Expected boolean";case Fe.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${t.schema.exclusiveMinimumTimestamp}`;case Fe.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${t.schema.exclusiveMaximumTimestamp}`;case Fe.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${t.schema.minimumTimestamp}`;case Fe.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${t.schema.maximumTimestamp}`;case Fe.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${t.schema.multipleOfTimestamp}`;case Fe.Date:return"Expected Date";case Fe.Function:return"Expected function";case Fe.IntegerExclusiveMaximum:return`Expected integer to be less than ${t.schema.exclusiveMaximum}`;case Fe.IntegerExclusiveMinimum:return`Expected integer to be greater than ${t.schema.exclusiveMinimum}`;case Fe.IntegerMaximum:return`Expected integer to be less or equal to ${t.schema.maximum}`;case Fe.IntegerMinimum:return`Expected integer to be greater or equal to ${t.schema.minimum}`;case Fe.IntegerMultipleOf:return`Expected integer to be a multiple of ${t.schema.multipleOf}`;case Fe.Integer:return"Expected integer";case Fe.IntersectUnevaluatedProperties:return"Unexpected property";case Fe.Intersect:return"Expected all values to match";case Fe.Iterator:return"Expected Iterator";case Fe.Literal:return`Expected ${typeof t.schema.const=="string"?`'${t.schema.const}'`:t.schema.const}`;case Fe.Never:return"Never";case Fe.Not:return"Value should not match";case Fe.Null:return"Expected null";case Fe.NumberExclusiveMaximum:return`Expected number to be less than ${t.schema.exclusiveMaximum}`;case Fe.NumberExclusiveMinimum:return`Expected number to be greater than ${t.schema.exclusiveMinimum}`;case Fe.NumberMaximum:return`Expected number to be less or equal to ${t.schema.maximum}`;case Fe.NumberMinimum:return`Expected number to be greater or equal to ${t.schema.minimum}`;case Fe.NumberMultipleOf:return`Expected number to be a multiple of ${t.schema.multipleOf}`;case Fe.Number:return"Expected number";case Fe.Object:return"Expected object";case Fe.ObjectAdditionalProperties:return"Unexpected property";case Fe.ObjectMaxProperties:return`Expected object to have no more than ${t.schema.maxProperties} properties`;case Fe.ObjectMinProperties:return`Expected object to have at least ${t.schema.minProperties} properties`;case Fe.ObjectRequiredProperty:return"Expected required property";case Fe.Promise:return"Expected Promise";case Fe.RegExp:return"Expected string to match regular expression";case Fe.StringFormatUnknown:return`Unknown format '${t.schema.format}'`;case Fe.StringFormat:return`Expected string to match '${t.schema.format}' format`;case Fe.StringMaxLength:return`Expected string length less or equal to ${t.schema.maxLength}`;case Fe.StringMinLength:return`Expected string length greater or equal to ${t.schema.minLength}`;case Fe.StringPattern:return`Expected string to match '${t.schema.pattern}'`;case Fe.String:return"Expected string";case Fe.Symbol:return"Expected symbol";case Fe.TupleLength:return`Expected tuple to have ${t.schema.maxItems||0} elements`;case Fe.Tuple:return"Expected tuple";case Fe.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${t.schema.maxByteLength}`;case Fe.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${t.schema.minByteLength}`;case Fe.Uint8Array:return"Expected Uint8Array";case Fe.Undefined:return"Expected undefined";case Fe.Union:return"Expected union value";case Fe.Void:return"Expected void";case Fe.Kind:return`Expected kind '${t.schema[Le]}'`;default:return"Unknown error type"}}o(aVe,"DefaultErrorFunction");var cVe=aVe;function lme(){return cVe}o(lme,"GetErrorFunction");u();var iY=class extends lr{static{o(this,"TypeDereferenceError")}constructor(e){super(`Unable to dereference schema with $id '${e.$ref}'`),this.schema=e}};function lVe(t,e){let r=e.find(n=>n.$id===t.$ref);if(r===void 0)throw new iY(t);return Gn(r,e)}o(lVe,"Resolve");function ea(t,e){return!Nn(t.$id)||e.some(r=>r.$id===t.$id)||e.push(t),e}o(ea,"Pushref");function Gn(t,e){return t[Le]==="This"||t[Le]==="Ref"?lVe(t,e):t}o(Gn,"Deref");u();var oY=class extends lr{static{o(this,"ValueHashError")}constructor(e){super("Unable to hash value"),this.value=e}},el;(function(t){t[t.Undefined=0]="Undefined",t[t.Null=1]="Null",t[t.Boolean=2]="Boolean",t[t.Number=3]="Number",t[t.String=4]="String",t[t.Object=5]="Object",t[t.Array=6]="Array",t[t.Date=7]="Date",t[t.Uint8Array=8]="Uint8Array",t[t.Symbol=9]="Symbol",t[t.BigInt=10]="BigInt"})(el||(el={}));var fb=BigInt("14695981039346656037"),[uVe,fVe]=[BigInt("1099511628211"),BigInt("18446744073709551616")],dVe=Array.from({length:256}).map((t,e)=>BigInt(e)),ume=new Float64Array(1),fme=new DataView(ume.buffer),dme=new Uint8Array(ume.buffer);function*hVe(t){let e=t===0?1:Math.ceil(Math.floor(Math.log2(t)+1)/8);for(let r=0;r<e;r++)yield t>>8*(e-1-r)&255}o(hVe,"NumberToBytes");function AVe(t){Xa(el.Array);for(let e of t)db(e)}o(AVe,"ArrayType");function pVe(t){Xa(el.Boolean),Xa(t?1:0)}o(pVe,"BooleanType");function mVe(t){Xa(el.BigInt),fme.setBigInt64(0,t);for(let e of dme)Xa(e)}o(mVe,"BigIntType");function gVe(t){Xa(el.Date),db(t.getTime())}o(gVe,"DateType");function yVe(t){Xa(el.Null)}o(yVe,"NullType");function CVe(t){Xa(el.Number),fme.setFloat64(0,t);for(let e of dme)Xa(e)}o(CVe,"NumberType");function EVe(t){Xa(el.Object);for(let e of globalThis.Object.getOwnPropertyNames(t).sort())db(e),db(t[e])}o(EVe,"ObjectType");function IVe(t){Xa(el.String);for(let e=0;e<t.length;e++)for(let r of hVe(t.charCodeAt(e)))Xa(r)}o(IVe,"StringType");function xVe(t){Xa(el.Symbol),db(t.description)}o(xVe,"SymbolType");function bVe(t){Xa(el.Uint8Array);for(let e=0;e<t.length;e++)Xa(t[e])}o(bVe,"Uint8ArrayType");function vVe(t){return Xa(el.Undefined)}o(vVe,"UndefinedType");function db(t){if(cr(t))return AVe(t);if(md(t))return pVe(t);if(ga(t))return mVe(t);if(d0(t))return gVe(t);if(Kh(t))return yVe(t);if($t(t))return CVe(t);if(en(t))return EVe(t);if(Nn(t))return IVe(t);if(Jh(t))return xVe(t);if(E2(t))return bVe(t);if(Yi(t))return vVe(t);throw new oY(t)}o(db,"Visit");function Xa(t){fb=fb^dVe[t],fb=fb*uVe%fVe}o(Xa,"FNV1A64");function Lg(t){return fb=BigInt("14695981039346656037"),db(t),fb}o(Lg,"Hash");u();var sY=class extends lr{static{o(this,"ValueCheckUnknownTypeError")}constructor(e){super("Unknown type"),this.schema=e}};function TVe(t){return t[Le]==="Any"||t[Le]==="Unknown"}o(TVe,"IsAnyOrUnknown");function mn(t){return t!==void 0}o(mn,"IsDefined");function _Ve(t,e,r){return!0}o(_Ve,"FromAny");function SVe(t,e,r){return!0}o(SVe,"FromArgument");function wVe(t,e,r){if(!cr(r)||mn(t.minItems)&&!(r.length>=t.minItems)||mn(t.maxItems)&&!(r.length<=t.maxItems)||!r.every(s=>ta(t.items,e,s))||t.uniqueItems===!0&&!function(){let s=new Set;for(let a of r){let c=Lg(a);if(s.has(c))return!1;s.add(c)}return!0}())return!1;if(!(mn(t.contains)||$t(t.minContains)||$t(t.maxContains)))return!0;let n=mn(t.contains)?t.contains:jr(),i=r.reduce((s,a)=>ta(n,e,a)?s+1:s,0);return!(i===0||$t(t.minContains)&&i<t.minContains||$t(t.maxContains)&&i>t.maxContains)}o(wVe,"FromArray");function BVe(t,e,r){return LB(r)}o(BVe,"FromAsyncIterator");function RVe(t,e,r){return!(!ga(r)||mn(t.exclusiveMaximum)&&!(r<t.exclusiveMaximum)||mn(t.exclusiveMinimum)&&!(r>t.exclusiveMinimum)||mn(t.maximum)&&!(r<=t.maximum)||mn(t.minimum)&&!(r>=t.minimum)||mn(t.multipleOf)&&r%t.multipleOf!==BigInt(0))}o(RVe,"FromBigInt");function kVe(t,e,r){return md(r)}o(kVe,"FromBoolean");function DVe(t,e,r){return ta(t.returns,e,r.prototype)}o(DVe,"FromConstructor");function NVe(t,e,r){return!(!d0(r)||mn(t.exclusiveMaximumTimestamp)&&!(r.getTime()<t.exclusiveMaximumTimestamp)||mn(t.exclusiveMinimumTimestamp)&&!(r.getTime()>t.exclusiveMinimumTimestamp)||mn(t.maximumTimestamp)&&!(r.getTime()<=t.maximumTimestamp)||mn(t.minimumTimestamp)&&!(r.getTime()>=t.minimumTimestamp)||mn(t.multipleOfTimestamp)&&r.getTime()%t.multipleOfTimestamp!==0)}o(NVe,"FromDate");function QVe(t,e,r){return Bm(r)}o(QVe,"FromFunction");function PVe(t,e,r){let n=globalThis.Object.values(t.$defs),i=t.$defs[t.$ref];return ta(i,[...e,...n],r)}o(PVe,"FromImport");function FVe(t,e,r){return!(!HB(r)||mn(t.exclusiveMaximum)&&!(r<t.exclusiveMaximum)||mn(t.exclusiveMinimum)&&!(r>t.exclusiveMinimum)||mn(t.maximum)&&!(r<=t.maximum)||mn(t.minimum)&&!(r>=t.minimum)||mn(t.multipleOf)&&r%t.multipleOf!==0)}o(FVe,"FromInteger");function MVe(t,e,r){let n=t.allOf.every(i=>ta(i,e,r));if(t.unevaluatedProperties===!1){let i=new RegExp(nA(t)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&s}else if(ao(t.unevaluatedProperties)){let i=new RegExp(nA(t)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a)||ta(t.unevaluatedProperties,e,r[a]));return n&&s}else return n}o(MVe,"FromIntersect");function LVe(t,e,r){return OB(r)}o(LVe,"FromIterator");function OVe(t,e,r){return r===t.const}o(OVe,"FromLiteral");function UVe(t,e,r){return!1}o(UVe,"FromNever");function HVe(t,e,r){return!ta(t.not,e,r)}o(HVe,"FromNot");function qVe(t,e,r){return Kh(r)}o(qVe,"FromNull");function GVe(t,e,r){return!(!Ni.IsNumberLike(r)||mn(t.exclusiveMaximum)&&!(r<t.exclusiveMaximum)||mn(t.exclusiveMinimum)&&!(r>t.exclusiveMinimum)||mn(t.minimum)&&!(r>=t.minimum)||mn(t.maximum)&&!(r<=t.maximum)||mn(t.multipleOf)&&r%t.multipleOf!==0)}o(GVe,"FromNumber");function VVe(t,e,r){if(!Ni.IsObjectLike(r)||mn(t.minProperties)&&!(Object.getOwnPropertyNames(r).length>=t.minProperties)||mn(t.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=t.maxProperties))return!1;let n=Object.getOwnPropertyNames(t.properties);for(let i of n){let s=t.properties[i];if(t.required&&t.required.includes(i)){if(!ta(s,e,r[i])||(iA(s)||TVe(s))&&!(i in r))return!1}else if(Ni.IsExactOptionalProperty(r,i)&&!ta(s,e,r[i]))return!1}if(t.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return t.required&&t.required.length===n.length&&i.length===n.length?!0:i.every(s=>n.includes(s))}else return typeof t.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(s=>n.includes(s)||ta(t.additionalProperties,e,r[s])):!0}o(VVe,"FromObject");function WVe(t,e,r){return UB(r)}o(WVe,"FromPromise");function YVe(t,e,r){if(!Ni.IsRecordLike(r)||mn(t.minProperties)&&!(Object.getOwnPropertyNames(r).length>=t.minProperties)||mn(t.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=t.maxProperties))return!1;let[n,i]=Object.entries(t.patternProperties)[0],s=new RegExp(n),a=Object.entries(r).every(([f,d])=>s.test(f)?ta(i,e,d):!0),c=typeof t.additionalProperties=="object"?Object.entries(r).every(([f,d])=>s.test(f)?!0:ta(t.additionalProperties,e,d)):!0,l=t.additionalProperties===!1?Object.getOwnPropertyNames(r).every(f=>s.test(f)):!0;return a&&c&&l}o(YVe,"FromRecord");function $Ve(t,e,r){return ta(Gn(t,e),e,r)}o($Ve,"FromRef");function zVe(t,e,r){let n=new RegExp(t.source,t.flags);return mn(t.minLength)&&!(r.length>=t.minLength)||mn(t.maxLength)&&!(r.length<=t.maxLength)?!1:n.test(r)}o(zVe,"FromRegExp");function jVe(t,e,r){return!Nn(r)||mn(t.minLength)&&!(r.length>=t.minLength)||mn(t.maxLength)&&!(r.length<=t.maxLength)||mn(t.pattern)&&!new RegExp(t.pattern).test(r)?!1:mn(t.format)?ju.Has(t.format)?ju.Get(t.format)(r):!1:!0}o(jVe,"FromString");function KVe(t,e,r){return Jh(r)}o(KVe,"FromSymbol");function JVe(t,e,r){return Nn(r)&&new RegExp(t.pattern).test(r)}o(JVe,"FromTemplateLiteral");function XVe(t,e,r){return ta(Gn(t,e),e,r)}o(XVe,"FromThis");function ZVe(t,e,r){if(!cr(r)||t.items===void 0&&r.length!==0||r.length!==t.maxItems)return!1;if(!t.items)return!0;for(let n=0;n<t.items.length;n++)if(!ta(t.items[n],e,r[n]))return!1;return!0}o(ZVe,"FromTuple");function eWe(t,e,r){return Yi(r)}o(eWe,"FromUndefined");function tWe(t,e,r){return t.anyOf.some(n=>ta(n,e,r))}o(tWe,"FromUnion");function rWe(t,e,r){return!(!E2(r)||mn(t.maxByteLength)&&!(r.length<=t.maxByteLength)||mn(t.minByteLength)&&!(r.length>=t.minByteLength))}o(rWe,"FromUint8Array");function nWe(t,e,r){return!0}o(nWe,"FromUnknown");function iWe(t,e,r){return Ni.IsVoidLike(r)}o(iWe,"FromVoid");function oWe(t,e,r){return h0.Has(t[Le])?h0.Get(t[Le])(t,r):!1}o(oWe,"FromKind");function ta(t,e,r){let n=mn(t.$id)?ea(t,e):e,i=t;switch(i[Le]){case"Any":return _Ve(i,n,r);case"Argument":return SVe(i,n,r);case"Array":return wVe(i,n,r);case"AsyncIterator":return BVe(i,n,r);case"BigInt":return RVe(i,n,r);case"Boolean":return kVe(i,n,r);case"Constructor":return DVe(i,n,r);case"Date":return NVe(i,n,r);case"Function":return QVe(i,n,r);case"Import":return PVe(i,n,r);case"Integer":return FVe(i,n,r);case"Intersect":return MVe(i,n,r);case"Iterator":return LVe(i,n,r);case"Literal":return OVe(i,n,r);case"Never":return UVe(i,n,r);case"Not":return HVe(i,n,r);case"Null":return qVe(i,n,r);case"Number":return GVe(i,n,r);case"Object":return VVe(i,n,r);case"Promise":return WVe(i,n,r);case"Record":return YVe(i,n,r);case"Ref":return $Ve(i,n,r);case"RegExp":return zVe(i,n,r);case"String":return jVe(i,n,r);case"Symbol":return KVe(i,n,r);case"TemplateLiteral":return JVe(i,n,r);case"This":return XVe(i,n,r);case"Tuple":return ZVe(i,n,r);case"Undefined":return eWe(i,n,r);case"Union":return tWe(i,n,r);case"Uint8Array":return rWe(i,n,r);case"Unknown":return nWe(i,n,r);case"Void":return iWe(i,n,r);default:if(!h0.Has(i[Le]))throw new sY(i);return oWe(i,n,r)}}o(ta,"Visit");function an(...t){return t.length===3?ta(t[0],t[1],t[2]):ta(t[0],[],t[1])}o(an,"Check");var Fe;(function(t){t[t.ArrayContains=0]="ArrayContains",t[t.ArrayMaxContains=1]="ArrayMaxContains",t[t.ArrayMaxItems=2]="ArrayMaxItems",t[t.ArrayMinContains=3]="ArrayMinContains",t[t.ArrayMinItems=4]="ArrayMinItems",t[t.ArrayUniqueItems=5]="ArrayUniqueItems",t[t.Array=6]="Array",t[t.AsyncIterator=7]="AsyncIterator",t[t.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",t[t.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",t[t.BigIntMaximum=10]="BigIntMaximum",t[t.BigIntMinimum=11]="BigIntMinimum",t[t.BigIntMultipleOf=12]="BigIntMultipleOf",t[t.BigInt=13]="BigInt",t[t.Boolean=14]="Boolean",t[t.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",t[t.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",t[t.DateMaximumTimestamp=17]="DateMaximumTimestamp",t[t.DateMinimumTimestamp=18]="DateMinimumTimestamp",t[t.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",t[t.Date=20]="Date",t[t.Function=21]="Function",t[t.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",t[t.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",t[t.IntegerMaximum=24]="IntegerMaximum",t[t.IntegerMinimum=25]="IntegerMinimum",t[t.IntegerMultipleOf=26]="IntegerMultipleOf",t[t.Integer=27]="Integer",t[t.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",t[t.Intersect=29]="Intersect",t[t.Iterator=30]="Iterator",t[t.Kind=31]="Kind",t[t.Literal=32]="Literal",t[t.Never=33]="Never",t[t.Not=34]="Not",t[t.Null=35]="Null",t[t.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",t[t.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",t[t.NumberMaximum=38]="NumberMaximum",t[t.NumberMinimum=39]="NumberMinimum",t[t.NumberMultipleOf=40]="NumberMultipleOf",t[t.Number=41]="Number",t[t.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",t[t.ObjectMaxProperties=43]="ObjectMaxProperties",t[t.ObjectMinProperties=44]="ObjectMinProperties",t[t.ObjectRequiredProperty=45]="ObjectRequiredProperty",t[t.Object=46]="Object",t[t.Promise=47]="Promise",t[t.RegExp=48]="RegExp",t[t.StringFormatUnknown=49]="StringFormatUnknown",t[t.StringFormat=50]="StringFormat",t[t.StringMaxLength=51]="StringMaxLength",t[t.StringMinLength=52]="StringMinLength",t[t.StringPattern=53]="StringPattern",t[t.String=54]="String",t[t.Symbol=55]="Symbol",t[t.TupleLength=56]="TupleLength",t[t.Tuple=57]="Tuple",t[t.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",t[t.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",t[t.Uint8Array=60]="Uint8Array",t[t.Undefined=61]="Undefined",t[t.Union=62]="Union",t[t.Void=63]="Void"})(Fe||(Fe={}));var aY=class extends lr{static{o(this,"ValueErrorsUnknownTypeError")}constructor(e){super("Unknown type"),this.schema=e}};function NA(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}o(NA,"EscapeKey");function gn(t){return t!==void 0}o(gn,"IsDefined");var Og=class{static{o(this,"ValueErrorIterator")}constructor(e){this.iterator=e}[Symbol.iterator](){return this.iterator}First(){let e=this.iterator.next();return e.done?void 0:e.value}};function Tt(t,e,r,n,i=[]){return{type:t,schema:e,path:r,value:n,message:lme()({errorType:t,path:r,schema:e,value:n,errors:i}),errors:i}}o(Tt,"Create");function*sWe(t,e,r,n){}o(sWe,"FromAny");function*aWe(t,e,r,n){}o(aWe,"FromArgument");function*cWe(t,e,r,n){if(!cr(n))return yield Tt(Fe.Array,t,r,n);gn(t.minItems)&&!(n.length>=t.minItems)&&(yield Tt(Fe.ArrayMinItems,t,r,n)),gn(t.maxItems)&&!(n.length<=t.maxItems)&&(yield Tt(Fe.ArrayMaxItems,t,r,n));for(let a=0;a<n.length;a++)yield*ra(t.items,e,`${r}/${a}`,n[a]);if(t.uniqueItems===!0&&!function(){let a=new Set;for(let c of n){let l=Lg(c);if(a.has(l))return!1;a.add(l)}return!0}()&&(yield Tt(Fe.ArrayUniqueItems,t,r,n)),!(gn(t.contains)||gn(t.minContains)||gn(t.maxContains)))return;let i=gn(t.contains)?t.contains:jr(),s=n.reduce((a,c,l)=>ra(i,e,`${r}${l}`,c).next().done===!0?a+1:a,0);s===0&&(yield Tt(Fe.ArrayContains,t,r,n)),$t(t.minContains)&&s<t.minContains&&(yield Tt(Fe.ArrayMinContains,t,r,n)),$t(t.maxContains)&&s>t.maxContains&&(yield Tt(Fe.ArrayMaxContains,t,r,n))}o(cWe,"FromArray");function*lWe(t,e,r,n){LB(n)||(yield Tt(Fe.AsyncIterator,t,r,n))}o(lWe,"FromAsyncIterator");function*uWe(t,e,r,n){if(!ga(n))return yield Tt(Fe.BigInt,t,r,n);gn(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)&&(yield Tt(Fe.BigIntExclusiveMaximum,t,r,n)),gn(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)&&(yield Tt(Fe.BigIntExclusiveMinimum,t,r,n)),gn(t.maximum)&&!(n<=t.maximum)&&(yield Tt(Fe.BigIntMaximum,t,r,n)),gn(t.minimum)&&!(n>=t.minimum)&&(yield Tt(Fe.BigIntMinimum,t,r,n)),gn(t.multipleOf)&&n%t.multipleOf!==BigInt(0)&&(yield Tt(Fe.BigIntMultipleOf,t,r,n))}o(uWe,"FromBigInt");function*fWe(t,e,r,n){md(n)||(yield Tt(Fe.Boolean,t,r,n))}o(fWe,"FromBoolean");function*dWe(t,e,r,n){yield*ra(t.returns,e,r,n.prototype)}o(dWe,"FromConstructor");function*hWe(t,e,r,n){if(!d0(n))return yield Tt(Fe.Date,t,r,n);gn(t.exclusiveMaximumTimestamp)&&!(n.getTime()<t.exclusiveMaximumTimestamp)&&(yield Tt(Fe.DateExclusiveMaximumTimestamp,t,r,n)),gn(t.exclusiveMinimumTimestamp)&&!(n.getTime()>t.exclusiveMinimumTimestamp)&&(yield Tt(Fe.DateExclusiveMinimumTimestamp,t,r,n)),gn(t.maximumTimestamp)&&!(n.getTime()<=t.maximumTimestamp)&&(yield Tt(Fe.DateMaximumTimestamp,t,r,n)),gn(t.minimumTimestamp)&&!(n.getTime()>=t.minimumTimestamp)&&(yield Tt(Fe.DateMinimumTimestamp,t,r,n)),gn(t.multipleOfTimestamp)&&n.getTime()%t.multipleOfTimestamp!==0&&(yield Tt(Fe.DateMultipleOfTimestamp,t,r,n))}o(hWe,"FromDate");function*AWe(t,e,r,n){Bm(n)||(yield Tt(Fe.Function,t,r,n))}o(AWe,"FromFunction");function*pWe(t,e,r,n){let i=globalThis.Object.values(t.$defs),s=t.$defs[t.$ref];yield*ra(s,[...e,...i],r,n)}o(pWe,"FromImport");function*mWe(t,e,r,n){if(!HB(n))return yield Tt(Fe.Integer,t,r,n);gn(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)&&(yield Tt(Fe.IntegerExclusiveMaximum,t,r,n)),gn(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)&&(yield Tt(Fe.IntegerExclusiveMinimum,t,r,n)),gn(t.maximum)&&!(n<=t.maximum)&&(yield Tt(Fe.IntegerMaximum,t,r,n)),gn(t.minimum)&&!(n>=t.minimum)&&(yield Tt(Fe.IntegerMinimum,t,r,n)),gn(t.multipleOf)&&n%t.multipleOf!==0&&(yield Tt(Fe.IntegerMultipleOf,t,r,n))}o(mWe,"FromInteger");function*gWe(t,e,r,n){let i=!1;for(let s of t.allOf)for(let a of ra(s,e,r,n))i=!0,yield a;if(i)return yield Tt(Fe.Intersect,t,r,n);if(t.unevaluatedProperties===!1){let s=new RegExp(nA(t));for(let a of Object.getOwnPropertyNames(n))s.test(a)||(yield Tt(Fe.IntersectUnevaluatedProperties,t,`${r}/${a}`,n))}if(typeof t.unevaluatedProperties=="object"){let s=new RegExp(nA(t));for(let a of Object.getOwnPropertyNames(n))if(!s.test(a)){let c=ra(t.unevaluatedProperties,e,`${r}/${a}`,n[a]).next();c.done||(yield c.value)}}}o(gWe,"FromIntersect");function*yWe(t,e,r,n){OB(n)||(yield Tt(Fe.Iterator,t,r,n))}o(yWe,"FromIterator");function*CWe(t,e,r,n){n!==t.const&&(yield Tt(Fe.Literal,t,r,n))}o(CWe,"FromLiteral");function*EWe(t,e,r,n){yield Tt(Fe.Never,t,r,n)}o(EWe,"FromNever");function*IWe(t,e,r,n){ra(t.not,e,r,n).next().done===!0&&(yield Tt(Fe.Not,t,r,n))}o(IWe,"FromNot");function*xWe(t,e,r,n){Kh(n)||(yield Tt(Fe.Null,t,r,n))}o(xWe,"FromNull");function*bWe(t,e,r,n){if(!Ni.IsNumberLike(n))return yield Tt(Fe.Number,t,r,n);gn(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)&&(yield Tt(Fe.NumberExclusiveMaximum,t,r,n)),gn(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)&&(yield Tt(Fe.NumberExclusiveMinimum,t,r,n)),gn(t.maximum)&&!(n<=t.maximum)&&(yield Tt(Fe.NumberMaximum,t,r,n)),gn(t.minimum)&&!(n>=t.minimum)&&(yield Tt(Fe.NumberMinimum,t,r,n)),gn(t.multipleOf)&&n%t.multipleOf!==0&&(yield Tt(Fe.NumberMultipleOf,t,r,n))}o(bWe,"FromNumber");function*vWe(t,e,r,n){if(!Ni.IsObjectLike(n))return yield Tt(Fe.Object,t,r,n);gn(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)&&(yield Tt(Fe.ObjectMinProperties,t,r,n)),gn(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties)&&(yield Tt(Fe.ObjectMaxProperties,t,r,n));let i=Array.isArray(t.required)?t.required:[],s=Object.getOwnPropertyNames(t.properties),a=Object.getOwnPropertyNames(n);for(let c of i)a.includes(c)||(yield Tt(Fe.ObjectRequiredProperty,t.properties[c],`${r}/${NA(c)}`,void 0));if(t.additionalProperties===!1)for(let c of a)s.includes(c)||(yield Tt(Fe.ObjectAdditionalProperties,t,`${r}/${NA(c)}`,n[c]));if(typeof t.additionalProperties=="object")for(let c of a)s.includes(c)||(yield*ra(t.additionalProperties,e,`${r}/${NA(c)}`,n[c]));for(let c of s){let l=t.properties[c];t.required&&t.required.includes(c)?(yield*ra(l,e,`${r}/${NA(c)}`,n[c]),iA(t)&&!(c in n)&&(yield Tt(Fe.ObjectRequiredProperty,l,`${r}/${NA(c)}`,void 0))):Ni.IsExactOptionalProperty(n,c)&&(yield*ra(l,e,`${r}/${NA(c)}`,n[c]))}}o(vWe,"FromObject");function*TWe(t,e,r,n){UB(n)||(yield Tt(Fe.Promise,t,r,n))}o(TWe,"FromPromise");function*_We(t,e,r,n){if(!Ni.IsRecordLike(n))return yield Tt(Fe.Object,t,r,n);gn(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)&&(yield Tt(Fe.ObjectMinProperties,t,r,n)),gn(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties)&&(yield Tt(Fe.ObjectMaxProperties,t,r,n));let[i,s]=Object.entries(t.patternProperties)[0],a=new RegExp(i);for(let[c,l]of Object.entries(n))a.test(c)&&(yield*ra(s,e,`${r}/${NA(c)}`,l));if(typeof t.additionalProperties=="object")for(let[c,l]of Object.entries(n))a.test(c)||(yield*ra(t.additionalProperties,e,`${r}/${NA(c)}`,l));if(t.additionalProperties===!1){for(let[c,l]of Object.entries(n))if(!a.test(c))return yield Tt(Fe.ObjectAdditionalProperties,t,`${r}/${NA(c)}`,l)}}o(_We,"FromRecord");function*SWe(t,e,r,n){yield*ra(Gn(t,e),e,r,n)}o(SWe,"FromRef");function*wWe(t,e,r,n){if(!Nn(n))return yield Tt(Fe.String,t,r,n);if(gn(t.minLength)&&!(n.length>=t.minLength)&&(yield Tt(Fe.StringMinLength,t,r,n)),gn(t.maxLength)&&!(n.length<=t.maxLength)&&(yield Tt(Fe.StringMaxLength,t,r,n)),!new RegExp(t.source,t.flags).test(n))return yield Tt(Fe.RegExp,t,r,n)}o(wWe,"FromRegExp");function*BWe(t,e,r,n){if(!Nn(n))return yield Tt(Fe.String,t,r,n);gn(t.minLength)&&!(n.length>=t.minLength)&&(yield Tt(Fe.StringMinLength,t,r,n)),gn(t.maxLength)&&!(n.length<=t.maxLength)&&(yield Tt(Fe.StringMaxLength,t,r,n)),Nn(t.pattern)&&(new RegExp(t.pattern).test(n)||(yield Tt(Fe.StringPattern,t,r,n))),Nn(t.format)&&(ju.Has(t.format)?ju.Get(t.format)(n)||(yield Tt(Fe.StringFormat,t,r,n)):yield Tt(Fe.StringFormatUnknown,t,r,n))}o(BWe,"FromString");function*RWe(t,e,r,n){Jh(n)||(yield Tt(Fe.Symbol,t,r,n))}o(RWe,"FromSymbol");function*kWe(t,e,r,n){if(!Nn(n))return yield Tt(Fe.String,t,r,n);new RegExp(t.pattern).test(n)||(yield Tt(Fe.StringPattern,t,r,n))}o(kWe,"FromTemplateLiteral");function*DWe(t,e,r,n){yield*ra(Gn(t,e),e,r,n)}o(DWe,"FromThis");function*NWe(t,e,r,n){if(!cr(n))return yield Tt(Fe.Tuple,t,r,n);if(t.items===void 0&&n.length!==0)return yield Tt(Fe.TupleLength,t,r,n);if(n.length!==t.maxItems)return yield Tt(Fe.TupleLength,t,r,n);if(t.items)for(let i=0;i<t.items.length;i++)yield*ra(t.items[i],e,`${r}/${i}`,n[i])}o(NWe,"FromTuple");function*QWe(t,e,r,n){Yi(n)||(yield Tt(Fe.Undefined,t,r,n))}o(QWe,"FromUndefined");function*PWe(t,e,r,n){if(an(t,e,n))return;let i=t.anyOf.map(s=>new Og(ra(s,e,r,n)));yield Tt(Fe.Union,t,r,n,i)}o(PWe,"FromUnion");function*FWe(t,e,r,n){if(!E2(n))return yield Tt(Fe.Uint8Array,t,r,n);gn(t.maxByteLength)&&!(n.length<=t.maxByteLength)&&(yield Tt(Fe.Uint8ArrayMaxByteLength,t,r,n)),gn(t.minByteLength)&&!(n.length>=t.minByteLength)&&(yield Tt(Fe.Uint8ArrayMinByteLength,t,r,n))}o(FWe,"FromUint8Array");function*MWe(t,e,r,n){}o(MWe,"FromUnknown");function*LWe(t,e,r,n){Ni.IsVoidLike(n)||(yield Tt(Fe.Void,t,r,n))}o(LWe,"FromVoid");function*OWe(t,e,r,n){h0.Get(t[Le])(t,n)||(yield Tt(Fe.Kind,t,r,n))}o(OWe,"FromKind");function*ra(t,e,r,n){let i=gn(t.$id)?[...e,t]:e,s=t;switch(s[Le]){case"Any":return yield*sWe(s,i,r,n);case"Argument":return yield*aWe(s,i,r,n);case"Array":return yield*cWe(s,i,r,n);case"AsyncIterator":return yield*lWe(s,i,r,n);case"BigInt":return yield*uWe(s,i,r,n);case"Boolean":return yield*fWe(s,i,r,n);case"Constructor":return yield*dWe(s,i,r,n);case"Date":return yield*hWe(s,i,r,n);case"Function":return yield*AWe(s,i,r,n);case"Import":return yield*pWe(s,i,r,n);case"Integer":return yield*mWe(s,i,r,n);case"Intersect":return yield*gWe(s,i,r,n);case"Iterator":return yield*yWe(s,i,r,n);case"Literal":return yield*CWe(s,i,r,n);case"Never":return yield*EWe(s,i,r,n);case"Not":return yield*IWe(s,i,r,n);case"Null":return yield*xWe(s,i,r,n);case"Number":return yield*bWe(s,i,r,n);case"Object":return yield*vWe(s,i,r,n);case"Promise":return yield*TWe(s,i,r,n);case"Record":return yield*_We(s,i,r,n);case"Ref":return yield*SWe(s,i,r,n);case"RegExp":return yield*wWe(s,i,r,n);case"String":return yield*BWe(s,i,r,n);case"Symbol":return yield*RWe(s,i,r,n);case"TemplateLiteral":return yield*kWe(s,i,r,n);case"This":return yield*DWe(s,i,r,n);case"Tuple":return yield*NWe(s,i,r,n);case"Undefined":return yield*QWe(s,i,r,n);case"Union":return yield*PWe(s,i,r,n);case"Uint8Array":return yield*FWe(s,i,r,n);case"Unknown":return yield*MWe(s,i,r,n);case"Void":return yield*LWe(s,i,r,n);default:if(!h0.Has(s[Le]))throw new aY(t);return yield*OWe(s,i,r,n)}}o(ra,"Visit");function Wd(...t){let e=t.length===3?ra(t[0],t[1],"",t[2]):ra(t[0],[],"",t[1]);return new Og(e)}o(Wd,"Errors");u();var UWe=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Ame=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},cY,Vk,pme,lY=class extends lr{static{o(this,"AssertError")}constructor(e){let r=e.First();super(r===void 0?"Invalid Value":r.message),cY.add(this),Vk.set(this,void 0),UWe(this,Vk,e,"f"),this.error=r}Errors(){return new Og(Ame(this,cY,"m",pme).call(this))}};Vk=new WeakMap,cY=new WeakSet,pme=o(function*(){this.error&&(yield this.error),yield*Ame(this,Vk,"f")},"_AssertError_Iterator");function hme(t,e,r){if(!an(t,e,r))throw new lY(Wd(t,e,r))}o(hme,"AssertValue");function Wk(...t){return t.length===3?hme(t[0],t[1],t[2]):hme(t[0],[],t[1])}o(Wk,"Assert");u();u();u();function HWe(t){let e={};for(let r of Object.getOwnPropertyNames(t))e[r]=Vn(t[r]);for(let r of Object.getOwnPropertySymbols(t))e[r]=Vn(t[r]);return e}o(HWe,"FromObject");function qWe(t){return t.map(e=>Vn(e))}o(qWe,"FromArray");function GWe(t){return t.slice()}o(GWe,"FromTypedArray");function VWe(t){return new Map(Vn([...t.entries()]))}o(VWe,"FromMap");function WWe(t){return new Set(Vn([...t.entries()]))}o(WWe,"FromSet");function YWe(t){return new Date(t.toISOString())}o(YWe,"FromDate");function Vn(t){if(cr(t))return qWe(t);if(d0(t))return YWe(t);if(kl(t))return GWe(t);if(fte(t))return VWe(t);if(dte(t))return WWe(t);if(en(t))return HWe(t);if(Nc(t))return t;throw new Error("ValueClone: Unable to clone value")}o(Vn,"Clone");var tl=class extends lr{static{o(this,"ValueCreateError")}constructor(e,r){super(r),this.schema=e}};function Wn(t){return Bm(t)?t():Vn(t)}o(Wn,"FromDefault");function $We(t,e){return ar(t,"default")?Wn(t.default):{}}o($We,"FromAny");function zWe(t,e){return{}}o(zWe,"FromArgument");function jWe(t,e){if(t.uniqueItems===!0&&!ar(t,"default"))throw new tl(t,"Array with the uniqueItems constraint requires a default value");if("contains"in t&&!ar(t,"default"))throw new tl(t,"Array with the contains constraint requires a default value");return"default"in t?Wn(t.default):t.minItems!==void 0?Array.from({length:t.minItems}).map(r=>uc(t.items,e)):[]}o(jWe,"FromArray");function KWe(t,e){return ar(t,"default")?Wn(t.default):async function*(){}()}o(KWe,"FromAsyncIterator");function JWe(t,e){return ar(t,"default")?Wn(t.default):BigInt(0)}o(JWe,"FromBigInt");function XWe(t,e){return ar(t,"default")?Wn(t.default):!1}o(XWe,"FromBoolean");function ZWe(t,e){if(ar(t,"default"))return Wn(t.default);{let r=uc(t.returns,e);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let s=this;s[n]=i}}}:class{}}}o(ZWe,"FromConstructor");function eYe(t,e){return ar(t,"default")?Wn(t.default):t.minimumTimestamp!==void 0?new Date(t.minimumTimestamp):new Date}o(eYe,"FromDate");function tYe(t,e){return ar(t,"default")?Wn(t.default):()=>uc(t.returns,e)}o(tYe,"FromFunction");function rYe(t,e){let r=globalThis.Object.values(t.$defs),n=t.$defs[t.$ref];return uc(n,[...e,...r])}o(rYe,"FromImport");function nYe(t,e){return ar(t,"default")?Wn(t.default):t.minimum!==void 0?t.minimum:0}o(nYe,"FromInteger");function iYe(t,e){if(ar(t,"default"))return Wn(t.default);{let r=t.allOf.reduce((n,i)=>{let s=uc(i,e);return typeof s=="object"?{...n,...s}:s},{});if(!an(t,e,r))throw new tl(t,"Intersect produced invalid value. Consider using a default value.");return r}}o(iYe,"FromIntersect");function oYe(t,e){return ar(t,"default")?Wn(t.default):function*(){}()}o(oYe,"FromIterator");function sYe(t,e){return ar(t,"default")?Wn(t.default):t.const}o(sYe,"FromLiteral");function aYe(t,e){if(ar(t,"default"))return Wn(t.default);throw new tl(t,"Never types cannot be created. Consider using a default value.")}o(aYe,"FromNever");function cYe(t,e){if(ar(t,"default"))return Wn(t.default);throw new tl(t,"Not types must have a default value")}o(cYe,"FromNot");function lYe(t,e){return ar(t,"default")?Wn(t.default):null}o(lYe,"FromNull");function uYe(t,e){return ar(t,"default")?Wn(t.default):t.minimum!==void 0?t.minimum:0}o(uYe,"FromNumber");function fYe(t,e){if(ar(t,"default"))return Wn(t.default);{let r=new Set(t.required),n={};for(let[i,s]of Object.entries(t.properties))r.has(i)&&(n[i]=uc(s,e));return n}}o(fYe,"FromObject");function dYe(t,e){return ar(t,"default")?Wn(t.default):Promise.resolve(uc(t.item,e))}o(dYe,"FromPromise");function hYe(t,e){let[r,n]=Object.entries(t.patternProperties)[0];if(ar(t,"default"))return Wn(t.default);if(r===yd||r===gd)return{};{let i=r.slice(1,r.length-1).split("|"),s={};for(let a of i)s[a]=uc(n,e);return s}}o(hYe,"FromRecord");function AYe(t,e){return ar(t,"default")?Wn(t.default):uc(Gn(t,e),e)}o(AYe,"FromRef");function pYe(t,e){if(ar(t,"default"))return Wn(t.default);throw new tl(t,"RegExp types cannot be created. Consider using a default value.")}o(pYe,"FromRegExp");function mYe(t,e){if(t.pattern!==void 0){if(ar(t,"default"))return Wn(t.default);throw new tl(t,"String types with patterns must specify a default value")}else if(t.format!==void 0){if(ar(t,"default"))return Wn(t.default);throw new tl(t,"String types with formats must specify a default value")}else return ar(t,"default")?Wn(t.default):t.minLength!==void 0?Array.from({length:t.minLength}).map(()=>" ").join(""):""}o(mYe,"FromString");function gYe(t,e){return ar(t,"default")?Wn(t.default):"value"in t?Symbol.for(t.value):Symbol()}o(gYe,"FromSymbol");function yYe(t,e){if(ar(t,"default"))return Wn(t.default);if(!WB(t))throw new tl(t,"Can only create template literals that produce a finite variants. Consider using a default value.");return B2(t)[0]}o(yYe,"FromTemplateLiteral");function CYe(t,e){if(mme++>SYe)throw new tl(t,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return ar(t,"default")?Wn(t.default):uc(Gn(t,e),e)}o(CYe,"FromThis");function EYe(t,e){return ar(t,"default")?Wn(t.default):t.items===void 0?[]:Array.from({length:t.minItems}).map((r,n)=>uc(t.items[n],e))}o(EYe,"FromTuple");function IYe(t,e){if(ar(t,"default"))return Wn(t.default)}o(IYe,"FromUndefined");function xYe(t,e){if(ar(t,"default"))return Wn(t.default);if(t.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return uc(t.anyOf[0],e)}o(xYe,"FromUnion");function bYe(t,e){return ar(t,"default")?Wn(t.default):t.minByteLength!==void 0?new Uint8Array(t.minByteLength):new Uint8Array(0)}o(bYe,"FromUint8Array");function vYe(t,e){return ar(t,"default")?Wn(t.default):{}}o(vYe,"FromUnknown");function TYe(t,e){if(ar(t,"default"))return Wn(t.default)}o(TYe,"FromVoid");function _Ye(t,e){if(ar(t,"default"))return Wn(t.default);throw new Error("User defined types must specify a default value")}o(_Ye,"FromKind");function uc(t,e){let r=ea(t,e),n=t;switch(n[Le]){case"Any":return $We(n,r);case"Argument":return zWe(n,r);case"Array":return jWe(n,r);case"AsyncIterator":return KWe(n,r);case"BigInt":return JWe(n,r);case"Boolean":return XWe(n,r);case"Constructor":return ZWe(n,r);case"Date":return eYe(n,r);case"Function":return tYe(n,r);case"Import":return rYe(n,r);case"Integer":return nYe(n,r);case"Intersect":return iYe(n,r);case"Iterator":return oYe(n,r);case"Literal":return sYe(n,r);case"Never":return aYe(n,r);case"Not":return cYe(n,r);case"Null":return lYe(n,r);case"Number":return uYe(n,r);case"Object":return fYe(n,r);case"Promise":return dYe(n,r);case"Record":return hYe(n,r);case"Ref":return AYe(n,r);case"RegExp":return pYe(n,r);case"String":return mYe(n,r);case"Symbol":return gYe(n,r);case"TemplateLiteral":return yYe(n,r);case"This":return CYe(n,r);case"Tuple":return EYe(n,r);case"Undefined":return IYe(n,r);case"Union":return xYe(n,r);case"Uint8Array":return bYe(n,r);case"Unknown":return vYe(n,r);case"Void":return TYe(n,r);default:if(!h0.Has(n[Le]))throw new tl(n,"Unknown type");return _Ye(n,r)}}o(uc,"Visit");var SYe=512,mme=0;function Zl(...t){return mme=0,t.length===2?uc(t[0],t[1]):uc(t[0],[])}o(Zl,"Create");var Yk=class extends lr{static{o(this,"ValueCastError")}constructor(e,r){super(r),this.schema=e}};function wYe(t,e,r){if(t[Le]==="Object"&&typeof r=="object"&&!Kh(r)){let n=t,i=Object.getOwnPropertyNames(r),s=Object.entries(n.properties),[a,c]=[1/s.length,s.length];return s.reduce((l,[f,d])=>{let h=d[Le]==="Literal"&&d.const===r[f]?c:0,A=an(d,e,r[f])?a:0,m=i.includes(f)?a:0;return l+(h+A+m)},0)}else return an(t,e,r)?1:0}o(wYe,"ScoreUnion");function BYe(t,e,r){let n=t.anyOf.map(a=>Gn(a,e)),[i,s]=[n[0],0];for(let a of n){let c=wYe(a,e,r);c>s&&(i=a,s=c)}return i}o(BYe,"SelectUnion");function RYe(t,e,r){if("default"in t)return typeof r=="function"?t.default:Vn(t.default);{let n=BYe(t,e,r);return x3(n,e,r)}}o(RYe,"CastUnion");function kYe(t,e,r){return an(t,e,r)?Vn(r):Zl(t,e)}o(kYe,"DefaultClone");function DYe(t,e,r){return an(t,e,r)?r:Zl(t,e)}o(DYe,"Default");function NYe(t,e,r){if(an(t,e,r))return Vn(r);let n=cr(r)?Vn(r):Zl(t,e),i=$t(t.minItems)&&n.length<t.minItems?[...n,...Array.from({length:t.minItems-n.length},()=>null)]:n,a=($t(t.maxItems)&&i.length>t.maxItems?i.slice(0,t.maxItems):i).map(l=>uf(t.items,e,l));if(t.uniqueItems!==!0)return a;let c=[...new Set(a)];if(!an(t,e,c))throw new Yk(t,"Array cast produced invalid data due to uniqueItems constraint");return c}o(NYe,"FromArray");function QYe(t,e,r){if(an(t,e,r))return Zl(t,e);let n=new Set(t.returns.required||[]),i=o(function(){},"result");for(let[s,a]of Object.entries(t.returns.properties))!n.has(s)&&r.prototype[s]===void 0||(i.prototype[s]=uf(a,e,r.prototype[s]));return i}o(QYe,"FromConstructor");function PYe(t,e,r){let n=globalThis.Object.values(t.$defs),i=t.$defs[t.$ref];return uf(i,[...e,...n],r)}o(PYe,"FromImport");function FYe(t,e,r){let n=Zl(t,e),i=en(n)&&en(r)?{...n,...r}:r;return an(t,e,i)?i:Zl(t,e)}o(FYe,"FromIntersect");function MYe(t,e,r){throw new Yk(t,"Never types cannot be cast")}o(MYe,"FromNever");function LYe(t,e,r){if(an(t,e,r))return r;if(r===null||typeof r!="object")return Zl(t,e);let n=new Set(t.required||[]),i={};for(let[s,a]of Object.entries(t.properties))!n.has(s)&&r[s]===void 0||(i[s]=uf(a,e,r[s]));if(typeof t.additionalProperties=="object"){let s=Object.getOwnPropertyNames(t.properties);for(let a of Object.getOwnPropertyNames(r))s.includes(a)||(i[a]=uf(t.additionalProperties,e,r[a]))}return i}o(LYe,"FromObject");function OYe(t,e,r){if(an(t,e,r))return Vn(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return Zl(t,e);let n=Object.getOwnPropertyNames(t.patternProperties)[0],i=t.patternProperties[n],s={};for(let[a,c]of Object.entries(r))s[a]=uf(i,e,c);return s}o(OYe,"FromRecord");function UYe(t,e,r){return uf(Gn(t,e),e,r)}o(UYe,"FromRef");function HYe(t,e,r){return uf(Gn(t,e),e,r)}o(HYe,"FromThis");function qYe(t,e,r){return an(t,e,r)?Vn(r):cr(r)?t.items===void 0?[]:t.items.map((n,i)=>uf(n,e,r[i])):Zl(t,e)}o(qYe,"FromTuple");function GYe(t,e,r){return an(t,e,r)?Vn(r):RYe(t,e,r)}o(GYe,"FromUnion");function uf(t,e,r){let n=Nn(t.$id)?ea(t,e):e,i=t;switch(t[Le]){case"Array":return NYe(i,n,r);case"Constructor":return QYe(i,n,r);case"Import":return PYe(i,n,r);case"Intersect":return FYe(i,n,r);case"Never":return MYe(i,n,r);case"Object":return LYe(i,n,r);case"Record":return OYe(i,n,r);case"Ref":return UYe(i,n,r);case"This":return HYe(i,n,r);case"Tuple":return qYe(i,n,r);case"Union":return GYe(i,n,r);case"Date":case"Symbol":case"Uint8Array":return kYe(t,e,r);default:return DYe(i,n,r)}}o(uf,"Visit");function x3(...t){return t.length===3?uf(t[0],t[1],t[2]):uf(t[0],[],t[1])}o(x3,"Cast");u();function VYe(t){return km(t)&&t[Le]!=="Unsafe"}o(VYe,"IsCheckable");function WYe(t,e,r){return cr(r)?r.map(n=>fc(t.items,e,n)):r}o(WYe,"FromArray");function YYe(t,e,r){let n=globalThis.Object.values(t.$defs),i=t.$defs[t.$ref];return fc(i,[...e,...n],r)}o(YYe,"FromImport");function $Ye(t,e,r){let n=t.unevaluatedProperties,s=t.allOf.map(c=>fc(c,e,Vn(r))).reduce((c,l)=>en(l)?{...c,...l}:l,{});if(!en(r)||!en(s)||!km(n))return s;let a=Y0(t);for(let c of Object.getOwnPropertyNames(r))a.includes(c)||an(n,e,r[c])&&(s[c]=fc(n,e,r[c]));return s}o($Ye,"FromIntersect");function zYe(t,e,r){if(!en(r)||cr(r))return r;let n=t.additionalProperties;for(let i of Object.getOwnPropertyNames(r)){if(ar(t.properties,i)){r[i]=fc(t.properties[i],e,r[i]);continue}if(km(n)&&an(n,e,r[i])){r[i]=fc(n,e,r[i]);continue}delete r[i]}return r}o(zYe,"FromObject");function jYe(t,e,r){if(!en(r))return r;let n=t.additionalProperties,i=Object.getOwnPropertyNames(r),[s,a]=Object.entries(t.patternProperties)[0],c=new RegExp(s);for(let l of i){if(c.test(l)){r[l]=fc(a,e,r[l]);continue}if(km(n)&&an(n,e,r[l])){r[l]=fc(n,e,r[l]);continue}delete r[l]}return r}o(jYe,"FromRecord");function KYe(t,e,r){return fc(Gn(t,e),e,r)}o(KYe,"FromRef");function JYe(t,e,r){return fc(Gn(t,e),e,r)}o(JYe,"FromThis");function XYe(t,e,r){if(!cr(r))return r;if(Yi(t.items))return[];let n=Math.min(r.length,t.items.length);for(let i=0;i<n;i++)r[i]=fc(t.items[i],e,r[i]);return r.length>n?r.slice(0,n):r}o(XYe,"FromTuple");function ZYe(t,e,r){for(let n of t.anyOf)if(VYe(n)&&an(n,e,r))return fc(n,e,r);return r}o(ZYe,"FromUnion");function fc(t,e,r){let n=Nn(t.$id)?ea(t,e):e,i=t;switch(i[Le]){case"Array":return WYe(i,n,r);case"Import":return YYe(i,n,r);case"Intersect":return $Ye(i,n,r);case"Object":return zYe(i,n,r);case"Record":return jYe(i,n,r);case"Ref":return KYe(i,n,r);case"This":return JYe(i,n,r);case"Tuple":return XYe(i,n,r);case"Union":return ZYe(i,n,r);default:return r}}o(fc,"Visit");function $k(...t){return t.length===3?fc(t[0],t[1],t[2]):fc(t[0],[],t[1])}o($k,"Clean");u();function zk(t){return Nn(t)&&!isNaN(t)&&!isNaN(parseFloat(t))}o(zk,"IsStringNumeric");function e$e(t){return ga(t)||md(t)||$t(t)}o(e$e,"IsValueToString");function b3(t){return t===!0||$t(t)&&t===1||ga(t)&&t===BigInt("1")||Nn(t)&&(t.toLowerCase()==="true"||t==="1")}o(b3,"IsValueTrue");function v3(t){return t===!1||$t(t)&&(t===0||Object.is(t,-0))||ga(t)&&t===BigInt("0")||Nn(t)&&(t.toLowerCase()==="false"||t==="0"||t==="-0")}o(v3,"IsValueFalse");function t$e(t){return Nn(t)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(t)}o(t$e,"IsTimeStringWithTimeZone");function r$e(t){return Nn(t)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(t)}o(r$e,"IsTimeStringWithoutTimeZone");function n$e(t){return Nn(t)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(t)}o(n$e,"IsDateTimeStringWithTimeZone");function i$e(t){return Nn(t)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(t)}o(i$e,"IsDateTimeStringWithoutTimeZone");function o$e(t){return Nn(t)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(t)}o(o$e,"IsDateString");function s$e(t,e){let r=yme(t);return r===e?r:t}o(s$e,"TryConvertLiteralString");function a$e(t,e){let r=Cme(t);return r===e?r:t}o(a$e,"TryConvertLiteralNumber");function c$e(t,e){let r=gme(t);return r===e?r:t}o(c$e,"TryConvertLiteralBoolean");function l$e(t,e){return Nn(t.const)?s$e(e,t.const):$t(t.const)?a$e(e,t.const):md(t.const)?c$e(e,t.const):e}o(l$e,"TryConvertLiteral");function gme(t){return b3(t)?!0:v3(t)?!1:t}o(gme,"TryConvertBoolean");function u$e(t){let e=o(r=>r.split(".")[0],"truncateInteger");return zk(t)?BigInt(e(t)):$t(t)?BigInt(Math.trunc(t)):v3(t)?BigInt(0):b3(t)?BigInt(1):t}o(u$e,"TryConvertBigInt");function yme(t){return Jh(t)&&t.description!==void 0?t.description.toString():e$e(t)?t.toString():t}o(yme,"TryConvertString");function Cme(t){return zk(t)?parseFloat(t):b3(t)?1:v3(t)?0:t}o(Cme,"TryConvertNumber");function f$e(t){return zk(t)?parseInt(t):$t(t)?Math.trunc(t):b3(t)?1:v3(t)?0:t}o(f$e,"TryConvertInteger");function d$e(t){return Nn(t)&&t.toLowerCase()==="null"?null:t}o(d$e,"TryConvertNull");function h$e(t){return Nn(t)&&t==="undefined"?void 0:t}o(h$e,"TryConvertUndefined");function A$e(t){return d0(t)?t:$t(t)?new Date(t):b3(t)?new Date(1):v3(t)?new Date(0):zk(t)?new Date(parseInt(t)):r$e(t)?new Date(`1970-01-01T${t}.000Z`):t$e(t)?new Date(`1970-01-01T${t}`):i$e(t)?new Date(`${t}.000Z`):n$e(t)?new Date(t):o$e(t)?new Date(`${t}T00:00:00.000Z`):t}o(A$e,"TryConvertDate");function p$e(t,e,r){return(cr(r)?r:[r]).map(i=>ff(t.items,e,i))}o(p$e,"FromArray");function m$e(t,e,r){return u$e(r)}o(m$e,"FromBigInt");function g$e(t,e,r){return gme(r)}o(g$e,"FromBoolean");function y$e(t,e,r){return A$e(r)}o(y$e,"FromDate");function C$e(t,e,r){let n=globalThis.Object.values(t.$defs),i=t.$defs[t.$ref];return ff(i,[...e,...n],r)}o(C$e,"FromImport");function E$e(t,e,r){return f$e(r)}o(E$e,"FromInteger");function I$e(t,e,r){return t.allOf.reduce((n,i)=>ff(i,e,n),r)}o(I$e,"FromIntersect");function x$e(t,e,r){return l$e(t,r)}o(x$e,"FromLiteral");function b$e(t,e,r){return d$e(r)}o(b$e,"FromNull");function v$e(t,e,r){return Cme(r)}o(v$e,"FromNumber");function T$e(t,e,r){if(!en(r))return r;for(let n of Object.getOwnPropertyNames(t.properties))ar(r,n)&&(r[n]=ff(t.properties[n],e,r[n]));return r}o(T$e,"FromObject");function _$e(t,e,r){if(!en(r))return r;let i=Object.getOwnPropertyNames(t.patternProperties)[0],s=t.patternProperties[i];for(let[a,c]of Object.entries(r))r[a]=ff(s,e,c);return r}o(_$e,"FromRecord");function S$e(t,e,r){return ff(Gn(t,e),e,r)}o(S$e,"FromRef");function w$e(t,e,r){return yme(r)}o(w$e,"FromString");function B$e(t,e,r){return Nn(r)||$t(r)?Symbol(r):r}o(B$e,"FromSymbol");function R$e(t,e,r){return ff(Gn(t,e),e,r)}o(R$e,"FromThis");function k$e(t,e,r){return cr(r)&&!Yi(t.items)?r.map((i,s)=>s<t.items.length?ff(t.items[s],e,i):i):r}o(k$e,"FromTuple");function D$e(t,e,r){return h$e(r)}o(D$e,"FromUndefined");function N$e(t,e,r){for(let n of t.anyOf){let i=ff(n,e,Vn(r));if(an(n,e,i))return i}return r}o(N$e,"FromUnion");function ff(t,e,r){let n=ea(t,e),i=t;switch(t[Le]){case"Array":return p$e(i,n,r);case"BigInt":return m$e(i,n,r);case"Boolean":return g$e(i,n,r);case"Date":return y$e(i,n,r);case"Import":return C$e(i,n,r);case"Integer":return E$e(i,n,r);case"Intersect":return I$e(i,n,r);case"Literal":return x$e(i,n,r);case"Null":return b$e(i,n,r);case"Number":return v$e(i,n,r);case"Object":return T$e(i,n,r);case"Record":return _$e(i,n,r);case"Ref":return S$e(i,n,r);case"String":return w$e(i,n,r);case"Symbol":return B$e(i,n,r);case"This":return R$e(i,n,r);case"Tuple":return k$e(i,n,r);case"Undefined":return D$e(i,n,r);case"Union":return N$e(i,n,r);default:return r}}o(ff,"Visit");function jk(...t){return t.length===3?ff(t[0],t[1],t[2]):ff(t[0],[],t[1])}o(jk,"Convert");u();u();var hb=class extends lr{static{o(this,"TransformDecodeCheckError")}constructor(e,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=e,this.value=r,this.error=n}},uY=class extends lr{static{o(this,"TransformDecodeError")}constructor(e,r,n,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=e,this.path=r,this.value=n,this.error=i}};function fo(t,e,r){try{return Xn(t)?t[so].Decode(r):r}catch(n){throw new uY(t,e,r,n)}}o(fo,"Default");function Q$e(t,e,r,n){return cr(n)?fo(t,r,n.map((i,s)=>df(t.items,e,`${r}/${s}`,i))):fo(t,r,n)}o(Q$e,"FromArray");function P$e(t,e,r,n){if(!en(n)||Nc(n))return fo(t,r,n);let i=KB(t),s=i.map(d=>d[0]),a={...n};for(let[d,h]of i)d in a&&(a[d]=df(h,e,`${r}/${d}`,a[d]));if(!Xn(t.unevaluatedProperties))return fo(t,r,a);let c=Object.getOwnPropertyNames(a),l=t.unevaluatedProperties,f={...a};for(let d of c)s.includes(d)||(f[d]=fo(l,`${r}/${d}`,f[d]));return fo(t,r,f)}o(P$e,"FromIntersect");function F$e(t,e,r,n){let i=globalThis.Object.values(t.$defs),s=t.$defs[t.$ref],a=df(s,[...e,...i],r,n);return fo(t,r,a)}o(F$e,"FromImport");function M$e(t,e,r,n){return fo(t,r,df(t.not,e,r,n))}o(M$e,"FromNot");function L$e(t,e,r,n){if(!en(n))return fo(t,r,n);let i=Y0(t),s={...n};for(let f of i)ar(s,f)&&(Yi(s[f])&&(!eA(t.properties[f])||Ni.IsExactOptionalProperty(s,f))||(s[f]=df(t.properties[f],e,`${r}/${f}`,s[f])));if(!ao(t.additionalProperties))return fo(t,r,s);let a=Object.getOwnPropertyNames(s),c=t.additionalProperties,l={...s};for(let f of a)i.includes(f)||(l[f]=fo(c,`${r}/${f}`,l[f]));return fo(t,r,l)}o(L$e,"FromObject");function O$e(t,e,r,n){if(!en(n))return fo(t,r,n);let i=Object.getOwnPropertyNames(t.patternProperties)[0],s=new RegExp(i),a={...n};for(let d of Object.getOwnPropertyNames(n))s.test(d)&&(a[d]=df(t.patternProperties[i],e,`${r}/${d}`,a[d]));if(!ao(t.additionalProperties))return fo(t,r,a);let c=Object.getOwnPropertyNames(a),l=t.additionalProperties,f={...a};for(let d of c)s.test(d)||(f[d]=fo(l,`${r}/${d}`,f[d]));return fo(t,r,f)}o(O$e,"FromRecord");function U$e(t,e,r,n){let i=Gn(t,e);return fo(t,r,df(i,e,r,n))}o(U$e,"FromRef");function H$e(t,e,r,n){let i=Gn(t,e);return fo(t,r,df(i,e,r,n))}o(H$e,"FromThis");function q$e(t,e,r,n){return cr(n)&&cr(t.items)?fo(t,r,t.items.map((i,s)=>df(i,e,`${r}/${s}`,n[s]))):fo(t,r,n)}o(q$e,"FromTuple");function G$e(t,e,r,n){for(let i of t.anyOf){if(!an(i,e,n))continue;let s=df(i,e,r,n);return fo(t,r,s)}return fo(t,r,n)}o(G$e,"FromUnion");function df(t,e,r,n){let i=ea(t,e),s=t;switch(t[Le]){case"Array":return Q$e(s,i,r,n);case"Import":return F$e(s,i,r,n);case"Intersect":return P$e(s,i,r,n);case"Not":return M$e(s,i,r,n);case"Object":return L$e(s,i,r,n);case"Record":return O$e(s,i,r,n);case"Ref":return U$e(s,i,r,n);case"Symbol":return fo(s,r,n);case"This":return H$e(s,i,r,n);case"Tuple":return q$e(s,i,r,n);case"Union":return G$e(s,i,r,n);default:return fo(s,r,n)}}o(df,"Visit");function Ab(t,e,r){return df(t,e,"",r)}o(Ab,"TransformDecode");u();var pb=class extends lr{static{o(this,"TransformEncodeCheckError")}constructor(e,r,n){super("The encoded value does not match the expected schema"),this.schema=e,this.value=r,this.error=n}},fY=class extends lr{static{o(this,"TransformEncodeError")}constructor(e,r,n,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=e,this.path=r,this.value=n,this.error=i}};function Ba(t,e,r){try{return Xn(t)?t[so].Encode(r):r}catch(n){throw new fY(t,e,r,n)}}o(Ba,"Default");function V$e(t,e,r,n){let i=Ba(t,r,n);return cr(i)?i.map((s,a)=>hf(t.items,e,`${r}/${a}`,s)):i}o(V$e,"FromArray");function W$e(t,e,r,n){let i=globalThis.Object.values(t.$defs),s=t.$defs[t.$ref],a=Ba(t,r,n);return hf(s,[...e,...i],r,a)}o(W$e,"FromImport");function Y$e(t,e,r,n){let i=Ba(t,r,n);if(!en(n)||Nc(n))return i;let s=KB(t),a=s.map(h=>h[0]),c={...i};for(let[h,A]of s)h in c&&(c[h]=hf(A,e,`${r}/${h}`,c[h]));if(!Xn(t.unevaluatedProperties))return c;let l=Object.getOwnPropertyNames(c),f=t.unevaluatedProperties,d={...c};for(let h of l)a.includes(h)||(d[h]=Ba(f,`${r}/${h}`,d[h]));return d}o(Y$e,"FromIntersect");function $$e(t,e,r,n){return Ba(t.not,r,Ba(t,r,n))}o($$e,"FromNot");function z$e(t,e,r,n){let i=Ba(t,r,n);if(!en(i))return i;let s=Y0(t),a={...i};for(let d of s)ar(a,d)&&(Yi(a[d])&&(!eA(t.properties[d])||Ni.IsExactOptionalProperty(a,d))||(a[d]=hf(t.properties[d],e,`${r}/${d}`,a[d])));if(!ao(t.additionalProperties))return a;let c=Object.getOwnPropertyNames(a),l=t.additionalProperties,f={...a};for(let d of c)s.includes(d)||(f[d]=Ba(l,`${r}/${d}`,f[d]));return f}o(z$e,"FromObject");function j$e(t,e,r,n){let i=Ba(t,r,n);if(!en(n))return i;let s=Object.getOwnPropertyNames(t.patternProperties)[0],a=new RegExp(s),c={...i};for(let h of Object.getOwnPropertyNames(n))a.test(h)&&(c[h]=hf(t.patternProperties[s],e,`${r}/${h}`,c[h]));if(!ao(t.additionalProperties))return c;let l=Object.getOwnPropertyNames(c),f=t.additionalProperties,d={...c};for(let h of l)a.test(h)||(d[h]=Ba(f,`${r}/${h}`,d[h]));return d}o(j$e,"FromRecord");function K$e(t,e,r,n){let i=Gn(t,e),s=hf(i,e,r,n);return Ba(t,r,s)}o(K$e,"FromRef");function J$e(t,e,r,n){let i=Gn(t,e),s=hf(i,e,r,n);return Ba(t,r,s)}o(J$e,"FromThis");function X$e(t,e,r,n){let i=Ba(t,r,n);return cr(t.items)?t.items.map((s,a)=>hf(s,e,`${r}/${a}`,i[a])):[]}o(X$e,"FromTuple");function Z$e(t,e,r,n){for(let i of t.anyOf){if(!an(i,e,n))continue;let s=hf(i,e,r,n);return Ba(t,r,s)}for(let i of t.anyOf){let s=hf(i,e,r,n);if(an(t,e,s))return Ba(t,r,s)}return Ba(t,r,n)}o(Z$e,"FromUnion");function hf(t,e,r,n){let i=ea(t,e),s=t;switch(t[Le]){case"Array":return V$e(s,i,r,n);case"Import":return W$e(s,i,r,n);case"Intersect":return Y$e(s,i,r,n);case"Not":return $$e(s,i,r,n);case"Object":return z$e(s,i,r,n);case"Record":return j$e(s,i,r,n);case"Ref":return K$e(s,i,r,n);case"This":return J$e(s,i,r,n);case"Tuple":return X$e(s,i,r,n);case"Union":return Z$e(s,i,r,n);default:return Ba(s,r,n)}}o(hf,"Visit");function mb(t,e,r){return hf(t,e,"",r)}o(mb,"TransformEncode");u();function eze(t,e){return Xn(t)||Ps(t.items,e)}o(eze,"FromArray");function tze(t,e){return Xn(t)||Ps(t.items,e)}o(tze,"FromAsyncIterator");function rze(t,e){return Xn(t)||Ps(t.returns,e)||t.parameters.some(r=>Ps(r,e))}o(rze,"FromConstructor");function nze(t,e){return Xn(t)||Ps(t.returns,e)||t.parameters.some(r=>Ps(r,e))}o(nze,"FromFunction");function ize(t,e){return Xn(t)||Xn(t.unevaluatedProperties)||t.allOf.some(r=>Ps(r,e))}o(ize,"FromIntersect");function oze(t,e){let r=globalThis.Object.getOwnPropertyNames(t.$defs).reduce((i,s)=>[...i,t.$defs[s]],[]),n=t.$defs[t.$ref];return Xn(t)||Ps(n,[...r,...e])}o(oze,"FromImport");function sze(t,e){return Xn(t)||Ps(t.items,e)}o(sze,"FromIterator");function aze(t,e){return Xn(t)||Ps(t.not,e)}o(aze,"FromNot");function cze(t,e){return Xn(t)||Object.values(t.properties).some(r=>Ps(r,e))||ao(t.additionalProperties)&&Ps(t.additionalProperties,e)}o(cze,"FromObject");function lze(t,e){return Xn(t)||Ps(t.item,e)}o(lze,"FromPromise");function uze(t,e){let r=Object.getOwnPropertyNames(t.patternProperties)[0],n=t.patternProperties[r];return Xn(t)||Ps(n,e)||ao(t.additionalProperties)&&Xn(t.additionalProperties)}o(uze,"FromRecord");function fze(t,e){return Xn(t)?!0:Ps(Gn(t,e),e)}o(fze,"FromRef");function dze(t,e){return Xn(t)?!0:Ps(Gn(t,e),e)}o(dze,"FromThis");function hze(t,e){return Xn(t)||!Yi(t.items)&&t.items.some(r=>Ps(r,e))}o(hze,"FromTuple");function Aze(t,e){return Xn(t)||t.anyOf.some(r=>Ps(r,e))}o(Aze,"FromUnion");function Ps(t,e){let r=ea(t,e),n=t;if(t.$id&&dY.has(t.$id))return!1;switch(t.$id&&dY.add(t.$id),t[Le]){case"Array":return eze(n,r);case"AsyncIterator":return tze(n,r);case"Constructor":return rze(n,r);case"Function":return nze(n,r);case"Import":return oze(n,r);case"Intersect":return ize(n,r);case"Iterator":return sze(n,r);case"Not":return aze(n,r);case"Object":return cze(n,r);case"Promise":return lze(n,r);case"Record":return uze(n,r);case"Ref":return fze(n,r);case"This":return dze(n,r);case"Tuple":return hze(n,r);case"Union":return Aze(n,r);default:return Xn(t)}}o(Ps,"Visit");var dY=new Set;function QA(t,e){return dY.clear(),Ps(t,e)}o(QA,"HasTransform");function Eme(...t){let[e,r,n]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]];if(!an(e,r,n))throw new hb(e,n,Wd(e,r,n).First());return QA(e,r)?Ab(e,r,n):n}o(Eme,"Decode");u();function PA(t,e){let r=ar(t,"default")?t.default:void 0,n=Bm(r)?r():Vn(r);return Yi(e)?n:en(e)&&en(n)?Object.assign(n,e):e}o(PA,"ValueOrDefault");function hY(t){return km(t)&&"default"in t}o(hY,"HasDefaultProperty");function pze(t,e,r){if(cr(r)){for(let i=0;i<r.length;i++)r[i]=T0(t.items,e,r[i]);return r}let n=PA(t,r);if(!cr(n))return n;for(let i=0;i<n.length;i++)n[i]=T0(t.items,e,n[i]);return n}o(pze,"FromArray");function mze(t,e,r){return d0(r)?r:PA(t,r)}o(mze,"FromDate");function gze(t,e,r){let n=globalThis.Object.values(t.$defs),i=t.$defs[t.$ref];return T0(i,[...e,...n],r)}o(gze,"FromImport");function yze(t,e,r){let n=PA(t,r);return t.allOf.reduce((i,s)=>{let a=T0(s,e,n);return en(a)?{...i,...a}:a},{})}o(yze,"FromIntersect");function Cze(t,e,r){let n=PA(t,r);if(!en(n))return n;let i=Object.getOwnPropertyNames(t.properties);for(let s of i){let a=T0(t.properties[s],e,n[s]);Yi(a)||(n[s]=T0(t.properties[s],e,n[s]))}if(!hY(t.additionalProperties))return n;for(let s of Object.getOwnPropertyNames(n))i.includes(s)||(n[s]=T0(t.additionalProperties,e,n[s]));return n}o(Cze,"FromObject");function Eze(t,e,r){let n=PA(t,r);if(!en(n))return n;let i=t.additionalProperties,[s,a]=Object.entries(t.patternProperties)[0],c=new RegExp(s);for(let l of Object.getOwnPropertyNames(n))c.test(l)&&hY(a)&&(n[l]=T0(a,e,n[l]));if(!hY(i))return n;for(let l of Object.getOwnPropertyNames(n))c.test(l)||(n[l]=T0(i,e,n[l]));return n}o(Eze,"FromRecord");function Ize(t,e,r){return T0(Gn(t,e),e,PA(t,r))}o(Ize,"FromRef");function xze(t,e,r){return T0(Gn(t,e),e,r)}o(xze,"FromThis");function bze(t,e,r){let n=PA(t,r);if(!cr(n)||Yi(t.items))return n;let[i,s]=[t.items,Math.max(t.items.length,n.length)];for(let a=0;a<s;a++)a<i.length&&(n[a]=T0(i[a],e,n[a]));return n}o(bze,"FromTuple");function vze(t,e,r){let n=PA(t,r);for(let i of t.anyOf){let s=T0(i,e,Vn(n));if(an(i,e,s))return s}return n}o(vze,"FromUnion");function T0(t,e,r){let n=ea(t,e),i=t;switch(i[Le]){case"Array":return pze(i,n,r);case"Date":return mze(i,n,r);case"Import":return gze(i,n,r);case"Intersect":return yze(i,n,r);case"Object":return Cze(i,n,r);case"Record":return Eze(i,n,r);case"Ref":return Ize(i,n,r);case"This":return xze(i,n,r);case"Tuple":return bze(i,n,r);case"Union":return vze(i,n,r);default:return PA(i,r)}}o(T0,"Visit");function Kk(...t){return t.length===3?T0(t[0],t[1],t[2]):T0(t[0],[],t[1])}o(Kk,"Default");u();u();var Af={};Eo(Af,{Delete:()=>_ze,Format:()=>T3,Get:()=>wze,Has:()=>Sze,Set:()=>Tze,ValuePointerRootDeleteError:()=>Xk,ValuePointerRootSetError:()=>Jk});u();var Jk=class extends lr{static{o(this,"ValuePointerRootSetError")}constructor(e,r,n){super("Cannot set root value"),this.value=e,this.path=r,this.update=n}},Xk=class extends lr{static{o(this,"ValuePointerRootDeleteError")}constructor(e,r){super("Cannot delete root value"),this.value=e,this.path=r}};function Ime(t){return t.indexOf("~")===-1?t:t.replace(/~1/g,"/").replace(/~0/g,"~")}o(Ime,"Escape");function*T3(t){if(t==="")return;let[e,r]=[0,0];for(let n=0;n<t.length;n++)t.charAt(n)==="/"?(n===0||(r=n,yield Ime(t.slice(e,r))),e=n+1):r=n;yield Ime(t.slice(e))}o(T3,"Format");function Tze(t,e,r){if(e==="")throw new Jk(t,e,r);let[n,i,s]=[null,t,""];for(let a of T3(e))i[a]===void 0&&(i[a]={}),n=i,i=i[a],s=a;n[s]=r}o(Tze,"Set");function _ze(t,e){if(e==="")throw new Xk(t,e);let[r,n,i]=[null,t,""];for(let s of T3(e)){if(n[s]===void 0||n[s]===null)return;r=n,n=n[s],i=s}if(Array.isArray(r)){let s=parseInt(i);r.splice(s,1)}else delete r[i]}o(_ze,"Delete");function Sze(t,e){if(e==="")return!0;let[r,n,i]=[null,t,""];for(let s of T3(e)){if(n[s]===void 0)return!1;r=n,n=n[s],i=s}return Object.getOwnPropertyNames(r).includes(i)}o(Sze,"Has");function wze(t,e){if(e==="")return t;let r=t;for(let n of T3(e)){if(r[n]===void 0)return;r=r[n]}return r}o(wze,"Get");u();function Bze(t,e){if(!en(e))return!1;let r=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],n=[...Object.keys(e),...Object.getOwnPropertySymbols(e)];return r.length!==n.length?!1:r.every(i=>tE(t[i],e[i]))}o(Bze,"ObjectType");function Rze(t,e){return d0(e)&&t.getTime()===e.getTime()}o(Rze,"DateType");function kze(t,e){return!cr(e)||t.length!==e.length?!1:t.every((r,n)=>tE(r,e[n]))}o(kze,"ArrayType");function Dze(t,e){return!kl(e)||t.length!==e.length||Object.getPrototypeOf(t).constructor.name!==Object.getPrototypeOf(e).constructor.name?!1:t.every((r,n)=>tE(r,e[n]))}o(Dze,"TypedArrayType");function Nze(t,e){return t===e}o(Nze,"ValueType");function tE(t,e){if(d0(t))return Rze(t,e);if(kl(t))return Dze(t,e);if(cr(t))return kze(t,e);if(en(t))return Bze(t,e);if(Nc(t))return Nze(t,e);throw new Error("ValueEquals: Unable to compare value")}o(tE,"Equal");var Qze=ei({type:vn("insert"),path:A0(),value:Ku()}),Pze=ei({type:vn("update"),path:A0(),value:Ku()}),Fze=ei({type:vn("delete"),path:A0()}),bme=Zn([Qze,Pze,Fze]),Zk=class extends lr{static{o(this,"ValueDiffError")}constructor(e,r){super(r),this.value=e}};function eD(t,e){return{type:"update",path:t,value:e}}o(eD,"CreateUpdate");function vme(t,e){return{type:"insert",path:t,value:e}}o(vme,"CreateInsert");function Tme(t){return{type:"delete",path:t}}o(Tme,"CreateDelete");function xme(t){if(globalThis.Object.getOwnPropertySymbols(t).length>0)throw new Zk(t,"Cannot diff objects with symbols")}o(xme,"AssertDiffable");function*Mze(t,e,r){if(xme(e),xme(r),!fO(r))return yield eD(t,r);let n=globalThis.Object.getOwnPropertyNames(e),i=globalThis.Object.getOwnPropertyNames(r);for(let s of i)ar(e,s)||(yield vme(`${t}/${s}`,r[s]));for(let s of n)ar(r,s)&&(tE(e,r)||(yield*tD(`${t}/${s}`,e[s],r[s])));for(let s of n)ar(r,s)||(yield Tme(`${t}/${s}`))}o(Mze,"ObjectType");function*Lze(t,e,r){if(!cr(r))return yield eD(t,r);for(let n=0;n<Math.min(e.length,r.length);n++)yield*tD(`${t}/${n}`,e[n],r[n]);for(let n=0;n<r.length;n++)n<e.length||(yield vme(`${t}/${n}`,r[n]));for(let n=e.length-1;n>=0;n--)n<r.length||(yield Tme(`${t}/${n}`))}o(Lze,"ArrayType");function*Oze(t,e,r){if(!kl(r)||e.length!==r.length||globalThis.Object.getPrototypeOf(e).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield eD(t,r);for(let n=0;n<Math.min(e.length,r.length);n++)yield*tD(`${t}/${n}`,e[n],r[n])}o(Oze,"TypedArrayType");function*Uze(t,e,r){e!==r&&(yield eD(t,r))}o(Uze,"ValueType");function*tD(t,e,r){if(fO(e))return yield*Mze(t,e,r);if(cr(e))return yield*Lze(t,e,r);if(kl(e))return yield*Oze(t,e,r);if(Nc(e))return yield*Uze(t,e,r);throw new Zk(e,"Unable to diff value")}o(tD,"Visit");function _me(t,e){return[...tD("",t,e)]}o(_me,"Diff");function Hze(t){return t.length>0&&t[0].path===""&&t[0].type==="update"}o(Hze,"IsRootUpdate");function qze(t){return t.length===0}o(qze,"IsIdentity");function Sme(t,e){if(Hze(e))return Vn(e[0].value);if(qze(e))return Vn(t);let r=Vn(t);for(let n of e)switch(n.type){case"insert":{Af.Set(r,n.path,n.value);break}case"update":{Af.Set(r,n.path,n.value);break}case"delete":{Af.Delete(r,n.path);break}}return r}o(Sme,"Patch");u();function wme(...t){let[e,r,n]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]],i=QA(e,r)?mb(e,r,n):n;if(!an(e,r,i))throw new pb(e,i,Wd(e,r,i).First());return i}o(wme,"Encode");u();function rD(t){return en(t)&&!cr(t)}o(rD,"IsStandardObject");var nD=class extends lr{static{o(this,"ValueMutateError")}constructor(e){super(e)}};function Gze(t,e,r,n){if(!rD(r))Af.Set(t,e,Vn(n));else{let i=Object.getOwnPropertyNames(r),s=Object.getOwnPropertyNames(n);for(let a of i)s.includes(a)||delete r[a];for(let a of s)i.includes(a)||(r[a]=null);for(let a of s)AY(t,`${e}/${a}`,r[a],n[a])}}o(Gze,"ObjectType");function Vze(t,e,r,n){if(!cr(r))Af.Set(t,e,Vn(n));else{for(let i=0;i<n.length;i++)AY(t,`${e}/${i}`,r[i],n[i]);r.splice(n.length)}}o(Vze,"ArrayType");function Wze(t,e,r,n){if(kl(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else Af.Set(t,e,Vn(n))}o(Wze,"TypedArrayType");function Yze(t,e,r,n){r!==n&&Af.Set(t,e,n)}o(Yze,"ValueType");function AY(t,e,r,n){if(cr(n))return Vze(t,e,r,n);if(kl(n))return Wze(t,e,r,n);if(rD(n))return Gze(t,e,r,n);if(Nc(n))return Yze(t,e,r,n)}o(AY,"Visit");function Bme(t){return kl(t)||Nc(t)}o(Bme,"IsNonMutableValue");function $ze(t,e){return rD(t)&&cr(e)||cr(t)&&rD(e)}o($ze,"IsMismatchedValue");function Rme(t,e){if(Bme(t)||Bme(e))throw new nD("Only object and array types can be mutated at the root level");if($ze(t,e))throw new nD("Cannot assign due type mismatch of assignable values");AY(t,"",t,e)}o(Rme,"Mutate");u();var iD=class extends lr{static{o(this,"ParseError")}constructor(e){super(e)}},pY;(function(t){let e=new Map([["Assert",(s,a,c)=>(Wk(s,a,c),c)],["Cast",(s,a,c)=>x3(s,a,c)],["Clean",(s,a,c)=>$k(s,a,c)],["Clone",(s,a,c)=>Vn(c)],["Convert",(s,a,c)=>jk(s,a,c)],["Decode",(s,a,c)=>QA(s,a)?Ab(s,a,c):c],["Default",(s,a,c)=>Kk(s,a,c)],["Encode",(s,a,c)=>QA(s,a)?mb(s,a,c):c]]);function r(s){e.delete(s)}o(r,"Delete"),t.Delete=r;function n(s,a){e.set(s,a)}o(n,"Set"),t.Set=n;function i(s){return e.get(s)}o(i,"Get"),t.Get=i})(pY||(pY={}));var kme=["Clone","Clean","Default","Convert","Assert","Decode"];function zze(t,e,r,n){return t.reduce((i,s)=>{let a=pY.Get(s);if(Yi(a))throw new iD(`Unable to find Parse operation '${s}'`);return a(e,r,i)},n)}o(zze,"ParseValue");function Dme(...t){let[e,r,n,i]=t.length===4?[t[0],t[1],t[2],t[3]]:t.length===3?cr(t[0])?[t[0],t[1],[],t[2]]:[kme,t[0],t[1],t[2]]:t.length===2?[kme,t[0],[],t[1]]:(()=>{throw new iD("Invalid Arguments")})();return zze(e,r,n,i)}o(Dme,"Parse");u();var Ug={};Eo(Ug,{Assert:()=>Wk,Cast:()=>x3,Check:()=>an,Clean:()=>$k,Clone:()=>Vn,Convert:()=>jk,Create:()=>Zl,Decode:()=>Eme,Default:()=>Kk,Diff:()=>_me,Edit:()=>bme,Encode:()=>wme,Equal:()=>tE,Errors:()=>Wd,Hash:()=>Lg,Mutate:()=>Rme,Parse:()=>Dme,Patch:()=>Sme,ValueErrorIterator:()=>Og});u();var jze="gpt-4o-copilot",rE=class t{constructor(e,r=!0){this._ctx=e;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&Ia(this._ctx,n=>this.refreshAvailableModels(n))}static{o(this,"AvailableModelsManager")}async refreshAvailableModels(e){await this.refreshModels(e);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(e){this.onModelsFetchedCallbacks.push(e)}getDefaultModelId(){if(this.fetchedModelData){let e=t.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(e)return e.id}return jze}parseModelsResponse(e){try{return Ug.Parse(Wpe,e)}catch(r){Fo.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(e){let r=await this.fetchModels(e);r&&(this.fetchedModelData=r)}async fetchModels(e){return this.customModels=e.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=e.getTokenValue("editor_preview_features")=="0",await this.fetch(e)}async fetch(e){let r=await VW(this._ctx,"/models",e);return r.ok?this.parseModelsResponse(await r.json())?.data??[]:(Fo.error(this._ctx,"Failed to fetch models from CAPI",{status:r.status,statusText:r.statusText}),null)}getGenericCompletionModels(){let e=t.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return t.mapCompletionModels(e)}getTokenizerForModel(e){let n=this.getGenericCompletionModels().find(i=>i.modelId===e);return n?n.tokenizer:"o200k_base"}static filterCompletionModels(e,r){return e.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static filterModelsWithEditorPreviewFeatures(e,r){return e.filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(e){return e.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview,tokenizer:r.capabilities.tokenizer}))}getCurrentModelRequestInfo(e=void 0){let r=this.getDefaultModelId(),n=Ype(this._ctx);if(n){let c=this.getGenericCompletionModels().map(l=>l.modelId);c.includes(n)||(c.length>0&&Fo.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${c.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let i=rs(this._ctx,Pt.DebugOverrideEngine)||rs(this._ctx,Pt.DebugOverrideEngineLegacy);if(i)return new Hg(i,"override");let s=e?this._ctx.get(Sr).customEngine(e):"",a=e?this._ctx.get(Sr).customEngineTargetEngine(e):void 0;return n?s&&a&&n===a?new Hg(s,"exp"):new Hg(n,"modelpicker"):s?new Hg(s,"exp"):this.customModels.length>0?new Hg(this.customModels[0],"custommodel"):new Hg(r,"default")}},Hg=class{constructor(e,r){this.modelId=e;this.modelChoiceSource=r}static{o(this,"ModelRequestInfo")}get headers(){return{}}};function S3(t,e=void 0){let r=t.get(rE),n=r.getCurrentModelRequestInfo(e),i=r.getTokenizerForModel(n.modelId);return{headers:n.headers,modelId:n.modelId,engineChoiceSource:n.modelChoiceSource,tokenizer:i}}o(S3,"getEngineRequestInfo");u();u();var na=class{static{o(this,"FileSystem")}};var Kme=yt(jme());function Jme(t){if(t===void 0||t===0)return"";let e=w3(t);if(e==="github/github")return e;let r=Ije(t)?.toLowerCase();return r!==void 0?r:""}o(Jme,"getDogFood");function w3(t){if(t!==void 0&&t!==0&&t.hostname==="github.com")return t.owner+"/"+t.repo}o(w3,"tryGetGitHubNWO");function Ije(t){if(t!==void 0&&t!==0&&(t.hostname.endsWith("azure.com")||t.hostname.endsWith("visualstudio.com")))return t.owner+"/"+t.repo}o(Ije,"tryGetADONWO");function CY(t,e){let r=uA(e);return xje(t,r)}o(CY,"extractRepoInfoInBackground");var xje=Sje(bje,1e4);async function bje(t,e){let r=N0e(e);if(!r)return;let n=await Tje(t,r);if(!n)return;let i=t.get(na),s=zs(n,".git","config"),a;try{a=await i.readFileString(s)}catch{return}let c=_je(a)??"",l=vje(c),f={uri:n};return l===void 0?{baseFolder:f,url:c,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:f,url:c,...l}}o(bje,"extractRepoInfo");function vje(t){let e;try{if(e=(0,Kme.default)(t),e.resource==""||e.owner==""||e.name==""||e.pathname=="")return}catch{return}return{hostname:e.resource,owner:e.owner,repo:e.name,pathname:e.pathname}}o(vje,"parseRepoUrl");async function Tje(t,e){let r=e+"_add_to_make_longer",n=t.get(na);for(;e!=="file:///"&&e.length<r.length;){let i=zs(e,".git","config"),s=!1;try{await n.stat(i),s=!0}catch{s=!1}if(s)return e;r=e,e=uA(e)}}o(Tje,"getRepoBaseUri");function _je(t){let e=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,s,a,c=!1;for(let l of t.split(`
`))if(c&&s!==void 0){if(s+=l,l.endsWith("\\"))s=s.substring(0,s.length-1);else if(c=!1,a==="origin")return s}else{let f=l.match(e)??l.match(r);if(f)a=f[1];else if(l.match(i))a=void 0;else{if(s&&a!=="origin")continue;{let d=l.match(n);if(d){if(s=d[1],s.endsWith("\\"))s=s.substring(0,s.length-1),c=!0;else if(a==="origin")return s}}}}return s}o(_je,"getRepoUrlFromConfigText");var yY=class{static{o(this,"CompletedComputation")}constructor(e){this.result=e}};function Sje(t,e){let r=new $r(e),n=new Set;return(i,...s)=>{let a=JSON.stringify(s),c=r.get(a);if(c)return c.result;if(n.has(a))return 0;let l=t(i,...s);return n.add(a),l.then(f=>{r.set(a,new yY(f)),n.delete(a)}),0}}o(Sje,"computeInBackgroundAndMemoize");u();var B3=500,Xme=8192-B3,Zme=4,oD=10,ege=1e3*5,sD={prefix:35,suffix:15,stableContext:35,volatileContext:15},wje={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function R3(t){return t=t.toLowerCase(),wje[t]??t}o(R3,"normalizeLanguageId");var EY=class{constructor(e){this.ctx=e;this.cache=new $r(200)}static{o(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(e,r){let n=e.stringify()+`
`+JSON.stringify(r),i=this.cache.get(n);return i||(i=new IY(()=>this.ctx.get(eC).fetchExperiments(this.ctx,r,e.toHeaders()),1e3*60*60),this.cache.set(n,i)),i.run()}getCachedExpConfig(e){return this.cache.get(e.stringify())?.value()}},IY=class{constructor(e,r=1/0){this.producer=e;this.expirationMs=r}static{o(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(e){try{this.result=await e}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function Rje(t){return"uri"in t}o(Rje,"isCompletionsFiltersInfo");var Sr=class t{constructor(e){this.ctx=e;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new EY(this.ctx)}static{o(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(e){Object.assign(this.staticFilters,e)}registerDynamicFilter(e,r){this.dynamicFilters[e]=r}registerDynamicFilterGroup(e){this.dynamicFilterGroups.push(e)}getDynamicFilterValues(){let e={};for(let r of this.dynamicFilterGroups)Object.assign(e,r());for(let[r,n]of Object.entries(this.dynamicFilters))e[r]=n();return e}registerUpcomingDynamicFilter(e,r){this.upcomingDynamicFilters[e]=r}async updateExPValuesAndAssignments(e,r=nn.createAndMarkAsIssued(),n=void 0){if(r instanceof k3)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let i=e&&Rje(e)?CY(this.ctx,e.uri):void 0,s=w3(i)??"",a=Jme(i)??"",c=e?.languageId??"",l=S3(this.ctx).modelId;n??=await this.ctx.get(vo).getToken();let f=Aae(n),d=n.getTokenValue("ft")??"",h=n.getTokenValue("ol")??"",A=n.getTokenValue("cml")??"",m=n.getTokenValue("tid")??"",y=n.endpoints,x={"X-Copilot-Repository":s,"X-Copilot-FileType":c,"X-Copilot-UserKind":f,"X-Copilot-Dogfood":a,"X-Copilot-Engine":l,"X-Copilot-CustomModel":d,"X-Copilot-Orgs":h,"X-Copilot-CustomModelNames":A,"X-Copilot-CopilotTrackingId":m},_=this.getGranularityDirectory(),T=this.makeFilterSettings(x),S=_.extendFilters(T),k=await this.getExpConfig(S.newFilterSettings,y);_.update(T,+(k.variables.copilotbycallbuckets??NaN),+(k.variables.copilottimeperiodsizeinh??NaN));let N=_.extendFilters(T),P=N.newFilterSettings,L=await this.getExpConfig(P,y),Y=new Promise(te=>setTimeout(te,t.upcomingDynamicFilterCheckDelayMs));for(let te of N.otherFilterSettingsToPrefetch)Y=Y.then(async()=>{await new Promise(ne=>setTimeout(ne,t.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(te,y)});return this.prepareForUpcomingFilters(P,y),new k3(r.properties,r.measurements,r.issuedTime,{filters:P,exp:L})}getGranularityDirectory(){if(!this.granularityDirectory){let e=this.ctx.get($s).machineId;this.granularityDirectory=new J9(e,this.ctx.get(Zy))}return this.granularityDirectory}makeFilterSettings(e){return new tC({...this.staticFilters,...this.getDynamicFilterValues(),...e})}async getExpConfig(e,r){try{return this.assignments.fetchExpConfig(e,r)}catch(n){return rf.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(n)}`)}}async prepareForUpcomingFilters(e,r){if(!(new Date().getMinutes()<60-t.upcomingTimeBucketMinutes))for(let[n,i]of Object.entries(this.upcomingDynamicFilters))await new Promise(s=>setTimeout(s,t.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(e.withChange(n,i()),r)}stringify(){let e=this.assignments.getCachedExpConfig(new tC({}));return JSON.stringify(e?.variables??{})}async getFallbackExpAndFilters(){let e=this.makeFilterSettings({}),r=G9(this.ctx),n=await this.getExpConfig(e,r);return{filters:e,exp:n}}disableLogProb(e){return e.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(e){return e.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}customEngine(e){return e.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(e){return e.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(e){return e.filtersAndExp.exp.variables.CopilotSuffixPercent??sD.suffix}suffixMatchThreshold(e){return e.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??oD}cppHeadersEnableSwitch(e){return e.filtersAndExp.exp.variables.copilotcppheadersenableswitch??!1}relatedFilesVSCodeCSharp(e){return e.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(e){return e.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}relatedFilesVSCode(e){return e.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}contextProviders(e){let r=e.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}contextProviderTimeBudget(e){return e.filtersAndExp.exp.variables.copilotcontextprovidertimebudget??150}includeNeighboringFiles(e){return e.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}excludeRelatedFiles(e){return e.filtersAndExp.exp.variables.copilotexcluderelatedfiles??!1}maxPromptCompletionTokens(e){return e.filtersAndExp.exp.variables.maxpromptcompletionTokens??Xme+B3}ideChatMaxRequestTokens(e){return e.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(e){return e.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(e){return e.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}workspaceContextCoordinator(e){return e.filtersAndExp.exp.variables.copilotworkspacecontextcoordinator??!1}workspaceContextCacheTime(e){return e.filtersAndExp.exp.variables.copilotworkspacecontextcachetime??ege}stableContextPercent(e){return e.filtersAndExp.exp.variables.copilotstablecontextpercent??sD.stableContext}volatileContextPercent(e){return e.filtersAndExp.exp.variables.copilotvolatilecontextpercent??sD.volatileContext}cppContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotcppContextProviderParams}csharpContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotcsharpcontextproviderparams}javaContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotjavacontextproviderparams}multiLanguageContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotmultilanguagecontextproviderparams}tsContextProviderParams(e){return e.filtersAndExp.exp.variables.copilottscontextproviderparams}completionsDebounce(e){return e.filtersAndExp.exp.variables.copilotcompletionsdebounce}enableElectronFetcher(e){return e.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(e){return e.filtersAndExp.exp.variables.copilotasynccompletionstimeout??200}enablePromptContextProxyField(e){return e.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(e){return e.filtersAndExp.exp.variables.copilotprogressivereveal??!1}modelAlwaysTerminatesSingleline(e){return e.filtersAndExp.exp.variables.copilotmodelterminatesingleline??!0}longLookaheadSize(e){return e.filtersAndExp.exp.variables.copilotprogressivereveallonglookaheadsize??9}shortLookaheadSize(e){return e.filtersAndExp.exp.variables.copilotprogressiverevealshortlookaheadsize??3}maxMultilineTokens(e){return e.filtersAndExp.exp.variables.copilotmaxmultilinetokens??200}multilineAfterAcceptLines(e){return e.filtersAndExp.exp.variables.copilotmultilineafteracceptlines??1}enableNESXTab(e){return e.filtersAndExp.exp.variables.copilotnesxtab??!1}getNESXTabModelID(e){return e.filtersAndExp.exp.variables.copilotnesxtabmodelid??"copilot-nes-xtab"}completionsDelay(e){return e.filtersAndExp.exp.variables.copilotcompletionsdelay??200}singleLineUnlessAccepted(e){return e.filtersAndExp.exp.variables.copilotsinglelineunlessaccepted??!1}};u();u();u();var aD=yt(tge());var bY={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java",php:"php",c:"cpp",cpp:"cpp"};function D3(t){return t in bY&&t!=="csharp"&&t!=="java"&&t!=="php"&&t!=="c"&&t!=="cpp"}o(D3,"isSupportedLanguageId");function rge(t){if(!(t in bY))throw new Error(`Unrecognized language: ${t}`);return bY[t]}o(rge,"languageIdToWasmLanguage");var xY=new Map;async function kje(t){let e;try{e=await Mk(`tree-sitter-${t}.wasm`)}catch(r){throw r instanceof Error&&"code"in r&&typeof r.code=="string"&&r.name==="Error"?new lb(`Could not load tree-sitter-${t}.wasm`,r):r}return aD.default.Language.load(e)}o(kje,"loadWasmLanguage");function Dje(t){let e=rge(t);if(!xY.has(e)){let r=kje(e);xY.set(e,r)}return xY.get(e)}o(Dje,"getLanguage");var vY=class extends Error{static{o(this,"WrappedError")}constructor(e,r){super(e,{cause:r})}};async function nE(t,e){await aD.default.init({locateFile:o(s=>WW(s),"locateFile")});let r;try{r=new aD.default}catch(s){throw s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"&&s.message.includes("table index is out of bounds")?new vY(`Could not init Parse for language <${t}>`,s):s}let n=await Dje(t);r.setLanguage(n);let i=r.parse(e);return r.delete(),i}o(nE,"parseTreeSitter");function Nje(t,e){let r=[];for(let n of t){if(!n[1]){let i=e.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(e))}return r}o(Nje,"innerQuery");var Qje=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function nge(t){return Nje([Qje],t).length==1}o(nge,"queryPythonIsDocstring");var Yd=class{constructor(e){this.node=e;this.children=[];this.collapsed=!1}static{o(this,"StatementNode")}addChild(e){e.parent=this,e.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=e),this.children.push(e)}childrenFinished(){}containsStatement(e){return this.node.startIndex<=e.node.startIndex&&this.node.endIndex>=e.node.endIndex}statementAt(e){if(this.node.startIndex>e||this.node.endIndex<e)return;let r;return this.children.find(n=>(r=n.statementAt(e),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(e="",r=""){let n=[`${e}${this.description}`];return this.children.forEach(i=>{n.push(i.dump(`${r}+- `,i.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(e="",r="",n=!1){if(this.parent){let i=this.parent.dumpPath(e,r,!0),s=i.length-i.lastIndexOf(`
`)-1-r.length,a=" ".repeat(s),c=n?`
${r}${a}+- `:"";return i+this.description+c}else{let i=n?`
${r}+- `:"";return e+this.description+i}}},Za=class{constructor(e,r,n,i){this.languageId=e;this.text=r;this.startOffset=n;this.endOffset=i;this.statements=[]}static{o(this,"StatementTree")}static isSupported(e){return gb.languageIds.has(e)||N3.languageIds.has(e)||yb.languageIds.has(e)||Q3.languageIds.has(e)||P3.languageIds.has(e)||F3.languageIds.has(e)||M3.languageIds.has(e)||L3.languageIds.has(e)}static isTrimmedByDefault(e){return gb.languageIds.has(e)||yb.languageIds.has(e)}static create(e,r,n,i){if(gb.languageIds.has(e))return new gb(e,r,n,i);if(N3.languageIds.has(e))return new N3(e,r,n,i);if(yb.languageIds.has(e))return new yb(e,r,n,i);if(F3.languageIds.has(e))return new F3(e,r,n,i);if(Q3.languageIds.has(e))return new Q3(e,r,n,i);if(P3.languageIds.has(e))return new P3(e,r,n,i);if(M3.languageIds.has(e))return new M3(e,r,n,i);if(L3.languageIds.has(e))return new L3(e,r,n,i);throw new Error(`Unsupported languageId: ${e}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(e){let r;return this.statements.find(n=>(r=n.statementAt(e),r!==void 0)),r}async build(){let e=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,this.offsetToPosition(this.startOffset),this.offsetToPosition(this.endOffset)).forEach(i=>{let s=this.createNode(i.node);for(;e.length>0&&!e[0].containsStatement(s);)e.shift()?.childrenFinished();e.length>0?e[0].addChild(s):this.addStatement(s),e.unshift(s)}),e.forEach(i=>i.childrenFinished())}addStatement(e){e.parent=void 0,e.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=e),this.statements.push(e)}async parse(){return this.tree||(this.tree=await nE(this.languageId,this.text)),this.tree}getStatementQuery(e){return this.getQuery(e.getLanguage(),this.getStatementQueryText())}getQuery(e,r){return e.query(r)}offsetToPosition(e){let r=this.text.slice(0,e).split(`
`),n=r.length-1,i=r[r.length-1].length;return{row:n,column:i}}dump(e=""){let r=[];return this.statements.forEach((n,i)=>{let s=`[${i}]`,a=" ".repeat(s.length);r.push(n.dump(`${e} ${s} `,`${e} ${a} `))}),r.join(`
`)}},TY=class t extends Yd{static{o(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("else")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},gb=class extends Za{static{o(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx","typescript","typescriptreact"])}createNode(e){return new TY(e)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},_Y=class t extends Yd{static{o(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},N3=class extends Za{static{o(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(e){return new _Y(e)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},SY=class t extends Yd{static{o(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}},yb=class extends Za{static{o(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(e){return new SY(e)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}},wY=class t extends Yd{static{o(this,"PhpStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","else_clause","else_if_clause","for_statement","foreach_statement","while_statement","do_statement","switch_statement","try_statement","catch_clause","finally_clause","anonymous_function","compound_statement"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}},Q3=class extends Za{static{o(this,"PhpStatementTree")}static{this.languageIds=new Set(["php"])}createNode(e){return new wY(e)}getStatementQueryText(){return`[
            (statement)
            (compound_statement)
            (method_declaration)
            (property_declaration)
            (const_declaration)
            (use_declaration)
        ] @statement`}},BY=class t extends Yd{static{o(this,"RubyStatementNode")}static{this.compoundTypeNames=new Set(["if","case","while","until","for","begin","module","class","method"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}},P3=class extends Za{static{o(this,"RubyStatementTree")}static{this.languageIds=new Set(["ruby"])}createNode(e){return new BY(e)}getStatementQueryText(){return`[
            (_statement)
            (when)
        ] @statement`}},RY=class t extends Yd{static{o(this,"JavaStatementNode")}static{this.compoundTypeNames=new Set(["block","do_statement","enhanced_for_statement","for_statement","if_statement","labeled_statement","switch_expression","synchronized_statement","try_statement","try_with_resources_statement","while_statement","interface_declaration","method_declaration","constructor_declaration","compact_constructor_declaration","class_declaration","annotation_type_declaration","static_initializer"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},F3=class extends Za{static{o(this,"JavaStatementTree")}static{this.languageIds=new Set(["java"])}createNode(e){return new RY(e)}getStatementQueryText(){return`[
            (statement)
            (field_declaration)
            (record_declaration)
            (method_declaration)
            (compact_constructor_declaration)
            (class_declaration)
            (interface_declaration)
            (annotation_type_declaration)
            (enum_declaration)
            (block)
            (static_initializer)
            (constructor_declaration)
            ] @statement`}},kY=class t extends Yd{static{o(this,"CSharpStatementNode")}static{this.compoundTypeNames=new Set(["block","checked_statement","class_declaration","constructor_declaration","destructor_declaration","do_statement","fixed_statement","for_statement","foreach_statement","if_statement","interface_declaration","lock_statement","method_declaration","struct_declaration","switch_statement","try_statement","unsafe_statement","while_statement"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},M3=class extends Za{static{o(this,"CSharpStatementTree")}static{this.languageIds=new Set(["csharp"])}createNode(e){return new kY(e)}getStatementQueryText(){return`[
            (extern_alias_directive)
            (using_directive)
            (global_attribute)
            (preproc_if)
            (namespace_declaration)
            (file_scoped_namespace_declaration)
            (statement)
            (type_declaration)
            (declaration)
            (accessor_declaration)
            (block)
        ] @statement`}},DY=class t extends Yd{static{o(this,"CStatementNode")}static{this.compoundTypeNames=new Set(["declaration","function_definition","enum_specifier","field_declaration_list","type_definition","compound_statement","if_statement","switch_statement","while_statement","for_statement","do_statement","preproc_if","preproc_ifdef","namespace_definition","class_specifier","field_declaration_list","concept_definition","template_declaration"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){(this.isSingleLineDeclarationStatement()||this.isSingleLineConceptDefinition())&&this.collapse()}isSingleLineDeclarationStatement(){return!(this.node.type!=="declaration"||this.node.startPosition.row!==this.node.endPosition.row)}isSingleLineConceptDefinition(){return!(this.node.type!=="concept_definition"||this.node.startPosition.row!==this.node.endPosition.row)}},L3=class extends Za{static{o(this,"CStatementTree")}static{this.languageIds=new Set(["c","cpp"])}createNode(e){return new DY(e)}getStatementQueryText(){return`[
            (declaration)
            (function_definition)
            (type_definition)
            (field_declaration)
            (enum_specifier)
            (return_statement)
            (compound_statement)
            (if_statement)
            (expression_statement)
            (switch_statement)
            (break_statement)
            (case_statement)
            (while_statement)
            (for_statement)
            (do_statement)
            (goto_statement)
            (labeled_statement)
            (preproc_if)
            (preproc_def)
            (preproc_ifdef)
            (preproc_include)
            (preproc_call)
            (preproc_function_def)
            (continue_statement)

            ;C++ specific:
            (namespace_definition)
            (class_specifier)
            (field_declaration_list)
            (field_declaration)
            (concept_definition)
            (compound_requirement)
            (template_declaration)
            (using_declaration)
            (alias_declaration)
            (static_assert_declaration)
        ] @statement`}};var O3=class{constructor(e,r,n){this.languageId=e;this.prefix=r;this.completion=n}static{o(this,"BlockTrimmer")}static isSupported(e){return Za.isSupported(e)}static isTrimmedByDefault(e){return Za.isTrimmedByDefault(e)}async withParsedStatementTree(e){var n=[];try{let r=lte(n,Za.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await e(r)}catch(i){var s=i,a=!0}finally{ute(n,s,a)}}trimmedCompletion(e){return e===void 0?this.completion:this.completion.substring(0,e)}getStatementAtCursor(e){return e.statementAt(Math.max(this.prefix.length-1,0))??e.statements[0]}getContainingBlockOffset(e){let r;if(e&&this.isCompoundStatement(e))r=e;else if(e){let n=e.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(e){if(!e||!e.nextSibling)return!1;let r=this.asCompletionOffset(e.node.endIndex),n=this.asCompletionOffset(e.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(e){return e===void 0?void 0:e-this.prefix.length}isCompoundStatement(e){return e.isCompoundStatementType||e.children.length>0}};u();var E2r=J.Object({proxy:J.Optional(J.String()),proxyStrictSSL:J.Optional(J.Boolean()),proxyAuthorization:J.Optional(J.String()),proxyKerberosServicePrincipal:J.Optional(J.String())});u();var ige=yt(Ea());var U3=class extends ige.Emitter{static{o(this,"Emitter")}get event(){return super.event}};var Cb={};Eo(Cb,{activationEvents:()=>eKe,badges:()=>Zje,browser:()=>tKe,bugs:()=>Wje,build:()=>Oje,buildType:()=>Uje,categories:()=>Jje,contributes:()=>NY,default:()=>cKe,dependencies:()=>sKe,description:()=>Mje,devDependencies:()=>oKe,displayName:()=>Fje,enabledApiProposals:()=>nKe,engines:()=>Kje,extensionPack:()=>jje,homepage:()=>Gje,icon:()=>$je,keywords:()=>Xje,license:()=>Vje,main:()=>rKe,name:()=>Pje,overrides:()=>aKe,preview:()=>qje,pricing:()=>zje,publisher:()=>Hje,qna:()=>Yje,scripts:()=>iKe,version:()=>Lje});var Pje="copilot",Fje="GitHub Copilot",Mje="Your AI pair programmer",Lje="1.364.0",Oje="1765",Uje="prod",Hje="GitHub",qje=!1,Gje="https://github.com/features/copilot?editor=vscode",Vje="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",Wje={url:"https://github.com/microsoft/vscode/issues"},Yje="https://github.com/github-community/community/discussions/categories/copilot",$je="assets/Copilot-App-Icon.png",zje="Trial",jje=["GitHub.copilot-chat","GitHub.copilot"],Kje={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},Jje=["AI","Chat","Programming Languages","Machine Learning"],Xje=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],Zje=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],eKe=["onStartupFinished"],tKe="./dist/web",rKe="./dist/extension",nKe=["inlineCompletionsAdditions"],NY={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated && !isWeb",category:"GitHub Copilot"},{command:"github.copilot.generateComparison",title:"Open Comparison Panel",enablement:"github.copilot.activated && !isWeb && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.acceptCursorComparisonPanelSolution",title:"Accept Comparison Panel Suggestion at the Cursor",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.previousComparisonPanelSolution",title:"Navigate to the Previous Comparison Panel Suggestion",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.nextComparisonPanelSolution",title:"Navigate to the Next Comparison Panel Suggestion",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.sendCompletionFeedback",title:"Send Copilot Completion Feedback",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github-copilot-completions-debugger-view.refresh",title:"Refresh",icon:"$(refresh)"}],keybindings:[{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.acceptCursorComparisonPanelSolution",key:"ctrl+shift+/",mac:"ctrl+shift+/",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"github.copilot.previousComparisonPanelSolution",key:"alt+shift+[",mac:"alt+shift+[",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"github.copilot.nextComparisonPanelSolution",key:"alt+shift+]",mac:"alt+shift+]",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completions Model"__ command or open the model picker (from the Copilot menu in the VS Code title bar, select __"Configure Code Completions"__ then __"Change Completions Model"__. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"window",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable auto triggering of Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers). You can still trigger suggestions manually using `Alt + \\`"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}],viewsContainers:{activitybar:[{id:"github-copilot-completions-debugger-panel",title:"Debugger",icon:"$(bug)",when:"config.github.copilot.internal.showWorkspaceContextDebugger && config.github.copilot.internal.useWorkspaceContextCoordinator"}]},views:{"github-copilot-completions-debugger-panel":[{id:"github-copilot-completions-debugger-view",name:"Debugger",when:"config.github.copilot.internal.showWorkspaceContextDebugger && config.github.copilot.internal.useWorkspaceContextCoordinator",icon:"$(bug)"}]},menus:{"view/title":[{command:"github-copilot-completions-debugger-view.refresh",when:"view == github-copilot-completions-debugger-view",group:"navigation"}]}},iKe={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/deviceFlow.ts --save-as-test-token",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":'mocha "prompt/test/**/*.test.{ts,tsx}"',"test:prepare-msbench":"tsx script/setupMsbench.ts","test:run-msbench":"tsx lsp-client/test/msbench/agent/index.ts","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},oKe={"@azure/identity":"^4.11.0","@azure/keyvault-secrets":"^4.10.0","@datadog/datadog-ci":"^3.17.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.1","@parcel/watcher":"^2.5.1","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^8.0.0","@types/git-url-parse":"^16.0.0","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.16.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.5.2","@vscode/vsce":"^3.6.0","@yao-pkg/pkg":"^6.6.0",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^17.0.1",electron:"^28.1.4",esbuild:"^0.25.8","esbuild-plugin-copy":"^2.1.1",eslint:"^9.32.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",glob:"^11.0.3",globals:"^16.3.0","js-yaml":"^4.1.0",mocha:"^11.2.2","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.2.0",proxy:"^2.1.1","simple-git":"^3.28.0",sinon:"^20.0.0","ts-dedent":"^2.2.0",tsx:"^4.19.4",typescript:"^5.9.2","typescript-eslint":"^8.39.1","vscode-dts":"^0.3.3"},sKe={"@adobe/helix-fetch":"github:devm33/helix-fetch#2a08fa939591a0e14f34f611adcc3ed767579e9a","@anthropic-ai/sdk":"^0.56.0","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.9","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.10","@modelcontextprotocol/sdk":"^1.17.0","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.39","@vscode/prompt-tsx":"0.4.0-alpha.1","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^8.0.2",dldr:"^0.0.10",events:"^3.3.0","get-stream":"^6.0.1","git-url-parse":"^16.0.3",kerberos:"^2.2.0","mac-ca":"^3.1.3",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.2.0","os-browserify":"^0.3.0","path-browserify":"^1.0.1",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.2.2",yargs:"^17.7.2"},aKe={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},cKe={name:Pje,displayName:Fje,description:Mje,version:Lje,build:Oje,buildType:Uje,publisher:Hje,preview:qje,homepage:Gje,license:Vje,bugs:Wje,qna:Yje,icon:$je,pricing:zje,extensionPack:jje,engines:Kje,categories:Jje,keywords:Xje,badges:Zje,activationEvents:eKe,browser:tKe,main:rKe,enabledApiProposals:nKe,contributes:NY,scripts:iKe,devDependencies:oKe,dependencies:sKe,overrides:aKe};var Pt={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",ToolConfirmAutoApprove:"agent.toolConfirmAutoApprove",MaxToolCallingLoop:"agent.maxToolCallingLoop",CompletionsDelay:"completionsDelay",CompletionsDebounce:"completionsDebounce",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",ModelAlwaysTerminatesSingleline:"internal.modelAlwaysTerminatesSingleline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",UseWorkspaceContextCoordinator:"internal.useWorkspaceContextCoordinator",ShowWorkspaceContextDebugger:"internal.showWorkspaceContextDebugger",IncludeNeighboringFiles:"internal.includeNeighboringFiles",ExcludeRelatedFiles:"internal.excludeRelatedFiles",DebugOverrideCppHeadersEnableSwitch:"internal.cppHeadersEnableSwitch",NESXTab:"internal.useXTab",UseSplitContextPrompt:"internal.useSplitContextPrompt",UseCompletionsComparisonPanel:"internal.useCompletionsComparisonPanel",ComparisonPanelModelIds:"internal.comparisonPanelModelIds",ComparisonPanelRandomizedMode:"internal.comparisonPanelRandomizedMode"};var Ib=class{static{o(this,"BlockModeConfig")}},cD=class extends Ib{static{o(this,"ConfigBlockModeConfig")}forLanguage(e,r,n){let i=e.get(Sr).overrideBlockMode(n);if(i)return QY(i,r);let s=e.get(Sr).enableProgressiveReveal(n);return(rs(e,Pt.AlwaysRequestMultiline)??s)||O3.isTrimmedByDefault(r)?QY("moremultiline",r):r=="ruby"?"parsing":D3(r)?"parsingandserver":"server"}};function lKe(t){return["parsing","parsingandserver","moremultiline"].includes(t)}o(lKe,"blockModeRequiresTreeSitter");function QY(t,e){return t==="moremultiline"&&Za.isSupported(e)?t:lKe(t)&&!D3(e)?"server":t}o(QY,"toApplicableBlockMode");var Z0=class{static{o(this,"ConfigProvider")}requireReady(){return Promise.resolve()}},lD=class extends Z0{constructor(){super(...arguments);this.onDidChangeCopilotSettings=o(()=>({dispose:o(()=>{},"dispose")}),"onDidChangeCopilotSettings");this.onDidChangeHttpSettings=this.onDidChangeCopilotSettings}static{o(this,"DefaultsOnlyConfigProvider")}getConfig(r){return fKe(r)}getOptionalConfig(r){return dKe(r)}dumpForTelemetry(){return{}}getHttpSettings(){return{proxy:""}}};function uKe(t){return t?.type==="object"&&"properties"in t}o(uKe,"isContributesObject");function fKe(t){if(Eb.has(t))return Eb.get(t);throw new Error(`Missing config default value: ${qT}.${t}`)}o(fKe,"getConfigDefaultForKey");function dKe(t){return Eb.get(t)}o(dKe,"getOptionalConfigDefaultForKey");var Eb=new Map([[Pt.DebugOverrideCppHeadersEnableSwitch,!1],[Pt.RelatedFilesVSCodeCSharp,!1],[Pt.RelatedFilesVSCodeTypeScript,!1],[Pt.RelatedFilesVSCode,!1],[Pt.IncludeNeighboringFiles,!1],[Pt.ExcludeRelatedFiles,!1],[Pt.ContextProviders,[]],[Pt.DebugUseEditorFetcher,null],[Pt.DebugUseElectronFetcher,null],[Pt.DebugOverrideLogLevels,{}],[Pt.DebugSnippyOverrideUrl,""],[Pt.FetchStrategy,"auto"],[Pt.ToolConfirmAutoApprove,!1],[Pt.MaxToolCallingLoop,25],[Pt.UseSubsetMatching,null],[Pt.ContextProviderTimeBudget,void 0],[Pt.DebugOverrideCapiUrl,""],[Pt.DebugTestOverrideCapiUrl,""],[Pt.DebugOverrideProxyUrl,""],[Pt.DebugTestOverrideProxyUrl,""],[Pt.DebugOverrideEngine,""],[Pt.AlwaysRequestMultiline,void 0],[Pt.ModelAlwaysTerminatesSingleline,void 0],[Pt.TrimCompletionsAggressively,void 0],[Pt.CompletionsDebounce,void 0],[Pt.NESXTab,void 0],[Pt.UseWorkspaceContextCoordinator,void 0],[Pt.ShowWorkspaceContextDebugger,!1],[Pt.CompletionsDelay,void 0],[Pt.UseSplitContextPrompt,void 0],[Pt.UseCompletionsComparisonPanel,!1],[Pt.ComparisonPanelModelIds,["gpt-4o-copilot","chat-v6"]],[Pt.ComparisonPanelRandomizedMode,!1],[Pt.ShowEditorCompletions,void 0],[Pt.EnableAutoCompletions,void 0],[Pt.DelayCompletions,void 0],[Pt.FilterCompletions,void 0]]);for(let t of Object.values(Pt)){let e=NY.configuration[0],r=[],n=`${qT}.${t}`.split(".");for(;n.length>0;){r.push(n.shift());let i=e.properties[r.join(".")];if(uKe(i))r.length=0,e=i;else if(n.length==0&&i?.default!==void 0){if(Eb.has(t))throw new Error(`Duplicate config default value ${qT}.${t}`);Eb.set(t,i.default)}}if(!Eb.has(t))throw new Error(`Missing config default value ${qT}.${t}`)}function rs(t,e){return t.get(Z0).getConfig(e)}o(rs,"getConfig");function oge(t){return t.get(Z0).dumpForTelemetry()}o(oge,"dumpForTelemetry");var Ks=class{constructor(){this.packageJson=Cb}static{o(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function SH(t){return t.get(Ks).isProduction()}o(SH,"isProduction");function j0e(t){return t.get(Ks).getBuildType()==="dev"}o(j0e,"isDevBuild");function BH(t){return t.get(Ks).getBuildType()}o(BH,"getBuildType");function sge(t){return t.get(Ks).getBuild()}o(sge,"getBuild");function PY(t){return t.get(Ks).getVersion()}o(PY,"getVersion");var $s=class{constructor(e,r,n="none",i="desktop"){this.sessionId=e;this.machineId=r;this.remoteName=n;this.uiKind=i}static{o(this,"EditorSession")}};function $d({name:t,version:e}){return`${t}/${e}`}o($d,"formatNameAndVersion");var js=class{static{o(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}},X6="2025-05-01";function zy(t){let e=t.get(js);return{"Editor-Version":$d(e.getEditorInfo()),"Editor-Plugin-Version":$d(e.getEditorPluginInfo()),"Copilot-Language-Server-Version":PY(t)}}o(zy,"editorVersionHeaders");var M0e="Iv1.b507a08c87ecfe98";var lx=class{static{o(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??M0e}};u();var uD=yt(y4()),fD=yt(require("os"));var hKe=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function AKe(t){let e={type:t.name,value:t.message},r=t.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(t.toString()+`
`)){e.stacktrace=[];for(let n of r.slice(t.toString().length+1).split(/\n/).reverse()){let i=n.match(hKe),s={filename:"",function:""};i&&(s.function=i[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??s.function,s.filename=(i[4]?.trim()??s.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),i[5]&&i[5]!==":0"&&(s.lineno=i[5].slice(1)),i[6]&&i[5]!==":0"&&(s.colno=i[6].slice(1)),s.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(s.filename)),e.stacktrace.push(s)}}return e}o(AKe,"buildExceptionDetail");function pKe(t,e){let r=t.get(js),n=r.getEditorInfo(),i=t.get(X0),s={"#editor":n.devName??n.name,"#editor_version":$d({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":$d(r.getEditorPluginInfo()),"#session_id":t.get($s).sessionId,"#machine_id":t.get($s).machineId,"#architecture":fD.arch(),"#os_platform":fD.platform(),...e};return i.trackingId&&(s.user=i.trackingId,s["#tracking_id"]=i.trackingId),s}o(pKe,"buildContext");function age(t,e){let r=t.get(Ks),n=t.get(js).getEditorInfo(),i=typeof process<"u"?process.versions.node:"web",s={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:pKe(t,{"#node_version":i}),sensitive_context:{}},a=[];s.exception_detail=[];let c=0,l=e;for(;l instanceof Error&&c<10;){let d=AKe(l);s.exception_detail.unshift(d),a.unshift([l,d]),c+=1,l=l.cause}let f=[];for(let[d,h]of a)if(h.stacktrace&&h.stacktrace.length>0){f.push(`${h.type}: ${d.code??""}`);let A=[...h.stacktrace].reverse();for(let m of A)if(m.filename?.startsWith("/github-copilot/"))return s;for(let m of A)if(m.in_app){f.push(`${m.filename?.replace(/^\.\//,"")}:${m.lineno}:${m.colno}`);break}f.push(`${A[0].filename?.replace(/^\.\//,"")}`)}else return s;return s.exception_detail.length>0&&(s.rollup_id=(0,uD.SHA256)(uD.enc.Utf16.parse(f.join(`
`))).toString()),s}o(age,"buildPayload");u();var H3=class{static{o(this,"FailingTelemetryReporter")}sendTelemetryEvent(e,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(e,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};u();var iE=class{constructor(e=5){this.perTenMinutes=e;this.cache=new $r}static{o(this,"ExceptionRateLimiter")}isThrottled(e){let r=Date.now(),n=this.cache.get(e)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(e,n),!1)}};u();var e0=class{constructor(){this.promises=new Set}static{o(this,"PromiseQueue")}register(e){this.promises.add(e),e.finally(()=>this.promises.delete(e))}async flush(){await Promise.allSettled(this.promises)}};u();var uge=require("os"),fge=yt(require("path"));function q3(t){return t.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(q3,"redactPaths");var gKe=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),yKe=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function MY(t){if(gKe.has(t))return t;for(let e of yKe)if(e.test(t))return t;return q3(t).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(MY,"redactMessage");function dD(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(dD,"escapeForRegExp");var CKe=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+dD((0,uge.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function FY(t){return t.replace(CKe,"~")}o(FY,"redactHomeDir");var dge="[\\\\/]?([^:)]*)(?=:\\d)",cge=new RegExp(dD(fge.sep),"g"),lge=new RegExp(dD(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+dge,"gi");function LY(t,e,r=!1,n=[]){let i=new Error(e(t));i.name=t.name,typeof t.syscall=="string"&&(i.syscall=t.syscall),typeof t.code=="string"&&(i.code=t.code),typeof t.errno=="number"&&(i.errno=t.errno),i.stack=void 0;let s=t.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let c of[t.toString(),`${t.name}: ${t.message}`])if(s?.startsWith(c+`
`)){a=s.slice(c.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let c of a)if(lge.test(c))i.stack+=`
${q3(c.replace(lge,(l,f)=>"./"+f.replace(cge,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(c))i.stack+=`
${q3(c)}`;else{let l=!1;for(let{prefix:f,path:d}of n){let h=new RegExp(dD(d.replace(/[\\/]$/,""))+dge,"gi");if(h.test(c)){i.stack+=`
${q3(c.replace(h,(A,m)=>f+m.replace(cge,"/")))}`,l=!0;break}}if(l)continue;r?i.stack+=`
${FY(c)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&s&&(i.stack=FY(s));return t.cause instanceof Error&&(i.cause=LY(t.cause,e,r,n)),i}o(LY,"cloneError");function hge(t){let e=t.message;return typeof t.path=="string"&&t.path.length>0&&(e=e.replaceAll(t.path,"<path>")),e}o(hge,"errorMessageWithoutPath");function Age(t,e){return LY(t,o(function(n){return FY(hge(n))},"prepareMessage"),!0,e)}o(Age,"prepareErrorForRestrictedTelemetry");function pge(t,e,r=!1){return LY(t,o(function(i){if(r)return MY(hge(i));let s="[redacted]";return typeof i.code=="string"&&(s=i.code+" "+s),typeof i.syscall=="string"?s=q3(i.syscall)+" "+s:"erroredSysCall"in i&&typeof i.erroredSysCall=="string"&&(s=i.erroredSysCall+" "+s),s},"prepareMessage"),!1,e)}o(pge,"redactError");u();var OY=class{static{o(this,"TypeCheck")}constructor(e,r,n,i){this.schema=e,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=QA(e,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(e){return Wd(this.schema,this.references,e)}Check(e){return this.checkFunc(e)}Decode(e){if(!this.checkFunc(e))throw new hb(this.schema,e,this.Errors(e).First());return this.hasTransform?Ab(this.schema,this.references,e):e}Encode(e){let r=this.hasTransform?mb(this.schema,this.references,e):e;if(!this.checkFunc(r))throw new pb(this.schema,e,this.Errors(e).First());return r}},FA;(function(t){function e(s){return s===36}o(e,"DollarSign"),t.DollarSign=e;function r(s){return s===95}o(r,"IsUnderscore"),t.IsUnderscore=r;function n(s){return s>=65&&s<=90||s>=97&&s<=122}o(n,"IsAlpha"),t.IsAlpha=n;function i(s){return s>=48&&s<=57}o(i,"IsNumeric"),t.IsNumeric=i})(FA||(FA={}));var hD;(function(t){function e(s){return s.length===0?!1:FA.IsNumeric(s.charCodeAt(0))}o(e,"IsFirstCharacterNumeric");function r(s){if(e(s))return!1;for(let a=0;a<s.length;a++){let c=s.charCodeAt(a);if(!(FA.IsAlpha(c)||FA.IsNumeric(c)||FA.DollarSign(c)||FA.IsUnderscore(c)))return!1}return!0}o(r,"IsAccessor");function n(s){return s.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function i(s,a){return r(a)?`${s}.${a}`:`${s}['${n(a)}']`}o(i,"Encode"),t.Encode=i})(hD||(hD={}));var UY;(function(t){function e(r){let n=[];for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);FA.IsNumeric(s)||FA.IsAlpha(s)?n.push(r.charAt(i)):n.push(`_${s}_`)}return n.join("").replace(/__/g,"_")}o(e,"Encode"),t.Encode=e})(UY||(UY={}));var HY;(function(t){function e(r){return r.replace(/'/g,"\\'")}o(e,"Escape"),t.Escape=e})(HY||(HY={}));var qY=class extends lr{static{o(this,"TypeCompilerUnknownTypeError")}constructor(e){super("Unknown type"),this.schema=e}},AD=class extends lr{static{o(this,"TypeCompilerTypeGuardError")}constructor(e){super("Preflight validation check failed to guard for the given schema"),this.schema=e}},oE;(function(t){function e(a,c,l){return Ni.ExactOptionalPropertyTypes?`('${c}' in ${a} ? ${l} : true)`:`(${hD.Encode(a,c)} !== undefined ? ${l} : true)`}o(e,"IsExactOptionalProperty"),t.IsExactOptionalProperty=e;function r(a){return Ni.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),t.IsObjectLike=r;function n(a){return Ni.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),t.IsRecordLike=n;function i(a){return Ni.AllowNaN?`typeof ${a} === 'number'`:`Number.isFinite(${a})`}o(i,"IsNumberLike"),t.IsNumberLike=i;function s(a){return Ni.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(s,"IsVoidLike"),t.IsVoidLike=s})(oE||(oE={}));var qg;(function(t){function e(se){return se[Le]==="Any"||se[Le]==="Unknown"}o(e,"IsAnyOrUnknown");function*r(se,Je,me){yield"true"}o(r,"FromAny");function*n(se,Je,me){yield"true"}o(n,"FromArgument");function*i(se,Je,me){yield`Array.isArray(${me})`;let[ut,ot]=[Ct("value","any"),Ct("acc","number")];$t(se.maxItems)&&(yield`${me}.length <= ${se.maxItems}`),$t(se.minItems)&&(yield`${me}.length >= ${se.minItems}`);let We=Ae(se.items,Je,"value");if(yield`${me}.every((${ut}) => ${We})`,zi(se.contains)||$t(se.minContains)||$t(se.maxContains)){let Mr=zi(se.contains)?se.contains:jr(),In=Ae(Mr,Je,"value"),Hr=$t(se.minContains)?[`(count >= ${se.minContains})`]:[],Kt=$t(se.maxContains)?[`(count <= ${se.maxContains})`]:[],mi=`const count = value.reduce((${ot}, ${ut}) => ${In} ? acc + 1 : acc, 0)`,Yo=["(count > 0)",...Hr,...Kt].join(" && ");yield`((${ut}) => { ${mi}; return ${Yo}})(${me})`}se.uniqueItems===!0&&(yield`((${ut}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${me})`)}o(i,"FromArray");function*s(se,Je,me){yield`(typeof value === 'object' && Symbol.asyncIterator in ${me})`}o(s,"FromAsyncIterator");function*a(se,Je,me){yield`(typeof ${me} === 'bigint')`,ga(se.exclusiveMaximum)&&(yield`${me} < BigInt(${se.exclusiveMaximum})`),ga(se.exclusiveMinimum)&&(yield`${me} > BigInt(${se.exclusiveMinimum})`),ga(se.maximum)&&(yield`${me} <= BigInt(${se.maximum})`),ga(se.minimum)&&(yield`${me} >= BigInt(${se.minimum})`),ga(se.multipleOf)&&(yield`(${me} % BigInt(${se.multipleOf})) === 0`)}o(a,"FromBigInt");function*c(se,Je,me){yield`(typeof ${me} === 'boolean')`}o(c,"FromBoolean");function*l(se,Je,me){yield*ie(se.returns,Je,`${me}.prototype`)}o(l,"FromConstructor");function*f(se,Je,me){yield`(${me} instanceof Date) && Number.isFinite(${me}.getTime())`,$t(se.exclusiveMaximumTimestamp)&&(yield`${me}.getTime() < ${se.exclusiveMaximumTimestamp}`),$t(se.exclusiveMinimumTimestamp)&&(yield`${me}.getTime() > ${se.exclusiveMinimumTimestamp}`),$t(se.maximumTimestamp)&&(yield`${me}.getTime() <= ${se.maximumTimestamp}`),$t(se.minimumTimestamp)&&(yield`${me}.getTime() >= ${se.minimumTimestamp}`),$t(se.multipleOfTimestamp)&&(yield`(${me}.getTime() % ${se.multipleOfTimestamp}) === 0`)}o(f,"FromDate");function*d(se,Je,me){yield`(typeof ${me} === 'function')`}o(d,"FromFunction");function*h(se,Je,me){let ut=globalThis.Object.getOwnPropertyNames(se.$defs).reduce((ot,We)=>[...ot,se.$defs[We]],[]);yield*ie(Fl(se.$ref),[...Je,...ut],me)}o(h,"FromImport");function*A(se,Je,me){yield`Number.isInteger(${me})`,$t(se.exclusiveMaximum)&&(yield`${me} < ${se.exclusiveMaximum}`),$t(se.exclusiveMinimum)&&(yield`${me} > ${se.exclusiveMinimum}`),$t(se.maximum)&&(yield`${me} <= ${se.maximum}`),$t(se.minimum)&&(yield`${me} >= ${se.minimum}`),$t(se.multipleOf)&&(yield`(${me} % ${se.multipleOf}) === 0`)}o(A,"FromInteger");function*m(se,Je,me){let ut=se.allOf.map(ot=>Ae(ot,Je,me)).join(" && ");if(se.unevaluatedProperties===!1){let ot=tt(`${new RegExp(nA(se))};`),We=`Object.getOwnPropertyNames(${me}).every(key => ${ot}.test(key))`;yield`(${ut} && ${We})`}else if(zi(se.unevaluatedProperties)){let ot=tt(`${new RegExp(nA(se))};`),We=`Object.getOwnPropertyNames(${me}).every(key => ${ot}.test(key) || ${Ae(se.unevaluatedProperties,Je,`${me}[key]`)})`;yield`(${ut} && ${We})`}else yield`(${ut})`}o(m,"FromIntersect");function*y(se,Je,me){yield`(typeof value === 'object' && Symbol.iterator in ${me})`}o(y,"FromIterator");function*x(se,Je,me){typeof se.const=="number"||typeof se.const=="boolean"?yield`(${me} === ${se.const})`:yield`(${me} === '${HY.Escape(se.const)}')`}o(x,"FromLiteral");function*_(se,Je,me){yield"false"}o(_,"FromNever");function*T(se,Je,me){yield`(!${Ae(se.not,Je,me)})`}o(T,"FromNot");function*S(se,Je,me){yield`(${me} === null)`}o(S,"FromNull");function*k(se,Je,me){yield oE.IsNumberLike(me),$t(se.exclusiveMaximum)&&(yield`${me} < ${se.exclusiveMaximum}`),$t(se.exclusiveMinimum)&&(yield`${me} > ${se.exclusiveMinimum}`),$t(se.maximum)&&(yield`${me} <= ${se.maximum}`),$t(se.minimum)&&(yield`${me} >= ${se.minimum}`),$t(se.multipleOf)&&(yield`(${me} % ${se.multipleOf}) === 0`)}o(k,"FromNumber");function*N(se,Je,me){yield oE.IsObjectLike(me),$t(se.minProperties)&&(yield`Object.getOwnPropertyNames(${me}).length >= ${se.minProperties}`),$t(se.maxProperties)&&(yield`Object.getOwnPropertyNames(${me}).length <= ${se.maxProperties}`);let ut=Object.getOwnPropertyNames(se.properties);for(let ot of ut){let We=hD.Encode(me,ot),Mr=se.properties[ot];if(se.required&&se.required.includes(ot))yield*ie(Mr,Je,We),(iA(Mr)||e(Mr))&&(yield`('${ot}' in ${me})`);else{let In=Ae(Mr,Je,We);yield oE.IsExactOptionalProperty(me,ot,In)}}if(se.additionalProperties===!1)if(se.required&&se.required.length===ut.length)yield`Object.getOwnPropertyNames(${me}).length === ${ut.length}`;else{let ot=`[${ut.map(We=>`'${We}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${me}).every(key => ${ot}.includes(key))`}if(typeof se.additionalProperties=="object"){let ot=Ae(se.additionalProperties,Je,`${me}[key]`),We=`[${ut.map(Mr=>`'${Mr}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${me}).every(key => ${We}.includes(key) || ${ot}))`}}o(N,"FromObject");function*P(se,Je,me){yield`${me} instanceof Promise`}o(P,"FromPromise");function*L(se,Je,me){yield oE.IsRecordLike(me),$t(se.minProperties)&&(yield`Object.getOwnPropertyNames(${me}).length >= ${se.minProperties}`),$t(se.maxProperties)&&(yield`Object.getOwnPropertyNames(${me}).length <= ${se.maxProperties}`);let[ut,ot]=Object.entries(se.patternProperties)[0],We=tt(`${new RegExp(ut)}`),Mr=Ae(ot,Je,"value"),In=zi(se.additionalProperties)?Ae(se.additionalProperties,Je,me):se.additionalProperties===!1?"false":"true",Hr=`(${We}.test(key) ? ${Mr} : ${In})`;yield`(Object.entries(${me}).every(([key, value]) => ${Hr}))`}o(L,"FromRecord");function*Y(se,Je,me){let ut=Gn(se,Je);if(ue.functions.has(se.$ref))return yield`${Ke(se.$ref)}(${me})`;yield*ie(ut,Je,me)}o(Y,"FromRef");function*te(se,Je,me){let ut=tt(`${new RegExp(se.source,se.flags)};`);yield`(typeof ${me} === 'string')`,$t(se.maxLength)&&(yield`${me}.length <= ${se.maxLength}`),$t(se.minLength)&&(yield`${me}.length >= ${se.minLength}`),yield`${ut}.test(${me})`}o(te,"FromRegExp");function*ne(se,Je,me){yield`(typeof ${me} === 'string')`,$t(se.maxLength)&&(yield`${me}.length <= ${se.maxLength}`),$t(se.minLength)&&(yield`${me}.length >= ${se.minLength}`),se.pattern!==void 0&&(yield`${tt(`${new RegExp(se.pattern)};`)}.test(${me})`),se.format!==void 0&&(yield`format('${se.format}', ${me})`)}o(ne,"FromString");function*pe(se,Je,me){yield`(typeof ${me} === 'symbol')`}o(pe,"FromSymbol");function*W(se,Je,me){yield`(typeof ${me} === 'string')`,yield`${tt(`${new RegExp(se.pattern)};`)}.test(${me})`}o(W,"FromTemplateLiteral");function*$(se,Je,me){yield`${Ke(se.$ref)}(${me})`}o($,"FromThis");function*Ie(se,Je,me){if(yield`Array.isArray(${me})`,se.items===void 0)return yield`${me}.length === 0`;yield`(${me}.length === ${se.maxItems})`;for(let ut=0;ut<se.items.length;ut++)yield`${Ae(se.items[ut],Je,`${me}[${ut}]`)}`}o(Ie,"FromTuple");function*fe(se,Je,me){yield`${me} === undefined`}o(fe,"FromUndefined");function*X(se,Je,me){yield`(${se.anyOf.map(ot=>Ae(ot,Je,me)).join(" || ")})`}o(X,"FromUnion");function*H(se,Je,me){yield`${me} instanceof Uint8Array`,$t(se.maxByteLength)&&(yield`(${me}.length <= ${se.maxByteLength})`),$t(se.minByteLength)&&(yield`(${me}.length >= ${se.minByteLength})`)}o(H,"FromUint8Array");function*Z(se,Je,me){yield"true"}o(Z,"FromUnknown");function*ee(se,Je,me){yield oE.IsVoidLike(me)}o(ee,"FromVoid");function*ae(se,Je,me){let ut=ue.instances.size;ue.instances.set(ut,se),yield`kind('${se[Le]}', ${ut}, ${me})`}o(ae,"FromKind");function*ie(se,Je,me,ut=!0){let ot=Nn(se.$id)?[...Je,se]:Je,We=se;if(ut&&Nn(se.$id)){let Mr=Ke(se.$id);if(ue.functions.has(Mr))return yield`${Mr}(${me})`;{ue.functions.set(Mr,"<deferred>");let In=ct(Mr,se,Je,"value",!1);return ue.functions.set(Mr,In),yield`${Mr}(${me})`}}switch(We[Le]){case"Any":return yield*r(We,ot,me);case"Argument":return yield*n(We,ot,me);case"Array":return yield*i(We,ot,me);case"AsyncIterator":return yield*s(We,ot,me);case"BigInt":return yield*a(We,ot,me);case"Boolean":return yield*c(We,ot,me);case"Constructor":return yield*l(We,ot,me);case"Date":return yield*f(We,ot,me);case"Function":return yield*d(We,ot,me);case"Import":return yield*h(We,ot,me);case"Integer":return yield*A(We,ot,me);case"Intersect":return yield*m(We,ot,me);case"Iterator":return yield*y(We,ot,me);case"Literal":return yield*x(We,ot,me);case"Never":return yield*_(We,ot,me);case"Not":return yield*T(We,ot,me);case"Null":return yield*S(We,ot,me);case"Number":return yield*k(We,ot,me);case"Object":return yield*N(We,ot,me);case"Promise":return yield*P(We,ot,me);case"Record":return yield*L(We,ot,me);case"Ref":return yield*Y(We,ot,me);case"RegExp":return yield*te(We,ot,me);case"String":return yield*ne(We,ot,me);case"Symbol":return yield*pe(We,ot,me);case"TemplateLiteral":return yield*W(We,ot,me);case"This":return yield*$(We,ot,me);case"Tuple":return yield*Ie(We,ot,me);case"Undefined":return yield*fe(We,ot,me);case"Union":return yield*X(We,ot,me);case"Uint8Array":return yield*H(We,ot,me);case"Unknown":return yield*Z(We,ot,me);case"Void":return yield*ee(We,ot,me);default:if(!h0.Has(We[Le]))throw new qY(se);return yield*ae(We,ot,me)}}o(ie,"Visit");let ue={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function Ae(se,Je,me,ut=!0){return`(${[...ie(se,Je,me,ut)].join(" && ")})`}o(Ae,"CreateExpression");function Ke(se){return`check_${UY.Encode(se)}`}o(Ke,"CreateFunctionName");function tt(se){let Je=`local_${ue.variables.size}`;return ue.variables.set(Je,`const ${Je} = ${se}`),Je}o(tt,"CreateVariable");function ct(se,Je,me,ut,ot=!0){let[We,Mr]=[`
`,mi=>"".padStart(mi," ")],In=Ct("value","any"),Hr=Gt("boolean"),Kt=[...ie(Je,me,ut,ot)].map(mi=>`${Mr(4)}${mi}`).join(` &&${We}`);return`function ${se}(${In})${Hr} {${We}${Mr(2)}return (${We}${Kt}${We}${Mr(2)})
}`}o(ct,"CreateFunction");function Ct(se,Je){let me=ue.language==="typescript"?`: ${Je}`:"";return`${se}${me}`}o(Ct,"CreateParameter");function Gt(se){return ue.language==="typescript"?`: ${se}`:""}o(Gt,"CreateReturns");function Ur(se,Je,me){let ut=ct("check",se,Je,"value"),ot=Ct("value","any"),We=Gt("boolean"),Mr=[...ue.functions.values()],In=[...ue.variables.values()],Hr=Nn(se.$id)?`return function check(${ot})${We} {
  return ${Ke(se.$id)}(value)
}`:`return ${ut}`;return[...In,...Mr,Hr].join(`
`)}o(Ur,"Build");function kn(...se){let Je={language:"javascript"},[me,ut,ot]=se.length===2&&cr(se[1])?[se[0],se[1],Je]:se.length===2&&!cr(se[1])?[se[0],[],se[1]]:se.length===3?[se[0],se[1],se[2]]:se.length===1?[se[0],[],Je]:[null,[],Je];if(ue.language=ot.language,ue.variables.clear(),ue.functions.clear(),ue.instances.clear(),!zi(me))throw new AD(me);for(let We of ut)if(!zi(We))throw new AD(We);return Ur(me,ut,ot)}o(kn,"Code"),t.Code=kn;function br(se,Je=[]){let me=kn(se,Je,{language:"javascript"}),ut=globalThis.Function("kind","format","hash",me),ot=new Map(ue.instances);function We(Kt,mi,Yo){if(!h0.Has(Kt)||!ot.has(mi))return!1;let Mn=h0.Get(Kt),$o=ot.get(mi);return Mn($o,Yo)}o(We,"typeRegistryFunction");function Mr(Kt,mi){return ju.Has(Kt)?ju.Get(Kt)(mi):!1}o(Mr,"formatRegistryFunction");function In(Kt){return Lg(Kt)}o(In,"hashFunction");let Hr=ut(We,Mr,In);return new OY(se,Je,Hr,me)}o(br,"Compile"),t.Compile=br})(qg||(qg={}));var CD=yt(y4());u();u();var Ra=[];for(let t=0;t<256;++t)Ra.push((t+256).toString(16).slice(1));function mge(t,e=0){return(Ra[t[e+0]]+Ra[t[e+1]]+Ra[t[e+2]]+Ra[t[e+3]]+"-"+Ra[t[e+4]]+Ra[t[e+5]]+"-"+Ra[t[e+6]]+Ra[t[e+7]]+"-"+Ra[t[e+8]]+Ra[t[e+9]]+"-"+Ra[t[e+10]]+Ra[t[e+11]]+Ra[t[e+12]]+Ra[t[e+13]]+Ra[t[e+14]]+Ra[t[e+15]]).toLowerCase()}o(mge,"unsafeStringify");u();var gge=require("crypto");var mD=new Uint8Array(256),pD=mD.length;function GY(){return pD>mD.length-16&&((0,gge.randomFillSync)(mD),pD=0),mD.slice(pD,pD+=16)}o(GY,"rng");u();u();var yge=require("crypto"),VY={randomUUID:yge.randomUUID};function EKe(t,e,r){if(VY.randomUUID&&!e&&!t)return VY.randomUUID();t=t||{};let n=t.random??t.rng?.()??GY();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[r+i]=n[i];return e}return mge(n)}o(EKe,"v4");var pf=EKe;var ED=yt(Ea());function xb(t){return t===1}o(xb,"isRestricted");var IKe=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],G3=8192,xKe=21;var qc=class{static{o(this,"TelemetryReporters")}getReporter(e,r=0){return xb(r)?this.getRestrictedReporter(e):this.reporter}getRestrictedReporter(e){if(ID(e))return this.reporterRestricted;if(C4(e))return new H3}getFTReporter(e){if(Cge(e))return this.reporterFT;if(C4(e))return new H3}setReporter(e){this.reporter=e}setRestrictedReporter(e){this.reporterRestricted=e}setFTReporter(e){this.reporterFT=e}async deactivate(){let e=[this.reporter,this.reporterRestricted,this.reporterFT];this.reporter=this.reporterRestricted=this.reporterFT=void 0,await Promise.all(e.map(r=>r?.dispose()))}},bKe=J.Object({},{additionalProperties:J.String()}),vKe=J.Object({meanLogProb:J.Optional(J.Number()),meanAlternativeLogProb:J.Optional(J.Number())},{additionalProperties:J.Number()}),TKe=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function _Ke(t){return TKe.has(t.code??"")||t.name==="RangeError"&&t.message==="WebAssembly.Memory(): could not allocate memory"}o(_Ke,"isOomError");function SKe(t){return yH(t)?"network":_Ke(t)||t.code==="EMFILE"||t.code==="ENFILE"||t.syscall==="uv_cwd"&&(t.code==="ENOENT"||t.code=="EIO")||t.code==="CopilotPromptLoadFailure"||`${t.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(SKe,"getErrorType");var nn=class t{static{o(this,"TelemetryData")}static{this.validateTelemetryProperties=qg.Compile(bKe)}static{this.validateTelemetryMeasurements=qg.Compile(vKe)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(e,r,n){this.properties=e,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(e,r){return new t(e||{},r||{},t0())}extendedBy(e,r){let n={...this.properties,...e},i={...this.measurements,...r},s=new t(n,i,this.issuedTime);return s.displayedTime=this.displayedTime,s}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=t0())}async extendWithExpTelemetry(e){let{filters:r,exp:n}=await e.get(Sr).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(e){this.properties.editor_version=$d(e.get(js).getEditorInfo()),this.properties.editor_plugin_version=$d(e.get(js).getEditorPluginInfo());let r=e.get($s);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${PY(e)}`,typeof process<"u"&&(this.properties.runtime_version=`node/${process.versions.node}`);let n=e.get(js);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=$d(n.getEditorInfo());let i=e.get(ys);this.properties.fetcher=i.name;let s=e.get(Z0).getHttpSettings();this.properties.proxy_enabled=s.proxy?"true":"false",this.properties.proxy_auth=s.proxyAuthorization?"true":"false",this.properties.proxy_kerberos_spn=s.proxyKerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=s.proxyStrictSSL!==!1?"true":"false"}extendWithConfigProperties(e){let r=oge(e);r["copilot.build"]=sge(e),r["copilot.buildType"]=BH(e),this.properties={...this.properties,...r}}extendWithRequestId(e){let r={headerRequestId:e.headerRequestId,serverExperiments:e.serverExperiments,deploymentId:e.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(e,r){if(xb(e))return r;let n={};for(let i in r)t.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=t.sanitizeKeys(this.properties),this.measurements=t.sanitizeKeys(this.measurements);for(let e in this.measurements)isNaN(this.measurements[e])&&delete this.measurements[e]}multiplexProperties(){this.properties=t.multiplexProperties(this.properties)}static sanitizeKeys(e){e=e||{};let r={};for(let n in e){let i=t.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=e[n]}return r}static multiplexProperties(e){let r={...e};for(let n in e){let i=e[n],s=i?.length??0;if(s>G3){let a=0,c=0;for(;s>0&&c<xKe;){c+=1;let l=n;c>1&&(l=n+"_"+(c<10?"0":"")+c);let f=a+G3;s<G3&&(f=a+s),r[l]=i.slice(a,f),s-=G3,a+=G3}}}return r}updateMeasurements(e){let r=e-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=e-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=RKe(e))}validateData(e,r){let n;if(t.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...t.validateTelemetryProperties.Errors(this.properties)])}),!t.validateTelemetryMeasurements.Check(this.measurements)){let i=JSON.stringify([...t.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:i}:(n.problem="both",n.error+=`; ${i}`)}if(n===void 0)return!0;if(C4(e))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return fA(e,"invalidTelemetryData",t.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),xb(r)&&fA(e,"invalidTelemetryData_in_secure",t.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(e,r,n,i){this.extendWithConfigProperties(e),this.extendWithEditorAgnosticFields(e),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(e),this.updateMeasurements(i),this.validateData(e,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,NKe(e))}},k3=class t extends nn{static{o(this,"TelemetryWithExp")}constructor(e,r,n,i){super(e,r,n),this.filtersAndExp=i}extendedBy(e,r){let n={...this.properties,...e},i={...this.measurements,...r},s=new t(n,i,this.issuedTime,this.filtersAndExp);return s.displayedTime=this.displayedTime,s}extendWithExpTelemetry(){return this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this),Promise.resolve()}static createEmptyConfigForTesting(){return new t({},{},0,{filters:new tC({}),exp:rf.createEmptyConfig()})}};function yD(t,e,r,n){t.get(qc).getReporter(t,e)?.sendTelemetryEvent(r,nn.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties),n.measurements)}o(yD,"sendTelemetryEvent");function wKe(t,e,r,n){t.get(qc).getReporter(t,e)?.sendTelemetryErrorEvent(r,nn.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties),n.measurements)}o(wKe,"sendTelemetryErrorEvent");function BKe(t,e,r,n){t.get(qc).getFTReporter(t)?.sendTelemetryEvent(r,nn.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties),n.measurements)}o(BKe,"sendFTTelemetryEvent");function YY(t){return{promptCharLen:t.prefix.length+(t.context?.reduce((e,r)=>e+r.length,0)??0),promptSuffixCharLen:t.suffix.length}}o(YY,"telemetrizePromptLength");function t0(){return performance.now()}o(t0,"now");function RKe(t){return Math.floor(t/1e3)}o(RKe,"nowSeconds");function ID(t){return t.get(X0).optedIn}o(ID,"shouldSendRestricted");function Cge(t){return t.get(X0).ftFlag!==""}o(Cge,"shouldSendFinetuningTelemetry");function nr(t,e,r,n){return t.get(e0).register(kKe(t,e,t0(),r?.extendedBy(),n))}o(nr,"telemetry");async function kKe(t,e,r,n,i=0){let s=n||nn.createAndMarkAsIssued({},{});await s.makeReadyForSending(t,i??!1,"IncludeExp",r),(!xb(i)||ID(t))&&yD(t,i,e,s),xb(i)&&IKe.includes(e)&&Cge(t)&&BKe(t,i,e,s)}o(kKe,"_telemetry");function J0e(t,e){return t.get(e0).register(DKe(t,e,t0()))}o(J0e,"telemetryExpProblem");async function DKe(t,e,r){let n="expProblem",i=nn.createAndMarkAsIssued(e,{});await i.makeReadyForSending(t,0,"SkipExp",r),yD(t,0,n,i)}o(DKe,"_telemetryExpProblem");function NKe(t){let e=t.get(js),r={unique_id:pf(),common_extname:e.getEditorPluginInfo().name,common_extversion:e.getEditorPluginInfo().version,common_vscodeversion:$d(e.getEditorInfo())};return{...t.get(X0).getProperties(),...r}}o(NKe,"createRequiredProperties");var WY=class extends Error{static{o(this,"CopilotNonError")}constructor(e){let r;try{r=JSON.stringify(e)}catch{r=String(e)}super(r),this.name="CopilotNonError",this.code=(0,CD.SHA256)(CD.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function Td(t,e,r,n,i){return t.get(e0).register(Ege(t,e,t0(),r,{...n},i))}o(Td,"telemetryException");async function Ege(t,e,r,n,i,s){let a;if(e instanceof Error){if(a=e,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||zm(a)||a instanceof wm||a instanceof ED.ConnectionError||a instanceof ED.ResponseError)return}else{if(a=new WY(e),e&&typeof e=="object"&&e.name==="ExitStatus")return;if(a.stack?.startsWith(`${a}
`)){let x=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(x[0]??"")&&x.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(x[0]??"")&&x.shift(),a.stack=`${a}
${x.join(`
`)}`}}let c=t.get(js).getEditorInfo(),l;c.root&&(l=[{prefix:`${c.name}:`,path:c.root}]);let f=ID(t),d=pge(a,l,f),h=SKe(a),A=h==="exception",m=nn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:d.stack||d.toString(),message:d.message,...i});if(await m.makeReadyForSending(t,0,"IncludeExp",r),s?.exception_detail)for(let x of s.exception_detail)x.value&&(f?x.value=MY(x.value):x.value="[redacted]");if(s??=age(t,d),s.context={...s.context,"copilot_event.unique_id":m.properties.unique_id,"#restricted_telemetry":f?"true":"false"},n&&(s.context["#origin"]=n,s.transaction=n),s.rollup_id!=="auto"&&(m.properties.errno=s.rollup_id),s.created_at=new Date(m.issuedTime).toISOString(),f){let x=Age(a,l),_=nn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:x.stack||x.toString(),message:x.message,...i});s.rollup_id!=="auto"&&(_.properties.errno=s.rollup_id),await _.makeReadyForSending(t,1,"IncludeExp",r),_.properties.unique_id=m.properties.unique_id,m.properties.restricted_unique_id=_.properties.unique_id,yD(t,1,`error.${h}`,_)}let y=s.rollup_id==="auto"?a.stack??"":s.rollup_id;A&&!t.get(iE).isThrottled(y)&&(m.properties.failbot_payload=JSON.stringify(s)),yD(t,0,`error.${h}`,m)}o(Ege,"_telemetryException");function aA(t,e,r,n){let i=o(async(...s)=>{try{await e(...s)}catch(a){await Ege(t,a,t0(),r,n)}},"wrapped");return(...s)=>t.get(e0).register(i(...s))}o(aA,"telemetryCatch");function fA(t,e,r,n){return t.get(e0).register(QKe(t,e,t0(),r?.extendedBy(),n))}o(fA,"telemetryError");async function QKe(t,e,r,n,i=0){if(xb(i)&&!ID(t))return;let s=n||nn.createAndMarkAsIssued({},{});await s.makeReadyForSending(t,i,"IncludeExp",r),wKe(t,i,e,s)}o(QKe,"_telemetryError");function Ige(t,e,r,n,i){let s=nn.createAndMarkAsIssued({completionTextJson:JSON.stringify(e),choiceIndex:i.toString()});if(r.logprobs)for(let[a,c]of Object.entries(r.logprobs))s.properties["logprobs_"+a]=JSON.stringify(c)??"unset";return s.extendWithRequestId(n),nr(t,"engine.completion",s,1)}o(Ige,"logEngineCompletion");function xge(t,e,r){let n={promptJson:JSON.stringify({prefix:e.prefix,context:e.context}),promptSuffixJson:JSON.stringify(e.suffix)};if(e.context){let s=r.properties["request.option.extra"]?JSON.parse(r.properties["request.option.extra"]):{};s.context=e.context,n["request.option.extra"]=JSON.stringify(s)}let i=r.extendedBy(n);return nr(t,"engine.prompt",i,1)}o(xge,"logEnginePrompt");var xD=class{static{o(this,"InstallationManager")}async startup(e){await this.isNewInstall(e)?(await this.markInstalled(e),this.handleInstall(e,await this.wasPreviouslyInstalled(e))):await this.isNewUpgrade(e)&&(await this.markUpgraded(e),this.handleUpgrade(e))}uninstall(e){return this.handleUninstall(e)}handleInstall(e,r){r?nr(e,"installed.reinstall"):nr(e,"installed.new")}handleUpgrade(e){nr(e,"installed.upgrade")}handleUninstall(e){nr(e,"uninstalled")}};var bD=class extends xD{static{o(this,"VsCodeUninstallationManager")}isNewInstall(){throw new Error("not callable from an uninstall script")}markInstalled(){throw new Error("not callable from an uninstall script")}wasPreviouslyInstalled(){throw new Error("not callable from an uninstall script")}isNewUpgrade(){throw new Error("not callable from an uninstall script")}markUpgraded(){throw new Error("not callable from an uninstall script")}};u();u();u();u();var PKe={didChangeFeatureFlags:!1,fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1,showPanelMessage:!1},V3=class{constructor(){this.capabilities={...PKe};this.emitter=new U3;this.onDidSetCapabilities=this.emitter.event}static{o(this,"CopilotCapabilitiesProvider")}setCapabilities(e){let r;for(r in e){let n=e[r];n!==void 0&&(this.capabilities[r]=n)}this.emitter.fire(this.capabilities)}getCapabilities(){return this.capabilities}};u();u();u();u();function $Y(t,e){let r=bb(t,e);return r===-1?void 0:t[r]}o($Y,"findLastMonotonous");function bb(t,e,r=0,n=t.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);e(t[a])?i=a+1:s=a}return i-1}o(bb,"findLastIdxMonotonous");function vD(t,e,r=0,n=t.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);e(t[a])?s=a:i=a+1}return i}o(vD,"findFirstIdxMonotonousOrArrLen");var bge=class t{constructor(e){this._array=e;this._findLastMonotonousLastIdx=0}static{o(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(e){if(t.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!e(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=e}let r=bb(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};u();var zY=class{static{o(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?TD.isErrorNoTelemetry(e)?new TD(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(r=>{r(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},vge=new zY;function sE(t){vge.onUnexpectedError(t)}o(sE,"onBugIndicatingError");function Tb(t){FKe(t)||vge.onUnexpectedError(t)}o(Tb,"onUnexpectedError");var jY="Canceled";function FKe(t){return t instanceof vb?!0:t instanceof Error&&t.name===jY&&t.message===jY}o(FKe,"isCancellationError");var vb=class extends Error{static{o(this,"CancellationError")}constructor(){super(jY),this.name=this.message}};var TD=class t extends Error{static{o(this,"ErrorNoTelemetry")}constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof t)return e;let r=new t;return r.message=e.message,r.stack=e.stack,r}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},Fs=class t extends Error{static{o(this,"BugIndicatingError")}constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}};var _ge;(c=>{function t(l){return l<0}c.isLessThan=t,o(t,"isLessThan");function e(l){return l<=0}c.isLessThanOrEqual=e,o(e,"isLessThanOrEqual");function r(l){return l>0}c.isGreaterThan=r,o(r,"isGreaterThan");function n(l){return l===0}c.isNeitherLessOrGreaterThan=n,o(n,"isNeitherLessOrGreaterThan"),c.greaterThan=1,c.lessThan=-1,c.neitherLessOrGreaterThan=0})(_ge||={});function _D(t,e){return(r,n)=>e(t(r),t(n))}o(_D,"compareBy");var SD=o((t,e)=>t-e,"numberComparator");var Tge=class t{constructor(e){this.iterate=e}static{o(this,"CallbackIterable")}static{this.empty=new t(e=>{})}forEach(e){this.iterate(r=>(e(r),!0))}toArray(){let e=[];return this.iterate(r=>(e.push(r),!0)),e}filter(e){return new t(r=>this.iterate(n=>e(n)?r(n):!0))}map(e){return new t(r=>this.iterate(n=>r(e(n))))}some(e){let r=!1;return this.iterate(n=>(r=e(n),!r)),r}findFirst(e){let r;return this.iterate(n=>e(n)?(r=n,!1):!0),r}findLast(e){let r;return this.iterate(n=>(e(n)&&(r=n),!0)),r}findLastMaxBy(e){let r,n=!0;return this.iterate(i=>((n||_ge.isGreaterThan(e(i,r)))&&(n=!1,r=i),!0)),r}};u();function Rge(t,e){let r=Object.create(null);for(let n of t){let i=e(n),s=r[i];s||(s=r[i]=[]),s.push(n)}return r}o(Rge,"groupBy");var wge,Bge,Sge=class{constructor(e,r){this.toKey=r;this._map=new Map;this[wge]="SetWithKey";for(let n of e)this.add(n)}static{o(this,"SetWithKey")}get size(){return this._map.size}add(e){let r=this.toKey(e);return this._map.set(r,e),this}delete(e){return this._map.delete(this.toKey(e))}has(e){return this._map.has(this.toKey(e))}*entries(){for(let e of this._map.values())yield[e,e]}keys(){return this.values()}*values(){for(let e of this._map.values())yield e}clear(){this._map.clear()}forEach(e,r){this._map.forEach(n=>e.call(r,n,n,this))}[(Bge=Symbol.iterator,wge=Symbol.toStringTag,Bge)](){return this.values()}};u();function KY(t,e){let r=this,n=!1,i;return function(){if(n)return i;if(n=!0,e)try{i=t.apply(r,arguments)}finally{e()}else i=t.apply(r,arguments);return i}}o(KY,"createSingleCallFunction");u();var JY;(k=>{function t(N){return N&&typeof N=="object"&&typeof N[Symbol.iterator]=="function"}k.is=t,o(t,"is");let e=Object.freeze([]);function r(){return e}k.empty=r,o(r,"empty");function*n(N){yield N}k.single=n,o(n,"single");function i(N){return t(N)?N:n(N)}k.wrap=i,o(i,"wrap");function s(N){return N||e}k.from=s,o(s,"from");function*a(N){for(let P=N.length-1;P>=0;P--)yield N[P]}k.reverse=a,o(a,"reverse");function c(N){return!N||N[Symbol.iterator]().next().done===!0}k.isEmpty=c,o(c,"isEmpty");function l(N){return N[Symbol.iterator]().next().value}k.first=l,o(l,"first");function f(N,P){let L=0;for(let Y of N)if(P(Y,L++))return!0;return!1}k.some=f,o(f,"some");function d(N,P){for(let L of N)if(P(L))return L}k.find=d,o(d,"find");function*h(N,P){for(let L of N)P(L)&&(yield L)}k.filter=h,o(h,"filter");function*A(N,P){let L=0;for(let Y of N)yield P(Y,L++)}k.map=A,o(A,"map");function*m(N,P){let L=0;for(let Y of N)yield*P(Y,L++)}k.flatMap=m,o(m,"flatMap");function*y(...N){for(let P of N)yield*P}k.concat=y,o(y,"concat");function x(N,P,L){let Y=L;for(let te of N)Y=P(Y,te);return Y}k.reduce=x,o(x,"reduce");function*_(N,P,L=N.length){for(P<-N.length&&(P=0),P<0&&(P+=N.length),L<0?L+=N.length:L>N.length&&(L=N.length);P<L;P++)yield N[P]}k.slice=_,o(_,"slice");function T(N,P=Number.POSITIVE_INFINITY){let L=[];if(P===0)return[L,N];let Y=N[Symbol.iterator]();for(let te=0;te<P;te++){let ne=Y.next();if(ne.done)return[L,k.empty()];L.push(ne.value)}return[L,{[Symbol.iterator](){return Y}}]}k.consume=T,o(T,"consume");async function S(N){let P=[];for await(let L of N)P.push(L);return Promise.resolve(P)}k.asyncToArray=S,o(S,"asyncToArray")})(JY||={});u();var XY=class{constructor(e,r){this.uri=e;this.value=r}static{o(this,"ResourceMapEntry")}};function LKe(t){return Array.isArray(t)}o(LKe,"isEntries");var Nge,wD=class t{constructor(e,r){this[Nge]="ResourceMap";if(e instanceof t)this.map=new Map(e.map),this.toKey=r??t.defaultToKey;else if(LKe(e)){this.map=new Map,this.toKey=r??t.defaultToKey;for(let[n,i]of e)this.set(n,i)}else this.map=new Map,this.toKey=e??t.defaultToKey}static{o(this,"ResourceMap")}static{this.defaultToKey=o(e=>e.toString(),"defaultToKey")}set(e,r){return this.map.set(this.toKey(e),new XY(e,r)),this}get(e){return this.map.get(this.toKey(e))?.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,r){typeof r<"u"&&(e=e.bind(r));for(let[n,i]of this.map)e(i.value,i.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(Nge=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}},Qge,kge=class{constructor(e,r){this[Qge]="ResourceSet";!e||typeof e=="function"?this._map=new wD(e):(this._map=new wD(r),e.forEach(this.add,this))}static{o(this,"ResourceSet")}get size(){return this._map.size}add(e){return this._map.set(e,e),this}clear(){this._map.clear()}delete(e){return this._map.delete(e)}forEach(e,r){this._map.forEach((n,i)=>e.call(r,i,i,this))}has(e){return this._map.has(e)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(Qge=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var Pge,Dge=class{constructor(){this[Pge]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{o(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=0){let n=this._map.get(e);if(n)return r!==0&&this.touch(n,r),n.value}set(e,r,n=0){let i=this._map.get(e);if(i)i.value=r,n!==0&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[(Pge=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===2){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};var BD=class{constructor(){this.map=new Map}static{o(this,"SetMap")}add(e,r){let n=this.map.get(e);n||(n=new Set,this.map.set(e,n)),n.add(r)}delete(e,r){let n=this.map.get(e);n&&(n.delete(r),n.size===0&&this.map.delete(e))}forEach(e,r){let n=this.map.get(e);n&&n.forEach(r)}get(e){let r=this.map.get(e);return r||new Set}};var OKe=!1,_b=null;var Fge=class t{constructor(){this.livingDisposables=new Map}static{o(this,"DisposableTracker")}static{this.idx=0}getDisposableData(e){let r=this.livingDisposables.get(e);return r||(r={parent:null,source:null,isSingleton:!1,value:e,idx:t.idx++},this.livingDisposables.set(e,r)),r}trackDisposable(e){let r=this.getDisposableData(e);r.source||(r.source=new Error().stack)}setParent(e,r){let n=this.getDisposableData(e);n.parent=r}markAsDisposed(e){this.livingDisposables.delete(e)}markAsSingleton(e){this.getDisposableData(e).isSingleton=!0}getRootParent(e,r){let n=r.get(e);if(n)return n;let i=e.parent?this.getRootParent(this.getDisposableData(e.parent),r):e;return r.set(e,i),i}getTrackedDisposables(){let e=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,e).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(e=10,r){let n;if(r)n=r;else{let l=new Map,f=[...this.livingDisposables.values()].filter(h=>h.source!==null&&!this.getRootParent(h,l).isSingleton);if(f.length===0)return;let d=new Set(f.map(h=>h.value));if(n=f.filter(h=>!(h.parent&&d.has(h.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function i(l){function f(h,A){for(;h.length>0&&A.some(m=>typeof m=="string"?m===h[0]:h[0].match(m));)h.shift()}o(f,"removePrefix");let d=l.source.split(`
`).map(h=>h.trim().replace("at ","")).filter(h=>h!=="");return f(d,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),d.reverse()}o(i,"getStackTracePath");let s=new BD;for(let l of n){let f=i(l);for(let d=0;d<=f.length;d++)s.add(f.slice(0,d).join(`
`),l)}n.sort(_D(l=>l.idx,SD));let a="",c=0;for(let l of n.slice(0,e)){c++;let f=i(l),d=[];for(let h=0;h<f.length;h++){let A=f[h];A=`(shared with ${s.get(f.slice(0,h+1).join(`
`)).size}/${n.length} leaks) at ${A}`;let y=s.get(f.slice(0,h).join(`
`)),x=Rge([...y].map(_=>i(_)[h]),_=>_);delete x[f[h]];for(let[_,T]of Object.entries(x))d.unshift(`    - stacktraces of ${T.length} other leaks continue with ${_}`);d.unshift(A)}a+=`


==================== Leaking disposable ${c}/${n.length}: ${l.value.constructor.name} ====================
${d.join(`
`)}
============================================================

`}return n.length>e&&(a+=`


... and ${n.length-e} more leaking disposables

`),{leaks:n,details:a}}};function UKe(t){_b=t}o(UKe,"setDisposableTracker");if(OKe){let t="__is_disposable_tracked__";UKe(new class{trackDisposable(e){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[t]||console.log(r)},3e3)}setParent(e,r){if(e&&e!==rl.None)try{e[t]=!0}catch{}}markAsDisposed(e){if(e&&e!==rl.None)try{e[t]=!0}catch{}}markAsSingleton(e){}})}function Sb(t){return _b?.trackDisposable(t),t}o(Sb,"trackDisposable");function wb(t){_b?.markAsDisposed(t)}o(wb,"markAsDisposed");function ZY(t,e){_b?.setParent(t,e)}o(ZY,"setParentOfDisposable");function HKe(t,e){if(_b)for(let r of t)_b.setParent(r,e)}o(HKe,"setParentOfDisposables");function Mge(t){if(JY.is(t)){let e=[];for(let r of t)if(r)try{r.dispose()}catch(n){e.push(n)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(t)?[]:t}else if(t)return t.dispose(),t}o(Mge,"dispose");function Lge(...t){let e=MA(()=>Mge(t));return HKe(t,e),e}o(Lge,"combinedDisposable");function MA(t){let e=Sb({dispose:KY(()=>{wb(e),t()})});return e}o(MA,"toDisposable");var zd=class t{constructor(){this._toDispose=new Set;this._isDisposed=!1;Sb(this)}static{o(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(wb(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{Mge(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return ZY(e,this),this._isDisposed?t.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),ZY(e,null))}},rl=class{constructor(){this._store=new zd;Sb(this),ZY(this._store,this)}static{o(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){wb(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};var W3=class extends rl{static{o(this,"ChatQuotaService")}constructor(e){super(),this._register(Ia(e,r=>{this.processUserInfoQuotaSnapshot(r.userInfo?.raw)}))}get quotaExhausted(){return this._quotaInfo?this._quotaInfo.used>=this._quotaInfo.quota&&!this._quotaInfo.overageEnabled:!1}get overagesEnabled(){return this._quotaInfo?this._quotaInfo.overageEnabled:!1}clearQuota(){this._quotaInfo=void 0}processQuotaHeaders(e){let r=e.get("x-quota-snapshot-premium_models")||e.get("x-quota-snapshot-premium_interactions");if(r)try{let n=new URLSearchParams(r),i=parseInt(n.get("ent")||"0",10),s=parseFloat(n.get("ov")||"0.0"),a=n.get("ovPerm")==="true",c=parseFloat(n.get("rem")||"0.0"),l=n.get("rst"),f;l?f=new Date(l):(f=new Date,f.setMonth(f.getMonth()+1));let d=Math.max(0,i*(1-c/100));this._quotaInfo={quota:i,used:d,overageUsed:s,overageEnabled:a,resetDate:f}}catch(n){console.error("Failed to parse quota header",n)}}processUserInfoQuotaSnapshot(e){!e||!e.quota_snapshots||!e.quota_reset_date||(this._quotaInfo={overageEnabled:e.quota_snapshots.premium_interactions.overage_permitted,overageUsed:e.quota_snapshots.premium_interactions.overage_count,quota:e.quota_snapshots.premium_interactions.entitlement,resetDate:new Date(e.quota_reset_date),used:Math.max(0,e.quota_snapshots.premium_interactions.entitlement*(1-e.quota_snapshots.premium_interactions.percent_remaining/100))})}};u();var Oge=yt(require("events"));var RD="CompletionRequested",Bb=class{constructor(e){this.ctx=e}static{o(this,"CompletionNotifier")}#e=new Oge.default;notifyRequest(e,r,n,i,s){return this.#e.emit(RD,{completionId:r,completionState:e,telemetryData:n,cancellationToken:i,options:s})}onRequest(e){let r=aA(this.ctx,e,`event.${RD}`);return this.#e.on(RD,r),lo.Disposable.create(()=>this.#e.off(RD,r))}};u();var e$=class extends Error{constructor(r){super(`No instance of ${r.name} has been registered`);this.ctor=r;this.name="UnregisteredContextError",this.code=r.name}static{o(this,"UnregisteredContextError")}},kD=class{constructor(){this.instances=new Map}static{o(this,"Context")}get(e){let r=this.tryGet(e);if(r)return r;throw new e$(e)}tryGet(e){let r=this.instances.get(e);if(r)return r}set(e,r){if(this.tryGet(e))throw new Error(`An instance of ${e.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(e,r),this.instances.set(e,r)}forceSet(e,r){this.assertIsInstance(e,r),this.instances.set(e,r)}assertIsInstance(e,r){if(!(r instanceof e)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${e.name} is not an instance of it (${n}).`)}}};u();u();u();u();var aE={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};u();var Uge=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],Hge={".php":[".blade"]},DD=Object.keys(aE).flatMap(t=>aE[t].extensions);var t$=yt(require("node:path"));var kb=class{constructor(e,r,n){this.languageId=e;this.isGuess=r;this.fileExtension=n}static{o(this,"Language")}},Y3=class{static{o(this,"LanguageDetection")}},r$=new Map,Rb=new Map;for(let[t,{extensions:e,filenames:r}]of Object.entries(aE)){for(let n of e)r$.set(n,[...r$.get(n)??[],t]);for(let n of r??[])Rb.set(n,[...Rb.get(n)??[],t])}var n$=class extends Y3{static{o(this,"FilenameAndExensionLanguageDetection")}detectLanguage(e){let r=Zm(e.uri),n=t$.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),s=this.detectLanguageId(r,i),a=this.computeFullyQualifiedExtension(n,i);return s?new kb(s.languageId,s.isGuess,a):new kb(e.languageId,!0,a)}extensionWithoutTemplateLanguage(e,r){if(Uge.includes(r)){let n=e.substring(0,e.lastIndexOf(".")),i=t$.extname(n).toLowerCase();if(i.length>0&&DD.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(e,r){let n=Hge[e];return!n||n.includes(r)}detectLanguageId(e,r){if(Rb.has(e))return{languageId:Rb.get(e)[0],isGuess:!1};let n=r$.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;e.includes(".");)if(e=e.replace(/\.[^.]*$/,""),Rb.has(e))return{languageId:Rb.get(e)[0],isGuess:!1}}computeFullyQualifiedExtension(e,r){return e!==r?r+e:e}},i$=class extends Y3{constructor(r){super();this.delegate=r}static{o(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new kb("cpp",n.isGuess,n.fileExtension):n}},o$=class extends Y3{constructor(r){super();this.delegate=r}static{o(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new kb(r.languageId,!0,""):this.delegate.detectLanguage(r)}},qKe=new i$(new o$(new n$));function qge({uri:t,languageId:e}){let r=qKe.detectLanguage({uri:t,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?e:r.languageId}o(qge,"detectLanguage");u();var ND=class t{static{o(this,"FullTextDocument")}constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){for(let n of e)if(t.isIncremental(n)){let i=Wge(n.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);let c=Math.max(i.start.line,0),l=Math.max(i.end.line,0),f=this._lineOffsets,d=Gge(n.text,!1,s);if(l-c===d.length)for(let A=0,m=d.length;A<m;A++)f[A+c+1]=d[A];else d.length<1e4?f.splice(c+1,l-c,...d):this._lineOffsets=f=f.slice(0,c+1).concat(d,f.slice(l+1));let h=n.text.length-(a-s);if(h!==0)for(let A=c+1+d.length,m=f.length;A<m;A++)f[A]=f[A]+h}else if(t.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Gge(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:e};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>e?i=a:n=a+1}let s=n-1;return e=this.ensureBeforeEOL(e,r[s]),{line:s,character:e-r[s]}}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line];if(e.character<=0)return n;let i=e.line+1<r.length?r[e.line+1]:this._content.length,s=Math.min(n+e.character,i);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(e,r){for(;e>r&&Vge(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},Gg;(function(t){function e(i,s,a,c){return new ND(i,s,a,c)}o(e,"create"),t.create=e;function r(i,s,a){if(i instanceof ND)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),t.update=r;function n(i,s){let a=i.getText(),c=s$(s.map(GKe),(d,h)=>{let A=d.range.start.line-h.range.start.line;return A===0?d.range.start.character-h.range.start.character:A}),l=0,f=[];for(let d of c){let h=i.offsetAt(d.range.start);if(h<l)throw new Error("Overlapping edit");h>l&&f.push(a.substring(l,h)),d.newText.length&&f.push(d.newText),l=i.offsetAt(d.range.end)}return f.push(a.substr(l)),f.join("")}o(n,"applyEdits"),t.applyEdits=n})(Gg||(Gg={}));function s$(t,e){if(t.length<=1)return t;let r=t.length/2|0,n=t.slice(0,r),i=t.slice(r);s$(n,e),s$(i,e);let s=0,a=0,c=0;for(;s<n.length&&a<i.length;)e(n[s],i[a])<=0?t[c++]=n[s++]:t[c++]=i[a++];for(;s<n.length;)t[c++]=n[s++];for(;a<i.length;)t[c++]=i[a++];return t}o(s$,"mergeSort");function Gge(t,e,r=0){let n=e?[r]:[];for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);Vge(s)&&(s===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}o(Gge,"computeLineOffsets");function Vge(t){return t===13||t===10}o(Vge,"isEOL");function Wge(t){let e=t.start,r=t.end;return e.line>r.line||e.line===r.line&&e.character>r.character?{start:r,end:e}:t}o(Wge,"getWellformedRange");function GKe(t){let e=Wge(t.range);return e!==t.range?{newText:t.newText,range:e}:t}o(GKe,"getWellformedEdit");u();var Yge;(function(t){function e(r){return typeof r=="string"}o(e,"is"),t.is=e})(Yge||(Yge={}));var a$;(function(t){function e(r){return typeof r=="string"}o(e,"is"),t.is=e})(a$||(a$={}));var $ge;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}o(e,"is"),t.is=e})($ge||($ge={}));var QD;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}o(e,"is"),t.is=e})(QD||(QD={}));var r0;(function(t){function e(n,i){return n===Number.MAX_VALUE&&(n=QD.MAX_VALUE),i===Number.MAX_VALUE&&(i=QD.MAX_VALUE),{line:n,character:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Ne.uinteger(i.line)&&Ne.uinteger(i.character)}o(r,"is"),t.is=r})(r0||(r0={}));var Li;(function(t){function e(n,i,s,a){if(Ne.uinteger(n)&&Ne.uinteger(i)&&Ne.uinteger(s)&&Ne.uinteger(a))return{start:r0.create(n,i),end:r0.create(s,a)};if(r0.is(n)&&r0.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${s}, ${a}]`)}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&r0.is(i.start)&&r0.is(i.end)}o(r,"is"),t.is=r})(Li||(Li={}));var PD;(function(t){function e(n,i){return{uri:n,range:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Li.is(i.range)&&(Ne.string(i.uri)||Ne.undefined(i.uri))}o(r,"is"),t.is=r})(PD||(PD={}));var zge;(function(t){function e(n,i,s,a){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Li.is(i.targetRange)&&Ne.string(i.targetUri)&&Li.is(i.targetSelectionRange)&&(Li.is(i.originSelectionRange)||Ne.undefined(i.originSelectionRange))}o(r,"is"),t.is=r})(zge||(zge={}));var c$;(function(t){function e(n,i,s,a){return{red:n,green:i,blue:s,alpha:a}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Ne.numberRange(i.red,0,1)&&Ne.numberRange(i.green,0,1)&&Ne.numberRange(i.blue,0,1)&&Ne.numberRange(i.alpha,0,1)}o(r,"is"),t.is=r})(c$||(c$={}));var jge;(function(t){function e(n,i){return{range:n,color:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Li.is(i.range)&&c$.is(i.color)}o(r,"is"),t.is=r})(jge||(jge={}));var Kge;(function(t){function e(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Ne.string(i.label)&&(Ne.undefined(i.textEdit)||Nb.is(i))&&(Ne.undefined(i.additionalTextEdits)||Ne.typedArray(i.additionalTextEdits,Nb.is))}o(r,"is"),t.is=r})(Kge||(Kge={}));var Jge;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(Jge||(Jge={}));var Xge;(function(t){function e(n,i,s,a,c,l){let f={startLine:n,endLine:i};return Ne.defined(s)&&(f.startCharacter=s),Ne.defined(a)&&(f.endCharacter=a),Ne.defined(c)&&(f.kind=c),Ne.defined(l)&&(f.collapsedText=l),f}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Ne.uinteger(i.startLine)&&Ne.uinteger(i.startLine)&&(Ne.undefined(i.startCharacter)||Ne.uinteger(i.startCharacter))&&(Ne.undefined(i.endCharacter)||Ne.uinteger(i.endCharacter))&&(Ne.undefined(i.kind)||Ne.string(i.kind))}o(r,"is"),t.is=r})(Xge||(Xge={}));var l$;(function(t){function e(n,i){return{location:n,message:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&PD.is(i.location)&&Ne.string(i.message)}o(r,"is"),t.is=r})(l$||(l$={}));var Zge;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(Zge||(Zge={}));var e1e;(function(t){t.Unnecessary=1,t.Deprecated=2})(e1e||(e1e={}));var t1e;(function(t){function e(r){let n=r;return Ne.objectLiteral(n)&&Ne.string(n.href)}o(e,"is"),t.is=e})(t1e||(t1e={}));var FD;(function(t){function e(n,i,s,a,c,l){let f={range:n,message:i};return Ne.defined(s)&&(f.severity=s),Ne.defined(a)&&(f.code=a),Ne.defined(c)&&(f.source=c),Ne.defined(l)&&(f.relatedInformation=l),f}o(e,"create"),t.create=e;function r(n){var i;let s=n;return Ne.defined(s)&&Li.is(s.range)&&Ne.string(s.message)&&(Ne.number(s.severity)||Ne.undefined(s.severity))&&(Ne.integer(s.code)||Ne.string(s.code)||Ne.undefined(s.code))&&(Ne.undefined(s.codeDescription)||Ne.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(Ne.string(s.source)||Ne.undefined(s.source))&&(Ne.undefined(s.relatedInformation)||Ne.typedArray(s.relatedInformation,l$.is))}o(r,"is"),t.is=r})(FD||(FD={}));var Db;(function(t){function e(n,i,...s){let a={title:n,command:i};return Ne.defined(s)&&s.length>0&&(a.arguments=s),a}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Ne.string(i.title)&&Ne.string(i.command)}o(r,"is"),t.is=r})(Db||(Db={}));var Nb;(function(t){function e(s,a){return{range:s,newText:a}}o(e,"replace"),t.replace=e;function r(s,a){return{range:{start:s,end:s},newText:a}}o(r,"insert"),t.insert=r;function n(s){return{range:s,newText:""}}o(n,"del"),t.del=n;function i(s){let a=s;return Ne.objectLiteral(a)&&Ne.string(a.newText)&&Li.is(a.range)}o(i,"is"),t.is=i})(Nb||(Nb={}));var u$;(function(t){function e(n,i,s){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Ne.string(i.label)&&(Ne.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Ne.string(i.description)||i.description===void 0)}o(r,"is"),t.is=r})(u$||(u$={}));var Qb;(function(t){function e(r){let n=r;return Ne.string(n)}o(e,"is"),t.is=e})(Qb||(Qb={}));var r1e;(function(t){function e(s,a,c){return{range:s,newText:a,annotationId:c}}o(e,"replace"),t.replace=e;function r(s,a,c){return{range:{start:s,end:s},newText:a,annotationId:c}}o(r,"insert"),t.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}o(n,"del"),t.del=n;function i(s){let a=s;return Nb.is(a)&&(u$.is(a.annotationId)||Qb.is(a.annotationId))}o(i,"is"),t.is=i})(r1e||(r1e={}));var f$;(function(t){function e(n,i){return{textDocument:n,edits:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&m$.is(i.textDocument)&&Array.isArray(i.edits)}o(r,"is"),t.is=r})(f$||(f$={}));var d$;(function(t){function e(n,i,s){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(e,"create"),t.create=e;function r(n){let i=n;return i&&i.kind==="create"&&Ne.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Ne.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ne.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Qb.is(i.annotationId))}o(r,"is"),t.is=r})(d$||(d$={}));var h$;(function(t){function e(n,i,s,a){let c={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(c.options=s),a!==void 0&&(c.annotationId=a),c}o(e,"create"),t.create=e;function r(n){let i=n;return i&&i.kind==="rename"&&Ne.string(i.oldUri)&&Ne.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Ne.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ne.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Qb.is(i.annotationId))}o(r,"is"),t.is=r})(h$||(h$={}));var A$;(function(t){function e(n,i,s){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(e,"create"),t.create=e;function r(n){let i=n;return i&&i.kind==="delete"&&Ne.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Ne.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Ne.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Qb.is(i.annotationId))}o(r,"is"),t.is=r})(A$||(A$={}));var p$;(function(t){function e(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Ne.string(i.kind)?d$.is(i)||h$.is(i)||A$.is(i):f$.is(i)))}o(e,"is"),t.is=e})(p$||(p$={}));var n1e;(function(t){function e(n){return{uri:n}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Ne.string(i.uri)}o(r,"is"),t.is=r})(n1e||(n1e={}));var i1e;(function(t){function e(n,i){return{uri:n,version:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Ne.string(i.uri)&&Ne.integer(i.version)}o(r,"is"),t.is=r})(i1e||(i1e={}));var m$;(function(t){function e(n,i){return{uri:n,version:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Ne.string(i.uri)&&(i.version===null||Ne.integer(i.version))}o(r,"is"),t.is=r})(m$||(m$={}));var o1e;(function(t){function e(n,i,s,a){return{uri:n,languageId:i,version:s,text:a}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Ne.string(i.uri)&&Ne.string(i.languageId)&&Ne.integer(i.version)&&Ne.string(i.text)}o(r,"is"),t.is=r})(o1e||(o1e={}));var g$;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(r){let n=r;return n===t.PlainText||n===t.Markdown}o(e,"is"),t.is=e})(g$||(g$={}));var $3;(function(t){function e(r){let n=r;return Ne.objectLiteral(r)&&g$.is(n.kind)&&Ne.string(n.value)}o(e,"is"),t.is=e})($3||($3={}));var s1e;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(s1e||(s1e={}));var a1e;(function(t){t.PlainText=1,t.Snippet=2})(a1e||(a1e={}));var c1e;(function(t){t.Deprecated=1})(c1e||(c1e={}));var l1e;(function(t){function e(n,i,s){return{newText:n,insert:i,replace:s}}o(e,"create"),t.create=e;function r(n){let i=n;return i&&Ne.string(i.newText)&&Li.is(i.insert)&&Li.is(i.replace)}o(r,"is"),t.is=r})(l1e||(l1e={}));var u1e;(function(t){t.asIs=1,t.adjustIndentation=2})(u1e||(u1e={}));var f1e;(function(t){function e(r){let n=r;return n&&(Ne.string(n.detail)||n.detail===void 0)&&(Ne.string(n.description)||n.description===void 0)}o(e,"is"),t.is=e})(f1e||(f1e={}));var d1e;(function(t){function e(r){return{label:r}}o(e,"create"),t.create=e})(d1e||(d1e={}));var h1e;(function(t){function e(r,n){return{items:r||[],isIncomplete:!!n}}o(e,"create"),t.create=e})(h1e||(h1e={}));var MD;(function(t){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(e,"fromPlainText"),t.fromPlainText=e;function r(n){let i=n;return Ne.string(i)||Ne.objectLiteral(i)&&Ne.string(i.language)&&Ne.string(i.value)}o(r,"is"),t.is=r})(MD||(MD={}));var A1e;(function(t){function e(r){let n=r;return!!n&&Ne.objectLiteral(n)&&($3.is(n.contents)||MD.is(n.contents)||Ne.typedArray(n.contents,MD.is))&&(r.range===void 0||Li.is(r.range))}o(e,"is"),t.is=e})(A1e||(A1e={}));var p1e;(function(t){function e(r,n){return n?{label:r,documentation:n}:{label:r}}o(e,"create"),t.create=e})(p1e||(p1e={}));var m1e;(function(t){function e(r,n,...i){let s={label:r};return Ne.defined(n)&&(s.documentation=n),Ne.defined(i)?s.parameters=i:s.parameters=[],s}o(e,"create"),t.create=e})(m1e||(m1e={}));var g1e;(function(t){t.Text=1,t.Read=2,t.Write=3})(g1e||(g1e={}));var y1e;(function(t){function e(r,n){let i={range:r};return Ne.number(n)&&(i.kind=n),i}o(e,"create"),t.create=e})(y1e||(y1e={}));var C1e;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(C1e||(C1e={}));var E1e;(function(t){t.Deprecated=1})(E1e||(E1e={}));var I1e;(function(t){function e(r,n,i,s,a){let c={name:r,kind:n,location:{uri:s,range:i}};return a&&(c.containerName=a),c}o(e,"create"),t.create=e})(I1e||(I1e={}));var x1e;(function(t){function e(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}o(e,"create"),t.create=e})(x1e||(x1e={}));var b1e;(function(t){function e(n,i,s,a,c,l){let f={name:n,detail:i,kind:s,range:a,selectionRange:c};return l!==void 0&&(f.children=l),f}o(e,"create"),t.create=e;function r(n){let i=n;return i&&Ne.string(i.name)&&Ne.number(i.kind)&&Li.is(i.range)&&Li.is(i.selectionRange)&&(i.detail===void 0||Ne.string(i.detail))&&(i.deprecated===void 0||Ne.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o(r,"is"),t.is=r})(b1e||(b1e={}));var v1e;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(v1e||(v1e={}));var LD;(function(t){t.Invoked=1,t.Automatic=2})(LD||(LD={}));var T1e;(function(t){function e(n,i,s){let a={diagnostics:n};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Ne.typedArray(i.diagnostics,FD.is)&&(i.only===void 0||Ne.typedArray(i.only,Ne.string))&&(i.triggerKind===void 0||i.triggerKind===LD.Invoked||i.triggerKind===LD.Automatic)}o(r,"is"),t.is=r})(T1e||(T1e={}));var _1e;(function(t){function e(n,i,s){let a={title:n},c=!0;return typeof i=="string"?(c=!1,a.kind=i):Db.is(i)?a.command=i:a.edit=i,c&&s!==void 0&&(a.kind=s),a}o(e,"create"),t.create=e;function r(n){let i=n;return i&&Ne.string(i.title)&&(i.diagnostics===void 0||Ne.typedArray(i.diagnostics,FD.is))&&(i.kind===void 0||Ne.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Db.is(i.command))&&(i.isPreferred===void 0||Ne.boolean(i.isPreferred))&&(i.edit===void 0||p$.is(i.edit))}o(r,"is"),t.is=r})(_1e||(_1e={}));var S1e;(function(t){function e(n,i){let s={range:n};return Ne.defined(i)&&(s.data=i),s}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Li.is(i.range)&&(Ne.undefined(i.command)||Db.is(i.command))}o(r,"is"),t.is=r})(S1e||(S1e={}));var w1e;(function(t){function e(n,i){return{tabSize:n,insertSpaces:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Ne.uinteger(i.tabSize)&&Ne.boolean(i.insertSpaces)}o(r,"is"),t.is=r})(w1e||(w1e={}));var B1e;(function(t){function e(n,i,s){return{range:n,target:i,data:s}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Li.is(i.range)&&(Ne.undefined(i.target)||Ne.string(i.target))}o(r,"is"),t.is=r})(B1e||(B1e={}));var R1e;(function(t){function e(n,i){return{range:n,parent:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Li.is(i.range)&&(i.parent===void 0||t.is(i.parent))}o(r,"is"),t.is=r})(R1e||(R1e={}));var k1e;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(k1e||(k1e={}));var D1e;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(D1e||(D1e={}));var N1e;(function(t){function e(r){let n=r;return Ne.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(e,"is"),t.is=e})(N1e||(N1e={}));var Q1e;(function(t){function e(n,i){return{range:n,text:i}}o(e,"create"),t.create=e;function r(n){let i=n;return i!=null&&Li.is(i.range)&&Ne.string(i.text)}o(r,"is"),t.is=r})(Q1e||(Q1e={}));var P1e;(function(t){function e(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}o(e,"create"),t.create=e;function r(n){let i=n;return i!=null&&Li.is(i.range)&&Ne.boolean(i.caseSensitiveLookup)&&(Ne.string(i.variableName)||i.variableName===void 0)}o(r,"is"),t.is=r})(P1e||(P1e={}));var F1e;(function(t){function e(n,i){return{range:n,expression:i}}o(e,"create"),t.create=e;function r(n){let i=n;return i!=null&&Li.is(i.range)&&(Ne.string(i.expression)||i.expression===void 0)}o(r,"is"),t.is=r})(F1e||(F1e={}));var M1e;(function(t){function e(n,i){return{frameId:n,stoppedLocation:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Li.is(n.stoppedLocation)}o(r,"is"),t.is=r})(M1e||(M1e={}));var y$;(function(t){t.Type=1,t.Parameter=2;function e(r){return r===1||r===2}o(e,"is"),t.is=e})(y$||(y$={}));var C$;(function(t){function e(n){return{value:n}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&(i.tooltip===void 0||Ne.string(i.tooltip)||$3.is(i.tooltip))&&(i.location===void 0||PD.is(i.location))&&(i.command===void 0||Db.is(i.command))}o(r,"is"),t.is=r})(C$||(C$={}));var L1e;(function(t){function e(n,i,s){let a={position:n,label:i};return s!==void 0&&(a.kind=s),a}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&r0.is(i.position)&&(Ne.string(i.label)||Ne.typedArray(i.label,C$.is))&&(i.kind===void 0||y$.is(i.kind))&&i.textEdits===void 0||Ne.typedArray(i.textEdits,Nb.is)&&(i.tooltip===void 0||Ne.string(i.tooltip)||$3.is(i.tooltip))&&(i.paddingLeft===void 0||Ne.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Ne.boolean(i.paddingRight))}o(r,"is"),t.is=r})(L1e||(L1e={}));var O1e;(function(t){function e(r){return{kind:"snippet",value:r}}o(e,"createSnippet"),t.createSnippet=e})(O1e||(O1e={}));var U1e;(function(t){function e(r,n,i,s){return{insertText:r,filterText:n,range:i,command:s}}o(e,"create"),t.create=e})(U1e||(U1e={}));var H1e;(function(t){function e(r){return{items:r}}o(e,"create"),t.create=e})(H1e||(H1e={}));var q1e;(function(t){t.Invoked=0,t.Automatic=1})(q1e||(q1e={}));var G1e;(function(t){function e(r,n){return{range:r,text:n}}o(e,"create"),t.create=e})(G1e||(G1e={}));var V1e;(function(t){function e(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(e,"create"),t.create=e})(V1e||(V1e={}));var W1e;(function(t){function e(r){let n=r;return Ne.objectLiteral(n)&&a$.is(n.uri)&&Ne.string(n.name)}o(e,"is"),t.is=e})(W1e||(W1e={}));var Y1e;(function(t){function e(s,a,c,l){return new E$(s,a,c,l)}o(e,"create"),t.create=e;function r(s){let a=s;return!!(Ne.defined(a)&&Ne.string(a.uri)&&(Ne.undefined(a.languageId)||Ne.string(a.languageId))&&Ne.uinteger(a.lineCount)&&Ne.func(a.getText)&&Ne.func(a.positionAt)&&Ne.func(a.offsetAt))}o(r,"is"),t.is=r;function n(s,a){let c=s.getText(),l=i(a,(d,h)=>{let A=d.range.start.line-h.range.start.line;return A===0?d.range.start.character-h.range.start.character:A}),f=c.length;for(let d=l.length-1;d>=0;d--){let h=l[d],A=s.offsetAt(h.range.start),m=s.offsetAt(h.range.end);if(m<=f)c=c.substring(0,A)+h.newText+c.substring(m,c.length);else throw new Error("Overlapping edit");f=A}return c}o(n,"applyEdits"),t.applyEdits=n;function i(s,a){if(s.length<=1)return s;let c=s.length/2|0,l=s.slice(0,c),f=s.slice(c);i(l,a),i(f,a);let d=0,h=0,A=0;for(;d<l.length&&h<f.length;)a(l[d],f[h])<=0?s[A++]=l[d++]:s[A++]=f[h++];for(;d<l.length;)s[A++]=l[d++];for(;h<f.length;)s[A++]=f[h++];return s}o(i,"mergeSort")})(Y1e||(Y1e={}));var E$=class{static{o(this,"FullTextDocument")}constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){this._content=e.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(e.push(i),n=!1);let s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&e.push(r.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return r0.create(0,e);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>e?i=a:n=a+1}let s=n-1;return r0.create(s,e-r[s])}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line],i=e.line+1<r.length?r[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}},Ne;(function(t){let e=Object.prototype.toString;function r(m){return typeof m<"u"}o(r,"defined"),t.defined=r;function n(m){return typeof m>"u"}o(n,"undefined"),t.undefined=n;function i(m){return m===!0||m===!1}o(i,"boolean"),t.boolean=i;function s(m){return e.call(m)==="[object String]"}o(s,"string"),t.string=s;function a(m){return e.call(m)==="[object Number]"}o(a,"number"),t.number=a;function c(m,y,x){return e.call(m)==="[object Number]"&&y<=m&&m<=x}o(c,"numberRange"),t.numberRange=c;function l(m){return e.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}o(l,"integer"),t.integer=l;function f(m){return e.call(m)==="[object Number]"&&0<=m&&m<=2147483647}o(f,"uinteger"),t.uinteger=f;function d(m){return e.call(m)==="[object Function]"}o(d,"func"),t.func=d;function h(m){return m!==null&&typeof m=="object"}o(h,"objectLiteral"),t.objectLiteral=h;function A(m,y){return Array.isArray(m)&&m.every(y)}o(A,"typedArray"),t.typedArray=A})(Ne||(Ne={}));var OD=class{static{o(this,"LocationFactory")}static{this.range=Li.create.bind(Li)}static{this.position=r0.create.bind(r0)}},UD=class t{constructor(e,r,n){this.uri=e;this._textDocument=r;this.detectedLanguageId=n}static{o(this,"CopilotTextDocument")}static withChanges(e,r,n){let i=Gg.create(e.clientUri,e.clientLanguageId,n,e.getText());return Gg.update(i,r,n),new t(e.uri,i,e.detectedLanguageId)}applyEdits(e){let r=Gg.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return Gg.update(r,e.map(n=>({text:n.newText,range:n.range})),this.version),new t(this.uri,r,this.detectedLanguageId)}static create(e,r,n,i,s=qge({uri:e,languageId:r})){return new t(vd(e),Gg.create(e,r,n,i),s)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this._textDocument.languageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(e){return this._textDocument.getText(e)}positionAt(e){return this._textDocument.positionAt(e)}offsetAt(e){return this._textDocument.offsetAt(e)}lineAt(e){let r=typeof e=="number"?e:e.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Li.create(r,0,r+1,0),i=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),s=Li.create(r0.create(r,0),r0.create(r,i.length)),a=i.trim().length===0;return{text:i,range:s,isEmptyOrWhitespace:a}}};u();u();u();u();var z3={isBlocked:!1,reason:"VALID_FILE"},HD={isBlocked:!1,reason:"NO_MATCHING_POLICY"},$1e={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},cE={all:"all",repo:"repo"},Vg=new Kr("contentExclusion");u();u();var qD=class{static{o(this,"PolicyEvaluator")}};u();u();u();var z1e=new Kr("repository"),lE=class t{constructor(){this.data={}}static{o(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(e){let r=this.getAll(e);return r?r[r.length-1]:void 0}getAll(e){return this.data[this.normalizeKey(e)]}add(e,r){e in this.data||(this.data[e]=[]),this.data[e].push(r)}getSectionValues(e,r){let n=`${e}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(s=>s.startsWith(n)&&s.endsWith(i)).map(s=>s.slice(n.length,-i.length))}concat(e){return this.getEntries().concat(e.getEntries()).reduce((r,[n,i])=>(i.forEach(s=>r.add(n,s)),r),new t)}normalizeKey(e){let r=e.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},mf=class{static{o(this,"GitConfigLoader")}},GD=class extends mf{constructor(r){super();this.loaders=r}static{o(this,"GitFallbackConfigLoader")}async getConfig(r,n){for(let i of this.loaders){let s=await i.getConfig(r,n);if(s)return s}}};u();var j1e=require("os");var VD=class{constructor(e){this.url=e;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{o(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return Xm.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let e=this.url.indexOf(":");return this.url.substring(0,e+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let e;try{e=Xm.parse(this.url)}catch(r){this._error=r;return}this._scheme=e.scheme,this.setAuthority(e.authority),this.setPath(e.path)}setAuthority(e){this._authority=e;let r=e.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let e=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(e&&((0,j1e.platform)()!=="win32"||(e.groups?.host?.length??0)>1)){let r=e.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(e){if(this.isADO())try{this._path=decodeURIComponent(e);return}catch{}this._path=e}};var WD=class{static{o(this,"GitRemoteResolver")}async resolveRemote(e,r){let n=await e.get(mf).getConfig(e,r);if(!n)return;let i=this.getRemotes(n),s=i.filter(a=>a.url.isGitHub());if(s.length)return s.find(a=>a.name==="origin")?.url??s[0].url;if(i.length)return i.find(a=>a.name==="origin")?.url??i[0].url}getRemotes(e){let r=this.getInsteadOfRules(e);return e.getSectionValues("remote","url").map(n=>({name:n,url:new VD(this.applyInsteadOfRules(r,e.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(e,r){for(let n of e)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(e){return e.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:e.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var VKe=100,I$=class{constructor(e,r){this.baseFolder=e;this.remote=r;this.setNWO()}static{o(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let e=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=e?.[0],this._name=e?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&e?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=e?.[1],this._owner=e?.[2],this._name=e?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=e?.[1],this._name=e?.[3]):(this._adoOrganization=e?.[0],this._owner=e?.[1],this._name=e?.[3])}}},LA=class t{constructor(e){this.ctx=e;this.remoteResolver=new WD;this.cache=new $r(VKe)}static{o(this,"RepositoryManager")}async getRepo({uri:e}){let r,n=[];do{if(this.cache.has(e.toString())){let s=this.cache.get(e);return this.updateCache(n,s),s}n.push(e.toString());let i=await this.tryGetRepoForFolder(e);if(i)return this.updateCache(n,i),i;r=e,e=uA(e)}while(e!==r);this.updateCache(n,void 0)}updateCache(e,r){e.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(e){return await this.isBaseRepoFolder(e)?new I$(typeof e=="string"?{uri:e}:e,await this.repoUrl(e)):void 0}async isBaseRepoFolder(e){return await t.getRepoConfigLocation(this.ctx,e)!==void 0}async repoUrl(e){return await this.remoteResolver.resolveRemote(this.ctx,e)}static async getRepoConfigLocation(e,r){try{let n=e.get(na),i=zs(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=zs(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(e,r,n){let s=(await e.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!s)return;let a=Jy(r,s[1]),c=zs(a,"config");if(await this.tryStat(e,c)!==void 0)return c;let l=zs(a,"config.worktree");if(await this.tryStat(e,l)!==void 0)return l;let f=zs(a,"commondir");a=Jy(a,(await e.readFileString(f)).trimEnd());let d=zs(a,"config");return await e.stat(d),d}static async tryStat(e,r){try{return await e.stat(r)}catch{return}}};u();var x$=o((t,e)=>{if(Ug.Check(t,e))return e;let r=`Typebox schema validation failed:
${[...Ug.Errors(t,e)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");u();u();u();var YD=new WeakMap;function $D(t,e){if(t==null||typeof t!="object")return String(t);let r,n="",i=0,s=Object.prototype.toString.call(t);if(s!=="[object RegExp]"&&s!=="[object Date]"&&YD.has(t))return YD.get(t);switch(YD.set(t,"~"+ ++e),s){case"[object Set]":r=Array.from(t);case"[object Array]":for(r||(r=t),n+="a";i<r.length;n+=$D(r[i++],e));break;case"[object Object]":for(n+="o",r=Object.keys(t).sort();i<r.length;n+=r[i]+$D(t[r[i++]],e));break;case"[object Map]":for(n+="o",r=Array.from(t.keys()).sort();i<r.length;n+=r[i]+$D(t.get(r[i++]),e));break;case"[object Date]":return"d"+ +t;case"[object RegExp]":return"r"+t.source+t.flags;default:throw new Error(`Unsupported value ${t}`)}return YD.set(t,n),n}o($D,"t");function zD(t){return $D(t,0)}o(zD,"r");var b$=new WeakMap;function K1e(t,e,r=zD(e)){let n,i,s=b$.get(t);s||(b$.set(t,s=[[],i=[],n=[]]),queueMicrotask(function(){let f,d=0;function h(A){for(;f=n[d++];f.r(A));}o(h,"o"),b$.delete(t),t(i).then(function(A){if(A.length!==n.length)return h(new Error("loader value length mismatch"));for(;f=A[d++],d<=A.length;f instanceof Error?n[d-1].r(f):n[d-1].s(f));},h)}));let a=s[0].indexOf(r);if(~a)return s[2][a].p;let c=s[0].push(r)-1,l=s[2][c]={};return s[1][c]=e,l.p=new Promise(function(f,d){l.s=f,l.r=d})}o(K1e,"n");var J1e=new WeakMap;function WKe(t,e,r,n=zD(r)){if(e||(e=J1e.get(t)),e||J1e.set(t,e=new Map),e.has(n))return Promise.resolve(e.get(n));let i=K1e(t,r,n);return e.set(n,i),i.catch(()=>e.delete(n)),i}o(WKe,"n");function X1e(t,e){return function(r,n){return WKe(t,e,r,n)}}o(X1e,"o");u();var Cye=yt(fye(),1);u();var K3=o(t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");u();u();var ZKe={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},J3=o(t=>t.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),eJe=o(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),dye=o(t=>t.join(""),"rangesToString"),hye=o((t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,a=!1,c=!1,l=!1,f=!1,d=r,h="";e:for(;s<t.length;){let x=t.charAt(s);if((x==="!"||x==="^")&&s===r+1){f=!0,s++;continue}if(x==="]"&&a&&!l){d=s+1;break}if(a=!0,x==="\\"&&!l){l=!0,s++;continue}if(x==="["&&!l){for(let[_,[T,S,k]]of Object.entries(ZKe))if(t.startsWith(_,s)){if(h)return["$.",!1,t.length-r,!0];s+=_.length,k?i.push(T):n.push(T),c=c||S;continue e}}if(l=!1,h){x>h?n.push(J3(h)+"-"+J3(x)):x===h&&n.push(J3(x)),h="",s++;continue}if(t.startsWith("-]",s+1)){n.push(J3(x+"-")),s+=2;continue}if(t.startsWith("-",s+1)){h=x,s+=2;continue}n.push(J3(x)),s++}if(d<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!f){let x=n[0].length===2?n[0].slice(-1):n[0];return[eJe(x),!1,d-r,!1]}let A="["+(f?"^":"")+dye(n)+"]",m="["+(f?"":"^")+dye(i)+"]";return[n.length&&i.length?"("+A+"|"+m+")":n.length?A:m,c,d-r,!0]},"parseClass");u();var Wg=o((t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var tJe=new Set(["!","?","+","*","@"]),Aye=o(t=>tJe.has(t),"isExtglobType"),rJe="(?!(?:^|/)\\.\\.?(?:$|/))",jD="(?!\\.)",nJe=new Set(["[","."]),iJe=new Set(["..","."]),oJe=new Set("().*{}+?[]^$\\!"),sJe=o(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),_$="[^/]",pye=_$+"*?",mye=_$+"+?",Pb=class t{static{o(this,"AST")}type;#e;#t;#i=!1;#n=[];#r;#o;#s;#a=!1;#c;#l;#f=!1;constructor(e,r,n={}){this.type=e,e&&(this.#t=!0),this.#r=r,this.#e=this.#r?this.#r.#e:this,this.#c=this.#e===this?n:this.#e.#c,this.#s=this.#e===this?[]:this.#e.#s,e==="!"&&!this.#e.#a&&this.#s.push(this),this.#o=this.#r?this.#r.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let e of this.#n)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#l!==void 0?this.#l:this.type?this.#l=this.type+"("+this.#n.map(e=>String(e)).join("|")+")":this.#l=this.#n.map(e=>String(e)).join("")}#h(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let e;for(;e=this.#s.pop();){if(e.type!=="!")continue;let r=e,n=r.#r;for(;n;){for(let i=r.#o+1;!n.type&&i<n.#n.length;i++)for(let s of e.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#r}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#r===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let e=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&this.#r?.type==="!")&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#r?.isStart())return!1;if(this.#o===0)return!0;let e=this.#r;for(let r=0;r<this.#o;r++){let n=e.#n[r];if(!(n instanceof t&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let e=this.#r?this.#r.#n.length:0;return this.#o===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let n of this.#n)r.copyIn(n);return r}static#u(e,r,n,i){let s=!1,a=!1,c=-1,l=!1;if(r.type===null){let m=n,y="";for(;m<e.length;){let x=e.charAt(m++);if(s||x==="\\"){s=!s,y+=x;continue}if(a){m===c+1?(x==="^"||x==="!")&&(l=!0):x==="]"&&!(m===c+2&&l)&&(a=!1),y+=x;continue}else if(x==="["){a=!0,c=m,l=!1,y+=x;continue}if(!i.noext&&Aye(x)&&e.charAt(m)==="("){r.push(y),y="";let _=new t(x,r);m=t.#u(e,_,m,i),r.push(_);continue}y+=x}return r.push(y),m}let f=n+1,d=new t(null,r),h=[],A="";for(;f<e.length;){let m=e.charAt(f++);if(s||m==="\\"){s=!s,A+=m;continue}if(a){f===c+1?(m==="^"||m==="!")&&(l=!0):m==="]"&&!(f===c+2&&l)&&(a=!1),A+=m;continue}else if(m==="["){a=!0,c=f,l=!1,A+=m;continue}if(Aye(m)&&e.charAt(f)==="("){d.push(A),A="";let y=new t(m,d);d.push(y),f=t.#u(e,y,f,i);continue}if(m==="|"){d.push(A),A="",h.push(d),d=new t(null,r);continue}if(m===")")return A===""&&r.#n.length===0&&(r.#f=!0),d.push(A),A="",r.push(...h,d),f;A+=m}return r.type=null,r.#t=void 0,r.#n=[e.substring(n-1)],f}static fromGlob(e,r={}){let n=new t(null,void 0,r);return t.#u(e,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let e=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#c.nocase&&!this.#c.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let c=(this.#c.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,c),{_src:r,_glob:e})}get options(){return this.#c}toRegExpSource(e){let r=e??!!this.#c.dot;if(this.#e===this&&this.#h(),!this.type){let l=this.isStart()&&this.isEnd(),f=this.#n.map(m=>{let[y,x,_,T]=typeof m=="string"?t.#A(m,this.#t,l):m.toRegExpSource(e);return this.#t=this.#t||_,this.#i=this.#i||T,y}).join(""),d="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&iJe.has(this.#n[0]))){let y=nJe,x=r&&y.has(f.charAt(0))||f.startsWith("\\.")&&y.has(f.charAt(2))||f.startsWith("\\.\\.")&&y.has(f.charAt(4)),_=!r&&!e&&y.has(f.charAt(0));d=x?rJe:_?jD:""}let h="";return this.isEnd()&&this.#e.#a&&this.#r?.type==="!"&&(h="(?:$|\\/)"),[d+f+h,Wg(f),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let l=this.toString();return this.#n=[l],this.type=null,this.#t=void 0,[l,Wg(this.toString()),!1,!1]}let a=!n||e||r||!jD?"":this.#d(!0);a===s&&(a=""),a&&(s=`(?:${s})(?:${a})*?`);let c="";if(this.type==="!"&&this.#f)c=(this.isStart()&&!r?jD:"")+mye;else{let l=this.type==="!"?"))"+(this.isStart()&&!r&&!e?jD:"")+pye+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;c=i+s+l}return[c,Wg(s),this.#t=!!this.#t,this.#i]}#d(e){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,a]=r.toRegExpSource(e);return this.#i=this.#i||a,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#A(e,r,n=!1){let i=!1,s="",a=!1;for(let c=0;c<e.length;c++){let l=e.charAt(c);if(i){i=!1,s+=(oJe.has(l)?"\\":"")+l;continue}if(l==="\\"){c===e.length-1?s+="\\\\":i=!0;continue}if(l==="["){let[f,d,h,A]=hye(e,c);if(h){s+=f,a=a||d,c+=h-1,r=r||A;continue}}if(l==="*"){n&&e==="*"?s+=mye:s+=pye,r=!0;continue}if(l==="?"){s+=_$,r=!0;continue}s+=sJe(l)}return[s,Wg(e),!!r,a]}};u();var S$=o((t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var ka=o((t,e,r={})=>(K3(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Fb(e,r).match(t)),"minimatch"),aJe=/^\*+([^+@!?\*\[\(]*)$/,cJe=o(t=>e=>!e.startsWith(".")&&e.endsWith(t),"starDotExtTest"),lJe=o(t=>e=>e.endsWith(t),"starDotExtTestDot"),uJe=o(t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),"starDotExtTestNocase"),fJe=o(t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),"starDotExtTestNocaseDot"),dJe=/^\*+\.\*+$/,hJe=o(t=>!t.startsWith(".")&&t.includes("."),"starDotStarTest"),AJe=o(t=>t!=="."&&t!==".."&&t.includes("."),"starDotStarTestDot"),pJe=/^\.\*+$/,mJe=o(t=>t!=="."&&t!==".."&&t.startsWith("."),"dotStarTest"),gJe=/^\*+$/,yJe=o(t=>t.length!==0&&!t.startsWith("."),"starTest"),CJe=o(t=>t.length!==0&&t!=="."&&t!=="..","starTestDot"),EJe=/^\?+([^+@!?\*\[\(]*)?$/,IJe=o(([t,e=""])=>{let r=Eye([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},"qmarksTestNocase"),xJe=o(([t,e=""])=>{let r=Iye([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},"qmarksTestNocaseDot"),bJe=o(([t,e=""])=>{let r=Iye([t]);return e?n=>r(n)&&n.endsWith(e):r},"qmarksTestDot"),vJe=o(([t,e=""])=>{let r=Eye([t]);return e?n=>r(n)&&n.endsWith(e):r},"qmarksTest"),Eye=o(([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},"qmarksTestNoExt"),Iye=o(([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),xye=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",gye={win32:{sep:"\\"},posix:{sep:"/"}},TJe=xye==="win32"?gye.win32.sep:gye.posix.sep;ka.sep=TJe;var tu=Symbol("globstar **");ka.GLOBSTAR=tu;var _Je="[^/]",SJe=_Je+"*?",wJe="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",BJe="(?:(?!(?:\\/|^)\\.).)*?",RJe=o((t,e={})=>r=>ka(r,t,e),"filter");ka.filter=RJe;var eu=o((t,e={})=>Object.assign({},t,e),"ext"),kJe=o(t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return ka;let e=ka;return Object.assign(o((n,i,s={})=>e(n,i,eu(t,s)),"m"),{Minimatch:class extends e.Minimatch{static{o(this,"Minimatch")}constructor(i,s={}){super(i,eu(t,s))}static defaults(i){return e.defaults(eu(t,i)).Minimatch}},AST:class extends e.AST{static{o(this,"AST")}constructor(i,s,a={}){super(i,s,eu(t,a))}static fromGlob(i,s={}){return e.AST.fromGlob(i,eu(t,s))}},unescape:o((n,i={})=>e.unescape(n,eu(t,i)),"unescape"),escape:o((n,i={})=>e.escape(n,eu(t,i)),"escape"),filter:o((n,i={})=>e.filter(n,eu(t,i)),"filter"),defaults:o(n=>e.defaults(eu(t,n)),"defaults"),makeRe:o((n,i={})=>e.makeRe(n,eu(t,i)),"makeRe"),braceExpand:o((n,i={})=>e.braceExpand(n,eu(t,i)),"braceExpand"),match:o((n,i,s={})=>e.match(n,i,eu(t,s)),"match"),sep:e.sep,GLOBSTAR:tu})},"defaults");ka.defaults=kJe;var bye=o((t,e={})=>(K3(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,Cye.default)(t)),"braceExpand");ka.braceExpand=bye;var DJe=o((t,e={})=>new Fb(t,e).makeRe(),"makeRe");ka.makeRe=DJe;var NJe=o((t,e,r={})=>{let n=new Fb(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t},"match");ka.match=NJe;var yye=/[?*]|[+@!]\(.*?\)|\[|\]/,QJe=o(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),Fb=class{static{o(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){K3(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||xye,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,a,c)=>{if(this.isWindows&&this.windowsNoMagicRoot){let l=s[0]===""&&s[1]===""&&(s[2]==="?"||!yye.test(s[2]))&&!yye.test(s[3]),f=/^[a-z]:/i.test(s[0]);if(l)return[...s.slice(0,4),...s.slice(4).map(d=>this.parse(d))];if(f)return[s[0],...s.slice(1).map(d=>this.parse(d))]}return s.map(l=>this.parse(l))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let a=this.set[s];a[0]===""&&a[1]===""&&this.globParts[s][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let s=e[i];i===1&&s===""&&e[0]===""||(s==="."||s==="")&&(r=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let c=n[i+1],l=n[i+2],f=n[i+3];if(c!==".."||!l||l==="."||l===".."||!f||f==="."||f==="..")continue;r=!0,n.splice(i,1);let d=n.slice(0);d[i]="**",e.push(d),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let c=n[a];a===1&&c===""&&n[0]===""||(c==="."||c==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let a=n[s-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let l=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...l),n.length===0&&n.push(""),s-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){let i=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(i){e[r]=[],e[n]=i;break}}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let i=0,s=0,a=[],c="";for(;i<e.length&&s<r.length;)if(e[i]===r[s])a.push(c==="b"?r[s]:e[i]),i++,s++;else if(n&&e[i]==="**"&&r[s]===e[i+1])a.push(e[i]),i++;else if(n&&r[s]==="**"&&e[i]===r[s+1])a.push(r[s]),s++;else if(e[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(c==="b")return!1;c="a",a.push(e[i]),i++,s++}else if(r[s]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(c==="a")return!1;c="b",a.push(r[s]),i++,s++}else return!1;return e.length===r.length&&a}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){let i=this.options;if(this.isWindows){let x=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),_=!x&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),T=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),S=!T&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),k=_?3:x?0:void 0,N=S?3:T?0:void 0;if(typeof k=="number"&&typeof N=="number"){let[P,L]=[e[k],r[N]];P.toLowerCase()===L.toLowerCase()&&(r[N]=P,N>k?r=r.slice(N):k>N&&(e=e.slice(k)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var a=0,c=0,l=e.length,f=r.length;a<l&&c<f;a++,c++){this.debug("matchOne loop");var d=r[c],h=e[a];if(this.debug(r,d,h),d===!1)return!1;if(d===tu){this.debug("GLOBSTAR",[r,d,h]);var A=a,m=c+1;if(m===f){for(this.debug("** at the end");a<l;a++)if(e[a]==="."||e[a]===".."||!i.dot&&e[a].charAt(0)===".")return!1;return!0}for(;A<l;){var y=e[A];if(this.debug(`
globstar while`,e,A,r,m,y),this.matchOne(e.slice(A),r.slice(m),n))return this.debug("globstar found match!",A,l,y),!0;if(y==="."||y===".."||!i.dot&&y.charAt(0)==="."){this.debug("dot detected!",e,A,r,m);break}this.debug("globstar swallow a segment, and continue"),A++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,A,r,m),A===l))}let x;if(typeof d=="string"?(x=h===d,this.debug("string match",d,h,x)):(x=d.test(h),this.debug("pattern match",d,h,x)),!x)return!1}if(a===l&&c===f)return!0;if(a===l)return n;if(c===f)return a===l-1&&e[a]==="";throw new Error("wtf?")}braceExpand(){return bye(this.pattern,this.options)}parse(e){K3(e);let r=this.options;if(e==="**")return tu;if(e==="")return"";let n,i=null;(n=e.match(gJe))?i=r.dot?CJe:yJe:(n=e.match(aJe))?i=(r.nocase?r.dot?fJe:uJe:r.dot?lJe:cJe)(n[1]):(n=e.match(EJe))?i=(r.nocase?r.dot?xJe:IJe:r.dot?bJe:vJe)(n):(n=e.match(dJe))?i=r.dot?AJe:hJe:(n=e.match(pJe))&&(i=mJe);let s=Pb.fromGlob(e,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?SJe:r.dot?wJe:BJe,i=new Set(r.nocase?["i"]:[]),s=e.map(l=>{let f=l.map(d=>{if(d instanceof RegExp)for(let h of d.flags.split(""))i.add(h);return typeof d=="string"?QJe(d):d===tu?tu:d._src});return f.forEach((d,h)=>{let A=f[h+1],m=f[h-1];d!==tu||m===tu||(m===void 0?A!==void 0&&A!==tu?f[h+1]="(?:\\/|"+n+"\\/)?"+A:f[h]=n:A===void 0?f[h-1]=m+"(?:\\/|"+n+")?":A!==tu&&(f[h-1]=m+"(?:\\/|\\/"+n+"\\/)"+A,f[h+1]=tu))}),f.filter(d=>d!==tu).join("/")}).join("|"),[a,c]=e.length>1?["(?:",")"]:["",""];s="^"+a+s+c+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let a=i[i.length-1];if(!a)for(let c=i.length-2;!a&&c>=0;c--)a=i[c];for(let c=0;c<s.length;c++){let l=s[c],f=i;if(n.matchBase&&l.length===1&&(f=[a]),this.matchOne(f,l,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return ka.defaults(e).Minimatch}};ka.AST=Pb;ka.Minimatch=Fb;ka.escape=S$;ka.unescape=Wg;var w$="contentExclusion",KD=class extends qD{static{o(this,"CopilotContentExclusion")}#e;#t=new $r(1e4);#i=new $r(200);constructor(e){super(),this.#e=e}async evaluate(e,r){try{e=Jy(e).toString();let n=await this.getGitRepo({uri:e}),i=await this.#n(n?.url??cE.all);if(!i)return HD;let s=n?.baseFolder?.uri??"file://",a=this.evaluateFilePathRules(e,s,i);if(a.isBlocked)return a;let c=this.evaluateTextBasedRules(e,i,r);if(c.isBlocked)return c}catch(n){return Vg.exception(this.#e,n,`${w$}.evaluate`),$1e}return z3}evaluateFilePathRules(e,r,n){let i=e;if(this.#t.has(i))return this.#t.get(i);let s=z3,a,c=vH(e.replace(r,""));e:for(let l of n)for(let f of l.paths)if(ka(c,f,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){s=B$(l,"FILE_BLOCKED_PATH"),a=f;break e}return Vg.debug(this.#e,`Evaluated path-based exclusion rules for <${e}>`,{result:s,baseUri:r,fileName:c,matchingPattern:a}),this.#t.set(i,s),s}evaluateTextBasedRules(e,r,n){let i=r.filter(c=>c.ifAnyMatch),s=r.filter(c=>c.ifNoneMatch);if(!n||i.length===0&&s.length===0)return z3;let a=this.evaluateFileContent(i,s,n);return Vg.debug(this.#e,`Evaluated text-based exclusion rules for <${e}>`,{result:a}),a}evaluateFileContent(e,r,n){for(let i of e)if(i.ifAnyMatch&&i.ifAnyMatch.length>0&&i.ifAnyMatch.map(a=>vye(a)).some(a=>a.test(n)))return B$(i,"FILE_BLOCKED_TEXT_BASED");for(let i of r)if(i.ifNoneMatch&&i.ifNoneMatch.length>0&&!i.ifNoneMatch.map(a=>vye(a)).some(a=>a.test(n)))return B$(i,"FILE_BLOCKED_TEXT_BASED");return z3}async refresh(){try{let e=[...this.#i.keys()];this.reset(),await Promise.all(e.map(r=>this.#o(r)))}catch(e){Td(this.#e,e,`${w$}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#n(e){if(this.#r?.length)return this.#r;let r=await this.#o(e.toLowerCase());if(r.length!==0)return r}#r;setTestingRules(e){this.#r=e}#o=X1e(async e=>{let r=await this.#e.get(vo).getGitHubSession();if(!r)throw new wm("No token found");let n=r.devOverride?.contentRestrictionsUrl??"copilot_internal/content_exclusion",i=new URL(n,r.apiUrl),s=e.includes(cE.all);e.filter(f=>f!==cE.all).length>0&&i.searchParams.set("repos",e.filter(f=>f!==cE.all).join(",")),i.searchParams.set("scope",s?cE.all:cE.repo);let c=await m4(this.#e,r,i.href),l=await c.json();if(!c.ok){if(c.status===404)return Array.from(e,()=>[]);throw this.#s("fetch.error",{message:l.message}),new cA(c)}return this.#s("fetch.success"),x$(OJe,l).map(f=>f.rules)},this.#i);async getGitRepo(e){let n=await this.#e.get(LA).getRepo(uA(e));if(!n||!n?.remote)return;let i=n.remote.getUrlForApi();if(i)return{baseFolder:n.baseFolder,url:i}}#s(e,r,n){nr(this.#e,`${w$}.${e}`,nn.createAndMarkAsIssued(r,n))}};function vye(t){if(!t.startsWith("/")&&!t.endsWith("/"))return new RegExp(t);let e=t.slice(1,t.lastIndexOf("/")),r=t.slice(t.lastIndexOf("/")+1);return new RegExp(e,r)}o(vye,"stringToRegex");function B$(t,e){return{isBlocked:!0,message:`Your ${t.source.type.toLowerCase()} '${t.source.name}' has disabled Copilot for this file`,reason:e}}o(B$,"fileBlockedEvaluationResult");var PJe=J.Object({name:J.String(),type:J.String()}),FJe=J.Object({paths:J.Array(J.String()),ifNoneMatch:J.Optional(J.Array(J.String())),ifAnyMatch:J.Optional(J.Array(J.String())),source:PJe}),MJe=J.Array(FJe),LJe=J.Object({rules:MJe,last_updated_at:J.String(),scope:J.String()}),OJe=J.Array(LJe);var jd=class{constructor(e){this.ctx=e;this.#e=!1;this.#t=new KD(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async e=>{if(!this.#e)return;if(!e.document){this.updateStatusIcon(!1);return}let r=await this.ctx.get(ti).getTextDocumentValidation(e.document),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");let r=aA(this.ctx,this.onDidChangeActiveTextEditor,"Content exclusions focus change");this.ctx.get(ti).onDidFocusTextDocument(r),Ia(this.ctx,n=>{this.#e=n.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{o(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(e,r,n){if(!this.#e)return{isBlocked:!1};let i=[],s=o(async(l,f)=>{let d=performance.now(),h=await f.evaluate(e,r),A=performance.now();return i.push({key:l,result:h,elapsedMs:Math.round(A-d)}),h},"track"),c=(await Promise.all([s("contentExclusion.evaluate",this.#t)])).find(l=>l?.isBlocked)??{isBlocked:!1};try{for(let l of i)this.#i(l.key,e,l.result,l.elapsedMs)}catch(l){Vg.error(this.ctx,"Error tracking telemetry",l)}return n==="UPDATE"&&this.updateStatusIcon(c.isBlocked,c.message),c}updateStatusIcon(e,r){this.#e&&(e?this.ctx.get(Cs).setInactive(r??"Copilot is disabled"):this.ctx.get(Cs).clearInactive())}#i(e,r,n,i){let s=r+e;if(this.evaluateResultCache.get(s)===n.reason)return!1;if(this.evaluateResultCache.set(s,n.reason??"UNKNOWN"),n.reason===HD.reason)return Vg.debug(this.ctx,`[${e}] No matching policy for this repository. uri: ${r}`),!1;let c={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},l={contentExclusionEvalMs:i};return nr(this.ctx,e,nn.createAndMarkAsIssued(c,l)),nr(this.ctx,e,nn.createAndMarkAsIssued({...c,path:r},l),1),Vg.debug(this.ctx,`[${e}] ${r}`,n),!0}setTestingRules(e){this.#t.setTestingRules(e)}set __contentExclusions(e){this.#t=e}get __contentExclusions(){return this.#t}};async function X3(t,e,r){let n=await t.get(jd).evaluate(e.uri,r);return n.isBlocked?{status:"invalid",reason:n.message??"Document is blocked by repository policy"}:{status:"valid"}}o(X3,"isDocumentValid");var ti=class{constructor(e){this.ctx=e}static{o(this,"TextDocumentManager")}async textDocuments(){let e=this.getTextDocumentsUnsafe(),r=[];for(let n of e)(await X3(this.ctx,n,n.getText())).status==="valid"&&r.push(n);return r}getTextDocumentUnsafe(e){let r=vd(e.uri);return this.getTextDocumentsUnsafe().find(n=>n.uri===r)}async getTextDocument(e){return this.getTextDocumentWithValidation(e).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(e,r){return X3(this.ctx,e,r)}async getTextDocumentValidation(e){try{let r=this.getTextDocumentUnsafe(e)?.getText()??await this.readTextDocumentFromDisk(e.uri);return r===void 0?this.notFoundResult(e):this.validateTextDocument(e,r)}catch{return this.notFoundResult(e)}}async getTextDocumentWithValidation(e){let r=this.getTextDocumentUnsafe(e);if(!r)return this.notFoundResult(e);let n=await this.validateTextDocument(e,r.getText());return n.status==="valid"?{status:"valid",document:r}:n}notFoundResult({uri:e}){return{status:"notfound",message:`Document for URI could not be found: ${e}`}}async readTextDocumentFromDisk(e){try{if((await this.ctx.get(na).stat(e)).size>5*1024*1024)return}catch{return}return await this.ctx.get(na).readFileString(e)}getWorkspaceFolder(e){let r=vd(e.uri);return this.getWorkspaceFolders().find(n=>r.startsWith(vd(n.uri)))}getRelativePath(e){if(e.uri.startsWith("untitled:"))return;let r=vd(e.uri);for(let n of this.getWorkspaceFolders()){let i=vd(n.uri).replace(/[#?].*/,"").replace(/\/?$/,"/");if(r.startsWith(i))return r.slice(i.length)}return Zm(r)}};var Yg=class{constructor(e){this.ctx=e}static{o(this,"FileReader")}getRelativePath(e){return this.ctx.get(ti).getRelativePath(e)??Zm(e.uri)}getOrReadTextDocument(e){return this.readFile(e.uri)}getOrReadTextDocumentWithFakeClientProperties(e){return this.readFile(e.uri)}async readFile(e){let n=await this.ctx.get(ti).getTextDocumentWithValidation({uri:e});if(n.status!=="notfound")return n;try{if(await this.getFileSizeMB(e)>1)return{status:"notfound",message:"File too large"};let s=await this.doReadFile(e),a=await X3(this.ctx,{uri:e},s);return a.status==="valid"?{status:"valid",document:UD.create(e,"UNKNOWN",-1,s)}:a}catch{return{status:"notfound",message:"File not found"}}}async doReadFile(e){return await this.ctx.get(na).readFileString(e)}async getFileSizeMB(e){return(await this.ctx.get(na).stat(e)).size/1024/1024}};u();u();var OA=class{constructor(){this.resolve=o(()=>{},"resolve");this.reject=o(()=>{},"reject");this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}static{o(this,"Deferred")}};function Mb(t,e=void 0){return new Promise(r=>setTimeout(()=>r(e),t))}o(Mb,"delay");u();var R$=class{constructor(){this.observers=new Set}static{o(this,"Subject")}subscribe(e){return this.observers.add(e),()=>this.observers.delete(e)}next(e){for(let r of this.observers)r.next(e)}error(e){for(let r of this.observers)r.error?.(e)}complete(){for(let e of this.observers)e.complete?.()}},XD=class extends R${static{o(this,"ReplaySubject")}subscribe(e){let r=super.subscribe(e);return this._value!==void 0&&e.next(this._value),r}next(e){this._value=e,super.next(e)}};var Lb=class{constructor(e){this.ctx=e;this.#e=new Kr("AsyncCompletionManager");this.requests=new $r(100);this.mostRecentRequestId=""}static{o(this,"AsyncCompletionManager")}#e;clear(){this.requests.clear()}shouldWaitForAsyncCompletions(e,r){for(let[n,i]of this.requests)if(k$(e,r,i))return!0;return!1}updateCompletion(e,r){let n=this.requests.get(e);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(e,r,n,i,s){this.#e.debug(this.ctx,`[${e}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let a=new XD;return this.requests.set(e,{state:2,cancellationTokenSource:i,headerRequestId:e,prefix:r,prompt:n,subject:a}),s.then(c=>{if(this.requests.delete(e),c.type!=="success"){this.#e.debug(this.ctx,`[${e}] Request failed with`,c.reason),a.error(c.reason);return}let l={cancellationTokenSource:i,headerRequestId:e,prefix:r,prompt:n,subject:a,choice:c.value[0],result:c,state:0,allChoicesPromise:c.value[1]};this.requests.set(e,l),a.next(l),a.complete()}).catch(c=>{this.#e.error(this.ctx,`[${e}] Request errored with`,c),this.requests.delete(e),a.error(c)})}getFirstMatchingRequestWithTimeout(e,r,n,i,s){let a=this.ctx.get(Sr).asyncCompletionsTimeout(s);return a<0?(this.#e.debug(this.ctx,`[${e}] Waiting for completions without timeout`),this.getFirstMatchingRequest(e,r,n,i)):(this.#e.debug(this.ctx,`[${e}] Waiting for completions with timeout of ${a}ms`),Promise.race([this.getFirstMatchingRequest(e,r,n,i),new Promise(c=>setTimeout(()=>c(null),a))]).then(c=>{if(c===null){this.#e.debug(this.ctx,`[${e}] Timed out waiting for completion`);return}return c}))}async getFirstMatchingRequest(e,r,n,i){i||(this.mostRecentRequestId=e);let s=!1,a=new OA,c=new Map,l=o(d=>()=>{let h=c.get(d);h!==void 0&&(h(),c.delete(d),!s&&c.size===0&&(s=!0,this.#e.debug(this.ctx,`[${e}] No matching completions found`),a.resolve(void 0)))},"finishRequest"),f=o(d=>{if(k$(r,n,d)){if(d.state===0){let h=r.substring(d.prefix.length),{completionText:A}=d.choice;if(!A.startsWith(h)||A.length<=h.length){l(d.headerRequestId)();return}A=A.substring(h.length),d.choice.telemetryData.measurements.foundOffset=h.length,this.#e.debug(this.ctx,`[${e}] Found completion at offset ${h.length}: ${JSON.stringify(A)}`),a.resolve([{...d.choice,completionText:A},d.allChoicesPromise]),s=!0}}else this.cancelRequest(e,d),l(d.headerRequestId)()},"next");for(let[d,h]of this.requests)k$(r,n,h)?c.set(d,h.subject.subscribe({next:f,error:l(d),complete:l(d)})):this.cancelRequest(e,h);return a.promise.finally(()=>{for(let d of c.values())d()})}cancelRequest(e,r){e===this.mostRecentRequestId&&r.state!==0&&(this.#e.debug(this.ctx,`[${e}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function k$(t,e,r){if(r.prompt.suffix!==e.suffix||!t.startsWith(r.prefix))return!1;let n=t.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}o(k$,"isCandidate");u();u();var eS=class{constructor(e){this.maxSize=e;this.root=new Z3;this.leafNodes=new Set}static{o(this,"LRURadixTrie")}set(e,r){let{node:n,remainingKey:i}=this.findClosestNode(e);if(i.length>0){for(let[s,a]of n.children)if(s.startsWith(i)){let c=s.slice(0,i.length),l=new Z3;n.removeChild(s),n.addChild(c,l),l.addChild(s.slice(c.length),a),n=l,i=i.slice(c.length);break}if(i.length>0){let s=new Z3;n.addChild(i,s),n=s}}n.value=r,this.leafNodes.add(n),this.leafNodes.size>this.maxSize&&this.evictLeastRecentlyUsed()}findAll(e){return this.findClosestNode(e).stack.map(({node:r,remainingKey:n})=>r.value!==void 0?{remainingKey:n,value:r.value}:void 0).filter(r=>r!==void 0)}delete(e){let{node:r,remainingKey:n}=this.findClosestNode(e);n.length>0||this.deleteNode(r)}findClosestNode(e){let r=!0,n=this.root,i=[{node:n,remainingKey:e}];for(;e.length>0&&r;){r=!1;for(let[s,a]of n.children)if(e.startsWith(s)){e=e.slice(s.length),i.unshift({node:a,remainingKey:e}),n=a,r=!0;break}}return{node:n,remainingKey:e,stack:i}}deleteNode(e){if(e.value=void 0,this.leafNodes.delete(e),e.parent===void 0||e.childCount>1)return;let{node:r,edge:n}=e.parent;if(e.childCount===1){let[s,a]=Array.from(e.children)[0];e.removeChild(s),r.removeChild(n),r.addChild(n+s,a);return}if(r.removeChild(n),r.parent===void 0)return;let i=r.parent;if(r.value===void 0&&r.childCount===1){let[s,a]=Array.from(r.children)[0],c=i.edge+s;r.removeChild(s),i.node.removeChild(i.edge),i.node.addChild(c,a)}}evictLeastRecentlyUsed(){let e=this.findLeastRecentlyUsed();e&&this.deleteNode(e)}findLeastRecentlyUsed(){let e;for(let r of this.leafNodes)(e===void 0||r.touched<e.touched)&&(e=r);return e}},Z3=class{constructor(){this._children=new Map;this._touched=performance.now()}static{o(this,"LRURadixNode")}get children(){return this._children.entries()}get childCount(){return this._children.size}addChild(e,r){this._children.set(e,r),r.parent={node:this,edge:e}}removeChild(e){let r=this._children.get(e);r&&(r.parent=void 0),this._children.delete(e)}get value(){return this.touch(),this._value}set value(e){this.touch(),this._value=e}get touched(){return this._touched}touch(){this._touched=performance.now()}};var Ob=class{constructor(){this.cache=new eS(100)}static{o(this,"CompletionsCache")}findAll(e,r){return this.cache.findAll(e).flatMap(({remainingKey:n,value:i})=>i.content.filter(s=>s.suffix===r&&s.choice.completionText.startsWith(n)&&s.choice.completionText.length>n.length).map(s=>({...s.choice,completionText:s.choice.completionText.slice(n.length),telemetryData:s.choice.telemetryData.extendedBy({},{foundOffset:n.length})})))}append(e,r,n){let i=this.cache.findAll(e);if(i.length>0&&i[0].remainingKey===""){let s=i[0].value.content;this.cache.set(e,{content:[...s,{suffix:r,choice:n}]})}else this.cache.set(e,{content:[{suffix:r,choice:n}]})}clear(){this.cache=new eS(100)}};u();u();u();u();u();u();u();u();u();async function*ZD(t,e){for await(let r of t)yield e(r)}o(ZD,"asyncIterableMap");async function*Tye(t,e){for await(let r of t)await e(r)&&(yield r)}o(Tye,"asyncIterableFilter");u();function _ye(t,e,r){let n=r.extendedBy({messagesJson:JSON.stringify(e)});return nr(t,"engine.messages",n,1)}o(_ye,"logEngineMessages");u();u();function Sye(t){if(t instanceof Error)return t.stack?t.stack:t.message;if(typeof t=="string")return t;try{return JSON.stringify(t)}catch{return String(t)}}o(Sye,"toString");var nl=new Kr("streamChoices"),N$=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new M$;this.tool_calls=new P$;this.function_call=new F$;this.copilot_references=[];this.yielded=!1}static{o(this,"APIJsonDataStreaming")}append(e){e.text&&this.text.push(e.text),e.delta?.content&&e.delta.role!=="function"&&this.text.push(e.delta.content),e.logprobs&&(this.tokens.push(e.logprobs.tokens??[]),this.text_offset.push(e.logprobs.text_offset??[]),this.logprobs.push(e.logprobs.token_logprobs??[]),this.top_logprobs.push(e.logprobs.top_logprobs??[])),e.copilot_annotations&&this.copilot_annotations.update(e.copilot_annotations),e.delta?.copilot_annotations&&this.copilot_annotations.update(e.delta.copilot_annotations),e.delta?.tool_calls&&e.delta.tool_calls.length>0&&this.tool_calls.update(e.delta.tool_calls),e.delta?.function_call&&this.function_call.update(e.delta.function_call),e?.finish_reason&&(this.finish_reason=e.finish_reason)}};function UJe(t){let e=t.split(`
`),r=e.pop();return[e.filter(n=>n!=""),r]}o(UJe,"splitChunk");var Q$=class{constructor(){this.arguments=[]}static{o(this,"StreamingToolCall")}update(e){e.id&&(this.id=e.id),e.function.name&&(this.name=e.function.name),this.arguments.push(e.function.arguments)}},P$=class{constructor(){this.toolCalls=[]}static{o(this,"StreamingToolCalls")}update(e){e.forEach(r=>{let n=this.toolCalls.length>0?this.toolCalls[this.toolCalls.length-1]:void 0;(!n||r.id&&n.id!==r.id)&&(n=new Q$,this.toolCalls.push(n)),n.update(r)})}getToolCalls(){return this.toolCalls}},F$=class{constructor(){this.arguments=[]}static{o(this,"StreamingFunctionCall")}update(e){e.name&&(this.name=e.name),this.arguments.push(e.arguments)}},M$=class{constructor(){this.current={}}static{o(this,"StreamCopilotAnnotations")}update(e){Object.entries(e).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(e,r){this.current[e]||(this.current[e]=[]);let n=this.current[e],i=n.findIndex(s=>s.id===r.id);i>=0?n[i]=r:n.push(r)}for(e){return this.current[e]??[]}},Ub=class t{constructor(e,r,n,i,s,a,c){this.ctx=e;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=s;this.dropCompletionReasons=a;this.cancellationToken=c;this.requestId=tS(this.response);this.stats=new O$;this.solutions={}}static{o(this,"SSEProcessor")}static create(e,r,n,i,s,a){let c=n.body();if(c===null)throw new Error("No response body available");return typeof c.setEncoding=="function"?c.setEncoding("utf8"):c=c.pipeThrough(new TextDecoderStream),new t(e,r,n,c,i,s??[],a)}async*processSSE(e=()=>{}){try{yield*this.processSSEInner(e)}finally{this.cancel(),nl.debug(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),nl.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(e){let r="",n=null,i,s;e:for await(let a of this.body){if(this.maybeCancel("after awaiting body chunk"))return;nl.debug(this.ctx,"chunk",a.toString());let[c,l]=UJe(r+a.toString());r=l;for(let f of c){let d=f.slice(5).trim();if(d=="[DONE]"){yield*this.finishSolutions(n,i,s,e);return}n=null;let h;try{h=JSON.parse(d)}catch{nl.error(this.ctx,"Error parsing JSON stream data",f);continue}if(h.copilot_confirmation&&HJe(h.copilot_confirmation)&&await e("",{text:"",requestId:this.requestId,copilotConfirmation:h.copilot_confirmation}),h.copilot_references&&await e("",{text:"",requestId:this.requestId,copilotReferences:h.copilot_references}),h.choices===void 0){!h.copilot_references&&!h.copilot_confirmation&&(h.error!==void 0?nl.error(this.ctx,"Error in response:",h.error.message):nl.error(this.ctx,"Unexpected response with no choices or error: "+d)),h.copilot_errors&&await e("",{text:"",requestId:this.requestId,copilotErrors:h.copilot_errors});continue}if(i===void 0&&h.model&&(i=h.model),s===void 0&&h.usage&&(s=h.usage),this.allSolutionsDone()){r="";break e}for(let A=0;A<h.choices?.length;A++){let m=h.choices[A];nl.debug(this.ctx,"choice",m),this.stats.add(m.index),m.index in this.solutions||(this.solutions[m.index]=new N$);let y=this.solutions[m.index];if(y==null)continue;y.append(m);let x=this.asSolutionDecision(),_=m.text?.indexOf(`
`)>-1||m.delta?.content?.indexOf(`
`)>-1;if(m.finish_reason||_){let S=y.text.join("");if(x=this.asSolutionDecision(await e(S,{text:S,index:m.index,requestId:this.requestId,annotations:y.copilot_annotations,copilotReferences:y.copilot_references,getAPIJsonData:o(()=>L$(y),"getAPIJsonData"),finished:!!m.finish_reason,telemetryData:this.telemetryData})),this.maybeCancel("after awaiting finishedCb"))return}if(m.finish_reason&&y.function_call.name!==void 0){n=m.finish_reason;continue}if(m.finish_reason&&(x.yieldSolution=!0,x.continueStreaming=!1),!x.yieldSolution)continue;let T=m.finish_reason??"client-trimmed";if(nr(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:T,engineName:i??"",engineChoiceSource:S3(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(m.finish_reason)?this.solutions[m.index]=null:y.yielded||(this.stats.markYielded(m.index),yield{solution:y,finishOffset:x.finishOffset,reason:m.finish_reason,requestId:this.requestId,index:m.index,model:i,usage:s},y.yielded=!0),this.maybeCancel("after yielding finished choice"))return;x.continueStreaming||(this.solutions[m.index]=null)}}}for(let[a,c]of Object.entries(this.solutions)){let l=Number(a);if(c!=null&&(nr(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:i??""})),this.stats.markYielded(l),yield{solution:c,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:l,model:i,usage:s},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let a=JSON.parse(r);a.error!==void 0&&nl.error(this.ctx,`Error in response: ${a.error.message}`,a.error)}catch{nl.error(this.ctx,`Error parsing extraData: ${r}`)}}asSolutionDecision(e){return e===void 0?{yieldSolution:!1,continueStreaming:!0}:typeof e=="number"?{yieldSolution:!0,continueStreaming:!1,finishOffset:e}:e}async*finishSolutions(e,r,n,i){for(let[s,a]of Object.entries(this.solutions)){let c=Number(s);if(a==null)continue;let l=a.text.join("");if(await i(l,{text:l,index:c,requestId:this.requestId,annotations:a.copilot_annotations,copilotReferences:a.copilot_references,getAPIJsonData:o(()=>L$(a),"getAPIJsonData"),finished:!0,telemetryData:this.telemetryData}),!a.yielded&&(this.stats.markYielded(c),nr(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:e??"DONE",engineName:r??""})),yield{solution:a,finishOffset:void 0,reason:e??"DONE",requestId:this.requestId,index:c,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(e){return this.cancellationToken?.isCancellationRequested?(nl.debug(this.ctx,"Cancelled: "+e),this.cancel(),!0):!1}cancel(){this.body&&"destroy"in this.body&&typeof this.body.destroy=="function"?this.body.destroy():this.body instanceof ReadableStream&&this.body.cancel()}allSolutionsDone(){let e=Object.values(this.solutions);return e.length==this.expectedNumChoices&&e.every(r=>r==null)}};function eN(t,e,r){let n=e.solution.text.join(""),i=!1;e.finishOffset!==void 0&&(nl.debug(t,`solution ${e.index}: early finish at offset ${e.finishOffset}`),n=n.substring(0,e.finishOffset),i=!0),nl.info(t,`solution ${e.index} returned. finish reason: [${e.reason}]`),nl.debug(t,`solution ${e.index} details: finishOffset: [${e.finishOffset}]`);let s=L$(e.solution);return H$(t,n,s,e.index,e.requestId,i,r)}o(eN,"prepareSolutionForReturn");function L$(t){let e=t.text.join(""),r=qJe(t),n=GJe(t),i=t.copilot_annotations.current,s={text:e,tokens:t.text,tool_calls:r,function_call:n,copilot_annotations:i,finish_reason:t.finish_reason??"stop"};if(t.logprobs.length===0)return s;let a=t.logprobs.reduce((d,h)=>d.concat(h),[]),c=t.top_logprobs.reduce((d,h)=>d.concat(h),[]),l=t.text_offset.reduce((d,h)=>d.concat(h),[]),f=t.tokens.reduce((d,h)=>d.concat(h),[]);return{...s,logprobs:{token_logprobs:a,top_logprobs:c,text_offset:l,tokens:f}}}o(L$,"convertToAPIJsonData");function HJe(t){return typeof t.title=="string"&&typeof t.message=="string"&&!!t.confirmation}o(HJe,"isCopilotConfirmation");function wye(t,e,r){if(!t)return{};try{return JSON.parse(t)}catch(n){throw new Error(`Failed to parse JSON for ${e} '${r}': ${Sye(n)}. Input: '${t}'`)}}o(wye,"parseCallArguments");function qJe(t){let e=[],r=t.tool_calls.getToolCalls();for(let n of r)if(n.name){let i=n.arguments.join("").trim(),s=wye(i,"tool call",n.name);e.push({type:"function",function:{name:n.name,arguments:s},approxNumTokens:n.arguments.length+1,id:n.id})}return e}o(qJe,"extractToolCalls");function GJe(t){if(t.function_call.name){let e=t.function_call.arguments.join("").trim(),r=wye(e,"function call",t.function_call.name);return{name:t.function_call.name,arguments:r}}}o(GJe,"extractFunctionCall");var O$=class{constructor(){this.choices=new Map}static{o(this,"ChunkStats")}getChoiceStats(e){let r=this.choices.get(e);return r||(r=new U$,this.choices.set(e,r)),r}add(e){this.getChoiceStats(e).increment()}markYielded(e){this.getChoiceStats(e).markYielded()}toString(){return Array.from(this.choices.entries()).map(([e,r])=>`${e}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},U$=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{o(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};u();function VJe(t,e){return t!==null&&typeof t=="object"&&e in t}o(VJe,"hasKey");function Kd(t,e){return VJe(t,e)?t[e]:void 0}o(Kd,"getKey");var Rye=yt(Ea());var wo=new Kr("fetchCompletions");function tS(t){return{headerRequestId:t.headers.get("x-request-id")||"",serverExperiments:t.headers.get("X-Copilot-Experiment")||"",deploymentId:t.headers.get("azureml-model-deployment")||""}}o(tS,"getRequestId");function q$(t){let e=t.headers.get("openai-processing-ms");return e?parseInt(e,10):0}o(q$,"getProcessingTime");function kye(t){switch(t){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(kye,"uiKindToIntent");var UA=class{static{o(this,"OpenAIFetcher")}};function WJe(t,e,r,n){return I4(t,e,"proxy","v1/engines",r,n)}o(WJe,"getProxyEngineUrl");function Dye(t,e,r,n){for(let[i,s]of Object.entries(t)){if(r.includes(i))continue;let a=s;if(i==="extra"&&n){let c={...a};for(let l of n)delete c[l];a=c}e.properties[`request.option.${i}`]=JSON.stringify(a)??"undefined"}}o(Dye,"sanitizeRequestOptionTelemetry");async function Bye(t,e,r,n,i,s,a,c,l,f,d){let h=t.get(Cs),A=WJe(t,a,r,n),m=l.extendedBy({endpoint:n,engineName:r,uiKind:c},YY(e));Dye(s,m,["prompt","suffix"],["context"]),m.properties.headerRequestId=i,nr(t,"request.sent",m);let y=t0(),x=kye(c);return CH(t,A,a.token,x,i,s,f,d).then(_=>{let T=tS(_);m.extendWithRequestId(T);let S=t0()-y;return m.measurements.totalTimeMs=S,wo.info(t,`Request ${i} at <${A}> finished with ${_.status} status after ${S}ms`),m.properties.status=String(_.status),wo.debug(t,"request.response properties",m.properties),wo.debug(t,"request.response measurements",m.measurements),wo.debug(t,"prompt:",e),nr(t,"request.response",m),_}).catch(_=>{if(zm(_))throw nr(t,"request.cancel",m),_;h.setWarning(Kd(_,"message")??"");let T=m.extendedBy({error:"Network exception"});nr(t,"request.shownWarning",T),m.properties.message=String(Kd(_,"name")??""),m.properties.code=String(Kd(_,"code")??""),m.properties.errno=String(Kd(_,"errno")??""),m.properties.type=String(Kd(_,"type")??"");let S=t0()-y;throw m.measurements.totalTimeMs=S,wo.info(t,`Request ${i} at <${A}> rejected with ${String(_)} after ${S}ms`),wo.debug(t,"request.error properties",m.properties),wo.debug(t,"request.error measurements",m.measurements),nr(t,"request.error",m),_}).finally(()=>{xge(t,e,m)})}o(Bye,"fetchWithInstrumentation");async function YJe(t,e,r,n,i,s,a,c,l,f){let d=l.extendedBy({endpoint:"chat/completions",engineModelId:r,uiKind:c});Dye(s,d,["messages"]),d.properties.headerRequestId=i,nr(t,"request.sent",d);let h=t0(),A=kye(c),m={...GW(t)};try{let y=await CH(t,n,a.token,A,i,s,f,m),x=tS(y);d.extendWithRequestId(x);let _=t0()-h;return d.measurements.totalTimeMs=_,wo.info(t,`Request ${i} at <${n}> finished with ${y.status} status after ${_}ms`),wo.debug(t,"request.response properties",d.properties),wo.debug(t,"request.response measurements",d.measurements),wo.debug(t,"messages:",JSON.stringify(e)),nr(t,"request.response",d),y}catch(y){if(zm(y))throw nr(t,"request.cancel",d),y;let x=d.extendedBy({error:"Network exception"});nr(t,"request.shownWarning",x),d.properties.message=String(Kd(y,"name")??""),d.properties.code=String(Kd(y,"code")??""),d.properties.errno=String(Kd(y,"errno")??""),d.properties.type=String(Kd(y,"type")??"");let _=t0()-h;throw d.measurements.totalTimeMs=_,wo.info(t,`Request ${i} at <${n}> rejected with ${String(y)} after ${_}ms`),wo.debug(t,"request.error properties",d.properties),wo.debug(t,"request.error measurements",d.measurements),nr(t,"request.error",d),y}finally{_ye(t,e,d)}}o(YJe,"fetchChatWithInstrumentation");function G$(t){return Tye(t,e=>e.completionText.trim().length>0)}o(G$,"postProcessChoices");var $Je="github.copilot.completions.quotaExceeded",rS=class extends UA{static{o(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(e,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=e.get(Cs),c="completions",l=await e.get(vo).getToken(),f=await this.fetchWithParameters(e,c,r,l,n,s);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let m=f.body();try{m&&"destroy"in m&&typeof m.destroy=="function"?m.destroy():m instanceof ReadableStream&&m.cancel()}catch(y){wo.exception(e,y,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let m=this.createTelemetryData(c,e,r);return this.handleError(e,a,m,f,l)}let h=Ub.create(e,r.count,f,n,[],s).processSSE(i),A=ZD(h,m=>eN(e,m,n));return{type:"success",choices:G$(A),getProcessingTime:o(()=>q$(f),"getProcessingTime")}}async fetchAndStreamChat(e,r,n,i,s,a,c,l={},f){if(this.#e)return{type:"canceled",reason:this.#e};let d="https://copilot-proxy.githubusercontent.com/chat/completions",h={messages:r,model:c.id,stream:!0,...l},A=n.extendedBy({endpoint:d,model:c.name}),m=e.get(Cs),y=await e.get(vo).getToken(),x=await YJe(e,r,c.id,d,s,h,y,i,A,f);if(f?.isCancellationRequested){let k=x.body();try{k&&"destroy"in k&&typeof k.destroy=="function"?k.destroy():k instanceof ReadableStream&&k.cancel()}catch(N){wo.exception(e,N,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(x.status!==200){let k=nn.createAndMarkAsIssued({endpoint:d,engineName:c.name,uiKind:i,headerRequestId:s});return this.handleError(e,m,k,x,y)}let T=Ub.create(e,1,x,A,[],Rye.CancellationToken.None).processSSE(),S=ZD(T,k=>eN(e,k,n));return{type:"success",choices:G$(S),getProcessingTime:o(()=>q$(x),"getProcessingTime")}}async fetchAndStreamSpeculation(e,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=e.get(Cs),c="speculation",l=await e.get(vo).getToken(),f={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1},speculation:r.speculation,ourRequestId:pf(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers,stops:r.stops},d=await this.fetchSpeculationWithParameters(e,c,f,l,n,s);if(d==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let y=d.body();try{y&&"destroy"in y&&typeof y.destroy=="function"?y.destroy():y instanceof ReadableStream&&y.cancel()}catch(x){wo.exception(e,x,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(d.status!==200){let y=this.createTelemetryData(c,e,f);return this.handleError(e,a,y,d,l)}let A=Ub.create(e,1,d,n,[],s).processSSE(i),m=ZD(A,y=>eN(e,y,n));return{type:"success",choices:G$(m),getProcessingTime:o(()=>q$(d),"getProcessingTime")}}createTelemetryData(e,r,n){return nn.createAndMarkAsIssued({endpoint:e,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(e,r,n,i,s,a){let c={prompt:n.prompt.prefix,speculation:n.speculation,temperature:0,stream:!0,stop:n.stops??[]};return await Mb(0),a?.isCancellationRequested?"not-sent":await Bye(e,n.prompt,n.engineModelId,r,n.ourRequestId,c,i,n.uiKind,s,a,n.headers)}async fetchWithParameters(e,r,n,i,s,a){let c=e.get(Sr).disableLogProb(s),l={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:tN(e),temperature:V$(e,n.count),top_p:Qye(e),n:n.count,stop:Nye(e,n.languageId),stream:!0,extra:n.extra};(n.requestLogProbs||!c)&&(l.logprobs=2);let f=w3(n.repoInfo);return f!==void 0&&(l.nwo=f),n.postOptions&&Object.assign(l,n.postOptions),n.prompt.context&&(l.extra.context=n.prompt.context),await Mb(0),a?.isCancellationRequested?"not-sent":await Bye(e,n.prompt,n.engineModelId,r,n.ourRequestId,l,i,n.uiKind,s,a,n.headers)}async handleError(e,r,n,i,s){let a=await i.text();if(i.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:$Je,title:"Learn More"});let l=Ia(e,f=>{this.#e=void 0,(f.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),l.dispose())});return{type:"failed",reason:this.#e}}if(i.status===466)return r.setError(a),wo.info(e,a),{type:"failed",reason:`client not supported: ${a}`};if(i.clientError&&!i.headers.get("x-github-request-id")){let c=`Last response was a ${i.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;wo.error(e,c),r.setWarning(c),n.properties.error=`Response status was ${i.status} with no x-github-request-id header`}else i.clientError?(wo.warn(e,`Response status was ${i.status}:`,a),r.setWarning(`Last response was a ${i.status} error: ${a}`),n.properties.error=`Response status was ${i.status}: ${a}`):(r.setWarning(`Last response was a ${i.status} error`),n.properties.error=`Response status was ${i.status}`);return n.properties.status=String(i.status),nr(e,"request.shownWarning",n),i.status===401||i.status===403?(e.get(vo).resetToken(i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`}):i.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",wo.warn(e,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):i.status===499?(wo.info(e,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(wo.error(e,"Unhandled status from server:",i.status,a),{type:"failed",reason:`unhandled status from server: ${i.status} ${a}`})}};function H$(t,e,r,n,i,s,a){return Ige(t,e,r,i,n),{completionText:e,meanLogProb:zJe(t,r),meanAlternativeLogProb:jJe(t,r),choiceIndex:n,requestId:i,blockFinished:s,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a,copilotAnnotations:r.copilot_annotations,clientCompletionId:pf(),finishReason:r.finish_reason}}o(H$,"convertToAPIChoice");function zJe(t,e){if(e?.logprobs?.token_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<e.logprobs.token_logprobs.length-1&&i>0;s++,i--)r+=e.logprobs.token_logprobs[s],n+=1;return n>0?r/n:void 0}catch(r){Fo.exception(t,r,"Error calculating mean prob")}}o(zJe,"calculateMeanLogProb");function jJe(t,e){if(e?.logprobs?.top_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<e.logprobs.token_logprobs.length-1&&i>0;s++,i--){let a={...e.logprobs.top_logprobs[s]};delete a[e.logprobs.tokens[s]],r+=Math.max(...Object.values(a)),n+=1}return n>0?r/n:void 0}catch(r){Fo.exception(t,r,"Error calculating mean prob")}}o(jJe,"calculateMeanAlternativeLogProb");function V$(t,e){return jy(t)||e<=1?0:e<10?.2:e<20?.4:.8}o(V$,"getTemperatureForSamples");var KJe={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function Nye(t,e){return KJe[e??""]??[`


`,"\n```"]}o(Nye,"getStops");function Qye(t){return 1}o(Qye,"getTopP");function tN(t){return B3}o(tN,"getMaxSolutionTokens");u();u();var Hb=class{constructor(){this.cache=new $r(100)}static{o(this,"SpeculativeRequestCache")}set(e,r){this.cache.set(e,r)}async request(e){let r=this.cache.get(e);r!==void 0&&(this.cache.delete(e),await r())}};var p3r=new Kr("getCompletions");u();u();u();u();u();u();u();u();var Fye=J.Object({importance:J.Optional(J.Integer({minimum:0,maximum:100})),id:J.Optional(J.String()),origin:J.Optional(J.Union([J.Literal("request"),J.Literal("update")]))}),Mye=J.Intersect([J.Object({name:J.String(),value:J.String()}),Fye]),Lye=J.Intersect([J.Object({uri:J.String(),value:J.String(),additionalUris:J.Optional(J.Array(J.String()))}),Fye]),JJe=[Mye,Lye],XJe=J.Union(JJe),Z3r=new Map([["Trait",qg.Compile(Mye)],["CodeSnippet",qg.Compile(Lye)]]),ZJe=o(t=>t,"ensureTypesAreEqual");ZJe(!0);var eXe=J.Object({contextItems:J.Array(XJe)}),tXe=J.Object({selector:J.Array(J.Union([J.String(),J.Object({language:J.Optional(J.String()),scheme:J.Optional(J.String()),pattern:J.Optional(J.String())})]))}),W$=J.Object({id:J.String()}),rXe=J.Intersect([W$,tXe]),nXe=J.Intersect([W$,eXe]),eSr=J.Object({providers:J.Array(rXe)}),tSr=J.Object({providers:J.Array(W$)}),iXe=J.Object({providers:J.Array(nXe),updating:J.Optional(J.Array(J.String()))}),rSr=J.Intersect([sae,J.Object({contextItems:J.Optional(iXe)})]);function rN(t,e){return t.map(r=>{let n=r.data.filter(i=>i.type===e);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}o(rN,"filterContextItemsByType");u();u();var ru=class{constructor(e=()=>new Y$){this.createStatistics=e;this.statistics=new $r(25)}static{o(this,"ContextProviderStatistics")}getStatisticsForCompletion(e){let r=this.statistics.get(e);if(r)return r;let n=this.createStatistics();return this.statistics.set(e,n),n}getPreviousStatisticsForCompletion(e){let r=Array.from(this.statistics.keys());for(let n=r.length-1;n>=0;n--){let i=r[n];if(i!==e)return this.statistics.peek(i)}}},Y$=class{constructor(){this._expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{o(this,"PerCompletionContextProviderStatistics")}addExpectations(e,r){let n=this._expectations.get(e)??[];this._expectations.set(e,[...n,...r])}clearExpectations(){this._expectations.clear()}setLastResolution(e,r){this._lastResolution.set(e,r)}get(e){return this._statistics.get(e)}computeMatch(e){try{for(let[r,n]of this._expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=[];for(let[f,d]of n){let h={id:f.id,type:f.type};if(f.origin&&(h.origin=f.origin),d==="content_excluded"){s.push({...h,usage:"none_content_excluded"});continue}let A=e.find(m=>m.source===f);A===void 0?s.push({...h,usage:"error"}):s.push({...h,usage:A.expectedTokens>0&&A.expectedTokens===A.actualTokens?"full":A.actualTokens>0?"partial":"none",expectedTokens:A.expectedTokens,actualTokens:A.actualTokens})}let c=s.reduce((f,d)=>d.usage==="full"?f+1:d.usage==="partial"?f+.5:f,0)/n.length,l=c===1?"full":c===0?"none":"partial";this._statistics.set(r,{resolution:i,usage:l,usageDetails:s})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function nN(t){return t.map(e=>{if(!(e.source===void 0||e.expectedTokens===void 0||e.actualTokens===void 0))return{source:e.source,expectedTokens:e.expectedTokens,actualTokens:e.actualTokens}}).filter(e=>e!==void 0)}o(nN,"componentStatisticsToPromptMatcher");var oXe=yt(Ea());var iN=class{static{o(this,"ContextProviderRegistry")}},$$=class{static{o(this,"DefaultContextProviders")}};function oN(t,e,r){let n=t.get(ru).getStatisticsForCompletion(e);return r.map(s=>{let{providerId:a,resolution:c,resolutionTimeMs:l,matchScore:f,data:d}=s,h=n.get(a),A=h?.usage??"none";(f<=0||c==="none"||c==="error")&&(A="none");let m={providerId:a,resolution:c,resolutionTimeMs:l,usage:A,usageDetails:h?.usageDetails,matched:f>0,numResolvedItems:d.length},y=h?.usageDetails!==void 0?h?.usageDetails.filter(_=>_.usage==="full"||_.usage==="partial"||_.usage==="partial_content_excluded").length:void 0,x=h?.usageDetails!==void 0?h?.usageDetails.filter(_=>_.usage==="partial"||_.usage==="partial_content_excluded").length:void 0;return y!==void 0&&(m.numUsedItems=y),x!==void 0&&(m.numPartiallyUsedItems=x),m})}o(oN,"telemetrizeContextItems");function sN(t){return t.matchScore>0&&t.resolution!=="error"}o(sN,"matchContextItems");function sXe(t,e){let r=aXe(t,e),n=rs(t,Pt.ContextProviders)??[];if(r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*")return["*"];let i=t.get($$).getIds();return Array.from(new Set([...i,...r,...n]))}o(sXe,"getActiveContextProviders");function aXe(t,e){return v0e(t)?["*"]:t.get(Sr).contextProviders(e)}o(aXe,"getExpContextProviders");function qb(t,e){return sXe(t,e).length>0}o(qb,"useContextProviderAPI");var uE=class{constructor(e){this.ctx=e;this.scheduledResolutions=new $r(25)}static{o(this,"ContextProviderBridge")}schedule(e,r,n,i,s,a){let c=this.ctx.get(iN),{textDocument:l,originalPosition:f,originalOffset:d,originalVersion:h,editsWithPosition:A}=e,m=c.resolveAllProviders(r,n,{uri:l.uri,languageId:l.detectedLanguageId,version:h,offset:d,position:f,proposedEdits:A.length>0?A:void 0},i,s,a?.data);this.scheduledResolutions.set(r,m)}async resolution(e){let r=this.scheduledResolutions.get(e);return r?await r:[]}};u();u();var aN=class{constructor(e,r,n){this.languageId=e;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{o(this,"BaseBlockParser")}async getNodeMatchAtPosition(e,r,n){let i=await nE(this.languageId,e);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let c=this.nodeMatch[a.type];if(c){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let l=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((l==""?a.namedChildren[0]:a.childForFieldName(l))?.type==c)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(e,r,n){return this.getNodeMatchAtPosition(e,r,i=>{let s=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(s){if(this.languageId=="python"&&s.parent){let a=s.parent.type==":"?s.parent.parent:s.parent,c=a?.nextSibling;for(;c&&c.type=="comment";){let l=c.startPosition.row==s.endPosition.row&&c.startPosition.column>=s.endPosition.column,f=c.startPosition.row>a.endPosition.row&&c.startPosition.column>a.startPosition.column;if(l||f)s=c,c=c.nextSibling;else break}}if(!(s.endIndex>=s.tree.rootNode.endIndex-1&&(s.hasError()||s.parent.hasError())))return n(s)}})}async isBlockBodyFinished(e,r,n){let i=(e+r).trimEnd(),s=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(s!==void 0&&s<i.length){let a=s-e.length;return a>0?a:void 0}}getNodeStart(e,r){let n=e.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}},cN=class extends aN{constructor(r,n,i,s,a){super(r,s,a);this.blockEmptyMatch=n;this.lineMatch=i}static{o(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,s=>{s.startIndex<n&&(n=s.startIndex);let a=r.substring(n,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=Uye(r,n),this.isBlockStart(cXe(r,n))&&this.isBlockBodyEmpty(r,n)}};function cXe(t,e){let r=t.lastIndexOf(`
`,e-1),n=t.indexOf(`
`,e);return n<0&&(n=t.length),t.slice(r+1,n)}o(cXe,"getLineAtOffset");function Uye(t,e){let r=e;for(;r>0&&/\s/.test(t.charAt(r-1));)r--;return r}o(Uye,"rewindToNearestNonWs");function Oye(t,e){let r=t.startIndex,n=t.startIndex-t.startPosition.column,i=e.substring(n,r);if(/^\s*$/.test(i))return i}o(Oye,"indent");function lXe(t,e,r){if(e.startPosition.row<=t.startPosition.row)return!1;let n=Oye(t,r),i=Oye(e,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}o(lXe,"outdented");var Jd=class extends aN{constructor(r,n,i,s,a,c,l){super(r,n,i);this.startKeywords=s;this.blockNodeType=a;this.emptyStatementType=c;this.curlyBraceLanguage=l}static{o(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&nge(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let s=n;s<r.length&&r.charAt(s)!=`
`;s++)if(/\S/.test(r.charAt(s)))return!1;n=Uye(r,n);let i=await nE(this.languageId,r);try{let s=i.rootNode.descendantForIndex(n-1);if(s==null||this.curlyBraceLanguage&&s.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&s.parent&&s.parent.type=="object"&&s.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let d=s;for(;d.parent;){if(d.type=="function_signature"||d.type=="method_signature"){let h=s.nextSibling;return h&&d.hasError()&&lXe(d,h,r)?!0:!d.children.find(m=>m.type==";")&&d.endIndex<=n}d=d.parent}}let a=null,c=null,l=null,f=s;for(;f!=null;){if(f.type==this.blockNodeType){c=f;break}if(this.nodeMatch[f.type]){l=f;break}if(f.type=="ERROR"){a=f;break}f=f.parent}if(c!=null){if(!c.parent||!this.nodeMatch[c.parent.type])return!1;if(this.languageId=="python"){let d=c.previousSibling;if(d!=null&&d.hasError()&&(d.text.startsWith('"""')||d.text.startsWith("'''")))return!0}return this.isBlockEmpty(c,n)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let d=[...a.children].reverse(),h=d.find(m=>this.startKeywords.includes(m.type)),A=d.find(m=>m.type==this.blockNodeType);if(h){switch(this.languageId){case"python":{h.type=="try"&&s.type=="identifier"&&s.text.length>4&&(A=d.find(x=>x.hasError())?.children.find(x=>x.type=="block"));let m,y=0;for(let x of a.children){if(x.type==":"&&y==0){m=x;break}x.type=="("&&(y+=1),x.type==")"&&(y-=1)}if(m&&h.endIndex<=m.startIndex&&m.nextSibling){if(h.type=="def"){let x=m.nextSibling;if(x.type=='"'||x.type=="'"||x.type=="ERROR"&&(x.text=='"""'||x.text=="'''"))return!0}return!1}break}case"javascript":{let m=d.find(_=>_.type=="formal_parameters");if(h.type=="class"&&m)return!0;let y=d.find(_=>_.type=="{");if(y&&y.startIndex>h.endIndex&&y.nextSibling!=null||d.find(_=>_.type=="do")&&h.type=="while"||h.type=="=>"&&h.nextSibling&&h.nextSibling.type!="{")return!1;break}case"typescript":{let m=d.find(x=>x.type=="{");if(m&&m.startIndex>h.endIndex&&m.nextSibling!=null||d.find(x=>x.type=="do")&&h.type=="while"||h.type=="=>"&&h.nextSibling&&h.nextSibling.type!="{")return!1;break}}return A&&A.startIndex>h.endIndex?this.isBlockEmpty(A,n):!0}}if(l!=null){let d=this.nodeMatch[l.type],h=l.children.slice().reverse().find(A=>A.type==d);if(h)return this.isBlockEmpty(h,n);if(this.nodeTypesWithBlockOrStmtChild.has(l.type)){let A=this.nodeTypesWithBlockOrStmtChild.get(l.type),m=A==""?l.children[0]:l.childForFieldName(A);if(m&&m.type!=this.blockNodeType&&m.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}},KSr={python:new Jd("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new Jd("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new Jd("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new Jd("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new cN("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new cN("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new Jd("csharp",{},new Map([]),[],"block",null,!0),java:new Jd("java",{},new Map([]),[],"block",null,!0),php:new Jd("php",{},new Map([]),[],"block",null,!0),cpp:new Jd("cpp",{},new Map([]),[],"block",null,!0)};var cwr=new Kr("parseBlock");var uXe=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(t=>t+"\\b")),lwr=new RegExp(`^(${uXe.join("|")})`);u();u();u();u();u();u();var fXe={tokenizerName:"o200k_base"};function dXe(t){return{...fXe,...t}}o(dXe,"cursorContextOptions");function nS(t,e={}){let r=dXe(e),n=lc(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=t.source.slice(0,t.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}o(nS,"getCursorContext");u();u();var hXe={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function Hye(t){let e=hXe[t.semantics],r=["snippets"].includes(t.semantics)?"these":"this";return{headline:t.relativePath?`Compare ${r} ${e} from ${t.relativePath}:`:`Compare ${r} ${e}:`,snippet:t.snippet}}o(Hye,"announceSnippet");var z$=class{constructor(e){this.keys=[];this.cache={};this.size=e}static{o(this,"FifoCache")}put(e,r){if(this.cache[e]=r,this.keys.length>this.size){this.keys.push(e);let n=this.keys.shift()??"";delete this.cache[n]}}get(e){return this.cache[e]}};var j$=class{static{o(this,"Tokenizer")}constructor(e){this.stopsForLanguage=gXe.get(e.languageId)??mXe}tokenize(e){return new Set(AXe(e).filter(r=>!this.stopsForLanguage.has(r)))}},qye=new z$(20),Gb=class{static{o(this,"WindowedMatcher")}constructor(e){this.referenceDoc=e,this.tokenizer=new j$(e)}get referenceTokens(){return Promise.resolve(this.createReferenceTokens())}createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(e,r="descending"){return r=="ascending"?e.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?e.sort((n,i)=>n.score>i.score?-1:1):e}async retrieveAllSnippets(e,r="descending"){let n=[];if(e.source.length===0||(await this.referenceTokens).size===0)return n;let i=e.source.split(`
`),s=this.id()+":"+e.source,a=qye.get(s)??[],c=a.length==0,l=c?i.map(f=>this.tokenizer.tokenize(f),this.tokenizer):[];for(let[f,[d,h]]of this.getWindowsDelineations(i).entries()){if(c){let y=new Set;l.slice(d,h).forEach(x=>x.forEach(_=>y.add(_),y)),a.push(y)}let A=a[f],m=this.similarityScore(A,await this.referenceTokens);if(n.length&&d>0&&n[n.length-1].endLine>d){n[n.length-1].score<m&&(n[n.length-1].score=m,n[n.length-1].startLine=d,n[n.length-1].endLine=h);continue}n.push({score:m,startLine:d,endLine:h})}return c&&qye.put(s,a),this.sortScoredSnippets(n,r)}findMatches(e,r){return this.findBestMatch(e,r)}async findBestMatch(e,r){if(e.source.length===0||(await this.referenceTokens).size===0)return[];let n=e.source.split(`
`),i=await this.retrieveAllSnippets(e,"descending");if(i.length===0)return[];let s=[];for(let a=0;a<i.length&&a<r;a++)if(i[a].score!==0){let c=n.slice(i[a].startLine,i[a].endLine).join(`
`);s.push({snippet:c,semantics:"snippet",provider:"similar-files",...i[a]})}return s}};function AXe(t){return t.split(/[^a-zA-Z0-9]/).filter(e=>e.length>0)}o(AXe,"splitIntoWords");var pXe=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),mXe=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...pXe]),gXe=new Map([]);u();u();u();function K$(t,e,r){return{type:"virtual",indentation:t,subs:e,label:r}}o(K$,"virtualNode");function Gye(t,e,r,n,i){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:t,lineNumber:e,sourceLine:r,subs:n,label:i}}o(Gye,"lineNode");function J$(t){return{type:"blank",lineNumber:t,subs:[]}}o(J$,"blankNode");function lN(t){return{type:"top",indentation:-1,subs:t??[]}}o(lN,"topNode");function nu(t){return t.type==="blank"}o(nu,"isBlank");function iS(t){return t.type==="line"}o(iS,"isLine");function fE(t){return t.type==="virtual"}o(fE,"isVirtual");function Vye(t,e){return dE(t,r=>{r.label=r.label?e(r.label)?void 0:r.label:void 0},"bottomUp"),t}o(Vye,"clearLabelsIf");function dE(t,e,r){function n(i){r==="topDown"&&e(i),i.subs.forEach(s=>{n(s)}),r==="bottomUp"&&e(i)}o(n,"_visit"),n(t)}o(dE,"visitTree");function uN(t,e,r){let n=o(s=>{if(r!==void 0&&r(s))return s;{let a=s.subs.map(n).filter(c=>c!==void 0);return s.subs=a,e(s)}},"rebuild"),i=n(t);return i!==void 0?i:lN()}o(uN,"rebuildTree");u();function CXe(t){let e=t.split(`
`),r=e.map(f=>f.match(/^\s*/)[0].length),n=e.map(f=>f.trimLeft());function i(f){let[d,h]=s(f+1,r[f]);return[Gye(r[f],f,n[f],d),h]}o(i,"parseNode");function s(f,d){let h,A=[],m=f,y;for(;m<n.length&&(n[m]===""||r[m]>d);)if(n[m]==="")y===void 0&&(y=m),m+=1;else{if(y!==void 0){for(let x=y;x<m;x++)A.push(J$(x));y=void 0}[h,m]=i(m),A.push(h)}return y!==void 0&&(m=y),[A,m]}o(s,"parseSubs");let[a,c]=s(0,-1),l=c;for(;l<n.length&&n[l]==="";)a.push(J$(l)),l+=1;if(l<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${l} out of ${n.length}`);return lN(a)}o(CXe,"parseRaw");function oS(t,e){function r(n){if(iS(n)){let i=e.find(s=>s.matches(n.sourceLine));i&&(n.label=i.label)}}o(r,"visitor"),dE(t,r,"bottomUp")}o(oS,"labelLines");function fN(t){function e(r){if(fE(r)&&r.label===void 0){let n=r.subs.filter(i=>!nu(i));n.length===1&&(r.label=n[0].label)}}o(e,"visitor"),dE(t,e,"bottomUp")}o(fN,"labelVirtualInherited");function sS(t){return Object.keys(t).map(e=>{let r;return t[e].test?r=o(n=>t[e].test(n),"matches"):r=t[e],{matches:r,label:e}})}o(sS,"buildLabelRules");function X$(t){let r=uN(t,o(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],s;for(let a=0;a<n.subs.length;a++){let c=n.subs[a],l=n.subs[a-1];if(c.label==="opener"&&l!==void 0&&iS(l))l.subs.push(c),c.subs.forEach(f=>l.subs.push(f)),c.subs=[];else if(c.label==="closer"&&s!==void 0&&(iS(c)||fE(c))&&c.indentation>=s.indentation){let f=i.length-1;for(;f>0&&nu(i[f]);)f-=1;if(s.subs.push(...i.splice(f+1)),c.subs.length>0){let d=s.subs.findIndex(y=>y.label!=="newVirtual"),h=s.subs.slice(0,d),A=s.subs.slice(d),m=A.length>0?[K$(c.indentation,A,"newVirtual")]:[];s.subs=[...h,...m,c]}else s.subs.push(c)}else i.push(c),nu(c)||(s=c)}return n.subs=i,n},"rebuilder"));return Vye(t,n=>n==="newVirtual"),r}o(X$,"combineClosersAndOpeners");function Wye(t,e=nu,r){return uN(t,o(function(i){if(i.subs.length<=1)return i;let s=[],a=[],c,l=!1;function f(d=!1){if(c!==void 0&&(s.length>0||!d)){let h=K$(c,a,r);s.push(h)}else a.forEach(h=>s.push(h))}o(f,"flushBlockIntoNewSubs");for(let d=0;d<i.subs.length;d++){let h=i.subs[d],A=e(h);!A&&l&&(f(),a=[]),l=A,a.push(h),nu(h)||(c=c??h.indentation)}return f(!0),i.subs=s,i},"rebuilder"))}o(Wye,"groupBlocks");function dN(t){return uN(t,o(function(r){return fE(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&fE(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}o(dN,"flattenVirtual");var EXe={opener:/^[[({]/,closer:/^[\])}]/},IXe=sS(EXe),Yye={};function Z$(t,e){Yye[t]=e}o(Z$,"registerLanguageSpecificParser");function ez(t,e){let r=CXe(t),n=Yye[e??""];return n?n(r):(oS(r,IXe),X$(r))}o(ez,"parseTree");function hN(t,e){let r=[],n=e.length;if(n==0)return[];if(n<t)return[[0,n]];for(let i=0;i<n-t+1;i++)r.push([i,i+t]);return r}o(hN,"getBasicWindowDelineations");var AN=class t extends Gb{static{o(this,"FixedWindowSizeJaccardMatcher")}constructor(e,r){super(e),this.windowLength=r}static{this.FACTORY=o(e=>({to:o(r=>new t(r,e),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return hN(this.windowLength,e)}_getCursorContextInfo(e){return nS(e,{maxLineCount:this.windowLength})}similarityScore(e,r){return xXe(e,r)}};function xXe(t,e){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size/(t.size+e.size-r.size)}o(xXe,"computeScore");u();var pN=class t extends Gb{static{o(this,"BlockTokenSubsetMatcher")}constructor(e,r){super(e),this.windowLength=r}static{this.FACTORY=o(e=>({to:o(r=>new t(r,e),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return hN(this.windowLength,e)}_getCursorContextInfo(e){return nS(e,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=t.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let e=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=e?this.referenceDoc.source.slice(e,r):nS(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(e){switch(e){case"csharp":return!0;default:return!1}}similarityScore(e,r){return bXe(e,r)}async getEnclosingMemberStart(e,r){let n;try{n=await nE(this.referenceDoc.languageId,e);let i=n.rootNode.namedDescendantForIndex(r);for(;i&&!(t.isMember(i)||t.isBlock(i));)i=i.parent??void 0;return i}finally{n?.delete()}}static isMember(e){switch(e?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(e){switch(e?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function bXe(t,e){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size}o(bXe,"computeScore");var vXe=0,TXe=60,_Xe=4,SXe=1,wXe=20,BXe=1e4,$ye={snippetLength:TXe,threshold:vXe,maxTopSnippets:_Xe,maxCharPerFile:BXe,maxNumberOfFiles:wXe,maxSnippetsPerFile:SXe,useSubsetMatching:!1};var tz={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function RXe(t,e){return(e.useSubsetMatching?pN.FACTORY(e.snippetLength):AN.FACTORY(e.snippetLength)).to(t)}o(RXe,"getMatcher");async function zye(t,e,r){let n=RXe(t,r);return r.maxTopSnippets===0?[]:(await e.filter(s=>s.source.length<r.maxCharPerFile&&s.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(s,a)=>(await s).concat((await n.findMatches(a,r.maxSnippetsPerFile)).map(c=>({relativePath:a.relativePath,...c}))),Promise.resolve([]))).filter(s=>s.score&&s.snippet&&s.score>r.threshold).sort((s,a)=>s.score-a.score).slice(-r.maxTopSnippets)}o(zye,"getSimilarSnippets");function jye(t,e){return{...tz,useSubsetMatching:rz(t,e)}}o(jye,"getCppSimilarFilesOptions");function Kye(t){return tz.maxTopSnippets}o(Kye,"getCppNumberOfSnippets");var kXe=new Map([["cpp",jye]]);function mN(t,e,r){let n=kXe.get(r);return n?n(t,e):{...$ye,useSubsetMatching:rz(t,e)}}o(mN,"getSimilarFilesOptions");var DXe=new Map([["cpp",Kye]]);function Jye(t,e){let r=DXe.get(e);return r?r(t):Zme}o(Jye,"getNumberOfSnippets");function rz(t,e){return(e.filtersAndExp.exp.variables.copilotsubsetmatching||rs(t,Pt.UseSubsetMatching))??!1}o(rz,"useSubsetMatching");u();u();u();u();var NXe="content_excluded";async function gN(t,e,r,n){let i=rN(r,"CodeSnippet");if(i.length===0)return[];let s=new Set,a=i.flatMap(d=>d.data.map(h=>(s.add(h.uri),h.additionalUris?.forEach(A=>s.add(A)),{providerId:d.providerId,data:h}))),c=t.get(ti),l=new Map;await Promise.all(Array.from(s).map(async d=>{l.set(d,await c.getTextDocumentValidation({uri:d}))}));let f=t.get(ru).getStatisticsForCompletion(e);return a.filter(d=>{let A=[d.data.uri,...d.data.additionalUris??[]].every(m=>l.get(m)?.status==="valid");return A?f.addExpectations(d.providerId,[[d.data,"included"]]):f.addExpectations(d.providerId,[[d.data,NXe]]),A}).map(d=>d.data)}o(gN,"getCodeSnippetsFromContextItems");function Xye(t,e){let r=t.get(ti);return e.map(n=>({snippet:n,relativePath:r.getRelativePath(n)}))}o(Xye,"addRelativePathToCodeSnippets");u();function Uo(t){if(t.children)return Array.isArray(t.children)?t.children.join(""):t.children}o(Uo,"Text");function $g(t){return t.children}o($g,"Chunk");u();function qt(t,e,r){let n=[];Array.isArray(e.children)?n=e.children:e.children&&(n=[e.children]);let i={...e,children:n};return r&&(i.key=r),{type:t,props:i}}o(qt,"functionComponentFunction");function gf(t){return{type:"f",children:t}}o(gf,"fragmentFunction");gf.isFragmentFunction=!0;var yN=o((t,e)=>{let[r,n]=e.useState(),[i,s]=e.useState();if(e.useData(dc,f=>{f.codeSnippets!==r&&n(f.codeSnippets),f.document.uri!==i?.uri&&s(f.document)}),!r||r.length===0||!i)return;let a=Xye(t.ctx,r),c=new Map;for(let f of a){let d=f.relativePath??f.snippet.uri,h=c.get(d);h===void 0&&(h=[],c.set(d,h)),h.push(f)}let l=[];for(let[f,d]of c.entries()){let h=d.filter(A=>A.snippet.value.length>0);h.length>0&&l.push({chunkElements:h.map(A=>A.snippet),importance:Math.max(...h.map(A=>A.snippet.importance??0)),uri:f})}if(l.length!==0)return l.sort((f,d)=>d.importance-f.importance),l.reverse(),l.map(f=>{let d=[];return d.push(qt(Uo,{children:`Compare ${f.chunkElements.length>1?"these snippets":"this snippet"} from ${f.uri}:`})),f.chunkElements.forEach((h,A)=>{d.push(qt(Uo,{source:h,children:h.value},h.id)),f.chunkElements.length>1&&A<f.chunkElements.length-1&&d.push(qt(Uo,{children:"---"}))}),qt($g,{children:d})})},"CodeSnippets");u();function nz(t){return t.children}o(nz,"CompletionsContext");function iz(t){return t.children}o(iz,"StableCompletionsContext");function oz(t){return t.children}o(oz,"AdditionalCompletionsContext");function CN(t){return t.name===nz.name||t.name===iz.name||t.name===oz.name}o(CN,"isContextNode");u();u();u();function EN(t,e){if(t.length===0||e.length===0)return{score:t.length+e.length};let r=Array.from({length:t.length}).map(()=>Array.from({length:e.length}).map(()=>0));for(let n=0;n<t.length;n++)r[n][0]=n;for(let n=0;n<e.length;n++)r[0][n]=n;for(let n=0;n<e.length;n++)for(let i=0;i<t.length;i++)r[i][n]=Math.min((i==0?n:r[i-1][n])+1,(n==0?i:r[i][n-1])+1,(i==0||n==0?Math.max(i,n):r[i-1][n-1])+(t[i]==e[n]?0:1));return{score:r[t.length-1][e.length-1]}}o(EN,"findEditDistanceScore");var aS=50;function sz(t){let e=t*4,r=t*.1;return Math.floor(e+r)}o(sz,"approximateMaxCharacters");function cS(t,e){let[r,n]=e.useState(),[i,s]=e.useState(),[a,c]=e.useState(0),[l,f]=e.useState(),[d,h]=e.useState();e.useData(dc,m=>{let y=m.document;(m.document.uri!==r?.uri||y.getText()!==r?.getText())&&n(y),m.position!==i&&s(m.position),m.suffixMatchThreshold!==l&&f(m.suffixMatchThreshold),m.maxPromptTokens!==a&&c(m.maxPromptTokens),m.tokenizer!==d&&h(m.tokenizer)});let A=sz(a);return qt(gf,{children:[qt(hE,{document:r,position:i,maxCharacters:A}),qt(IN,{document:r,position:i,suffixMatchThreshold:l,maxCharacters:A,tokenizer:d})]})}o(cS,"CurrentFile");function hE(t){if(t.document===void 0||t.position===void 0)return qt(Uo,{});let e=t.document.getText({start:{line:0,character:0},end:t.position});return e.length>t.maxCharacters&&(e=e.slice(-t.maxCharacters)),qt(Uo,{children:e})}o(hE,"BeforeCursor");function IN(t,e){let[r,n]=e.useState("");if(t.document===void 0||t.position===void 0)return qt(Uo,{});let i=t.document.getText({start:t.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});i.length>t.maxCharacters&&(i=i.slice(0,t.maxCharacters));let s=i.replace(/^.*/,"").trimStart();if(s==="")return qt(Uo,{});if(r===s)return qt(Uo,{children:r});let a=s;if(r!==""){let c=lc(t.tokenizer),l=c.takeFirstTokens(s,aS);l.tokens.length>0&&100*EN(l.tokens,c.takeFirstTokens(r,aS).tokens)?.score<(t.suffixMatchThreshold??oD)*l.tokens.length&&(a=r)}return a!==r&&n(a),qt(Uo,{children:a})}o(IN,"AfterCursor");function Zye(t,e){let[r,n]=e.useState(),[i,s]=e.useState(),[a,c]=e.useState(0);e.useData(dc,f=>{let d=f.document;(f.document.uri!==r?.uri||d.getText()!==r?.getText())&&n(d),f.position!==i&&s(f.position),f.maxPromptTokens!==a&&c(f.maxPromptTokens)});let l=sz(a);return qt(hE,{document:r,position:i,maxCharacters:l})}o(Zye,"DocumentPrefix");function eCe(t,e){let[r,n]=e.useState(),[i,s]=e.useState(),[a,c]=e.useState(0),[l,f]=e.useState(),[d,h]=e.useState();e.useData(dc,m=>{let y=m.document;(m.document.uri!==r?.uri||y.getText()!==r?.getText())&&n(y),m.position!==i&&s(m.position),m.suffixMatchThreshold!==l&&f(m.suffixMatchThreshold),m.maxPromptTokens!==a&&c(m.maxPromptTokens),m.tokenizer!==d&&h(m.tokenizer)});let A=sz(a);return qt(IN,{document:r,position:i,suffixMatchThreshold:l,maxCharacters:A,tokenizer:d})}o(eCe,"DocumentSuffix");u();var xN=class{static{o(this,"WishlistElision")}elide(e,r,n,i,s){if(r<=0)throw new Error("Prefix limit must be greater than 0");let[a,c]=this.preparePrefixBlocks(e,s),{elidedSuffix:l,adjustedPrefixTokenLimit:f}=this.elideSuffix(n,i,r,c,s),d=this.elidePrefix(a,f,c,s);return{blocks:[l,...d],cycles:1}}preparePrefixBlocks(e,r){let n=0,i=new Set;return[e.map((a,c)=>{let l=0,d=a.value.split(/([^\n]*\n+)/).filter(A=>A!=="").map(A=>{let m=r.tokenLength(A);return l+=m,n+=m,{line:A,componentPath:a.componentPath,tokens:m}}),h=a.componentPath;if(i.has(h))throw new Error(`Duplicate component path in prefix blocks: ${h}`);return i.add(h),{...a,tokens:l,markedForRemoval:!1,originalIndex:c,lines:d}}),n]}elideSuffix(e,r,n,i,s){let a=e.value;if(a.length===0||r<=0)return{elidedSuffix:{...e,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};i<n&&(r=r+(n-i),n=i);let c=s.takeFirstTokens(a,r);return{elidedSuffix:{...e,value:a,tokens:s.tokenLength(a),elidedValue:c.text,elidedTokens:c.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-c.tokens.length)}}elidePrefix(e,r,n,i){let s=this.removeLowWeightPrefixBlocks(e,r,n),a=s.filter(d=>!d.markedForRemoval).flatMap(d=>d.lines);if(a.length===0)return[];let[c,l]=this.trimPrefixLinesToFit(a,r,i),f=l;return s.map(d=>{if(d.markedForRemoval)return f+d.tokens<=r&&!d.chunks?(f+=d.tokens,{...d,elidedValue:d.value,elidedTokens:d.tokens}):{...d,elidedValue:"",elidedTokens:0};let h=c.filter(m=>m.componentPath===d.componentPath&&m.line!=="").map(m=>m.line).join(""),A=d.tokens;return h!==d.value&&(A=h!==""?i.tokenLength(h):0),{...d,elidedValue:h,elidedTokens:A}})}removeLowWeightPrefixBlocks(e,r,n){let i=n;e.sort((s,a)=>s.weight-a.weight);for(let s of e){if(i<=r)break;if(s.weight!==1&&!(s.chunks&&s.markedForRemoval))if(s.chunks&&s.chunks.size>0)for(let a of e)!a.markedForRemoval&&a.chunks&&[...s.chunks].every(c=>a.chunks?.has(c))&&(a.markedForRemoval=!0,i-=a.tokens);else s.markedForRemoval=!0,i-=s.tokens}return e.sort((s,a)=>s.originalIndex-a.originalIndex)}trimPrefixLinesToFit(e,r,n){let i=0,s=[];for(let a=e.length-1;a>=0;a--){let c=e[a],l=c.tokens;if(i+l<=r)s.unshift(c),i+=l;else break}if(s.length===0){let a=e[e.length-1];if(a&&a.line.length>0){let l=n.takeLastTokens(a.line,r);return s.push({line:l.text,componentPath:a.componentPath,tokens:l.tokens.length}),[s,l.tokens.length]}let c=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(c)}return[s,i]}};function tCe(t){return t.map(e=>e.elidedValue).join("")}o(tCe,"makePrompt");function rCe(t){return t.filter(e=>e.type==="prefix").map(e=>e.elidedValue).join("")}o(rCe,"makePrefixPrompt");function nCe(t){if(t.length===0)return[];let e=new Map;for(let i of t)if(i.type==="context"&&i.index!==void 0){e.has(i.index)||e.set(i.index,[]);let s=i.elidedValue.trim();s.length>0&&e.get(i.index).push(s)}let r=Math.max(...Array.from(e.keys()),-1),n=[];for(let i=0;i<=r;i++){let s=e.get(i);if(s&&s.length>0){let a=s.join(`
`).trim();n.push(a)}else n.push("")}return n}o(nCe,"makeContextPrompt");u();var Vb=class{constructor(e,r=az()){this.snapshot=e;this.transformers=r}static{o(this,"SnapshotWalker")}walkSnapshot(e){this.walkSnapshotNode(this.snapshot,void 0,e,{})}walkSnapshotNode(e,r,n,i){let s=this.transformers.reduce((c,l)=>l(e,r,c),{...i});if(n(e,r,s))for(let c of e.children??[])this.walkSnapshotNode(c,e,n,s)}};function az(){return[(t,e,r)=>{r.weight===void 0&&(r.weight=1);let n=t.props?.weight??1,i=typeof n=="number"?Math.max(0,Math.min(1,n)):1;return{...r,weight:i*r.weight}},(t,e,r)=>{if(t.name===$g.name){let n=r.chunks?new Set(r.chunks):new Set;return n.add(t.path),{...r,chunks:n}}return r},(t,e,r)=>t.props?.source!==void 0?{...r,source:t.props.source}:r]}o(az,"defaultTransformers");u();var cz={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},iCe={};for(let[t,e]of Object.entries(cz))if(e.markdownLanguageIds)for(let r of e.markdownLanguageIds)iCe[r]=t;else iCe[t]=t;var QXe={start:"//",end:""},PXe=["php","plaintext"],lz={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function oCe(t){return Object.values(lz).includes(t.trim())}o(oCe,"isShebangLine");function FXe({source:t}){return t.startsWith("#!")||t.startsWith("<!DOCTYPE")}o(FXe,"hasLanguageMarker");function MXe(t,e){let r=cz[e]?cz[e].lineComment:QXe;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${t}${n}`}return""}o(MXe,"comment");function HA(t,e){if(t==="")return"";let r=t.endsWith(`
`),i=(r?t.slice(0,-1):t).split(`
`).map(s=>MXe(s,e)).join(`
`);return r?i+`
`:i}o(HA,"commentBlockAsSingles");function bN(t){let{languageId:e}=t;return PXe.indexOf(e)===-1&&!FXe(t)?e in lz?lz[e]:`Language: ${e}`:""}o(bN,"getLanguageMarker");function vN(t){return t.relativePath?`Path: ${t.relativePath}`:""}o(vN,"getPathMarker");function lS(t){return t===""||t.endsWith(`
`)?t:t+`
`}o(lS,"newLineEnded");var LXe=5,Wb=class{constructor(){this.renderId=0;this.formatPrefix=tCe}static{o(this,"CompletionsPromptRenderer")}render(e,r,n){let i=this.renderId++,s=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let a=r.delimiter??"",c=r.tokenizer??"o200k_base",{prefixBlocks:l,suffixBlock:f,componentStatistics:d}=this.processSnapshot(e,a,r.languageId),{prefixTokenLimit:h,suffixTokenLimit:A}=this.getPromptLimits(f,r),m=performance.now(),y=new xN,{blocks:[x,..._]}=y.elide(l,h,f,A,lc(c)),T=performance.now(),S=this.formatPrefix(_),k=this.formatContext?this.formatContext(_):void 0,N=x.elidedValue,P=_.reduce((L,Y)=>L+Y.elidedTokens,0);return d.push(...OXe([..._,x])),{prefix:S,prefixTokens:P,suffix:N,suffixTokens:x.elidedTokens,context:k,status:"ok",metadata:{renderId:i,rendererName:"c",tokenizer:c,elisionTimeMs:T-m,renderTimeMs:performance.now()-s,componentStatistics:d,updateDataTimeMs:d.reduce((L,Y)=>L+(Y.updateDataTimeMs??0),0)}}}catch(a){return{status:"error",error:a}}}getPromptLimits(e,r){let n=e?.value??"",i=r.promptTokenLimit,s=r.suffixPercent;if(n.length==0||s==0)return{prefixTokenLimit:i,suffixTokenLimit:0};i=n.length>0?i-LXe:i;let a=Math.ceil(i*(s/100));return{prefixTokenLimit:i-a,suffixTokenLimit:a}}processSnapshot(e,r,n){let i=[],s=[],a=[],c=!1;if(new Vb(e,uz).walkSnapshot((d,h,A)=>{if(d===e||(d.name===cS.name&&(c=!0),d.statistics.updateDataTimeMs&&d.statistics.updateDataTimeMs>0&&a.push({componentPath:d.path,updateDataTimeMs:d.statistics.updateDataTimeMs}),d.value===void 0||d.value===""))return!0;let m=A.chunks;if(A.type==="suffix")s.push({value:uS(d.value),type:"suffix",weight:A.weight,componentPath:d.path,nodeStatistics:d.statistics,chunks:m,source:A.source});else{let y=d.value.endsWith(r)?d.value:d.value+r,x=y;A.type==="prefix"?x=d.value:oCe(d.value)?x=y:x=HA(y,n),i.push({type:A.type==="prefix"?"prefix":"context",value:uS(x),weight:A.weight,componentPath:d.path,nodeStatistics:d.statistics,chunks:m,source:A.source})}return!0}),!c)throw new Error(`Node of type ${cS.name} not found`);if(s.length>1)throw new Error("Only one suffix is allowed");let f=s.length===1?s[0]:{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:i,suffixBlock:f,componentStatistics:a}}},uz=[...az(),(t,e,r)=>CN(t)?{...r,type:"context"}:r,(t,e,r)=>t.name===hE.name?{...r,type:"prefix"}:r,(t,e,r)=>t.name===IN.name?{...r,type:"suffix"}:r];function OXe(t){return t.map(e=>{let r={componentPath:e.componentPath};return e.tokens!==0&&(r.expectedTokens=e.tokens,r.actualTokens=e.elidedTokens),e.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=e.nodeStatistics.updateDataTimeMs),e.source&&(r.source=e.source),r})}o(OXe,"computeComponentStatistics");function uS(t){return t.replace(/\r\n?/g,`
`)}o(uS,"normalizeLineEndings");u();var TN=o((t,e)=>{let[r,n]=e.useState();if(e.useData(dc,i=>{i.document.uri!==r?.uri&&n(i.document)}),r){let i=t.ctx.get(ti),s=i.getRelativePath(r),a={uri:r.uri,source:r.getText(),relativePath:s,languageId:r.detectedLanguageId},c=i.findNotebook(r);return a.relativePath&&!c?qt(UXe,{docInfo:a}):qt(HXe,{docInfo:a})}},"DocumentMarker"),UXe=o(t=>qt(Uo,{children:vN(t.docInfo)}),"PathMarker"),HXe=o(t=>qt(Uo,{children:bN(t.docInfo)}),"LanguageMarker");u();u();u();u();function fS(t){if(!t()){debugger;t(),Tb(new Fs("Assertion Failed"))}}o(fS,"assertFn");u();u();u();u();u();var zg=o((t,e)=>t===e,"strictEquals");u();u();var sCe=class t{static{o(this,"Node")}static{this.Undefined=new t(void 0)}constructor(e){this.element=e,this.next=t.Undefined,this.prev=t.Undefined}};u();var qXe=globalThis.performance&&typeof globalThis.performance.now=="function",_N=class t{static{o(this,"StopWatch")}static create(e){return new t(e)}constructor(e){this._now=qXe&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var aCe=!1,GXe=!1,hS;(fe=>{fe.None=o(()=>rl.None,"None");function e(X){if(GXe){let{onDidAddListener:H}=X,Z=dS.create(),ee=0;X.onDidAddListener=()=>{++ee===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),Z.print()),H?.()}}}o(e,"_addLeakageTraceLogic");function r(X,H){return m(X,()=>{},0,void 0,!0,void 0,H)}fe.defer=r,o(r,"defer");function n(X){return(H,Z=null,ee)=>{let ae=!1,ie;return ie=X(ue=>{if(!ae)return ie?ie.dispose():ae=!0,H.call(Z,ue)},null,ee),ae&&ie.dispose(),ie}}fe.once=n,o(n,"once");function i(X,H){return fe.once(fe.filter(X,H))}fe.onceIf=i,o(i,"onceIf");function s(X,H,Z){return h((ee,ae=null,ie)=>X(ue=>ee.call(ae,H(ue)),null,ie),Z)}fe.map=s,o(s,"map");function a(X,H,Z){return h((ee,ae=null,ie)=>X(ue=>{H(ue),ee.call(ae,ue)},null,ie),Z)}fe.forEach=a,o(a,"forEach");function c(X,H,Z){return h((ee,ae=null,ie)=>X(ue=>H(ue)&&ee.call(ae,ue),null,ie),Z)}fe.filter=c,o(c,"filter");function l(X){return X}fe.signal=l,o(l,"signal");function f(...X){return(H,Z=null,ee)=>{let ae=Lge(...X.map(ie=>ie(ue=>H.call(Z,ue))));return A(ae,ee)}}fe.any=f,o(f,"any");function d(X,H,Z,ee){let ae=Z;return s(X,ie=>(ae=H(ae,ie),ae),ee)}fe.reduce=d,o(d,"reduce");function h(X,H){let Z,ee={onWillAddFirstListener(){Z=X(ae.fire,ae)},onDidRemoveLastListener(){Z?.dispose()}};H||e(ee);let ae=new yf(ee);return H?.add(ae),ae.event}o(h,"snapshot");function A(X,H){return H instanceof Array?H.push(X):H&&H.add(X),X}o(A,"addAndReturnDisposable");function m(X,H,Z=100,ee=!1,ae=!1,ie,ue){let Ae,Ke,tt,ct=0,Ct,Gt={leakWarningThreshold:ie,onWillAddFirstListener(){Ae=X(kn=>{ct++,Ke=H(Ke,kn),ee&&!tt&&(Ur.fire(Ke),Ke=void 0),Ct=o(()=>{let br=Ke;Ke=void 0,tt=void 0,(!ee||ct>1)&&Ur.fire(br),ct=0},"doFire"),typeof Z=="number"?(clearTimeout(tt),tt=setTimeout(Ct,Z)):tt===void 0&&(tt=0,queueMicrotask(Ct))})},onWillRemoveListener(){ae&&ct>0&&Ct?.()},onDidRemoveLastListener(){Ct=void 0,Ae.dispose()}};ue||e(Gt);let Ur=new yf(Gt);return ue?.add(Ur),Ur.event}fe.debounce=m,o(m,"debounce");function y(X,H=0,Z){return fe.debounce(X,(ee,ae)=>ee?(ee.push(ae),ee):[ae],H,void 0,!0,void 0,Z)}fe.accumulate=y,o(y,"accumulate");function x(X,H=(ee,ae)=>ee===ae,Z){let ee=!0,ae;return c(X,ie=>{let ue=ee||!H(ie,ae);return ee=!1,ae=ie,ue},Z)}fe.latch=x,o(x,"latch");function _(X,H,Z){return[fe.filter(X,H,Z),fe.filter(X,ee=>!H(ee),Z)]}fe.split=_,o(_,"split");function T(X,H=!1,Z=[],ee){let ae=Z.slice(),ie=X(Ke=>{ae?ae.push(Ke):Ae.fire(Ke)});ee&&ee.add(ie);let ue=o(()=>{ae?.forEach(Ke=>Ae.fire(Ke)),ae=null},"flush"),Ae=new yf({onWillAddFirstListener(){ie||(ie=X(Ke=>Ae.fire(Ke)),ee&&ee.add(ie))},onDidAddFirstListener(){ae&&(H?setTimeout(ue):ue())},onDidRemoveLastListener(){ie&&ie.dispose(),ie=null}});return ee&&ee.add(Ae),Ae.event}fe.buffer=T,o(T,"buffer");function S(X,H){return o((ee,ae,ie)=>{let ue=H(new N);return X(function(Ae){let Ke=ue.evaluate(Ae);Ke!==k&&ee.call(ae,Ke)},void 0,ie)},"fn")}fe.chain=S,o(S,"chain");let k=Symbol("HaltChainable");class N{constructor(){this.steps=[]}static{o(this,"ChainableSynthesis")}map(H){return this.steps.push(H),this}forEach(H){return this.steps.push(Z=>(H(Z),Z)),this}filter(H){return this.steps.push(Z=>H(Z)?Z:k),this}reduce(H,Z){let ee=Z;return this.steps.push(ae=>(ee=H(ee,ae),ee)),this}latch(H=(Z,ee)=>Z===ee){let Z=!0,ee;return this.steps.push(ae=>{let ie=Z||!H(ae,ee);return Z=!1,ee=ae,ie?ae:k}),this}evaluate(H){for(let Z of this.steps)if(H=Z(H),H===k)break;return H}}function P(X,H,Z=ee=>ee){let ee=o((...Ae)=>ue.fire(Z(...Ae)),"fn"),ae=o(()=>X.on(H,ee),"onFirstListenerAdd"),ie=o(()=>X.removeListener(H,ee),"onLastListenerRemove"),ue=new yf({onWillAddFirstListener:ae,onDidRemoveLastListener:ie});return ue.event}fe.fromNodeEventEmitter=P,o(P,"fromNodeEventEmitter");function L(X,H,Z=ee=>ee){let ee=o((...Ae)=>ue.fire(Z(...Ae)),"fn"),ae=o(()=>X.addEventListener(H,ee),"onFirstListenerAdd"),ie=o(()=>X.removeEventListener(H,ee),"onLastListenerRemove"),ue=new yf({onWillAddFirstListener:ae,onDidRemoveLastListener:ie});return ue.event}fe.fromDOMEventEmitter=L,o(L,"fromDOMEventEmitter");function Y(X,H){return new Promise(Z=>n(X)(Z,null,H))}fe.toPromise=Y,o(Y,"toPromise");function te(X){let H=new yf;return X.then(Z=>{H.fire(Z)},()=>{H.fire(void 0)}).finally(()=>{H.dispose()}),H.event}fe.fromPromise=te,o(te,"fromPromise");function ne(X,H){return X(Z=>H.fire(Z))}fe.forward=ne,o(ne,"forward");function pe(X,H,Z){return H(Z),X(ee=>H(ee))}fe.runAndSubscribe=pe,o(pe,"runAndSubscribe");class W{constructor(H,Z){this._observable=H;this._counter=0;this._hasChanged=!1;let ee={onWillAddFirstListener:o(()=>{H.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:o(()=>{H.removeObserver(this)},"onDidRemoveLastListener")};Z||e(ee),this.emitter=new yf(ee),Z&&Z.add(this.emitter)}static{o(this,"EmitterObserver")}beginUpdate(H){this._counter++}handlePossibleChange(H){}handleChange(H,Z){this._hasChanged=!0}endUpdate(H){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function $(X,H){return new W(X,H).emitter.event}fe.fromObservable=$,o($,"fromObservable");function Ie(X){return(H,Z,ee)=>{let ae=0,ie=!1,ue={beginUpdate(){ae++},endUpdate(){ae--,ae===0&&(X.reportChanges(),ie&&(ie=!1,H.call(Z)))},handlePossibleChange(){},handleChange(){ie=!0}};X.addObserver(ue),X.reportChanges();let Ae={dispose(){X.removeObserver(ue)}};return ee instanceof zd?ee.add(Ae):Array.isArray(ee)&&ee.push(Ae),Ae}}fe.fromObservableLight=Ie,o(Ie,"fromObservableLight")})(hS||={});var fz=class t{constructor(e){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${e}_${t._idPool++}`,t.all.add(this)}static{o(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(e){this._stopWatch=new _N,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}},cCe=-1;var dz=class t{constructor(e,r,n=(t._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e;this.threshold=r;this.name=n;this._warnCountdown=0}static{o(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(e,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[s,a]=this.getMostFrequentStack(),c=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${a}):`;console.warn(c),console.warn(s);let l=new hz(c,s);this._errorHandler(l)}return()=>{let s=this._stacks.get(e.value)||0;this._stacks.set(e.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,r=0;for(let[n,i]of this._stacks)(!e||r<i)&&(e=[n,i],r=i);return e}},dS=class t{constructor(e){this.value=e}static{o(this,"Stacktrace")}static create(){let e=new Error;return new t(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},hz=class extends Error{static{o(this,"ListenerLeakError")}constructor(e,r){super(e),this.name="ListenerLeakError",this.stack=r}},Az=class extends Error{static{o(this,"ListenerRefusalError")}constructor(e,r){super(e),this.name="ListenerRefusalError",this.stack=r}},VXe=0,Yb=class{constructor(e){this.value=e;this.id=VXe++}static{o(this,"UniqueContainer")}},WXe=2,YXe=o((t,e)=>{if(t instanceof Yb)e(t);else for(let r=0;r<t.length;r++){let n=t[r];n&&e(n)}},"forEachListener"),yf=class{constructor(e){this._size=0;this._options=e,this._leakageMon=cCe>0||this._options?.leakWarningThreshold?new dz(e?.onListenerError??Tb,this._options?.leakWarningThreshold??cCe):void 0,this._perfMon=this._options?._profName?new fz(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{o(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(aCe){let e=this._listeners;queueMicrotask(()=>{YXe(e,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let l=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(l);let f=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],d=new Az(`${l}. HINT: Stack shows most frequent listener (${f[1]}-times)`,f[0]);return(this._options?.onListenerError||Tb)(d),rl.None}if(this._disposed)return rl.None;r&&(e=e.bind(r));let i=new Yb(e),s,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=dS.create(),s=this._leakageMon.check(i.stack,this._size+1)),aCe&&(i.stack=a??dS.create()),this._listeners?this._listeners instanceof Yb?(this._deliveryQueue??=new pz,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let c=MA(()=>{s?.(),this._removeListener(i)});return n instanceof zd?n.add(c):Array.isArray(n)&&n.push(c),c},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(e);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*WXe<=r.length){let s=0;for(let a=0;a<r.length;a++)r[a]?r[s++]=r[a]:i&&s<this._deliveryQueue.end&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=s}}_deliver(e,r){if(!e)return;let n=this._options?.onListenerError||Tb;if(!n){e.value(r);return}try{e.value(r)}catch(i){n(i)}}_deliverQueue(e){let r=e.current._listeners;for(;e.i<e.end;)this._deliver(r[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof Yb)this._deliver(this._listeners,e);else{let r=this._deliveryQueue;r.enqueue(this,e,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var pz=class{constructor(){this.i=-1;this.end=0}static{o(this,"EventDeliveryQueuePrivate")}enqueue(e,r,n){this.i=0,this.end=n,this.current=e,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};u();var Cf=class{constructor(e,r,n){this.owner=e;this.debugNameSource=r;this.referenceFn=n}static{o(this,"DebugNameData")}getDebugName(e){return dCe(e,this)}},lCe=new Map,mz=new WeakMap;function dCe(t,e){let r=mz.get(t);if(r)return r;let n=$Xe(t,e);if(n){let i=lCe.get(n)??0;i++,lCe.set(n,i);let s=i===1?n:`${n}#${i}`;return mz.set(t,s),s}}o(dCe,"getDebugName");function $Xe(t,e){let r=mz.get(t);if(r)return r;let n=e.owner?jXe(e.owner)+".":"",i,s=e.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(i=s(),i!==void 0)return n+i}else return n+s;let a=e.referenceFn;if(a!==void 0&&(i=SN(a),i!==void 0))return n+i;if(e.owner!==void 0){let c=zXe(e.owner,t);if(c!==void 0)return n+c}}o($Xe,"computeDebugName");function zXe(t,e){for(let r in t)if(t[r]===e)return r}o(zXe,"findKey");var uCe=new Map,fCe=new WeakMap;function jXe(t){let e=fCe.get(t);if(e)return e;let r=KXe(t),n=uCe.get(r)??0;n++,uCe.set(r,n);let i=n===1?r:`${r}#${n}`;return fCe.set(t,i),i}o(jXe,"formatOwner");function KXe(t){let e=t.constructor;return e?e.name:"Object"}o(KXe,"getClassName");function SN(t){let e=t.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(n?n[1]:void 0)?.trim()}o(SN,"getFunctionName");u();var AE;function BN(t){AE?AE instanceof wN?AE.loggers.push(t):AE=new wN([AE,t]):AE=t}o(BN,"addLogger");function Ho(){return AE}o(Ho,"getLogger");var gz;function hCe(t){gz=t}o(hCe,"setLogObservableFn");function ACe(t){gz&&gz(t)}o(ACe,"logObservable");var wN=class{constructor(e){this.loggers=e}static{o(this,"ComposedLogger")}handleObservableCreated(e){for(let r of this.loggers)r.handleObservableCreated(e)}handleOnListenerCountChanged(e,r){for(let n of this.loggers)n.handleOnListenerCountChanged(e,r)}handleObservableUpdated(e,r){for(let n of this.loggers)n.handleObservableUpdated(e,r)}handleAutorunCreated(e){for(let r of this.loggers)r.handleAutorunCreated(e)}handleAutorunDisposed(e){for(let r of this.loggers)r.handleAutorunDisposed(e)}handleAutorunDependencyChanged(e,r,n){for(let i of this.loggers)i.handleAutorunDependencyChanged(e,r,n)}handleAutorunStarted(e){for(let r of this.loggers)r.handleAutorunStarted(e)}handleAutorunFinished(e){for(let r of this.loggers)r.handleAutorunFinished(e)}handleDerivedDependencyChanged(e,r,n){for(let i of this.loggers)i.handleDerivedDependencyChanged(e,r,n)}handleDerivedCleared(e){for(let r of this.loggers)r.handleDerivedCleared(e)}handleBeginTransaction(e){for(let r of this.loggers)r.handleBeginTransaction(e)}handleEndTransaction(e){for(let r of this.loggers)r.handleEndTransaction(e)}};var pCe;function mCe(t){pCe=t}o(mCe,"_setRecomputeInitiallyAndOnChange");var gCe;function yCe(t){gCe=t}o(yCe,"_setKeepObserved");var yz;function CCe(t){yz=t}o(CCe,"_setDerivedOpts");var RN=class{static{o(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,r){let n=r===void 0?void 0:e,i=r===void 0?e:r;return yz({owner:n,debugName:o(()=>{let s=SN(i);if(s!==void 0)return s;let c=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(c)return`${this.debugName}.${c[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:i},s=>i(this.read(s),s))}flatten(){return yz({owner:void 0,debugName:o(()=>`${this.debugName} (flattened)`,"debugName")},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,r){return e.add(pCe(this,r)),this}keepObserved(e){return e.add(gCe(this)),this}get debugValue(){return this.get()}},pE=class extends RN{constructor(){super();this.observers=new Set;Ho()?.handleObservableCreated(this)}static{o(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&Ho()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&Ho()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!Ho();return ACe(this),r||Ho()?.handleObservableCreated(this),this}};function kN(t,e){let r=new AS(t,e);try{t(r)}finally{r.finish()}}o(kN,"transaction");function Cz(t,e,r){t?e(t):kN(e,r)}o(Cz,"subtransaction");var AS=class{constructor(e,r){this._fn=e;this._getDebugName=r;this.updatingObservers=[];Ho()?.handleBeginTransaction(this)}static{o(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():SN(this._fn)}updateObserver(e,r){this.updatingObservers.push({observer:e,observable:r}),e.beginUpdate(r)}finish(){let e=this.updatingObservers;for(let r=0;r<e.length;r++){let{observer:n,observable:i}=e[r];n.endUpdate(i)}this.updatingObservers=null,Ho()?.handleEndTransaction(this)}};u();u();function pS(t){return new DN(new Cf(void 0,void 0,t),t,void 0,void 0)}o(pS,"autorun");var DN=class{constructor(e,r,n,i){this._debugNameData=e;this._runFn=r;this.createChangeSummary=n;this._handleChange=i;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),Ho()?.handleAutorunCreated(this),this._runIfNeeded(),Sb(this)}static{o(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),Ho()?.handleAutorunDisposed(this),wb(this)}_runIfNeeded(){if(this.state===3)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;try{if(!this.disposed){Ho()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){sE(n)}finally{this._isRunning=!1}}}finally{this.disposed||Ho()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(e){this.state===3&&(this.state=1),this.updateCount++}endUpdate(e){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}fS(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this._isDependency(e)&&(this.state=1)}handleChange(e,r){if(this._isDependency(e)){Ho()?.handleAutorunDependencyChanged(this,e,r);try{(this._handleChange?this._handleChange({changedObservable:e,change:r,didChange:o(i=>i===e,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){sE(n)}}}_isDependency(e){return this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)}readObservable(e){if(!this._isRunning)throw new Fs("The reader object cannot be used outside its compute function!");if(this.disposed)return e.get();e.addObserver(this);let r=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),r}};(e=>e.Observer=DN)(pS||={});u();function Ez(t,e){return new mE(new Cf(t.owner,t.debugName,t.debugReferenceFn),e,void 0,void 0,t.onLastObserverRemoved,t.equalsFn??zg)}o(Ez,"derivedOpts");CCe(Ez);var mE=class extends pE{constructor(r,n,i,s,a=void 0,c){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=i;this._handleChange=s;this._handleLastObserverRemoved=a;this._equalityComparator=c;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{o(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,Ho()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,i=this.value;this.state=3;let s=!1;this._isComputing=!0;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,a)}finally{this._isReaderValid=!1;for(let c of this.dependenciesToBeRemoved)c.removeObserver(this);this.dependenciesToBeRemoved.clear()}s=n&&!this._equalityComparator(i,this.value),Ho()?.handleObservableUpdated(this,{oldValue:i,newValue:this.value,change:void 0,didChange:s,hadValue:n})}catch(a){sE(a)}if(this._isComputing=!1,s)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new Fs("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let i of this.observers)i.handlePossibleChange(this);if(n)for(let i of this.observers)i.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let i of n)i.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let i=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let s of i)s.endUpdate(this)}}fS(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){Ho()?.handleDerivedDependencyChanged(this,r,n);let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:o(a=>a===r,"didChange")},this.changeSummary):!0}catch(a){sE(a)}let s=this.state===3;if(i&&(this.state===1||s)&&(this.state=2,s))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new Fs("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};u();u();function xz(...t){let e,r,n;return t.length===3?[e,r,n]=t:[r,n]=t,new jg(new Cf(e,void 0,n),r,n,()=>jg.globalTransaction,zg)}o(xz,"observableFromEvent");var jg=class extends pE{constructor(r,n,i,s,a){super();this._debugNameData=r;this.event=n;this._getValue=i;this._getTransaction=s;this._equalityComparator=a;this.hasValue=!1;this.handleEvent=o(r=>{let n=this._getValue(r),i=this.value,s=!this.hasValue||!this._equalityComparator(i,n),a=!1;s&&(this.value=n,this.hasValue&&(a=!0,Cz(this._getTransaction(),c=>{Ho()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue});for(let l of this.observers)c.updateObserver(l,this),l.handleChange(this,void 0)},()=>{let c=this.getDebugName();return"Event fired"+(c?`: ${c}`:"")})),this.hasValue=!0),a||Ho()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue})},"handleEvent")}static{o(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=jg;function e(n,i){let s=!1;jg.globalTransaction===void 0&&(jg.globalTransaction=n,s=!0);try{i()}finally{s&&(jg.globalTransaction=void 0)}}r.batchEventsGlobally=e,o(e,"batchEventsGlobally")})(xz||={});function ICe(t){let e=new NN(!1,void 0);return t.addObserver(e),MA(()=>{t.removeObserver(e)})}o(ICe,"keepObserved");yCe(ICe);function xCe(t,e){let r=new NN(!0,e);return t.addObserver(r),e?e(t.get()):t.reportChanges(),MA(()=>{t.removeObserver(r)})}o(xCe,"recomputeInitiallyAndOnChange");mCe(xCe);var NN=class{constructor(e,r){this._forceRecompute=e;this._handleValue=r;this._counter=0}static{o(this,"KeepAliveObserver")}beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,r){}};u();u();u();var bCe=Object.freeze(function(t,e){let r=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(r)}}}),vCe;(n=>{function t(i){return i===n.None||i===n.Cancelled||i instanceof bz?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=t,o(t,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:hS.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:bCe})})(vCe||={});var bz=class{constructor(){this._isCancelled=!1;this._emitter=null}static{o(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?bCe:(this._emitter||(this._emitter=new yf),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};u();var QN;function _Ce(t){QN||(QN=new gS,BN(QN)),QN.addFilteredObj(t)}o(_Ce,"logObservableToConsole");var gS=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{o(this,"ConsoleObservableLogger")}addFilteredObj(e){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(e)}_isIncluded(e){return this._filteredObjects?.has(e)??!0}textToConsoleArgs(e){return ZXe([$b(rZe("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[$b(" "),iu(mS(e.oldValue,70),{color:"red",strikeThrough:!0}),$b(" "),iu(mS(e.newValue,60),{color:"green"})]:[$b(" (unchanged)")]:[$b(" "),iu(mS(e.newValue,60),{color:"green"}),$b(" (initial)")]}handleObservableCreated(e){if(e instanceof mE){let r=e;if(this.changedObservablesSets.set(r,new Set),!1){let i=[];r.__debugUpdating=i;let s=r.beginUpdate;r.beginUpdate=c=>(i.push(c),s.apply(r,[c]));let a=r.endUpdate;r.endUpdate=c=>{let l=i.indexOf(c);return l===-1&&console.error("endUpdate called without beginUpdate",r.debugName,c.debugName),i.splice(l,1),a.apply(r,[c])}}}}handleOnListenerCountChanged(e,r){}handleObservableUpdated(e,r){if(this._isIncluded(e)){if(e instanceof mE){this._handleDerivedRecomputed(e,r);return}console.log(...this.textToConsoleArgs([zb("observable value changed"),iu(e.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(e){if(e.size!==0)return iu(" (changed deps: "+[...e].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(e,r,n){this._isIncluded(e)&&this.changedObservablesSets.get(e)?.add(r)}_handleDerivedRecomputed(e,r){if(!this._isIncluded(e))return;let n=this.changedObservablesSets.get(e);n&&(console.log(...this.textToConsoleArgs([zb("derived recomputed"),iu(e.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),n.clear())}handleDerivedCleared(e){this._isIncluded(e)&&console.log(...this.textToConsoleArgs([zb("derived cleared"),iu(e.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(e,r){this._isIncluded(e)&&console.log(...this.textToConsoleArgs([zb("observable from event triggered"),iu(e.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){this._isIncluded(e)&&this.changedObservablesSets.set(e,new Set)}handleAutorunDisposed(e){}handleAutorunDependencyChanged(e,r,n){this._isIncluded(e)&&this.changedObservablesSets.get(e).add(r)}handleAutorunStarted(e){let r=this.changedObservablesSets.get(e);r&&(this._isIncluded(e)&&console.log(...this.textToConsoleArgs([zb("autorun"),iu(e.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let r=e.getDebugName();r===void 0&&(r=""),this._isIncluded(e)&&console.log(...this.textToConsoleArgs([zb("transaction"),iu(r,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function ZXe(t){let e=new Array,r=[],n="";function i(a){if("length"in a)for(let c of a)c&&i(c);else"text"in a?(n+=`%c${a.text}`,e.push(a.style),a.data&&r.push(...a.data)):"data"in a&&r.push(...a.data)}o(i,"process"),i(t);let s=[n,...e];return s.push(...r),s}o(ZXe,"consoleTextToArgs");function $b(t){return iu(t,{color:"black"})}o($b,"normalText");function zb(t){return iu(nZe(`${t}: `,10),{color:"black",bold:!0})}o(zb,"formatKind");function iu(t,e={color:"black"}){function r(i){return Object.entries(i).reduce((s,[a,c])=>`${s}${a}:${c};`,"")}o(r,"objToCss");let n={color:e.color};return e.strikeThrough&&(n["text-decoration"]="line-through"),e.bold&&(n["font-weight"]="bold"),{text:t,style:r(n)}}o(iu,"styled");function mS(t,e){switch(typeof t){case"number":return""+t;case"string":return t.length+2<=e?`"${t}"`:`"${t.substr(0,e-7)}"+...`;case"boolean":return t?"true":"false";case"undefined":return"undefined";case"object":return t===null?"null":Array.isArray(t)?eZe(t,e):tZe(t,e);case"symbol":return t.toString();case"function":return`[[Function${t.name?" "+t.name:""}]]`;default:return""+t}}o(mS,"formatValue");function eZe(t,e){let r="[ ",n=!0;for(let i of t){if(n||(r+=", "),r.length-5>e){r+="...";break}n=!1,r+=`${mS(i,e-r.length)}`}return r+=" ]",r}o(eZe,"formatArray");function tZe(t,e){if(typeof t.toString=="function"&&t.toString!==Object.prototype.toString){let i=t.toString();return i.length<=e?i:i.substring(0,e-3)+"..."}let r="{ ",n=!0;for(let[i,s]of Object.entries(t)){if(n||(r+=", "),r.length-5>e){r+="...";break}n=!1,r+=`${i}: ${mS(s,e-r.length)}`}return r+=" }",r}o(tZe,"formatObject");function rZe(t,e){let r="";for(let n=1;n<=e;n++)r+=t;return r}o(rZe,"repeat");function nZe(t,e){for(;t.length<e;)t+=" ";return t}o(nZe,"padStr");hCe(_Ce);var sZe=!1;sZe&&BN(new gS);u();var SCe;(r=>{r.PlainText="plaintext";function e(n){return n}r.create=e,o(e,"create")})(SCe||={});u();u();u();function aZe(t){return t}o(aZe,"identity");var PN=class{constructor(e,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof e=="function"?(this._fn=e,this._computeKey=aZe):(this._fn=r,this._computeKey=e.getCacheKey)}static{o(this,"LRUCachedFunction")}get(e){let r=this._computeKey(e);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(e)),this.lastCache}};u();u();var yS=class{constructor(e){this.executor=e;this._didRun=!1}static{o(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};u();var rkr=String.fromCharCode(65279);var wCe=class t{static{o(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return t._INSTANCE||(t._INSTANCE=new t),t._INSTANCE}constructor(){this._data=cZe()}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;let r=this._data,n=r.length/3,i=1;for(;i<=n;)if(e<r[3*i])i=2*i;else if(e>r[3*i+1])i=2*i+1;else return r[3*i+2];return 0}};function cZe(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}o(cZe,"getGraphemeBreakRawData");var BCe=class t{constructor(e){this.confusableDictionary=e}static{o(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new yS(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new PN({getCacheKey:JSON.stringify},e=>{function r(d){let h=new Map;for(let A=0;A<d.length;A+=2)h.set(d[A],d[A+1]);return h}o(r,"arrayToMap");function n(d,h){let A=new Map(d);for(let[m,y]of h)A.set(m,y);return A}o(n,"mergeMaps");function i(d,h){if(!d)return h;let A=new Map;for(let[m,y]of d)h.has(m)&&A.set(m,y);return A}o(i,"intersectMaps");let s=this.ambiguousCharacterData.value,a=e.filter(d=>!d.startsWith("_")&&d in s);a.length===0&&(a=["_default"]);let c;for(let d of a){let h=r(s[d]);c=i(c,h)}let l=r(s._common),f=n(l,c);return new t(f)})}static getInstance(e){return t.cache.get(Array.from(e))}static{this._locales=new yS(()=>Object.keys(t.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")))}static getLocales(){return t._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let r=0;r<e.length;r++){let n=e.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},RCe=class t{static{o(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(t.getRawData())),this._data}static isInvisibleCharacter(e){return t.getData().has(e)}static containsInvisibleCharacter(e){for(let r=0;r<e.length;r++){let n=e.codePointAt(r);if(typeof n=="number"&&t.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return t.getData()}};u();var CS=class t{constructor(e,r){this.start=e;this.endExclusive=r;if(e>r)throw new Fs(`Invalid range: ${this.toString()}`)}static{o(this,"OffsetRange")}static fromTo(e,r){return new t(e,r)}static addRange(e,r){let n=0;for(;n<r.length&&r[n].endExclusive<e.start;)n++;let i=n;for(;i<r.length&&r[i].start<=e.endExclusive;)i++;if(n===i)r.splice(n,0,e);else{let s=Math.min(e.start,r[n].start),a=Math.max(e.endExclusive,r[i-1].endExclusive);r.splice(n,i-n,new t(s,a))}}static tryCreate(e,r){if(!(e>r))return new t(e,r)}static ofLength(e){return new t(0,e)}static ofStartAndLength(e,r){return new t(e,e+r)}static emptyAt(e){return new t(e,e)}get isEmpty(){return this.start===this.endExclusive}delta(e){return new t(this.start+e,this.endExclusive+e)}deltaStart(e){return new t(this.start+e,this.endExclusive)}deltaEnd(e){return new t(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(e){return this.start===e.start&&this.endExclusive===e.endExclusive}containsRange(e){return this.start<=e.start&&e.endExclusive<=this.endExclusive}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new t(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);if(r<=n)return new t(r,n)}intersectionLength(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return Math.max(0,n-r)}intersects(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return r<n}intersectsOrTouches(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return r<=n}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}substring(e){return e.substring(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new Fs(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new Fs(`Invalid clipping range: ${this.toString()}`);return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}map(e){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(e(n));return r}forEach(e){for(let r=this.start;r<this.endExclusive;r++)e(r)}joinRightTouching(e){if(this.endExclusive!==e.start)throw new Fs(`Invalid join: ${this.toString()} and ${e.toString()}`);return new t(this.start,e.endExclusive)}};u();var qA=class t{static{o(this,"Position")}constructor(e,r){this.lineNumber=e,this.column=r}with(e=this.lineNumber,r=this.column){return e===this.lineNumber&&r===this.column?this:new t(e,r)}delta(e=0,r=0){return this.with(this.lineNumber+e,this.column+r)}equals(e){return t.equals(this,e)}static equals(e,r){return!e&&!r?!0:!!e&&!!r&&e.lineNumber===r.lineNumber&&e.column===r.column}isBefore(e){return t.isBefore(this,e)}static isBefore(e,r){return e.lineNumber<r.lineNumber?!0:r.lineNumber<e.lineNumber?!1:e.column<r.column}isBeforeOrEqual(e){return t.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,r){return e.lineNumber<r.lineNumber?!0:r.lineNumber<e.lineNumber?!1:e.column<=r.column}static compare(e,r){let n=e.lineNumber|0,i=r.lineNumber|0;if(n===i){let s=e.column|0,a=r.column|0;return s-a}return n-i}clone(){return new t(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new t(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};u();var Ef=class t{static{o(this,"Range")}constructor(e,r,n,i){e>n||e===n&&r>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=e,this.endColumn=r):(this.startLineNumber=e,this.startColumn=r,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return t.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return t.containsPosition(this,e)}static containsPosition(e,r){return!(r.lineNumber<e.startLineNumber||r.lineNumber>e.endLineNumber||r.lineNumber===e.startLineNumber&&r.column<e.startColumn||r.lineNumber===e.endLineNumber&&r.column>e.endColumn)}static strictContainsPosition(e,r){return!(r.lineNumber<e.startLineNumber||r.lineNumber>e.endLineNumber||r.lineNumber===e.startLineNumber&&r.column<=e.startColumn||r.lineNumber===e.endLineNumber&&r.column>=e.endColumn)}containsRange(e){return t.containsRange(this,e)}static containsRange(e,r){return!(r.startLineNumber<e.startLineNumber||r.endLineNumber<e.startLineNumber||r.startLineNumber>e.endLineNumber||r.endLineNumber>e.endLineNumber||r.startLineNumber===e.startLineNumber&&r.startColumn<e.startColumn||r.endLineNumber===e.endLineNumber&&r.endColumn>e.endColumn)}strictContainsRange(e){return t.strictContainsRange(this,e)}static strictContainsRange(e,r){return!(r.startLineNumber<e.startLineNumber||r.endLineNumber<e.startLineNumber||r.startLineNumber>e.endLineNumber||r.endLineNumber>e.endLineNumber||r.startLineNumber===e.startLineNumber&&r.startColumn<=e.startColumn||r.endLineNumber===e.endLineNumber&&r.endColumn>=e.endColumn)}plusRange(e){return t.plusRange(this,e)}static plusRange(e,r){let n,i,s,a;return r.startLineNumber<e.startLineNumber?(n=r.startLineNumber,i=r.startColumn):r.startLineNumber===e.startLineNumber?(n=r.startLineNumber,i=Math.min(r.startColumn,e.startColumn)):(n=e.startLineNumber,i=e.startColumn),r.endLineNumber>e.endLineNumber?(s=r.endLineNumber,a=r.endColumn):r.endLineNumber===e.endLineNumber?(s=r.endLineNumber,a=Math.max(r.endColumn,e.endColumn)):(s=e.endLineNumber,a=e.endColumn),new t(n,i,s,a)}intersectRanges(e){return t.intersectRanges(this,e)}static intersectRanges(e,r){let n=e.startLineNumber,i=e.startColumn,s=e.endLineNumber,a=e.endColumn,c=r.startLineNumber,l=r.startColumn,f=r.endLineNumber,d=r.endColumn;return n<c?(n=c,i=l):n===c&&(i=Math.max(i,l)),s>f?(s=f,a=d):s===f&&(a=Math.min(a,d)),n>s||n===s&&i>a?null:new t(n,i,s,a)}equalsRange(e){return t.equalsRange(this,e)}static equalsRange(e,r){return!e&&!r?!0:!!e&&!!r&&e.startLineNumber===r.startLineNumber&&e.startColumn===r.startColumn&&e.endLineNumber===r.endLineNumber&&e.endColumn===r.endColumn}getEndPosition(){return t.getEndPosition(this)}static getEndPosition(e){return new qA(e.endLineNumber,e.endColumn)}getStartPosition(){return t.getStartPosition(this)}static getStartPosition(e){return new qA(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,r){return new t(this.startLineNumber,this.startColumn,e,r)}setStartPosition(e,r){return new t(e,r,this.endLineNumber,this.endColumn)}collapseToStart(){return t.collapseToStart(this)}static collapseToStart(e){return new t(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return t.collapseToEnd(this)}static collapseToEnd(e){return new t(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new t(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(e,r=e){return new t(e.lineNumber,e.column,r.lineNumber,r.column)}static lift(e){return e?new t(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,r){return!(e.endLineNumber<r.startLineNumber||e.endLineNumber===r.startLineNumber&&e.endColumn<r.startColumn||r.endLineNumber<e.startLineNumber||r.endLineNumber===e.startLineNumber&&r.endColumn<e.startColumn)}static areIntersecting(e,r){return!(e.endLineNumber<r.startLineNumber||e.endLineNumber===r.startLineNumber&&e.endColumn<=r.startColumn||r.endLineNumber<e.startLineNumber||r.endLineNumber===e.startLineNumber&&r.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,r){if(e&&r){let s=e.startLineNumber|0,a=r.startLineNumber|0;if(s===a){let c=e.startColumn|0,l=r.startColumn|0;if(c===l){let f=e.endLineNumber|0,d=r.endLineNumber|0;if(f===d){let h=e.endColumn|0,A=r.endColumn|0;return h-A}return f-d}return c-l}return s-a}return(e?1:0)-(r?1:0)}static compareRangesUsingEnds(e,r){return e.endLineNumber===r.endLineNumber?e.endColumn===r.endColumn?e.startLineNumber===r.startLineNumber?e.startColumn-r.startColumn:e.startLineNumber-r.startLineNumber:e.endColumn-r.endColumn:e.endLineNumber-r.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}};u();u();var gE=class t{static{o(this,"LineRange")}static ofLength(e,r){return new t(e,e+r)}static fromRange(e){return new t(e.startLineNumber,e.endLineNumber)}static fromRangeInclusive(e){return new t(e.startLineNumber,e.endLineNumber+1)}static{this.compareByStart=_D(e=>e.startLineNumber,SD)}static subtract(e,r){return r?e.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<e.endLineNumberExclusive?[new t(e.startLineNumber,r.startLineNumber),new t(r.endLineNumberExclusive,e.endLineNumberExclusive)]:r.startLineNumber<=e.startLineNumber&&e.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<e.endLineNumberExclusive?[new t(Math.max(r.endLineNumberExclusive,e.startLineNumber),e.endLineNumberExclusive)]:[new t(e.startLineNumber,Math.min(r.startLineNumber,e.endLineNumberExclusive))]:[e]}static joinMany(e){if(e.length===0)return[];let r=new FN(e[0].slice());for(let n=1;n<e.length;n++)r=r.getUnion(new FN(e[n].slice()));return r.ranges}static join(e){if(e.length===0)throw new Fs("lineRanges cannot be empty");let r=e[0].startLineNumber,n=e[0].endLineNumberExclusive;for(let i=1;i<e.length;i++)r=Math.min(r,e[i].startLineNumber),n=Math.max(n,e[i].endLineNumberExclusive);return new t(r,n)}static deserialize(e){return new t(e[0],e[1])}constructor(e,r){if(e>r)throw new Fs(`startLineNumber ${e} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=e,this.endLineNumberExclusive=r}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}containsRange(e){return this.startLineNumber<=e.startLineNumber&&e.endLineNumberExclusive<=this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new t(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new t(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new t(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(e){let r=Math.max(this.startLineNumber,e.startLineNumber),n=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(r<=n)return new t(r,n)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}intersectsOrTouches(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new Ef(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new Ef(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(e(n));return r}forEach(e){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)e(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}toOffsetRange(){return new CS(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(e){return this.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-this.endLineNumberExclusive:e.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-e.endLineNumberExclusive:0}distanceToLine(e){return this.contains(e)?0:e<this.startLineNumber?this.startLineNumber-e:e-this.endLineNumberExclusive}addMargin(e,r){return new t(this.startLineNumber-e,this.endLineNumberExclusive+r)}},FN=class t{constructor(e=[]){this._normalizedRanges=e}static{o(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(e){if(e.length===0)return;let r=vD(this._normalizedRanges,i=>i.endLineNumberExclusive>=e.startLineNumber),n=bb(this._normalizedRanges,i=>i.startLineNumber<=e.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,e);else if(r===n-1){let i=this._normalizedRanges[r];this._normalizedRanges[r]=i.join(e)}else{let i=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(e);this._normalizedRanges.splice(r,n-r,i)}}contains(e){let r=$Y(this._normalizedRanges,n=>n.startLineNumber<=e);return!!r&&r.endLineNumberExclusive>e}intersects(e){let r=$Y(this._normalizedRanges,n=>n.startLineNumber<e.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(this._normalizedRanges.length===0)return e;if(e._normalizedRanges.length===0)return this;let r=[],n=0,i=0,s=null;for(;n<this._normalizedRanges.length||i<e._normalizedRanges.length;){let a=null;if(n<this._normalizedRanges.length&&i<e._normalizedRanges.length){let c=this._normalizedRanges[n],l=e._normalizedRanges[i];c.startLineNumber<l.startLineNumber?(a=c,n++):(a=l,i++)}else n<this._normalizedRanges.length?(a=this._normalizedRanges[n],n++):(a=e._normalizedRanges[i],i++);s===null?s=a:s.endLineNumberExclusive>=a.startLineNumber?s=new gE(s.startLineNumber,Math.max(s.endLineNumberExclusive,a.endLineNumberExclusive)):(r.push(s),s=a)}return s!==null&&r.push(s),new t(r)}subtractFrom(e){let r=vD(this._normalizedRanges,a=>a.endLineNumberExclusive>=e.startLineNumber),n=bb(this._normalizedRanges,a=>a.startLineNumber<=e.endLineNumberExclusive)+1;if(r===n)return new t([e]);let i=[],s=e.startLineNumber;for(let a=r;a<n;a++){let c=this._normalizedRanges[a];c.startLineNumber>s&&i.push(new gE(s,c.startLineNumber)),s=c.endLineNumberExclusive}return s<e.endLineNumberExclusive&&i.push(new gE(s,e.endLineNumberExclusive)),new t(i)}toString(){return this._normalizedRanges.map(e=>e.toString()).join(", ")}getIntersection(e){let r=[],n=0,i=0;for(;n<this._normalizedRanges.length&&i<e._normalizedRanges.length;){let s=this._normalizedRanges[n],a=e._normalizedRanges[i],c=s.intersect(a);c&&!c.isEmpty&&r.push(c),s.endLineNumberExclusive<a.endLineNumberExclusive?n++:i++}return new t(r)}getWithDelta(e){return new t(this._normalizedRanges.map(r=>r.delta(e)))}};var vz=class t{constructor(e,r){this.lineCount=e;this.columnCount=r}static{o(this,"TextLength")}static{this.zero=new t(0,0)}static lengthDiffNonNegative(e,r){return r.isLessThan(e)?t.zero:e.lineCount===r.lineCount?new t(0,r.columnCount-e.columnCount):new t(r.lineCount-e.lineCount,r.columnCount)}static betweenPositions(e,r){return e.lineNumber===r.lineNumber?new t(0,r.column-e.column):new t(r.lineNumber-e.lineNumber,r.column-1)}static fromPosition(e){return new t(e.lineNumber-1,e.column-1)}static ofRange(e){return t.betweenPositions(e.getStartPosition(),e.getEndPosition())}static ofText(e){let r=0,n=0;for(let i of e)i===`
`?(r++,n=0):n++;return new t(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(e){return this.lineCount!==e.lineCount?this.lineCount<e.lineCount:this.columnCount<e.columnCount}isGreaterThan(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>e.columnCount}isGreaterThanOrEqualTo(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>=e.columnCount}equals(e){return this.lineCount===e.lineCount&&this.columnCount===e.columnCount}compare(e){return this.lineCount!==e.lineCount?this.lineCount-e.lineCount:this.columnCount-e.columnCount}add(e){return e.lineCount===0?new t(this.lineCount,this.columnCount+e.columnCount):new t(this.lineCount+e.lineCount,e.columnCount)}createRange(e){return this.lineCount===0?new Ef(e.lineNumber,e.column,e.lineNumber,e.column+this.columnCount):new Ef(e.lineNumber,e.column,e.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new Ef(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return gE.ofLength(1,this.lineCount)}addToPosition(e){return this.lineCount===0?new qA(e.lineNumber,e.column+this.columnCount):new qA(e.lineNumber+this.lineCount,this.columnCount+1)}addToRange(e){return Ef.fromPositions(this.addToPosition(e.getStartPosition()),this.addToPosition(e.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};u();u();u();var MN=class extends rl{static{o(this,"RecentEditsProvider")}};function lZe(t,e=!1,r=void 0,n){if(e&&(r===void 0||n===void 0))throw new Error("cursorLine and activeDocDistanceLimitFromCursor are required when filterByCursorLine is true");let i=t.startLine-1,s=t.endLine-1;return!!(e&&(Math.abs(i-r)<=n||Math.abs(s-r)<=n))}o(lZe,"editIsTooCloseToCursor");var LN=o((t,e)=>{let[r,n]=e.useState();return e.useData(dc,async i=>{if(!i.document)return;let s=t.ctx.get(MN);if(s.isEnabled())s.start();else return;let a=s.config,c=s.getRecentEdits(),l=new Set,f=t.ctx.get(ti),d=[];for(let A=c.length-1;A>=0&&!(d.length>=a.maxEdits);A--){let m=c[A];if(!await f.getTextDocument({uri:m.file}))continue;let y=!l.has(m.file);if(l.size+(y?1:0)>a.maxFiles)break;let _=m.file===i.document?.uri,T=_?i.position.line:void 0;if(lZe(m,_,T,a.activeDocDistanceLimitFromCursor))continue;let k=s.getEditSummary(m);if(k){l.add(m.file);let N=f.getRelativePath({uri:m.file});d.unshift(lS(`File: ${N}`)+lS(k))}}if(d.length===0){n(void 0);return}let h=lS("These are recently edited files. Do not suggest code that has been deleted.")+d.join("")+lS("End of recent edits");n(h)}),r?qt($g,{children:qt(Uo,{children:r})}):void 0},"RecentEdits");u();u();u();u();var kCe=new $r;function DCe(t){return[...t].sort((e,r)=>{let n=kCe.get(e.uri)??0;return(kCe.get(r.uri)??0)-n})}o(DCe,"sortByAccessTimes");var ON=class{constructor(e){this.docManager=e}static{o(this,"OpenTabFiles")}truncateDocs(e,r,n,i){let s=new Map,a=0;for(let c of e)if(!(a+c.getText().length>yE.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(c.uri.startsWith("file:")&&r.startsWith("file:")&&c.uri!==r&&Tz(n,c.detectedLanguageId)&&(s.set(c.uri.toString(),{uri:c.uri.toString(),relativePath:this.docManager.getRelativePath(c),source:c.getText()}),a+=c.getText().length),s.size>=i))break;return s}async getNeighborFiles(e,r,n){let i=new Map,s=new Map;return i=this.truncateDocs(DCe(await this.docManager.textDocuments()),e,r,n),s.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:s}}};u();u();function NCe(t,e,r){return async function(...n){return await Promise.race([t.apply(this,n),new Promise(i=>{setTimeout(i,e,r)})])}}o(NCe,"shortCircuit");u();function uZe(...t){return JSON.stringify(t,(e,r)=>typeof r=="object"?r:String(r))}o(uZe,"defaultHash");function _z(t,e={}){let{hash:r=uZe,cache:n=new Map}=e;return function(...i){let s=r.apply(this,i);if(n.has(s))return n.get(s);let a=t.apply(this,i);return a instanceof Promise&&(a=a.catch(c=>{throw n.delete(s),c})),n.set(s,a),a}}o(_z,"memoize");var UN={entries:new Map,traits:[]},Sz=class extends $r{constructor(r,n=120*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{o(this,"PromiseExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.delete(r)}},il=new Kr("relatedFiles"),fZe=1e3,HN=class extends Error{static{o(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},wz=class t{constructor(e){this.context=e}static{o(this,"RelatedFilesProvider")}async getRelatedFiles(e,r,n){let i=await this.getRelatedFilesResponse(e,r,n);if(i===void 0)return;let s={entries:new Map,traits:i.traits??[]};for(let a of i.entries){let c=s.entries.get(a.type);c||(c=new Map,s.entries.set(a.type,c));for(let l of a.uris)try{il.debug(this.context,`Processing ${l}`);let f=await this.getFileContent(l);if(!f||f.length==0){il.debug(this.context,`Skip ${l} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(l,f)){il.debug(this.context,`Skip ${l} due content exclusion.`);continue}f=t.dropBOM(f),c.set(l,f)}catch(f){il.warn(this.context,f)}}return s}async getFileContent(e){try{return this.context.get(na).readFileString(e)}catch(r){il.debug(this.context,r)}}async isContentExcluded(e,r){try{return(await this.context.get(jd).evaluate(e,r)).isBlocked}catch(n){il.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(e){return e.charCodeAt(0)===65279?e.slice(1):e}},dZe=3,QCe=new Sz(fZe);async function PCe(t,e,r,n,i){let s=performance.now(),a;try{a=await i.getRelatedFiles(e,r,n)}catch(l){il.exception(t,l,".getRelatedFiles"),a=void 0}a===void 0&&(QCe.bumpRetryCount(e.uri)>=dZe?a=UN:a=void 0);let c=performance.now()-s;if(il.debug(t,a!==void 0?`Fetched ${[...a.entries.values()].map(l=>l.size).reduce((l,f)=>l+f,0)} related files for '${e.uri}' in ${c}ms.`:`Failing fetching files for '${e.uri}' in ${c}ms.`),a===void 0)throw new HN;return a}o(PCe,"getRelatedFiles");var Bz=_z(PCe,{cache:QCe,hash:o((t,e,r,n,i)=>`${e.uri}`,"hash")});Bz=NCe(Bz,200,UN);async function FCe(t,e,r,n,i,s=!1){let a=t.get(wz),c=UN;try{let l={uri:e.uri,clientLanguageId:e.clientLanguageId,data:i};c=s?await PCe(t,l,r,n,a):await Bz(t,l,r,n,a)}catch(l){c=UN,l instanceof HN&&nr(t,"getRelatedFilesList",r)}return il.debug(t,c!=null?`Fetched following traits ${c.traits.map(l=>`{${l.name} : ${l.value}}`).join("")} for '${e.uri}'`:`Failing fecthing traits for '${e.uri}'.`),c}o(FCe,"getRelatedFilesAndTraits");function Tz(t,e){return R3(t)===R3(e)}o(Tz,"considerNeighborFile");var yE=class t{static{o(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){t.instance=void 0}static async getNeighborFilesAndTraits(e,r,n,i,s,a,c){let l=e.get(ti);t.instance===void 0&&(t.instance=new ON(l));let f={...await t.instance.getNeighborFiles(r,n,t.MAX_NEIGHBOR_FILES),traits:[]};if(hZe(e,i))return f;let d=await l.getTextDocument({uri:r});if(!d)return il.debug(e,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),f;let h=l.getWorkspaceFolder(d);if(!h)return il.debug(e,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),f;let A=await FCe(e,d,i,s,a,c);return A.entries.size===0?(il.debug(e,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),f.traits.push(...A.traits),f):(A.entries.forEach((m,y)=>{let x=[];m.forEach((_,T)=>{let S=t.getRelativePath(T,h.uri);if(!S||f.docs.has(T))return;let k={relativePath:S,uri:T,source:_};x.unshift(k),f.docs.set(T,k)}),x.length>0&&f.neighborSource.set(y,x.map(_=>_.uri.toString()))}),f.traits.push(...A.traits),f)}static basename(e){return decodeURIComponent(e.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(e,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return e.toString().startsWith(n)?e.toString().slice(n.length):t.basename(e)}};function hZe(t,e){return t.get(Sr).excludeRelatedFiles(e)||rs(t,Pt.ExcludeRelatedFiles)}o(hZe,"isExcludeRelatedFilesActive");function MCe(t,e){return t.get(Sr).includeNeighboringFiles(e)||rs(t,Pt.IncludeNeighboringFiles)}o(MCe,"isIncludeNeighborFilesActive");var qN=o((t,e)=>{let[r,n]=e.useState(),[i,s]=e.useState([]);e.useData(dc,async l=>{l.document.uri!==r?.uri&&s([]),n(l.document);let f=yE.defaultEmptyResult();l.turnOffSimilarFiles||(f=await yE.getNeighborFilesAndTraits(t.ctx,l.document.uri,l.document.detectedLanguageId,l.telemetryData,l.cancellationToken,l.data));let d=await a(l.telemetryData,l.document,l,f);s(d)});async function a(l,f,d,h){let A=jb(t.ctx,l,f.detectedLanguageId);return(await c(A,l,f,d,h)).filter(y=>y.snippet.length>0).sort((y,x)=>y.score-x.score).map(y=>({...Hye(y),score:y.score}))}o(a,"produceSimilarFiles");async function c(l,f,d,h,A){let m=l.similarFilesOptions||mN(t.ctx,f,d.detectedLanguageId),x=t.ctx.get(ti).getRelativePath(d),_={uri:d.uri,source:d.getText(),offset:d.offsetAt(h.position),relativePath:x,languageId:d.detectedLanguageId};return await zye(_,Array.from(A.docs.values()),m)}return o(c,"findSimilarSnippets"),qt(gf,{children:[...i.map((l,f)=>qt(AZe,{snippet:l}))]})},"SimilarFiles"),AZe=o((t,e)=>qt($g,{children:[qt(Uo,{children:t.snippet.headline}),qt(Uo,{children:t.snippet.snippet})]}),"SimilarFile");u();u();var GN=o((t,e)=>{let[r,n]=e.useState(),[i,s]=e.useState();if(e.useData(dc,a=>{a.traits!==r&&n(a.traits);let c=R3(a.document.detectedLanguageId);c!==i&&s(c)}),!(!r||r.length===0||!i))return qt(gf,{children:[qt(Uo,{children:`Consider this related information:
`}),...r.map(a=>qt(Uo,{source:a,children:`${a.name}: ${a.value}`},a.id))]})},"Traits");function LCe(t){return qt(gf,{children:[qt(iz,{children:[qt(TN,{ctx:t,weight:.7}),qt(GN,{weight:.6}),qt(yN,{ctx:t,weight:.9}),qt(qN,{ctx:t,weight:.8})]}),qt(eCe,{weight:1}),qt(oz,{children:qt(LN,{ctx:t,weight:.99})}),qt(Zye,{weight:1})]})}o(LCe,"splitContextCompletionsPrompt");u();var OCe=0;function pZe(){OCe=0}o(pZe,"resetContextIndex");function mZe(){return OCe++}o(mZe,"getNextContextIndex");var VN=class extends Wb{constructor(){super(...arguments);this.formatPrefix=rCe;this.formatContext=nCe}static{o(this,"SplitContextPromptRenderer")}processSnapshot(r,n){let i=[],s=[],a=[],c=!1;if(pZe(),new Vb(r,gZe).walkSnapshot((d,h,A)=>{if(d===r||(d.statistics.updateDataTimeMs&&d.statistics.updateDataTimeMs>0&&a.push({componentPath:d.path,updateDataTimeMs:d.statistics.updateDataTimeMs}),d.name===hE.name&&(c=!0),d.value===void 0||d.value===""))return!0;let m=A.chunks,y=A.type;if(y==="suffix")s.push({value:uS(d.value),type:"suffix",weight:A.weight,componentPath:d.path,nodeStatistics:d.statistics,chunks:m,source:A.source});else{let x=y==="prefix",_=x||d.value.endsWith(n)?d.value:d.value+n;i.push({type:x?"prefix":"context",value:uS(_),weight:A.weight,componentPath:d.path,nodeStatistics:d.statistics,chunks:m,source:A.source,index:x?void 0:A.index})}return!0}),!c)throw new Error(`Node of type ${hE.name} not found`);if(s.length>1)throw new Error("Only one suffix is allowed");let f=s.length===1?s[0]:{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:i,suffixBlock:f,componentStatistics:a}}},gZe=[...uz,(t,e,r)=>CN(t)?{...r,index:mZe()}:r];u();function WN(t,e,r){let n=rN(r,"Trait");for(let s of n)yZe(t,e,s.data,s.providerId);return n.flatMap(s=>s.data).sort((s,a)=>(s.importance??0)-(a.importance??0))}o(WN,"getTraitsFromContextItems");function yZe(t,e,r,n){let i=t.get(ru).getStatisticsForCompletion(e);r.forEach(s=>{i.addExpectations(n,[[s,"included"]])})}o(yZe,"setupExpectationsForTraits");var CZe=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function YN(t,e,r,n,i,s){if(r.length>0){let a={};a.detectedLanguageId=n,a.languageId=i;for(let l of r){let f=CZe.get(l.name);f&&(a[f]=l.value)}let c=s.extendedBy(a,{});return nr(e,t,c)}}o(YN,"ReportTraitsTelemetry");u();u();u();var $N=class{constructor(e){this.states=e;this.currentIndex=0;this.stateChanged=!1}static{o(this,"UseState")}useState(e){let r=this.currentIndex;if(this.states[r]===void 0){let i=typeof e=="function"?e():e;this.states[r]=i}let n=o(i=>{let s=typeof i=="function"?i(this.states[r]):i;this.states[r]=s,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},zN=class{constructor(e){this.measureUpdateTime=e;this.consumers=[]}static{o(this,"UseData")}useData(e,r){this.consumers.push(n=>{if(e(n))return r(n)})}async updateData(e){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(e);this.measureUpdateTime(performance.now()-r)}}};var jN=class{constructor(e){this.lifecycleData=new Map;this.vTree=this.virtualizeElement(e,"$",0)}static{o(this,"VirtualPromptReconciler")}reconcile(e){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return e?.isCancellationRequested?this.vTree:(this.vTree=this.reconcileNode(this.vTree,"$",0,e),this.vTree)}reconcileNode(e,r,n,i){if(!e.children&&!e.lifecycle)return e;let s=e;if(e.lifecycle?.isRemountRequired()){let c=this.collectChildPaths(e);s=this.virtualizeElement(e.component,r,n);let l=this.collectChildPaths(s);this.cleanupState(c,l)}else if(e.children){let c=[];for(let l=0;l<e.children.length;l++){let f=e.children[l];if(f){let d=this.reconcileNode(f,e.path,l,i);d!==void 0&&c.push(d)}}s.children=c}return s}virtualizeElement(e,r,n){if(!(typeof e>"u")){if(typeof e=="string"||typeof e=="number")return{name:typeof e,path:`${r}[${n}]`,props:{value:e},component:e};if(EZe(e.type)){let i=e.type(e.props.children),s=r!=="$"?`[${n}]`:"",a=`${r}${s}.${i.type}`,c=i.children.map((l,f)=>this.virtualizeElement(l,a,f));return this.ensureUniqueKeys(c),{name:i.type,path:a,children:c.flat().filter(l=>l!==void 0),component:e}}return this.virtualizeFunctionComponent(r,n,e,e.type)}}virtualizeFunctionComponent(e,r,n,i){let s=n.props.key?`["${n.props.key}"]`:`[${r}]`,a=`${e}${s}.${i.name}`,c=new kz(this.getOrCreateLifecycleData(a)),l=i(n.props,c),h=(Array.isArray(l)?l:[l]).map((A,m)=>this.virtualizeElement(A,a,m)).flat().filter(A=>A!==void 0);return this.ensureUniqueKeys(h),{name:i.name,path:a,props:n.props,children:h,component:n,lifecycle:c}}ensureUniqueKeys(e){let r=new Map;for(let i of e){if(!i)continue;let s=i.props?.key;s&&r.set(s,(r.get(s)||0)+1)}let n=Array.from(r.entries()).filter(([i,s])=>s>1).map(([i])=>i);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(e){let r=[];if(e?.children)for(let n of e.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(e,r){for(let n of e)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(e){return this.lifecycleData.has(e)||this.lifecycleData.set(e,new Rz([])),this.lifecycleData.get(e)}createPipe(){return{pump:o(async e=>{await this.pumpData(e)},"pump")}}async pumpData(e){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(e,this.vTree)}async recursivelyPumpData(e,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(e);for(let n of r.children||[])await this.recursivelyPumpData(e,n)}},Rz=class{static{o(this,"PromptElementLifecycleData")}constructor(e){this.state=e,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let e=this._updateTimeMs;return this._updateTimeMs=0,e}},kz=class{constructor(e){this.lifecycleData=e;this.stateHook=new $N(e.state),this.dataHook=new zN(r=>{e._updateTimeMs=r})}static{o(this,"PromptElementLifecycle")}useState(e){return this.stateHook.useState(e)}useData(e,r){this.dataHook.useData(e,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function EZe(t){return typeof t=="function"&&"isFragmentFunction"in t}o(EZe,"isFragmentFunction");var ES=class{static{o(this,"VirtualPrompt")}constructor(e){this.reconciler=new jN(e)}snapshotNode(e,r){if(!e)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let i of e.children??[]){let s=this.snapshotNode(i,r);if(s==="cancelled")return"cancelled";s!==void 0&&n.push(s)}return{value:e.props?.value?.toString(),name:e.name,path:e.path,props:e.props,children:n,statistics:{updateDataTimeMs:e.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}snapshot(e){try{let r=this.reconciler.reconcile(e);if(e?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,e);return n==="cancelled"||e?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};function dc(t){if(!t||typeof t!="object")return!1;let e=t;return!(!e.document||!e.position||e.position.line===void 0||e.position.character===void 0||!e.telemetryData)}o(dc,"isCompletionRequestData");var Dz={default:{promptFunction:UCe,renderer:Wb},splitContext:{promptFunction:LCe,renderer:VN}};function UCe(t){return qt(gf,{children:[qt(nz,{children:[qt(TN,{ctx:t,weight:.7}),qt(GN,{weight:.6}),qt(yN,{ctx:t,weight:.9}),qt(qN,{ctx:t,weight:.8}),qt(LN,{ctx:t,weight:.99})]}),qt(cS,{weight:1})]})}o(UCe,"defaultCompletionsPrompt");var KN=class{constructor(e,r,n){this.ctx=e;this.promptOrdering=n??"default",this.virtualPrompt=r??new ES(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe(),this.renderer=this.getRenderer()}static{o(this,"ComponentsCompletionsPromptFactory")}async prompt(e,r){try{return await this.createPromptUnsafe(e,r)}catch(n){return this.errorPrompt(n)}}async createPromptUnsafe({completionId:e,completionState:r,telemetryData:n,promptOpts:i},s){let{maxPromptLength:a,suffixPercent:c,suffixMatchThreshold:l}=jb(this.ctx,n,r.textDocument.detectedLanguageId),f=await this.failFastPrompt(r.textDocument,r.position,c,s);if(f)return f;let d=i?.separateContext?"splitContext":"default";this.setPromptOrdering(d);let h=performance.now(),{traits:A,codeSnippets:m,turnOffSimilarFiles:y,resolvedContextItems:x}=await this.resolveContext(e,r,n,s,i);if(await this.updateComponentData(r.textDocument,r.position,A,m,n,y,a,s,i,l,i?.tokenizer),s?.isCancellationRequested)return GA;let _=this.virtualPrompt.snapshot(s),T=_.status;if(T==="cancelled")return GA;if(T==="error")return this.errorPrompt(_.error);let S=this.renderer.render(_.snapshot,{delimiter:`
`,tokenizer:i?.tokenizer,promptTokenLimit:a,suffixPercent:c,languageId:r.textDocument.detectedLanguageId},s);if(S.status==="cancelled")return GA;if(S.status==="error")return this.errorPrompt(S.error);let[k,N]=IS(S.prefix),P={...S,prefix:k},L;if(qb(this.ctx,n)){let te=nN(S.metadata.componentStatistics);this.ctx.get(ru).getStatisticsForCompletion(e).computeMatch(te),L=oN(this.ctx,e,x),Fo.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(L)}'`)}let Y=performance.now();return this.resetIfEmpty(S),this.successPrompt(P,Y,h,N,L)}async updateComponentData(e,r,n,i,s,a,c,l,f={},d,h){let A=this.createRequestData(e,r,s,l,f,c,n,i,a,d,h);await this.pipe.pump(A)}async resolveContext(e,r,n,i,s={}){let a=[],c,l,f=!1;if(qb(this.ctx,n)){a=await this.ctx.get(uE).resolution(e);let{textDocument:d}=r,h=a.filter(sN);xZe(this.ctx,d.detectedLanguageId,h,n)||(f=!0),c=WN(this.ctx,e,h),YN("contextProvider.traits",this.ctx,c,d.detectedLanguageId,d.detectedLanguageId,n),l=await gN(this.ctx,e,h,d.detectedLanguageId)}return{traits:c,codeSnippets:l,turnOffSimilarFiles:f,resolvedContextItems:a}}async failFastPrompt(e,r,n,i){if(i?.isCancellationRequested)return GA;if((await this.ctx.get(jd).evaluate(e.uri,e.getText(),"UPDATE")).isBlocked)return ZN;if((n>0?e.getText().length:e.offsetAt(r))<JN)return XN}createRequestData(e,r,n,i,s,a,c,l,f,d,h){return{document:e,position:r,telemetryData:n,cancellationToken:i,data:s.data,traits:c,codeSnippets:l,turnOffSimilarFiles:f,suffixMatchThreshold:d,maxPromptTokens:a,tokenizer:h}}resetIfEmpty(e){e.prefix.length===0&&e.suffix.length===0&&this.reset()}successPrompt(e,r,n,i,s){return{type:"prompt",prompt:{prefix:e.prefix,prefixTokens:e.prefixTokens,suffix:e.suffix,suffixTokens:e.suffixTokens,context:e.context,isFimEnabled:e.suffix.length>0},computeTimeMs:r-n,trailingWs:i,neighborSource:new Map,metadata:e.metadata,contextProvidersTelemetry:s}}errorPrompt(e){return Td(this.ctx,e,"PromptComponents.CompletionsPromptFactory"),this.reset(),Kb}reset(){this.renderer=this.getRenderer(),this.virtualPrompt=new ES(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe()}setPromptOrdering(e){this.promptOrdering!==e&&(this.promptOrdering=e,this.reset())}completionsPrompt(){return(Dz[this.promptOrdering]?.promptFunction??UCe)(this.ctx)}getRenderer(){let e=Dz[this.promptOrdering]??Dz.default;return new e.renderer}};function xZe(t,e,r,n){let i=["cpp","c"];return MCe(t,n)||i.includes(e)||!r.some(a=>a.data.some(c=>c.type==="CodeSnippet"))}o(xZe,"similarFilesEnabled");u();u();u();u();u();var eQ="[...]",bZe=0,Xd=-1;function qo(){return bZe++}o(qo,"getAvailableNodeId");function vZe(t,e){let r=t.children.map(n=>n.elisionMarker??e);return[...t.text.entries()].map(([n,i])=>n===0?i:r[n-1]+i).join("")}o(vZe,"elideChildren");function Nz(t,e=eQ){return r=>t.tokenLength(vZe(r,e))}o(Nz,"getTokenizerCostFunction");u();var Jb=class{static{o(this,"PriorityQueue")}constructor(e){if(this.heap=e?[...e]:[],this.heap.length>0)for(let r=Math.floor(this.heap.length/2)-1;r>=0;r--)this.siftDown(r)}get size(){return this.heap.length}insert(e,r){let n={item:e,priority:r};this.heap.push(n);let i=this.heap.length-1;this.siftUp(i)}peek(){return this.heap.length===0?null:this.heap[0]}pop(){if(this.heap.length===0)return null;let e=this.heap[0],r=this.heap.pop();return this.heap.length>0&&(this.heap[0]=r,this.siftDown(0)),e}clear(){let e=this.heap;return this.heap=[],e}siftUp(e){let r=this.heap[e];for(;e>0;){let n=Math.floor((e-1)/2);if(this.heap[n].priority>=r.priority)break;this.heap[e]=this.heap[n],e=n}this.heap[e]=r}siftDown(e){for(;e<this.size-1;){let r=e,n=2*e+1,i=n+1;if(n<this.size&&this.heap[n].priority>this.heap[r].priority&&(r=n),i<this.size&&this.heap[i].priority>this.heap[r].priority&&(r=i),r===e)break;let s=this.heap[e];this.heap[e]=this.heap[r],this.heap[r]=s,e=r}}};var hc=class{constructor(e,r,n,i,s=0,a=!1,c=eQ,l=!1){this.id=e;this.text=r;this.children=n;this.cost=i;this.weight=s;this.canMerge=a;this.elisionMarker=c;this.requireRenderedChild=l;this.weightFromChild=!1;if(r.length!==n.length+1)throw new Error(`Text fragments length (${r.length}) must be equal to children length (${n.length}) + 1`);this.weight=Math.max(s,0)}static{o(this,"RenderNode")}get value(){return this.weight/Math.max(this.cost,1)}get isRenderedChildRequired(){return this.requireRenderedChild||this.weightFromChild}updateWeights(e){let r=this.recursivelyRectifyWeights(e);for(let{item:n,priority:i}of r.clear())for(let s of n.nodes)s.weight=i*s.cost}recursivelyRectifyWeights(e){let r=this.children.map(a=>a.recursivelyRectifyWeights(e)),n=Math.max(0,e?e(this):this.weight);if(n===0&&r.reduce((a,c)=>a+c.size,0)===0)return this.weight=0,new Jb([]);let i=new Jb(r.flatMap(a=>a.clear())),s={nodes:[this],totalCost:this.cost,totalWeight:n};for(this.weightFromChild=!1;(i.peek()?.priority??0)>s.totalWeight/s.totalCost;){let{item:a}=i.pop();s.nodes.push(...a.nodes),s.totalCost+=a.totalCost,s.totalWeight+=a.totalWeight,this.weightFromChild=!0}return i.insert(s,s.totalWeight/s.totalCost),i}};function HCe(t,e={}){let{budget:r,mask:n,costFunction:i}=e,s=n??[],a=new Set(Array.isArray(s)?s:[s]);if((r??t.cost)<t.cost||a.has(t.id))return{text:t.elisionMarker,cost:i?i(t.elisionMarker):t.elisionMarker.length,renderedNodes:new Map};if(r===void 0){let h=o(_=>a.has(_.id),"elider"),A=[],m=new Map;if(Pz(t,A,h,m),A.length===0)return Qz(t,i);let y=A.join(""),x=i?i(y):[...m.values()].reduce((_,T)=>_+T.cost,0);return{text:y,cost:x,renderedNodes:m}}let c=new Map,l=[],f=new Jb([{item:t,priority:t.value}]),d=r;for(;d>0&&f.size>0;){let{item:h}=f.pop();if(!a.has(h.id)&&h.cost<=d){d-=h.cost,c.set(h.id,h),l.push(h);for(let A of h.children)f.insert(A,A.value)}}for(;c.size>0;){let h=[],A=o(_=>!c.has(_.id),"elider"),m=new Map;if(Pz(t,h,A,m),h.length===0)return Qz(t,i);let y=h.join("");if(i===void 0){let _=[...m.values()].reduce((T,S)=>T+S.cost,0);return{text:y,cost:_,renderedNodes:m}}let x=i(y);if(x<=r)return{text:y,cost:x,renderedNodes:m};for(c=m;l.length>0&&x>r;){let _=l.pop();c.has(_.id)&&(x-=_.cost,c.delete(_.id))}if(l.length===0)break}return Qz(t,i)}o(HCe,"render");function Qz(t,e){return{text:t.elisionMarker,cost:e?e(t.elisionMarker):t.elisionMarker.length,renderedNodes:new Map}}o(Qz,"renderEmpty");function Pz(t,e,r,n,i=!1){let s=e.length;if(r(t))return s>=2&&(i||e[s-2]===t.elisionMarker&&e[s-1].trim().length===0)?(e.pop(),!1):(e.push(t.elisionMarker),!1);let a=t.isRenderedChildRequired,c=!0;for(let[l,f]of t.children.entries())e.push(t.text[l]??""),c=Pz(f,e,r,n,f.canMerge&&!c),a&&=!c;if(a){for(;e.length>s;)e.pop();return!1}return e.push(t.text[t.text.length-1]??""),n.set(t.id,t),!0}o(Pz,"recursivelyRender");function xS(t,e,r=eQ){let n=t.children.map(a=>xS(a,e,r));r=t.elisionMarker??r;let i=e(t);return new hc(t.id,t.text,n,i,0,t.canMerge,r)}o(xS,"snapshot");var Kg=new hc(qo(),[""],[],0);u();function ou(t,e,r){let n=t.get(e);return n===void 0&&(n=r(e),t.set(e,n)),n}o(ou,"setDefault");var WCe=2e4,qCe=0,GCe=new $r;function YCe(t,e,r,n){qCe++;let i=r.promptOpts?.tokenizer??"o200k_base",s=performance.now(),{root:a,mask:c,statistics:l}=t.snapshot(r,n),f=performance.now(),d=new Set(c),h=GCe?.get(a.id),A;if(h&&h.budget>=e&&h.render.cost<=e&&h.tokenizer===i&&d.size===h.mask.size&&[...d].every(S=>h.mask.has(S)))A=h.render;else{let S=lc(i);A=HCe(a,{budget:e,mask:c,costFunction:o(N=>S.tokenLength(N),"costFunction")}),GCe.set(a.id,{budget:e,mask:d,tokenizer:i,render:A})}let{text:m,cost:y,renderedNodes:x}=A,_=performance.now();for(let[S,k]of l?.entries()??[])k.actualTokens=x.get(S)?.cost??0;let T={renderId:qCe,rendererName:"renderNode",tokenizer:i,elisionTimeMs:_-f,renderTimeMs:f-s,updateDataTimeMs:0,componentStatistics:[{componentPath:t.name,actualTokens:y}]};return{root:a,renderedNodes:x,text:m,cost:y,metadata:T}}o(YCe,"renderWithMetadata");function $Ce(t,e){return r=>{let n=r.text.join("")+`
`;return ou(e,n,()=>t.tokenLength(n)+1)}}o($Ce,"cachedLineCostFunction");function zCe(t,e,r){let i=t.split(`
`).map(d=>({id:qo(),text:[d],children:[],canMerge:!0})),s=[""];i.length>=1&&s.push(...Array(i.length-1).fill(`
`),"");let a={id:qo(),text:s,children:i,canMerge:!0},l=xS(a,o(d=>d.id===a.id?0:e(d),"nodeCostFunction")),f=r?i.length:1;for(let d of l.children)d.weight=f*Math.max(1,d.cost),f+=r?-1:1;return l}o(zCe,"getLinewiseNode");var tQ=class{constructor(){this.name="basicPrefix";this.costCache=new $r(WCe)}static{o(this,"BasicPrefixComponent")}snapshot(e){let{completionState:r,promptOpts:n}=e,i=r.textDocument.getText({start:{line:0,character:0},end:r.position}),s=lc(n?.tokenizer),a=$Ce(s,this.costCache);return{root:zCe(i,a,!1)}}},VCe={root:Kg,text:"",cost:0},rQ=class{constructor(e){this.ctx=e;this.name="cachedSuffix";this.cache=new $r(5);this.costCache=new $r(WCe)}static{o(this,"CachedSuffixComponent")}snapshot(e){return{root:this.getCachedSuffix(e).root}}estimatedCost(e,r){return this.getCachedSuffix(e).cost}getCachedSuffix(e){let{completionState:r,telemetryData:n,promptOpts:i}=e,a=r.textDocument.getText({start:r.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}}).replace(/^.*/,"").trimStart();if(a==="")return VCe;let c=this.cache.get(r.textDocument.uri)||VCe;if(c.text===a)return c;let l=this.ctx.get(Sr).suffixMatchThreshold(n);if(c.text!==""){let m=new Mg,y=m.takeFirstTokens(a,aS);if(y.tokens.length>0&&100*EN(y.tokens,m.takeFirstTokens(c.text,aS).tokens)?.score<l*y.tokens.length)return c}let f=lc(i?.tokenizer),d=$Ce(f,this.costCache),h=zCe(a,d,!0),A=h.children.reduce((m,y)=>m+y.cost+1,0);return{root:h,cost:A,text:a}}},nQ=class{constructor(){this.name="traitProvider"}static{o(this,"TraitComponent")}snapshot(e,r){let{promptOpts:n}=e,i=lc(n?.tokenizer);if(!r||r.traits.length===0)return{root:Kg};let s=new Map,a=0,c=[],l=new Map;for(let A of r.traits){let m=qo(),y=`${A.name}: ${A.value}`,x=new hc(m,[y],[],i.tokenLength(y));c.push(x),l.set(m,{componentPath:A.id,source:A,expectedTokens:x.cost}),s.set(m,A.importance??0),a+=A.importance??0}let d=[`Related context:
`,...new Array(c.length).fill(`
`)],h=new hc(qo(),d,c,0,0,!0,"");return h.updateWeights(A=>(s.get(A.id)??0)/(a||1)),{root:h,statistics:l}}},iQ=class{constructor(e){this.ctx=e;this.name="contextProvider"}static{o(this,"CodeSnippetComponent")}snapshot(e,r){let{promptOpts:n}=e,i=lc(n?.tokenizer);if(!r||r.codeSnippets.length===0)return{root:Kg};let s=new Map;for(let m of r.codeSnippets){let y=m.uri;ou(s,y,()=>[]).push(m)}let a=new Map,c=[],l=new Map,f=0,d=this.ctx.get(ti);for(let[m,y]of s.entries()){let x=d.getRelativePath({uri:m})??m,T=[`Compare ${y.length>1?"these snippets":"this snippet"} from ${x}:
`,...new Array(y.length).fill(`
`)],S=[];for(let k of y){let N=qo();l.set(N,k.importance??0);let P=new hc(N,[k.value],[],i.tokenLength(k.value));S.push(P),f+=k.importance??0,a.set(N,{componentPath:k.id,source:k,expectedTokens:P.cost})}c.push(new hc(qo(),T,S,i.tokenLength(T.join("")),0,!0,""))}let h=new Array(c.length+1).fill(""),A=new hc(qo(),h,c,0,0,!0,"");return A.updateWeights(m=>(l.get(m.id)??0)/(f||1)),{root:A,statistics:a}}},oQ=class{constructor(e,r){this.name=e;this.components=r}static{o(this,"ConcatenatedContextComponent")}snapshot(e,r){let n=this.components.map(f=>f.snapshot(e,r)),i=n.map(f=>f.root).filter(f=>f.id!==Kg.id);if(i.length===0)return{root:Kg};let s=["",...Array(i.length-1).fill(`
`),""],a=new hc(qo(),s,i,0,0,!0,"",!0),c=[],l=new Map;for(let f of n){for(let[d,h]of f.statistics?.entries()??[])l.set(d,h);f.mask&&c.push(...f.mask)}return{root:a,mask:c,statistics:l}}};var TZe=.8,sQ=class{constructor(e,r){this.ctx=e;this.components=r;this.renderId=0}static{o(this,"CascadingPromptFactory")}async prompt(e,r){try{return await this.createPromptUnsafe(e,r)}catch(n){return this.errorPrompt(n)}}getComponentAllocation(e){let r=this.ctx.get(Sr).suffixPercent(e),n=this.ctx.get(Sr).stableContextPercent(e),i=this.ctx.get(Sr).volatileContextPercent(e);if(r<0||r>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${r}`);if(n<0||n>100)throw new Error(`stableContextPercent must be between 0 and 100, but was ${n}`);if(i<0||i>100)throw new Error(`volatileContextPercent must be between 0 and 100, but was ${i}`);let s=100-r-n-i;if(s<=1||s>100)throw new Error(`prefixPercent must be between 1 and 100, but was ${s}`);return{prefix:s/100,suffix:r/100,stableContext:n/100,volatileContext:i/100}}async createPromptUnsafe(e,r){this.renderId++;let{completionId:n,completionState:i,telemetryData:s,promptOpts:a}=e,c=await this.failFastPrompt(i.textDocument,r);if(c)return c;let l=performance.now(),f;qb(this.ctx,s)&&(f=await this.resolveContext(n,i,s,r));let d=performance.now()-l,h={},A={renderId:this.renderId,rendererName:"w",tokenizer:a?.tokenizer??"o200k_base",elisionTimeMs:0,renderTimeMs:0,updateDataTimeMs:d,componentStatistics:[]},m=i.textDocument.detectedLanguageId,{maxPromptLength:y}=jb(this.ctx,s,m),x=this.getComponentAllocation(s),_=x.suffix*y,T=this.components.suffix.estimatedCost?.(e,f),S=["stableContext","volatileContext","prefix","suffix"];_>TZe*(T??0)&&(S=["stableContext","volatileContext","suffix","prefix"]);let k=0;for(let pe of S){let W=k+y*x[pe],$=YCe(this.components[pe],W,e,f);k=W-$.cost,h[pe]=$,_Ze(A,$.metadata)}let[N,P]=IS(h.prefix.text),L=performance.now(),Y=qb(this.ctx,s)?this.telemetrizeContext(n,A.componentStatistics,f?.resolvedContextItems??[]):[],te=[h.stableContext.text.trim(),h.volatileContext.text.trim()];return{type:"prompt",prompt:{prefix:a?.separateContext?N:HA(te.join(`
`),m)+`

`+N,prefixTokens:h.prefix.cost+h.stableContext.cost+h.volatileContext.cost,suffix:h.suffix.text,suffixTokens:h.suffix.cost,context:a?.separateContext?te:void 0,isFimEnabled:h.suffix.text.length>0},computeTimeMs:L-l,trailingWs:P,neighborSource:new Map,metadata:A,contextProvidersTelemetry:Y}}async resolveContext(e,r,n,i){let s=await this.ctx.get(uE).resolution(e),{textDocument:a}=r,c=s.filter(sN),l=WN(this.ctx,e,c);YN("contextProvider.traits",this.ctx,l,a.detectedLanguageId,a.detectedLanguageId,n);let f=await gN(this.ctx,e,c,a.detectedLanguageId);return{traits:l,codeSnippets:f,resolvedContextItems:s}}telemetrizeContext(e,r,n){let i=nN(r);this.ctx.get(ru).getStatisticsForCompletion(e).computeMatch(i);let s=oN(this.ctx,e,n);return Fo.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(s)}'`),s}async failFastPrompt(e,r){if(r?.isCancellationRequested)return GA;if((await this.ctx.get(jd).evaluate(e.uri,e.getText(),"UPDATE")).isBlocked)return ZN;if(e.getText().length<JN)return XN}errorPrompt(e){return Td(this.ctx,e,"WorkspaceContextPromptFactory"),Kb}};function _Ze(t,e){t.elisionTimeMs+=e.elisionTimeMs,t.renderTimeMs+=e.renderTimeMs,t.updateDataTimeMs+=e.updateDataTimeMs,t.componentStatistics.push(...e.componentStatistics)}o(_Ze,"aggregateMetadata");u();u();function SZe(t){return t.id!==void 0}o(SZe,"isNodeItem");function wZe(t){return!("uri"in t)&&!("id"in t)}o(wZe,"isNullItem");var BZe={"RecentDocumentProvider.RecentlyOpen":.1,"RecentDocumentProvider.RecentlyFocused":.1,"RecentDocumentProvider.RecentlyEdited":.1,RecentCompletionsRequestProvider:1,"ExtensionActivityProvider.CurrentSelection":5,"ExtensionActivityProvider.PrimarySelection":2,"ExtensionActivityProvider.Selection":.2,"ExtensionActivityProvider.VisibleRange":1,FileDirectoryDocumentProvider:.05,"SymbolContextProvider.Identifiers":.2,"SymbolContextProvider.Text":.2,"IndexingSymbolContextProvider.Text":1,"TreeProximityProvider.Parent":.3,"TreeProximityProvider.Children":.3,"TreeProximityProvider.Siblings":.3,"ExtensionReferenceProvider.References":.2,"ExtensionReferenceProvider.Definitions":1},Jg="64f5ff7d-e507-4558-81cf-3bdacc3c5c00",Xb=class{static{o(this,"WorkspaceContextWeights")}constructor(e){let r=new Map;for(let{uri:n,weight:i}of e)r.set(n,(r.get(n)??0)+i);this.documents=[...r.entries()].map(([n,i])=>({uri:n,weight:i})).sort((n,i)=>i.weight-n.weight),this.docWeights=r,this.nodes=e.filter(({id:n})=>n!==Xd),this.nodeWeights=new Map(e.map(({id:n,weight:i})=>[n,i]))}getNodeWeight(e){return this.nodeWeights.get(e)??0}getDocumentWeight(e){return this.docWeights.get(e)??0}},aQ=class{constructor(e,r){this.activeContext=e;this.config=r;this.sourceWeights=BZe;this.sourceContext=new Map;this.prevUpdateTime=void 0;this.prevItems=[];this.weights=new Xb([])}static{o(this,"WorkspaceContextCoordinator")}getWeights(e){if(e){let r=this.sourceContext.get(e);return r?new Xb(r.items):new Xb([])}return this.weights}updateWeights(){let e=new Map,r=0,n=this.config.StaleWeightHalflife;for(let[i,{items:s,updateTime:a}]of this.sourceContext.entries()){let c=this.sourceWeights[i]??0;if(c<=0||s.length===0)continue;let l=.5**(-Math.max(0,(this.prevUpdateTime??a)-a)/n);c*=l,r+=c,this.aggregateWeights(s,e,c,!0)}if(r>0){if(this.weights.nodes.length>0){let i=r*this.config.Laziness,s=this.prevItems;this.aggregateWeights(s,e,i,!0)}for(let[i,s]of e.entries()){let a=this.activeContext.getDocument(i)?.document;if(a===void 0)continue;let c=s.get(Xd);if(c!==void 0&&c>0){s.delete(Xd);let l=0;for(let f of s.values())l+=f;if(l<=0){let f=a.getAllIds(),d=c/Math.max(f.length,1);for(let h of f)s.set(h,d)}else for(let[f,d]of[...s.entries()])s.set(f,d+c*(d/l))}}this.prevItems=this.truncateAndNormalize(e),this.weights=new Xb(this.prevItems)}return this.prevUpdateTime=performance.now(),this.weights}pushWorkspaceContext(e,r){let n=performance.now(),i=this.addUriAndId(r),s=new Map;this.aggregateWeights(i,s);let a=this.truncateAndNormalize(s);this.sourceContext.set(e,{items:a,updateTime:n})}addUriAndId(e){return e.filter(r=>r.weight>0).map(r=>{if(wZe(r))return{weight:r.weight,uri:Jg,id:Xd};let n=SZe(r)?r.id:Xd,i=r.uri??this.activeContext.getUri(n)??Jg;return i===Jg&&(n=Xd),{weight:r.weight,uri:i,id:n}})}aggregateWeights(e,r,n=1,i=!1){for(let{uri:s,id:a,weight:c}of e){if(c<=0||isNaN(c))continue;let l=ou(r,s,()=>new Map),f=Xd;(!i||this.activeContext.getUri(a)!==void 0)&&(f=a),l.set(f,(l.get(f)??0)+c*n)}}truncateAndNormalize(e){let r=[],n=new Map,i=0;for(let[l,f]of e.entries()){let d=l!==Jg?this.activeContext.normalizeUri(l)??Jg:Jg;for(let[h,A]of f.entries())l===Jg||h===Xd?n.set(d,(n.get(d)??0)+A):r.push({uri:d,id:h,weight:A}),i+=A}if(i<=0)return[];n.delete(Jg),r.sort((l,f)=>f.weight-l.weight);for(let{uri:l,weight:f}of r.slice(this.config.MaxActiveNodes,r.length))n.set(l,(n.get(l)??0)+f);let s=[...n.entries()].sort((l,f)=>f[1]-l[1]).slice(0,this.config.MaxActiveFiles).map(([l,f])=>({uri:l,id:Xd,weight:f}));return r.slice(0,this.config.MaxActiveNodes).concat(s).sort((l,f)=>f.weight-l.weight).map(l=>({...l,weight:l.weight/i}))}};u();u();var RZe=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function kZe(t){return RZe.has(t.code??"")||t.name==="RangeError"&&t.message==="WebAssembly.Memory(): could not allocate memory"}o(kZe,"isOomError");function Fz(t,e,r,n=Fo){if(!zm(e)){if(e instanceof Error){let i=e;kZe(i)?t.get(Cs).setWarning("Out of memory"):i.code==="EMFILE"||i.code==="ENFILE"?t.get(Cs).setWarning("Too many open files"):i.code==="CopilotPromptLoadFailure"?t.get(Cs).setWarning("Corrupted Copilot installation"):`${i.code}`.startsWith("CopilotPromptWorkerExit")?t.get(Cs).setWarning("Worker unexpectedly exited"):i.syscall==="uv_cwd"&&i.code==="ENOENT"&&t.get(Cs).setWarning("Current working directory does not exist")}n.exception(t,e,r)}}o(Fz,"handleException");u();u();var cQ=class{static{o(this,"FileSearch")}};u();u();var lQ=class{constructor(e,r,n,i=!1){this.id=e;this.parts=r;this.text=n;this.canMerge=i}static{o(this,"ContextNode")}get startOffset(){return this.parts[0].root.startOffset}get endOffset(){return this.parts[this.parts.length-1].root.endOffset}get syntaxRoots(){return this.parts.map(e=>e.root)}get children(){return this.parts.flatMap(e=>e.children)}get syntaxLimits(){return this.children.flatMap(e=>e.syntaxRoots)}*syntaxNodes(){let e=new Set(this.syntaxLimits.map(r=>r.id));for(let r of this.syntaxRoots)yield*KCe(r,e)}findChild(e,r){if(e<this.startOffset||r>this.endOffset||r<e)return;let n=0,i=this.parts.length-1,s;for(;n<=i;){let c=Math.floor((n+i)/2);if(s=this.parts[c],s.root.startOffset<=e&&s.root.endOffset>=r)break;s.root.endOffset<e?n=c+1:i=c-1}if(s===void 0||i<n)return;n=0,i=s.children.length-1;let a;for(;n<=i;){let c=Math.floor((n+i)/2);if(a=s.children[c],a.startOffset<=e&&a.endOffset>=r)break;a.endOffset<e?n=c+1:i=c-1}if(!(a===void 0||i<n))return a}},DZe=6,uQ=class{constructor(e,r,n,i){this.textDocument=e;this.parser=r;this.minSize=n;this.updateId=qo();this.syntaxToAbstract=new Map;this.nodeById=new Map;this.minSize=Math.max(n,1),this.maxSize=Math.max(i??2*this.minSize,this.minSize+1),this._syntaxRoot=this.parser.parse(e,!0),this._root=this.buildTree()}static{o(this,"ContextDocument")}get uri(){return this.textDocument.uri}get version(){return this.updateId}get document(){return this.textDocument}get rootId(){return this._root.id}get root(){return this._root}get syntaxRoot(){return this._syntaxRoot}getNode(e){return this.nodeById.get(e)}getAllIds(){return Array.from(this.nodeById.keys())}findNode(e,r){let n=this._root,i=n;for(;i;)n=i,i=n.findChild(e,r??e);return n}update(e){if(this.uri!==e.uri)throw new Error("Can't update ContextDocument using mismatched URI");this.textDocument=e,this._syntaxRoot=this.parser.parse(e,!0),this.recursivelyRemapNodes(this.root,()=>{}),this._root=this.buildTree(),this.updateId=qo()}recursivelyRemapNodes(e,r){let n=!0;for(let f of e.children)n=n&&this.recursivelyRemapNodes(f,r);if(!n)return this.invalidateNode(e),!1;let i=[];for(let{root:f,children:d}of e.parts){let h=r(f);if(h===void 0||h.type!==f.type)return this.invalidateNode(e),!1;i.push({root:h,children:d})}let s=i[0].root.parent,a=e.parts[0].root.parent;if((s&&this.canMergeChildren(s))!==(a&&this.canMergeChildren(a)))return this.invalidateNode(e),!1;let c=jCe(i,this.document);for(let[f,d]of c.entries())if(e.text[f]!==d)return this.invalidateNode(e),!1;let l=new lQ(e.id,i,e.text,e.canMerge);for(let{root:f}of e.parts)this.syntaxToAbstract.delete(f.id);for(let{root:f}of l.parts)this.syntaxToAbstract.set(f.id,l);return this.nodeById.set(e.id,l),!0}invalidateNode(e){for(let r of e.syntaxRoots)this.syntaxToAbstract.delete(r.id);this.nodeById.delete(e.id)}createNode(e,r=!1){e.sort((s,a)=>s.root.startOffset-a.root.startOffset);let n=jCe(e,this.document),i=new lQ(qo(),e,n,r);for(let{root:s}of e)this.syntaxToAbstract.set(s.id,i);return this.nodeById.set(i.id,i),i}buildTree(){let e=this.buildRecursively(this._syntaxRoot);return this.createNode([{root:this._syntaxRoot,children:e}])}buildRecursively(e){if(e.endOffset-e.startOffset<this.minSize)return[];let r=e.children;if(this.canMergeChildren(e)){let i=r.map(a=>this.syntaxToAbstract.get(a.id));for(let a=0;a<r.length;a++)if(i[a]===void 0){if(a>0&&i[a-1]!==void 0){let c=i[a-1];for(let l=a-1;l>=0&&i[l]?.id===c.id;l--)i[l]=void 0;this.invalidateNode(c)}if(a<r.length-1&&i[a+1]!==void 0){let c=i[a+1];for(;a<r.length&&i[a+1]?.id===c.id;)a++,i[a]=void 0;this.invalidateNode(c)}}let s=[];for(let a=0;a<r.length;void 0)if(i[a]!==void 0)for(s.push(i[a]);a<r.length&&i[a+1]?.id===i[a].id;)a++;else{let c=[];for(;a<r.length&&i[a]===void 0;){let l=r[a];c.push({root:l,children:this.buildRecursively(l)}),a++}s.push(...this.mergeChildren(c))}return s}let n=[];for(let i=0;i<r.length;i++){let s=r[i];if(this.syntaxToAbstract.has(s.id)){let l=this.syntaxToAbstract.get(s.id);n.push(l),i+=l.parts.length-1;continue}let a=this.buildRecursively(s),c=s.endOffset-s.startOffset-a.reduce((l,f)=>l+(f.endOffset-f.startOffset),0);this.canBeNode(s)&&c>=this.minSize?n.push(this.createNode([{root:s,children:a}])):n.push(...a)}return n}mergeChildren(e){if(e.length===0)return[];e.sort((A,m)=>A.root.startOffset-m.root.startOffset);let r=e[e.length-1].root.endOffset-e[0].root.startOffset,n=[];for(let A of e){let m=A.root.endOffset-A.root.startOffset;for(let y of A.children){let x=y.endOffset-y.startOffset;m-=x,r-=x}n.push(m)}if(r<this.minSize)return e.flatMap(A=>A.children);let i=[0],s=0,a=null,c={line:-1,size:-1},l=e[0].root.startOffset,f=e[0].root.range.start.line;for(let A=0;A<e.length;A++){let m=e[A];if(s+=n[A]+m.root.startOffset-l,s>this.minSize&&s<this.maxSize){let y={line:m.root.range.start.line-f,size:m.root.startOffset-l};(y.line>c.line||y.line==c.line&&y.size>c.size)&&(c=y,a=A)}l=m.root.endOffset,f=m.root.range.end.line,s>=this.maxSize&&(a=a??A,i.push(a+1),A=a,s=0,a=null,c={line:-1,size:-1},l=e[A+1]?.root.startOffset,f=e[A+1]?.root.range.start.line)}i.length==1?i.push(e.length):i[i.length-1]!==e.length&&(i[i.length-1]=e.length);let d=[],h=!1;for(let A=0;A<i.length-1;A++){let m=e.slice(i[A],i[A+1]);d.push(this.createNode(m,h)),h=!0}return d}canMergeChildren(e){return this.parser.labeler.canMergeChildren?.(e)??e.children.length>DZe}canBeNode(e){return this.parser.labeler.canBeNode?.(e)??!0}};function jCe(t,e){if(t.length===0)return[""];let r=[],n=e.positionAt(t[0].root.startOffset);for(let s of t.flatMap(a=>a.children).sort((a,c)=>a.startOffset-c.startOffset)){let a=e.positionAt(s.startOffset);r.push(e.getText({start:n,end:a})),n=e.positionAt(s.endOffset)}let i=e.positionAt(t[t.length-1].root.endOffset);return r.push(e.getText({start:n,end:i})),r}o(jCe,"buildText");function*KCe(t,e){yield t;for(let r of t.children)e.has(r.id)||(yield*KCe(r,e))}o(KCe,"walk");u();u();u();u();u();var NZe={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},QZe=sS(NZe);function JCe(t){let e=t;return oS(e,QZe),e=X$(e),e=dN(e),fN(e),dE(e,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!nu(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),e}o(JCe,"processJava");u();var PZe={heading:/^# /,subheading:/^## /,subsubheading:/### /},FZe=sS(PZe);function XCe(t){let e=t;if(oS(e,FZe),nu(e))return e;function r(s){if(s.label==="heading")return 1;if(s.label==="subheading")return 2;if(s.label==="subsubheading")return 3}o(r,"headingLevel");let n=[e],i=[...e.subs];e.subs=[];for(let s of i){let a=r(s);if(a===void 0||nu(s))n[n.length-1].subs.push(s);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(s),n[a]=s;n.length>a+1;)n.pop()}}return e=Wye(e),e=dN(e),fN(e),e}o(XCe,"processMarkdown");u();Z$("markdown",XCe);Z$("java",JCe);var fQ=class{constructor(e,r,n,i,s,a){this.id=e;this.raw=r;this.children=n;this.source="indentation";this.parent=null;let c={start:{line:i,character:0},end:{line:s,character:a.lineAt(s).text.length}},l=a.getText(c),f=l.search(/\S/);if(f===-1){let A={line:s,character:0};this.startOffset=a.offsetAt(A),this.endOffset=this.startOffset,this.range={start:A,end:A};return}let d=l.search(/\S(?!.*\S)/s),h=a.offsetAt(c.start);this.startOffset=h+f,this.endOffset=h+d+1,this.range={start:a.positionAt(this.startOffset),end:a.positionAt(this.endOffset)}}static{o(this,"IndentationNode")}get type(){return this.raw.type}};function Mz(t,e,r){let n=t.subs.map(l=>({subtree:l,node:Mz(l,e,r)})).filter(l=>l.node!==null).sort((l,f)=>l.node.startOffset-f.node.startOffset),i=[],s=e;for(let l=n.length-1;l>=0;l--){let{subtree:f,node:d}=n[l];if(d.range.end.line>=s){let h=Mz(f,s,r);h!==null&&(i.push(h),s=Math.min(h.range.start.line,s))}else i.push(d),s=Math.min(d.range.start.line,s)}i.sort((l,f)=>l.startOffset-f.startOffset);let a=e,c=0;if(i.length>0&&(a=Math.min(a,i[0].range.start.line),c=Math.max(c,i[i.length-1].range.end.line)),(t.type==="blank"||t.type==="line")&&(a=Math.min(a,t.lineNumber),c=Math.max(c,t.lineNumber),t.type==="blank"&&a===c))return null;if(c=Math.min(c,e-1),a<=c){let l=new fQ(qo(),t,i,a,c,r);for(let f of i)f.parent=l;return l}return null}o(Mz,"recursivelyBuildNode");function ZCe(t){let e=ez(t.getText(),t.detectedLanguageId);return Mz(e,t.lineCount,t)??new fQ(qo(),e,[],0,t.lineCount-1,t)}o(ZCe,"parse");var eEe={source:"indentation",parse:ZCe,update(t,e){return{root:ZCe(e),remapper:o(()=>{},"remapper")}},dispose:o(()=>{},"dispose"),labeler:{isIdentifier:o(t=>!1,"isIdentifier"),isText:o(t=>!0,"isText")}};async function tEe(t){return Promise.resolve(eEe)}o(tEe,"getParser");var MZe=new Kr("WorkspaceContextManager"),dQ=class{constructor(e,r){this.created=e;this.invalidated=r;this.updatedDocuments=Array.from(new Set([...e.entries(),...r.entries()].filter(([n,i])=>i.size>0).map(([n,i])=>n)))}static{o(this,"WorkspaceContextChanges")}getInvalidatedNodes(e){return this.getNodes(this.invalidated,e)}getCreatedNodes(e){return this.getNodes(this.created,e)}getNodes(e,r){return r===void 0?Array.from(e.entries()).flatMap(([n,i])=>[...i].map(s=>({uri:n,id:s}))):Array.from(e.get(r)??[]).map(n=>({uri:r,id:n}))}},hQ=class{constructor(e,r){this.item=e;this.disposalCallback=r}static{o(this,"CachedItem")}dispose(){this.disposalCallback(this.item)}},rEe=5e3,AQ=class{constructor(e,r){this.ctx=e;this.config=r;this.listenerDisposable=void 0;this.targetSet=new Set;this.activeDocuments=new Map;this.nodeToDoc=new Map;this.createdNodes=new Map;this.invalidatedNodes=new Map;this.parsers=new Map;this.staleDocuments=new Set;this.pendingUpdates=new Map;this.uriCache=new $r(rEe);this.allowedExtensions=new Set(DD);this.invalidDocumentCache=new L9(rEe,this.config.InvalidCacheTime),this.cachedDocuments=new O9(this.config.MaxActiveFiles)}static{o(this,"WorkspaceContextManager")}isStarted(){return this.listenerDisposable!==void 0}start(){this.isStarted()||(this.listenerDisposable=this.ctx.get(ti).onDidChangeTextDocument(e=>this.handleDocumentChange(e)))}setAllowedLanguages(e){this.allowedExtensions=new Set(e.flatMap(r=>aE[r]?.extensions??[]))}getActiveDocuments(){return Array.from(this.activeDocuments.values())}getNode(e){let r=this.nodeToDoc.get(e);if(r===void 0)return;let n=this.getDocument(r);if(n===void 0)return;let i=n.document.getNode(e);if(i!==void 0)return{...n,node:i}}getDocument(e){let r=this.activeDocuments.get(e);if(r!==void 0)return{document:r,isActive:!0};let n=this.cachedDocuments.get(e);if(n!==void 0)return{document:n.item,isActive:!1}}getUri(e){return this.nodeToDoc.get(e)}normalizeUri(e){let r,n=this.uriCache.get(e);if(n!==null){if(n!==void 0)r=n;else try{if(k0e(e),r=vd(e),!(this.ctx.get(ti).getWorkspaceFolder({uri:r})!==void 0)){this.uriCache.set(e,null);return}this.uriCache.set(e,r)}catch{this.uriCache.set(e,null);return}if(!(!this.allowedExtensions.has(P0e(r))||this.invalidDocumentCache.has(r)))return r}}dispose(){if(this.isStarted()){this.listenerDisposable?.dispose(),this.listenerDisposable=void 0;for(let e of this.parsers.values())e.dispose();this.parsers.clear(),this.activeDocuments.clear(),this.cachedDocuments.clear()}}trySetActiveDocuments(e){if(this.isStarted()){this.targetSet.clear();for(let r of e){let n=this.normalizeUri(r);n!==void 0&&(this.targetSet.add(n),this.updateDocument(n))}for(let r of[...this.activeDocuments.keys()])this.targetSet.has(r)||this.deactivateDocument(r)}}popChanges(){let e=new dQ(this.createdNodes,this.invalidatedNodes);return this.createdNodes=new Map,this.invalidatedNodes=new Map,e}async flushUpdates(e){if(e!==void 0){let r=this.pendingUpdates.get(e);r!==void 0&&await r}else await Promise.all([...this.pendingUpdates.values()])}isKnownDocument(e){return this.activeDocuments.has(e)||this.cachedDocuments.has(e)||this.pendingUpdates.has(e)}deactivateDocument(e){let r=this.activeDocuments.get(e);r!==void 0&&(this.activeDocuments.delete(e),this.pendingUpdates.has(e)||this.cachedDocuments.set(e,new hQ(r,n=>this.disposeDocument(n))))}async updateDocument(e){if(this.pendingUpdates.has(e))return;let r=new OA;this.pendingUpdates.set(e,r.promise);let n;this.activeDocuments.has(e)?n=this.activeDocuments.get(e):this.cachedDocuments.has(e)&&(n=this.cachedDocuments.get(e).item,this.cachedDocuments.uncache(e)),(n===void 0||this.staleDocuments.has(e))&&(this.staleDocuments.delete(e),n=await this.createUpdatedDocument(e,n)),n!==void 0&&this.isStarted()&&(this.targetSet.has(e)?this.activeDocuments.set(e,n):(this.activeDocuments.delete(e),this.cachedDocuments.set(e,new hQ(n,i=>this.disposeDocument(i))))),this.pendingUpdates.delete(e),r.resolve()}async createUpdatedDocument(e,r){let n=await this.readTextDocument(e);if(n===void 0){r!==void 0&&this.disposeDocument(r);return}let i;try{i=await this.getParser(n.detectedLanguageId)}catch{this.invalidDocumentCache.set(e,!0),r!==void 0&&this.disposeDocument(r);return}if(r!==void 0)if(n.detectedLanguageId!==r.document.detectedLanguageId)this.disposeDocument(r);else{let a=new Set(r.getAllIds());r.update(n);let c=new Set(r.getAllIds()),l=[...c].filter(d=>!a.has(d)),f=[...a].filter(d=>!c.has(d));return this.recordDocumentChanges(e,{created:l,invalidated:f}),r}let s=new uQ(n,i,this.config.MinNodeSize);return this.recordDocumentChanges(e,{created:s.getAllIds(),invalidated:[]}),s}disposeDocument(e){this.recordDocumentChanges(e.uri,{created:[],invalidated:e.getAllIds()})}recordDocumentChanges(e,r){let n=ou(this.createdNodes,e,()=>new Set),i=ou(this.invalidatedNodes,e,()=>new Set);for(let s of r.created)n.add(s),this.nodeToDoc.set(s,e);for(let s of r.invalidated)n.has(s)?n.delete(s):i.add(s),this.nodeToDoc.delete(s)}async getParser(e){let r=this.parsers.get(e);return r===void 0&&(r=await tEe(e),this.parsers.set(e,r)),r}async readTextDocument(e){if(this.invalidDocumentCache.has(e)||this.normalizeUri(e)===void 0)return;let r=this.ctx.get(ti),n=r.getWorkspaceFolder({uri:e}),i=!0;if(n!==void 0){let a=r.getRelativePath({uri:e});a!==void 0&&(await this.ctx.get(cQ).findFiles(a,{uri:n.uri},{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0,excludeIDESearchIgnoredFiles:!0})).includes(e)&&(i=!1)}if(i){MZe.debug(this.ctx,`${e} is excluded from workspace context`),this.invalidDocumentCache.set(e,!0,3600*1e3);return}let s=await this.ctx.get(Yg).getOrReadTextDocument({uri:e});if(s.status!=="valid"||s.document.uri!==e){this.invalidDocumentCache.set(e,!0);return}return s.document}handleDocumentChange(e){let r=e.document.uri;this.isKnownDocument(r)&&this.staleDocuments.add(r)}};var nEe=yt(require("events"));var LZe={UpdateInterval:500,InvalidCacheTime:1e3*60*10,StaleWeightHalflife:1e3*10,MinNodeSize:100,Laziness:.5,MaxActiveFiles:20,MaxActiveNodes:2e3},Xg=class t{constructor(e){this.ctx=e;this.didStart=!1;this.didDispose=!1;this.deferredStart=new OA;this.config=LZe;this.emitter=new nEe.default;this.flushUpdatesPromise=void 0;this.emitter.setMaxListeners(27),this.contextManager=new AQ(e,this.config),this.coordinator=new aQ(this.contextManager,this.config),this.tokenEventDisposable=Ia(e,r=>{this.maybeStart(r)})}static{o(this,"WorkspaceContextFeature")}static{this.UpdateEventName="WorkspaceContextUpdate"}static{this.DisposeEventName="WorkspaceContextDispose"}async maybeStart(e){if(this.didStart||this.didDispose)return;let r=rs(this.ctx,Pt.UseWorkspaceContextCoordinator);if(r===void 0)try{let n=await this.ctx.get(Sr).updateExPValuesAndAssignments(void 0,void 0,e);r=this.isEnabled(n)}catch{}r&&(this.start(),this.tokenEventDisposable.dispose())}isActive(){return this.didStart&&!this.didDispose}get activation(){return this.deferredStart.promise}isEnabled(e){return rs(this.ctx,Pt.UseWorkspaceContextCoordinator)??this.ctx.get(Sr).workspaceContextCoordinator(e)}start(){this.didStart||(this.didStart=!0,this.contextManager.start(),this.deferredStart.resolve(),this.loop())}dispose(){this.isActive()?(this.emitter.emit(t.DisposeEventName),this.contextManager.dispose()):!this.didDispose&&!this.didStart&&this.tokenEventDisposable.dispose(),this.didDispose=!0}pushWorkspaceContext(e,r){this.isActive()&&this.coordinator.pushWorkspaceContext(e,r)}getWorkspaceContext(){return this.contextManager}getWorkspaceContextWeights(){return this.coordinator.getWeights()}onUpdate(e){return this.emitter.on(t.UpdateEventName,e),lo.Disposable.create(()=>this.emitter.off(t.UpdateEventName,e))}onDisposal(e){return this.emitter.on(t.DisposeEventName,e),lo.Disposable.create(()=>this.emitter.off(t.DisposeEventName,e))}setContextLanguages(e){this.contextManager.setAllowedLanguages(e)}async loop(){try{for(;this.isActive();){let e=this.coordinator.updateWeights(),r=e.documents.slice(0,this.config.MaxActiveFiles).map(({uri:n})=>n);if(this.contextManager.trySetActiveDocuments(r),this.flushUpdatesPromise=this.contextManager.flushUpdates(),await this.flushUpdatesPromise,this.isActive()){let n=this.config.UpdateInterval,i={weights:e,context:this.contextManager,changes:this.contextManager.popChanges(),responseInterval:n};this.emitter.emit(t.UpdateEventName,i),await Mb(n)}}}catch(e){Fz(this.ctx,e,"WorkspaceContextFeature.loop"),this.dispose()}}};function Lz(t,e){let r=aA(t,e,"event.WorkspaceContextUpdate");return t.get(Xg).onUpdate(r)}o(Lz,"onWorkspaceContextUpdate");u();var OZe=2e4,pQ=class{constructor(e){this.ctx=e;this.name="workspaceContext";this.documents=new Map;this.root=Kg;this.costFunction=Nz(new Mg);this.disposables=[];this.costCache=new $r(OZe);this.rootWithPathCache=new $r;this.disposables.push(Lz(e,r=>{(this.nextUpdateTime===void 0||performance.now()>=this.nextUpdateTime)&&setTimeout(()=>{this.update(r.weights,r.context)},0)}))}static{o(this,"WorkspaceContextPromptComponent")}snapshot(e){let{completionState:r,telemetryData:n}=e;this.nextUpdateTime=this.lastUpdateTime!==void 0?this.lastUpdateTime+this.ctx.get(Sr).workspaceContextCacheTime(n):performance.now();let i=ou(this.rootWithPathCache,r.textDocument.uri,()=>{let a=Nz(lc(e.promptOpts?.tokenizer));this.costFunction=l=>ou(this.costCache,l.id,()=>a(l));let c=this.getPathMarker(r);return new hc(qo(),[`${c}
`,""],[this.root],1,0,!0,"")}),s=this.getMask(r.textDocument.uri);return{root:i,mask:s}}getRoot(){return this.root}getMask(e){let r=this.documents.get(e);return r===void 0?[]:[r.id]}getPathMarker(e){let r=e.textDocument,n=this.ctx.get(ti),i=n.getRelativePath(e.textDocument),s={uri:r.uri,source:"",relativePath:i,languageId:r.detectedLanguageId},a=n.findNotebook(r);return s.relativePath&&!a?HA(vN(s),s.languageId):HA(bN(s),s.languageId)}update(e,r){this.rootWithPathCache.clear(),this.documents.clear();for(let{uri:n}of e.documents){let i=r.getDocument(n);if(i?.isActive!==!0)continue;let s=this.createAnnotatedDocumentRoot(i.document),a=xS(s,this.costFunction);this.documents.set(n,a),a.updateWeights(l=>e.getNodeWeight(l.id)??0),a.requireRenderedChild=!0;let c=a.children[0];c.requireRenderedChild=c.children.length>0}this.root=this.createRootNode(),this.lastUpdateTime=performance.now()}createRootNode(){let e=new Array(this.documents.size+1).fill(""),r=[...this.documents.values()];return new hc(qo(),e,r,1,0,!0,"")}createAnnotatedDocumentRoot(e){return{text:[this.getDocumentAnnotation(e.uri,e.document.detectedLanguageId),`

`],children:[e.root],id:qo(),elisionMarker:"",canMerge:!0}}getDocumentAnnotation(e,r){let i=this.ctx.get(ti).getRelativePath({uri:e});return HA(`Related portions of ${i??e}:
`,r)}dispose(){for(let e of this.disposables)e.dispose();this.disposables=[]}};u();u();var mQ=class extends sQ{static{o(this,"WorkspaceContextPromptFactory")}constructor(e){let r={stableContext:new pQ(e),prefix:new tQ,suffix:new rQ(e),volatileContext:new oQ("volatileContext",[new nQ,new iQ(e)])};super(e,r)}};var iEe=yt(Ea());var Zb=class{static{o(this,"CompletionsPromptFactory")}};function oEe(t,e,r){return new Oz(new Uz(new Hz(t,new KN(t,e,r),new mQ(t),HZe)))}o(oEe,"createCompletionsPromptFactory");var Oz=class extends Zb{constructor(r){super();this.delegate=r}static{o(this,"SequentialCompletionsPromptFactory")}async prompt(r,n){return this.lastPromise=this.promptAsync(r,n),this.lastPromise}async promptAsync(r,n){if(await this.lastPromise,n?.isCancellationRequested)return GA;try{return await this.delegate.prompt(r,n)}catch{return Kb}}},UZe=1200,Uz=class{constructor(e){this.delegate=e}static{o(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(e,r){let n=new iEe.CancellationTokenSource,i=n.token;return r?.onCancellationRequested(()=>{n.cancel()}),await Promise.race([this.delegate.prompt(e,i),new Promise(s=>{setTimeout(()=>{n.cancel(),s(sEe)},UZe)})])}},Hz=class{constructor(e,r,n,i){this.ctx=e;this.defaultDelegate=r;this.experimentalDelegate=n;this.fn=i}static{o(this,"ExperimentalCompletionsPromptFactory")}async prompt(e,r){return this.fn(this.ctx,e.telemetryData)?this.experimentalDelegate.prompt(e,r):this.defaultDelegate.prompt(e,r)}};function HZe(t,e){let r=t.get(Xg);return r.isEnabled(e)&&r.isActive()}o(HZe,"workspaceContextEnabledAndActive");var JN=10,XN={type:"contextTooShort"},ZN={type:"copilotContentExclusion"},Kb={type:"promptError"},GA={type:"promptCancelled"},sEe={type:"promptTimeout"};function IS(t){let e=t.split(`
`),r=e[e.length-1],n=r.length-r.trimEnd().length,i=t.slice(0,t.length-n),s=t.slice(i.length);return[r.length==n?i:t,s]}o(IS,"trimLastLine");function jb(t,e,r){let i=t.get(Sr).maxPromptCompletionTokens(e)-tN(t),s=Jye(e,r),a=mN(t,e,r),c=t.get(Sr).suffixPercent(e),l=t.get(Sr).suffixMatchThreshold(e);if(c<0||c>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${c}`);if(l<0||l>100)throw new Error(`suffixMatchThreshold must be between 0 and 100, but was ${l}`);return{maxPromptLength:i,similarFilesOptions:a,numberOfSnippets:s,suffixPercent:c,suffixMatchThreshold:l}}o(jb,"getPromptOptions");u();u();var aEe=2.98410452738298,cEe=-.838732736843507,lEe=1.50314646255716,uEe=-.237798634012662,fEe={python:.314368072478742},dEe={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var qZe={link:o(t=>Math.exp(t)/(1+Math.exp(t)),"link"),unlink:o(t=>Math.log(t/(1-t)),"unlink")};function GZe(t,e){let r=Math.min(...Array.from(e.keys()).filter(a=>a>=t)),n=Math.max(...Array.from(e.keys()).filter(a=>a<t)),i=e.get(r),s=e.get(n);return s+(i-s)*(t-n)/(r-n)}o(GZe,"linearInterpolation");var ev=class{static{o(this,"Regressor")}constructor(e,r,n){this.name=e,this.coefficient=r,this.transformation=n||(i=>i)}contribution(e){return this.coefficient*this.transformation(e)}},qz=class{constructor(e,r,n){this.link=qZe;if(this.intercept=e,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}static{o(this,"LogisticRegression")}predict(e,r){let n=this.intercept;for(let i of this.coefficients){let s=r[i.name];if(s===void 0)return NaN;n+=i.contribution(s)}return this.link.link(n)}quantile(e,r){let n=this.predict(e,r);return GZe(n,this.logitsToQuantiles)}},NOr=new qz(aEe,[new ev("compCharLen",cEe,t=>Math.log(1+t)),new ev("meanLogProb",lEe),new ev("meanAlternativeLogProb",uEe)].concat(Object.entries(fEe).map(t=>new ev(t[0],t[1]))),dEe);u();u();var WZe=yt(y4());var iHr=new Kr("ghostText");var bS=class t{constructor(e=!1){this.requestMultilineOverride=e}static{o(this,"ForceMultiLine")}static{this.default=new t}};var tv=class{constructor(){this.choices=[]}static{o(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(e,r,n,i){i!==2&&(this.prefix=e,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(e,r){let n=this.getRemainingPrefix(e,r);if(n!==void 0&&hEe(this.choices[0].completionText,n))return YZe(this.choices,n)}hasAcceptedCurrentCompletion(e,r){let n=this.getRemainingPrefix(e,r);if(n===void 0)return!1;let i=n===this.choices?.[0].completionText,s=this.choices?.[0].finishReason;return i&&s==="stop"}getRemainingPrefix(e,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&e.startsWith(this.prefix))return e.substring(this.prefix.length)}};function YZe(t,e){return t.filter(r=>hEe(r.completionText,e)).map(r=>({...r,completionText:r.completionText.substring(e.length)}))}o(YZe,"adjustChoicesStart");function hEe(t,e){return t.startsWith(e)&&t.length>e.length}o(hEe,"startsWithAndExceeds");u();u();u();u();u();u();u();u();u();u();u();var AEe="code-referencing";var Zd=new Kr(AEe);var $Ze=3e3,Gz=2,pEe=256,mEe=Math.log(pEe)/Math.log(Gz)/Gz,If={connection:"disabled",maxAttempts:mEe,retryAttempts:0,initialWait:!1},gQ,yQ=[];function zZe(){if(gQ)return gQ;function t(T){return yQ.push(T),()=>{let S=yQ.indexOf(T);S!==-1&&yQ.splice(S,1)}}o(t,"subscribe");function e(){for(let T of yQ)T()}o(e,"afterUpdateConnection");function r(T){If.connection!==T&&(If.connection=T,e())}o(r,"updateConnection");function n(){return If.connection==="connected"}o(n,"isConnected");function i(){return If.connection==="disconnected"}o(i,"isDisconnected");function s(){return If.connection==="retry"}o(s,"isRetrying");function a(){return If.connection==="disabled"}o(a,"isDisabled");function c(){r("connected"),h(!1)}o(c,"setConnected");function l(){r("disconnected")}o(l,"setDisconnected");function f(){r("retry")}o(f,"setRetrying");function d(){r("disabled")}o(d,"setDisabled");function h(T){If.initialWait!==T&&(If.initialWait=T)}o(h,"setInitialWait");function A(T,S=$Ze){s()||(f(),h(!0),y(T,S))}o(A,"enableRetry");function m(){return If.initialWait}o(m,"isInitialWait");async function y(T,S){Zd.info(T,`Attempting to reconnect in ${S}ms.`),await x(S),h(!1);let k=T.get(ys);function N(P,L){if(P>pEe){Zd.info(L,"Max retry time reached, disabling."),d();return}let Y=o(async()=>{If.retryAttempts=Math.min(If.retryAttempts+1,mEe);try{Zd.info(L,`Pinging service after ${P} second(s)`);let te=await k.fetch(new URL("_ping",G9(L)["origin-tracker"]).href,{method:"GET",headers:{"content-type":"application/json"}});if(te.status!==200||!te.ok)N(P**2,L);else{Zd.info(L,"Successfully reconnected."),c();return}}catch{N(P**2,L)}},"tryAgain");setTimeout(()=>void Y(),P*1e3)}o(N,"succeedOrRetry"),Zd.info(T,"Attempting to reconnect."),N(Gz,T)}o(y,"attemptToPing");let x=o(T=>new Promise(S=>setTimeout(S,T)),"timeout");function _(T){return{dispose:t(T)}}return o(_,"listen"),gQ={setConnected:c,setDisconnected:l,setRetrying:f,setDisabled:d,enableRetry:A,listen:_,isConnected:n,isDisconnected:i,isRetrying:s,isDisabled:a,isInitialWait:m},gQ}o(zZe,"registerConnectionState");var jZe=zZe();u();var CQ={BadArguments:"BadArgumentsError",Unauthorized:"NotAuthorized",NotFound:"NotFoundError",RateLimit:"RateLimitError",InternalError:"InternalError",ConnectionError:"ConnectionError",Unknown:"UnknownError"},KZe={[CQ.Unauthorized]:"Invalid GitHub token. Please sign out from your GitHub account using VSCode UI and try again",[CQ.InternalError]:"Internal error: matches to public code will not be detected. It is advised to disable Copilot completions until the service is reconnected.",[CQ.RateLimit]:"You've reached your quota and limit, code matching will be unavailable until the limit resets"};u();var JZe=/^[1-6][0-9][0-9]$/,XZe=/([A-Z][a-z]+)/,ZZe="code_referencing",vS=class{constructor(e){this.baseKey=e}static{o(this,"CodeQuoteTelemetry")}buildKey(...e){return[ZZe,this.baseKey,...e].join(".")}},Vz=class extends vS{static{o(this,"CopilotOutputLogTelemetry")}constructor(){super("github_copilot_log")}handleOpen({context:e}){let r=this.buildKey("open","count"),n=nn.createAndMarkAsIssued();nr(e,r,n)}handleFocus({context:e}){let r=nn.createAndMarkAsIssued(),n=this.buildKey("focus","count");nr(e,n,r)}handleWrite({context:e}){let r=nn.createAndMarkAsIssued(),n=this.buildKey("write","count");nr(e,n,r)}},qHr=new Vz,Wz=class extends vS{static{o(this,"MatchNotificationTelemetry")}constructor(){super("match_notification")}handleDoAction({context:e,actor:r}){let n=nn.createAndMarkAsIssued({actor:r}),i=this.buildKey("acknowledge","count");nr(e,i,n)}handleDismiss({context:e,actor:r}){let n=nn.createAndMarkAsIssued({actor:r}),i=this.buildKey("ignore","count");nr(e,i,n)}},GHr=new Wz,Yz=class extends vS{static{o(this,"SnippyTelemetry")}constructor(){super("snippy")}handleUnexpectedError({context:e,origin:r,reason:n}){let i=nn.createAndMarkAsIssued({origin:r,reason:n});fA(e,this.buildKey("unexpectedError"),i)}handleCompletionMissing({context:e,origin:r,reason:n}){let i=nn.createAndMarkAsIssued({origin:r,reason:n});fA(e,this.buildKey("completionMissing"),i)}handleSnippyNetworkError({context:e,origin:r,reason:n,message:i}){if(!r.match(JZe)){Zd.debug(e,"Invalid status code, not sending telemetry",{origin:r});return}let s=n.split(XZe).filter(c=>!!c).join("_").toLowerCase(),a=nn.createAndMarkAsIssued({message:i});fA(e,this.buildKey(s,r),a)}},gEe=new Yz;u();var $z=J.Object({kind:J.Literal("failure"),reason:J.String(),code:J.Number(),msg:J.String(),meta:J.Optional(J.Any())}),tet=J.Object({matched_source:J.String(),occurrences:J.String(),capped:J.Boolean(),cursor:J.String(),github_url:J.String()}),ret=J.Object({source:J.String()}),net=J.Object({snippets:J.Array(tet)}),iet=J.Union([net,$z]),oet=J.Object({cursor:J.String()}),set=J.Object({commit_id:J.String(),license:J.String(),nwo:J.String(),path:J.String(),url:J.String()}),aet=J.Object({has_next_page:J.Boolean(),cursor:J.String()}),cet=J.Object({count:J.Record(J.String(),J.String())}),uet=J.Object({file_matches:J.Array(set),page_info:aet,license_stats:cet}),fet=J.Union([uet,$z]);u();var hqr=new RegExp("[_\\p{L}\\p{Nd}]+|====+|----+|####+|////+|\\*\\*\\*\\*+|[\\p{P}\\p{S}]","gu");u();u();var dGr=new Kr("postInsertion");var BGr=new Kr("ghostText"),TS=class{constructor(){this.#i=[];this.linesAccepted=0}static{o(this,"LastGhostText")}#e;#t;#i;get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[],this.resetPartialAcceptanceState()}setState({uri:e},r){this.#t=e,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0,this.totalLength=void 0,this.linesLeft=void 0,this.linesAccepted=0}};function yEe(t){let e=new kD;return e.set(Z0,t),e.set(Zy,new Zy),e.set(Ks,new Ks),e.set(Ob,new Ob),e.set(vo,new vo(e)),e.set(Yy,new Yy),e.set(Sr,new Sr(e)),e.set(iE,new iE),e.set(X0,new X0(e)),e.set(qc,new qc),e.set(tg,new tg),e.set(UA,new rS),e.set(Ib,new cD),e.set(eC,new z9),e.set(e0,new e0),e.set(Bb,new Bb(e)),e.set(Yg,new Yg(e)),e.set(Xg,new Xg(e)),e.set(Zb,oEe(e)),e.set(TS,new TS),e.set(tv,new tv),e.set(bS,bS.default),e.set(LA,new LA(e)),e.set(rE,new rE(e)),e.set(lx,new lx),e.set(Lb,new Lb(e)),e.set(V3,new V3),e.set(W3,new W3(e)),e.set(Hb,new Hb),e}o(yEe,"createCommonContext");u();u();var EQ=class extends Error{static{o(this,"FetchSpeculationCanceledException")}constructor(e){super(e),this.name="FetchSpeculationCanceledException"}};u();var IQ=class extends Error{static{o(this,"FetchSpeculationFailedException")}constructor(e){super(e),this.name="FetchSpeculationFailedException"}};var bVr=J.Object({prompt:J.String(),speculation:J.String(),languageId:J.String(),stops:J.Array(J.String())}),_S=class{static{o(this,"SpeculationFetcher")}constructor(e){this.ctx=e}async fetchSpeculation(e,r){let i={prompt:e.prompt,speculation:e.speculation,engineModelId:"copilot-centralus-h100",uiKind:"editsPanel",stops:e.stops},s=await this.ctx.get(Sr).updateExPValuesAndAssignments(),a=await this.ctx.get(UA).fetchAndStreamSpeculation(this.ctx,i,s,(c,l)=>{},r);switch(a.type){case"success":return a;case"canceled":throw new EQ(a.reason);case"failed":throw new IQ(a.reason)}}};u();u();function CEe(t){return T0e(t)}o(CEe,"verboseLogging");var xQ=class extends $y{constructor(r){super();this.console=r}static{o(this,"ConsoleLog")}logIt(r,n,i,...s){n==1?this.console.error(`[${i}]`,...s):(n==2||CEe(r))&&this.console.warn(`[${i}]`,...s)}};u();var EEe=require("node:util");var bQ=class extends $m{static{o(this,"TelemetryLogSenderImpl")}sendError(e,r,...n){fA(e,"log",nn.createAndMarkAsIssued({context:r,level:K6[1],message:met(...n)}),1)}sendException(e,r,n){Td(e,r,n)}};function met(...t){return t.map(e=>(0,EEe.inspect)(e)).join(" ")}o(met,"telemetryMessage");u();var Q3e=yt(require("crypto")),P3e=yt(require("fs")),tM=yt(D3e()),F3e=require("tls"),M3e=yt(N3e());var u5=new Kr("certificates"),bc=class{static{o(this,"RootCertificateReader")}};function L3e(t,e=process.platform){return new yZ(t,[new CZ,new EZ,Cmt(t,e)])}o(L3e,"getRootCertificateReader");function Cmt(t,e){switch(e){case"linux":return new IZ(t);case"darwin":return new xZ(t);case"win32":return new bZ(t);default:return new vZ}}o(Cmt,"createPlatformReader");var gZ=class extends bc{constructor(r,n){super();this.ctx=r;this.delegate=n}static{o(this,"ErrorHandlingCertificateReader")}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return u5.warn(this.ctx,"Failed to read root certificates:",r),[]}}},yZ=class extends bc{constructor(r,n){super();this.ctx=r;this.delegates=n.map(i=>new gZ(r,i))}static{o(this,"CachingRootCertificateReader")}async getAllRootCAs(){return this.certificates||(this.certificates=this.removeExpiredCertificates((await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat())),this.certificates}removeExpiredCertificates(r){let n=Date.now(),i=r.filter(s=>{try{let a=new Q3e.X509Certificate(s),c=Date.parse(a.validTo);return isNaN(c)||c>n}catch(a){return u5.warn(this.ctx,"Failed to parse certificate",s,a),!1}});return r.length!==i.length&&u5.info(this.ctx,`Removed ${r.length-i.length} expired certificates`),i}},CZ=class extends bc{static{o(this,"NodeTlsRootCertificateReader")}getAllRootCAs(){return F3e.rootCertificates}},EZ=class extends bc{static{o(this,"EnvironmentVariableRootCertificateReader")}async getAllRootCAs(){let e=process.env.NODE_EXTRA_CA_CERTS;return e?await O3e(e):[]}},IZ=class extends bc{constructor(r){super();this.ctx=r}static{o(this,"LinuxRootCertificateReader")}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let i=await O3e(n);u5.debug(this.ctx,`Read ${i.length} certificates from ${n}`),r=r.concat(i)}return r}},xZ=class extends bc{constructor(r){super();this.ctx=r}static{o(this,"MacRootCertificateReader")}getAllRootCAs(){let r=tM.get({excludeBundled:!1,format:tM.Format.pem});return u5.debug(this.ctx,`Read ${r.length} certificates from Mac keychain`),r}},bZ=class extends bc{constructor(r){super();this.ctx=r}static{o(this,"WindowsRootCertificateReader")}getAllRootCAs(){let r=M3e.all();return u5.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}},vZ=class extends bc{static{o(this,"UnsupportedPlatformRootCertificateReader")}getAllRootCAs(){return Promise.reject(new Error("No certificate reader available for unsupported platform"))}};async function O3e(t){let e;try{e=await P3e.promises.readFile(t,{encoding:"utf8"})}catch{return[]}let r=e.match(/-----BEGIN CERTIFICATE-----[\s\S]*?-----END CERTIFICATE-----/g);if(!r)return[];let n=r.filter(s=>s.length>0),i=new Set(n);return Array.from(i)}o(O3e,"readCertsFromFile");u();var tSe=yt(require("http"));var $mt=407,Fa=new Kr("proxySocketFactory"),R1=class{static{o(this,"ProxySocketFactory")}},JE=class extends Error{static{o(this,"ProxySocketError")}constructor(e,r,n){super(e),this.code=r?.code,this.syscall=r?.syscall,this.errno=r?.errno,/^Failed to establish a socket connection to proxies:/.test(r?.message??"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test(r?.message??"")?this.code="ProxyInitializeSecurityContext":r?.message==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test(r?.message??"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};function rSe(t){return new wZ(t,new BZ(t))}o(rSe,"getProxySocketFactory");var wZ=class extends R1{constructor(r,n,i=new RZ,s=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=i;this.platform=s;this.successfullyAuthorized=new $r(20)}static{o(this,"KerberosProxySocketFactory")}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(Fa.debug(this.ctx,"Proxy authorization already successful once, skipping 407 round trip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(i){if(i instanceof JE&&i.code===`ProxyStatusCode${$mt}`){Fa.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let s=await this.authorizeAndCreateSocket(r,n);if(s)return Fa.debug(this.ctx,"Proxy authorization successful, caching result"),nr(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),s}throw i}}async reauthorize(r,n){let i=await this.authorize(n);i&&(Fa.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+i)}async authorizeAndCreateSocket(r,n){let i=await this.authorize(n);if(Fa.debug(this.ctx,"Proxy authorization successful, received token"),i)return Fa.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+i,await this.delegate.createSocket(r,n)}async authorize(r){Fa.debug(this.ctx,"Loading kerberos module");let n=await this.kerberosLoader.load(),i=this.computeSpn(r);Fa.debug(this.ctx,"Initializing kerberos client using spn",i);let s=await n.initializeClient(i);Fa.debug(this.ctx,"Perform client side kerberos step");let a=await s.step("");return Fa.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return Fa.debug(this.ctx,"Using configured kerberos spn",n),n;let i=this.platform==="win32"?`HTTP/${r.hostname}`:`HTTP@${r.hostname}`;return Fa.debug(this.ctx,"Using default kerberos spn",i),i}getProxyCacheKey(r){return`${r.hostname}:${r.port}`}},BZ=class extends R1{constructor(r){super();this.ctx=r;this.userAgent=`GithubCopilot/${this.ctx.get(Ks).getVersion()}`}static{o(this,"TunnelingProxySocketFactory")}async createSocket(r,n){let i=this.createConnectRequestOptions(r,n);return new Promise((s,a)=>{Fa.debug(this.ctx,"Attempting to establish connection to proxy");let c=tSe.request(i);c.useChunkedEncodingByDefault=!1,c.once("connect",(l,f,d)=>{Fa.debug(this.ctx,"Socket Connect returned status code",l.statusCode),c.removeAllListeners(),f.removeAllListeners(),l.statusCode!==200?(f.destroy(),a(new JE(`tunneling socket could not be established, statusCode=${l.statusCode}`,void 0,`ProxyStatusCode${l.statusCode}`))):d.length>0?(f.destroy(),a(new JE(`got non-empty response body from proxy, length=${d.length}`,void 0,"ProxyNonEmptyResponseBody"))):(Fa.debug(this.ctx,"Successfully established tunneling connection to proxy"),s(f))}),c.once("error",l=>{Fa.debug(this.ctx,"Proxy socket connection error",l.message),c.removeAllListeners(),a(new JE(`tunneling socket could not be established, cause=${l.message}`,l))}),c.on("timeout",()=>{Fa.debug(this.ctx,"Proxy socket connection timeout"),a(new JE(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${i.hostname}:${i.port}`,void 0,"ProxyTimeout"))}),c.end()})}createConnectRequestOptions(r,n){let i=`${r.hostname}:${r.port}`,s={hostname:n.hostname,port:n.port,method:"CONNECT",path:i,agent:!1,headers:{host:i,"Proxy-Connection":"keep-alive","User-Agent":this.userAgent},timeout:r.timeout};return r.localAddress&&(s.localAddress=r.localAddress),this.configureProxyAuthorization(s,r,n.authorization),s}configureProxyAuthorization(r,n,i){r.headers["Proxy-Authorization"]=[],i&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(i).toString("base64")),typeof n.headers?.["Proxy-Authorization"]=="string"&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}},RZ=class{static{o(this,"KerberosLoader")}load(){return Promise.resolve().then(()=>yt(eSe()))}};u();var sSe=require("node:os");var zmt=new Kr("repository"),XE="\\\\",aSe="(?:[#;].*)",h5=`(?:[^"${XE}]|${XE}.)`,jmt="[0-9A-Za-z-]",nSe=`[A-Za-z]${jmt}*`,cSe=`\\s*${aSe}?$`,lSe=`(?:[^"${XE};#]|${XE}.)`,Kmt=`(?:"${h5}*"|"${h5}*(?<strCont>${XE})$)`,Jmt=`(?:${lSe}|${Kmt})+`,Xmt=`(?:(?<cont>${XE})$)`,uSe=`(?<value>${Jmt})${Xmt}?${cSe}`,iSe=new RegExp(`^${uSe}`),Zmt=new RegExp(`^(?<value>${h5}*(?:(?<strCont>${XE})$|(?<quote>")))`),egt=new RegExp(`^\\s*(?:(?<key>${nSe})\\s*=\\s*${uSe}|(?<soloKey>${nSe})${cSe})`),tgt=new RegExp(`(?<value>${lSe}+)|"(?<string>${h5}*)"`,"g"),oSe="[-.0-9A-Za-z]+",rgt=`\\s+"(?<ext>${h5}*)"`,ngt=`\\s+"(?<extOnly>${h5}*)"`,igt=new RegExp(`^\\s*\\[(?:(?<simple>${oSe})${rgt}|${ngt}|(?<simpleOnly>${oSe}))\\]`),ogt=new RegExp(`^\\s*${aSe}$`),kZ=class{constructor(e){this.content=e;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{o(this,"GitConfigParser")}parse(e){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=e,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(e){this.linesWithErrors.push(e)}parseSectionStart(){let e=this.line.match(igt);e&&(e.groups?.simple?this.section=e.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(e.groups.ext):e.groups?.extOnly?this.section="."+this.unescapeBaseValue(e.groups.extOnly):this.section=e.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(e[0].length))}unescapeBaseValue(e){return e.replace(/\\(.)/g,"$1")}parseConfigPair(){let e=this.line.match(egt);if(e){if(e.groups?.key){let r=this.handleContinued(e);this.configValueHandler?.(this.nameWithSection(e.groups.key.toLowerCase()),r)}else e.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(e.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(e){let r=e,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(Zmt),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(iSe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(iSe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(e){return e.groups.strCont?e.groups.value.slice(0,-1):e.groups.value}normalizeValue(e){let r=!1,n=[...e.matchAll(tgt)].map(i=>i.groups?.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(e){let r={n:`
`,t:"	",b:"\b"};return e.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(e){return this.section?this.section+"."+e:e}parseComment(){ogt.test(this.line)&&(this.line="")}},nM=class extends mf{static{o(this,"GitParsingConfigLoader")}async getConfig(e,r){let n=await LA.getRepoConfigLocation(e,r);if(!n)return;let i=await this.getParsedConfig(e,n);if(i)return this.mergeConfig(await this.baseConfig(e,n),i)}mergeConfig(...e){return e.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new lE)}async getParsedConfig(e,r,n=!0){let i=await this.tryLoadConfig(e,r,n);if(!i)return;let s=new kZ(i),a=new lE;return s.parse((c,l)=>a.add(c,l)),a}async tryLoadConfig(e,r,n){try{return await e.get(na).readFileString(r)}catch(i){(n||!(i instanceof Error)||i.code!=="ENOENT")&&zmt.warn(e,`Failed to load git config from ${JSON.stringify(r)}:`,i);return}}async baseConfig(e,r){let n=await this.commondirConfigUri(e,r),i=zs(this.xdgConfigUri(),"git","config"),s=zs(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(e,i,!1),await this.getParsedConfig(e,s,!1),n?await this.getParsedConfig(e,n,!1):void 0)}async commondirConfigUri(e,r){if(Zm(r).toLowerCase()!=="config.worktree")return;let n=uA(r),i=zs(n,"commondir");try{let s=(await e.get(na).readFileString(i)).trimEnd();return zs(Jy(n,s),"config")}catch{return}}xdgConfigUri(){return typeof process<"u"&&process.env.XDG_CONFIG_HOME?H9(process.env.XDG_CONFIG_HOME):zs(this.homeUri(),".config")}homeUri(){return H9((0,sSe.homedir)())}};u();var fSe=require("child_process");var iM=class extends mf{static{o(this,"GitCLIConfigLoader")}runCommand(e,r,n){return new Promise((i,s)=>{(0,fSe.execFile)(r,n,{cwd:e},(a,c)=>{a?s(a):i(c)})})}async tryRunCommand(e,r,n,i){try{return await this.runCommand(r,n,i)}catch(s){z1e.info(e,`Failed to run command '${n}' in ${r}:`,s);return}}async getConfig(e,r){let n=q9(r);if(n===void 0)return;let i=await this.tryRunCommand(e,n,"git",["-c","safe.directory=*","config","--list","--null",...this.extraArgs()]);return i?this.extractConfig(i):void 0}extractConfig(e){let r=new lE;for(let n of e.split("\0").filter(i=>i)){let i=n.split(`
`,1)[0],s=n.slice(i.length+1);r.add(i,s)}return r}extraArgs(){return[]}};u();var hSe=yt(require("node:events"));var dSe="onWorkspaceChanged",$w=class{constructor(){this.emitter=new hSe.default}static{o(this,"WorkspaceNotifier")}onChange(e){this.emitter.on(dSe,e)}emit(e){this.emitter.emit(dSe,e)}};function ASe(t){let e=yEe(t);return sgt(e),e.set(bc,L3e(e)),e.set(R1,rSe(e)),e.set(mf,new GD([new iM,new nM])),e.set($w,new $w),e.set(_S,new _S(e)),e}o(ASe,"createProductionContext");function sgt(t){t.set(Jm,Jm.fromEnvironment(!1)),t.set($m,new bQ),t.set($y,new xQ(console))}o(sgt,"setupRudimentaryLogging");var fZr=new Kr("context");u();var oM=class extends eg{constructor(r,n={}){super();this.env=n;this.recalculateUrlDefaults(r,this.getDefaultUrls())}static{o(this,"DefaultNetworkConfiguration")}getAuthAuthority(){return this.baseUrlObject.hostname}getConfiguredUrls(){return{serverUrl:this.baseUrlObject.href,apiUrl:this.apiUrl}}setConfiguredUrls(r,n){let i=this.getConfiguredUrls();this.recalculateUrlDefaults(r,n);let s=this.getConfiguredUrls();(i.apiUrl!==s.apiUrl||i.serverUrl!==s.serverUrl)&&r.get(vo).resetToken(),r.get(tf).updateSessionConfig(s)}recalculateUrlDefaults(r,n){let{serverUrl:i,apiUrl:s}=Xy({serverUrl:_H(r,n.serverUrl),apiUrl:_H(r,n.apiUrl)});this.baseUrlObject=new URL(i),this.apiUrl=s}getDefaultUrls(){return this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL&&!this.env.GITHUB_COPILOT_TOKEN&&!this.env.GH_COPILOT_TOKEN?{apiUrl:this.env.GITHUB_API_URL,serverUrl:this.env.GITHUB_SERVER_URL}:{}}};u();var pSe=yt(require("crypto")),mSe=require("os");var agt=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function cgt(t){let e=t.replace(/-/g,":").toLowerCase();return!agt.has(e)}o(cgt,"validateMacAddress");function lgt(){let t=(0,mSe.networkInterfaces)();for(let e in t){let r=t[e];if(r){for(let{mac:n}of r)if(cgt(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}o(lgt,"getMac");var DZ;function ugt(){try{let t=lgt();return pSe.createHash("sha256").update(t,"utf8").digest("hex")}catch{return}}o(ugt,"getMacMachineId");function gSe(){return DZ||(DZ=ugt()||pf()),DZ}o(gSe,"getMachineId");u();u();var ySe=yt(require("tls"));var sM=class{static{o(this,"RootCertificateConfigurator")}#e;constructor(e){this._certificateReader=e.get(bc)}async getCertificates(){let e=await this._certificateReader.getAllRootCAs();if(e.length!==0)return e}async createSecureContext(){let e=await this._certificateReader.getAllRootCAs(),n=ySe.createSecureContext({_vscodeAdditionalCaCerts:e}),i=n.context;for(let s of e)i.addCACert(s);return{secureContext:n,certs:e}}async applyToRequestOptions(e){this.#e??=this.createSecureContext();let r=await this.#e;e.secureContext=r.secureContext,e.ca=r.certs,e.cert=r.certs}};u();var y5=yt(xwe(),1),Uen={ALPN_HTTP2:y5.default.ALPN_HTTP2,ALPN_HTTP2C:y5.default.ALPN_HTTP2C,ALPN_HTTP1_1:y5.default.ALPN_HTTP1_1,ALPN_HTTP1_0:y5.default.ALPN_HTTP1_0},{fetch:Hen,context:bwe,reset:qen,noCache:Gen,h1:Ven,keepAlive:Wen,h1NoCache:Yen,keepAliveNoCache:$en,cacheStats:zen,clearCache:jen,offPush:Ken,onPush:Jen,createUrl:Xen,timeoutSignal:Zen,Body:etn,Headers:ttn,Request:rtn,Response:ntn,AbortController:itn,AbortError:otn,AbortSignal:stn,FetchBaseError:atn,FetchError:ctn,ALPN_HTTP2:ltn,ALPN_HTTP2C:utn,ALPN_HTTP1_1:ftn,ALPN_HTTP1_0:dtn}=y5.default;var bM=class extends ys{constructor(r,n){super();this.name="HelixFetcher";this.certificateConfigurator=new sM(r),this.proxySocketFactory=r.get(R1),this.proxySocketTimeoutForTesting=n?.proxySocketTimeoutForTesting,r.get(Z0).onDidChangeHttpSettings(i=>{this.fetchApi=this.createFetchApi(r,i)}),this.fetchApi=this.createFetchApi(r,r.get(Z0).getHttpSettings())}static{o(this,"HelixFetcher")}maybeCreateSocketFactory(r,n){if(!r?.proxy)return;let i=new URL(r.proxy);return async s=>(s.rejectUnauthorized=r.proxyStrictSSL,s.timeout=n,await this.certificateConfigurator.applyToRequestOptions(s),await this.proxySocketFactory.createSocket(s,{hostname:i.hostname,port:i.port,authorization:r.proxyAuthorization,kerberosServicePrincipal:r.proxyKerberosServicePrincipal}))}createFetchApi(r,n){let i=r.get(Ks),s=this.proxySocketTimeoutForTesting;return bwe({userAgent:`GithubCopilot/${i.getVersion()}`,socketFactory:this.maybeCreateSocketFactory(n,s),rejectUnauthorized:n.proxyStrictSSL})}async fetch(r,n){let i=n.signal,s=!1;if(n.timeout){let f=new AbortController;setTimeout(()=>{f.abort(),s=!0},n.timeout),n.signal?.addEventListener("abort",()=>f.abort()),n.signal?.aborted&&f.abort(),i=f.signal}let a={...n,body:n.body?n.body:n.json,signal:i};await this.certificateConfigurator.applyToRequestOptions(a);let c=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(c);let l=await this.fetchApi.fetch(r,a).catch(f=>{throw s?new p4(`Request to <${r}> timed out after ${n.timeout}ms`,f):f});return new J6(l.status,l.statusText,l.headers,()=>l.text(),()=>l.body)}disconnectAll(){return this.fetchApi.reset()}};u();u();var vM=class extends e0{static{o(this,"TestPromiseQueue")}async awaitPromises(){await Promise.all(this.promises)}};var vwe=require("child_process");var Nyt=pf()+Date.now();async function Twe(){let t=ASe(new lD);return t.set(eg,new oM(t)),t.set(ys,new bM(t)),t.set(js,new aee(await Qyt())),t.set($s,new $s(Nyt,gSe())),t.forceSet(e0,new vM),t.set(tf,new tf(t,Cb.name)),t.get(tf).initialize(!0),t}o(Twe,"createUninstallContext");async function Qyt(){let t="unknown";try{return await new Promise((e,r)=>{let n=(0,vwe.spawn)("code -v",{shell:!0,stdio:"pipe"});n.stdout?.on("data",i=>{t==="unknown"&&(t=i.toString("utf8").split(`
`)[0]||"unknown")}),n.on("exit",()=>e(t)),n.on("error",i=>r(i))})}catch{return t}}o(Qyt,"lookupVscodeVersion");var aee=class extends js{constructor(r){super();this.vscodeVersion=r}static{o(this,"UninstallEditorInfo")}getEditorInfo(){return{name:"vscode",version:this.vscodeVersion}}getEditorPluginInfo(){return{name:"copilot",version:Cb.version}}getRelatedPluginInfo(){return[]}};async function Pyt(){let t=await Twe(),e=new bD;process.argv.includes("--dry-run")||await e.uninstall(t)}o(Pyt,"doUninstall");Pyt().then(()=>process.exit(0)).catch(t=>{console.error(t),process.exit(1)});
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

undici/lib/web/fetch/body.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

undici/lib/web/websocket/frame.js:
  (*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> *)

@azure/msal-node/dist/cache/serializer/Serializer.mjs:
@azure/msal-node/dist/cache/serializer/Deserializer.mjs:
@azure/msal-node/dist/internals.mjs:
@azure/msal-node/dist/utils/Constants.mjs:
@azure/msal-node/dist/utils/NetworkUtils.mjs:
@azure/msal-node/dist/network/HttpClient.mjs:
@azure/msal-node/dist/error/ManagedIdentityErrorCodes.mjs:
@azure/msal-node/dist/error/ManagedIdentityError.mjs:
@azure/msal-node/dist/config/ManagedIdentityId.mjs:
@azure/msal-node/dist/error/NodeAuthError.mjs:
@azure/msal-node/dist/config/Configuration.mjs:
@azure/msal-node/dist/crypto/GuidGenerator.mjs:
@azure/msal-node/dist/utils/EncodingUtils.mjs:
@azure/msal-node/dist/crypto/HashUtils.mjs:
@azure/msal-node/dist/crypto/PkceGenerator.mjs:
@azure/msal-node/dist/crypto/CryptoProvider.mjs:
@azure/msal-node/dist/cache/NodeStorage.mjs:
@azure/msal-node/dist/cache/TokenCache.mjs:
@azure/msal-node/dist/client/ClientAssertion.mjs:
@azure/msal-node/dist/packageMetadata.mjs:
@azure/msal-node/dist/client/UsernamePasswordClient.mjs:
@azure/msal-node/dist/protocol/Authorize.mjs:
@azure/msal-node/dist/client/ClientApplication.mjs:
@azure/msal-node/dist/network/LoopbackClient.mjs:
@azure/msal-node/dist/client/DeviceCodeClient.mjs:
@azure/msal-node/dist/client/PublicClientApplication.mjs:
@azure/msal-node/dist/client/ClientCredentialClient.mjs:
@azure/msal-node/dist/client/OnBehalfOfClient.mjs:
@azure/msal-node/dist/client/ConfidentialClientApplication.mjs:
@azure/msal-node/dist/utils/TimeUtils.mjs:
@azure/msal-node/dist/network/HttpClientWithRetries.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/BaseManagedIdentitySource.mjs:
@azure/msal-node/dist/retry/LinearRetryStrategy.mjs:
@azure/msal-node/dist/retry/DefaultManagedIdentityRetryPolicy.mjs:
@azure/msal-node/dist/config/ManagedIdentityRequestParameters.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/AppService.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/AzureArc.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/CloudShell.mjs:
@azure/msal-node/dist/retry/ExponentialRetryStrategy.mjs:
@azure/msal-node/dist/retry/ImdsRetryPolicy.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/Imds.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/ServiceFabric.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/MachineLearning.mjs:
@azure/msal-node/dist/client/ManagedIdentityClient.mjs:
@azure/msal-node/dist/client/ManagedIdentityApplication.mjs:
@azure/msal-node/dist/cache/distributed/DistributedCachePlugin.mjs:
@azure/msal-node/dist/index.mjs:
  (*! @azure/msal-node v3.6.3 2025-07-08 *)

@azure/msal-common/dist/utils/Constants.mjs:
@azure/msal-common/dist/error/AuthErrorCodes.mjs:
@azure/msal-common/dist/error/AuthError.mjs:
@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs:
@azure/msal-common/dist/error/ClientAuthError.mjs:
@azure/msal-common/dist/crypto/ICrypto.mjs:
@azure/msal-common/dist/logger/Logger.mjs:
@azure/msal-common/dist/packageMetadata.mjs:
@azure/msal-common/dist/authority/AuthorityOptions.mjs:
@azure/msal-common/dist/account/AuthToken.mjs:
@azure/msal-common/dist/utils/TimeUtils.mjs:
@azure/msal-common/dist/cache/utils/CacheHelpers.mjs:
@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs:
@azure/msal-common/dist/error/ClientConfigurationError.mjs:
@azure/msal-common/dist/utils/StringUtils.mjs:
@azure/msal-common/dist/request/ScopeSet.mjs:
@azure/msal-common/dist/account/ClientInfo.mjs:
@azure/msal-common/dist/account/AccountInfo.mjs:
@azure/msal-common/dist/authority/AuthorityType.mjs:
@azure/msal-common/dist/account/TokenClaims.mjs:
@azure/msal-common/dist/authority/ProtocolMode.mjs:
@azure/msal-common/dist/cache/entities/AccountEntity.mjs:
@azure/msal-common/dist/utils/UrlUtils.mjs:
@azure/msal-common/dist/url/UrlString.mjs:
@azure/msal-common/dist/authority/AuthorityMetadata.mjs:
@azure/msal-common/dist/error/CacheErrorCodes.mjs:
@azure/msal-common/dist/error/CacheError.mjs:
@azure/msal-common/dist/cache/CacheManager.mjs:
@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs:
@azure/msal-common/dist/telemetry/performance/StubPerformanceClient.mjs:
@azure/msal-common/dist/config/ClientConfiguration.mjs:
@azure/msal-common/dist/account/CcsCredential.mjs:
@azure/msal-common/dist/constants/AADServerParamKeys.mjs:
@azure/msal-common/dist/request/RequestParameterBuilder.mjs:
@azure/msal-common/dist/authority/OpenIdConfigResponse.mjs:
@azure/msal-common/dist/authority/CloudInstanceDiscoveryResponse.mjs:
@azure/msal-common/dist/authority/CloudInstanceDiscoveryErrorResponse.mjs:
@azure/msal-common/dist/utils/FunctionWrappers.mjs:
@azure/msal-common/dist/authority/RegionDiscovery.mjs:
@azure/msal-common/dist/authority/Authority.mjs:
@azure/msal-common/dist/authority/AuthorityFactory.mjs:
@azure/msal-common/dist/error/ServerError.mjs:
@azure/msal-common/dist/network/RequestThumbprint.mjs:
@azure/msal-common/dist/network/ThrottlingUtils.mjs:
@azure/msal-common/dist/error/NetworkError.mjs:
@azure/msal-common/dist/client/BaseClient.mjs:
@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs:
@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs:
@azure/msal-common/dist/utils/ProtocolUtils.mjs:
@azure/msal-common/dist/crypto/PopTokenGenerator.mjs:
@azure/msal-common/dist/cache/persistence/TokenCacheContext.mjs:
@azure/msal-common/dist/response/ResponseHandler.mjs:
@azure/msal-common/dist/utils/ClientAssertionUtils.mjs:
@azure/msal-common/dist/client/AuthorizationCodeClient.mjs:
@azure/msal-common/dist/client/RefreshTokenClient.mjs:
@azure/msal-common/dist/client/SilentFlowClient.mjs:
@azure/msal-common/dist/protocol/Authorize.mjs:
@azure/msal-common/dist/telemetry/server/ServerTelemetryManager.mjs:
@azure/msal-common/dist/index-node.mjs:
@azure/msal-common/dist/index.mjs:
  (*! @azure/msal-common v15.8.1 2025-07-08 *)
*/
//# sourceMappingURL=extensionUninstalled.js.map
